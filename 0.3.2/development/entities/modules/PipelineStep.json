{
  "title": "PipelineStep",
  "description": "A step within a pipeline-structure, includes information about it's connection(s) and other metadata.",
  "type": "object",
  "properties": {
    "step_id": {
      "title": "Step Id",
      "type": "string"
    },
    "module_type": {
      "title": "Module Type",
      "description": "The module type.",
      "type": "string"
    },
    "module_config": {
      "title": "Module Config",
      "description": "The module config.",
      "type": "object"
    },
    "required": {
      "title": "Required",
      "description": "Whether this step is required within the workflow.\n\nIn some cases, when none of the pipeline outputs have a required input that connects to a step, then it is not necessary for this step to have been executed, even if it is placed before a step in the execution hierarchy. This also means that the pipeline inputs that are connected to this step might not be required.",
      "default": true,
      "type": "boolean"
    },
    "processing_stage": {
      "title": "Processing Stage",
      "description": "The stage number this step is executed within the pipeline.",
      "type": "integer"
    },
    "input_links": {
      "title": "Input Links",
      "description": "The links that connect to inputs of the module.",
      "type": "object",
      "additionalProperties": {
        "type": "array",
        "items": {
          "$ref": "#/definitions/StepValueAddress"
        }
      }
    }
  },
  "required": [
    "step_id",
    "module_type"
  ],
  "additionalProperties": false,
  "definitions": {
    "StepValueAddress": {
      "title": "StepValueAddress",
      "description": "Small model to describe the address of a value of a step, within a Pipeline/PipelineStructure.",
      "type": "object",
      "properties": {
        "step_id": {
          "title": "Step Id",
          "description": "The id of a step within a pipeline.",
          "type": "string"
        },
        "value_name": {
          "title": "Value Name",
          "description": "The name of the value (output name or pipeline input name).",
          "type": "string"
        },
        "sub_value": {
          "title": "Sub Value",
          "description": "A reference to a subitem of a value (e.g. column, list item)",
          "type": "object"
        }
      },
      "required": [
        "step_id",
        "value_name"
      ],
      "additionalProperties": false
    }
  }
}