
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the 'kiara' project">
      
      
        <meta name="author" content="Markus Binsteiner">
      
      
        <link rel="canonical" href="https://dharpa.org/kiara/latest/reference/kiara/api/">
      
      
        <link rel="prev" href="../__init__/">
      
      
        <link rel="next" href="../context/__init__/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>api - kiara</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../docs/.stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#kiara.api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../../../..">
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="kiara" class="md-header__button md-logo" aria-label="kiara" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            kiara
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              api
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/DHARPA-Project/kiara" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="kiara" class="md-nav__button md-logo" aria-label="kiara" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    kiara
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/DHARPA-Project/kiara" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install development environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/rendering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Render an internal type
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/stores/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    kiara stores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/modules/render_value/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Included components
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Included components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../included_components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Summary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../included_components/data_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    data_types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../included_components/module_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    module_types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../included_components/kiara_model_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    kiara_model_types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../included_components/operation_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    operation_types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../included_components/operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    operations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    kiara
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            kiara
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    api
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    api
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kiara.api" class="md-nav__link">
    <span class="md-ellipsis">
      api
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.api-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.api.ValueMapSchema" class="md-nav__link">
    <span class="md-ellipsis">
      ValueMapSchema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.api-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.api.Kiara" class="md-nav__link">
    <span class="md-ellipsis">
      Kiara
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.KiaraConfig" class="md-nav__link">
    <span class="md-ellipsis">
      KiaraConfig
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.KiaraAPI" class="md-nav__link">
    <span class="md-ellipsis">
      KiaraAPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.KiArchive" class="md-nav__link">
    <span class="md-ellipsis">
      KiArchive
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.JobDesc" class="md-nav__link">
    <span class="md-ellipsis">
      JobDesc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.RunSpec" class="md-nav__link">
    <span class="md-ellipsis">
      RunSpec
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.Pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Pipeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.PipelineStructure" class="md-nav__link">
    <span class="md-ellipsis">
      PipelineStructure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.Value" class="md-nav__link">
    <span class="md-ellipsis">
      Value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.ValueMap" class="md-nav__link">
    <span class="md-ellipsis">
      ValueMap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.ValueSchema" class="md-nav__link">
    <span class="md-ellipsis">
      ValueSchema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.KiaraModule" class="md-nav__link">
    <span class="md-ellipsis">
      KiaraModule
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.KiaraModuleConfig" class="md-nav__link">
    <span class="md-ellipsis">
      KiaraModuleConfig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../context/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    context
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_2" id="__nav_4_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_2">
            <span class="md-nav__icon md-icon"></span>
            context
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context/orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    orm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context/runtime_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    runtime_config
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../data_types/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    data_types
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_3" id="__nav_4_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_3">
            <span class="md-nav__icon md-icon"></span>
            data_types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_3_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../data_types/included_core_types/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    included_core_types
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_3_1" id="__nav_4_1_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_3_1">
            <span class="md-nav__icon md-icon"></span>
            included_core_types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_types/included_core_types/filesystem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    filesystem
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_3_1_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../data_types/included_core_types/internal/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    internal
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_3_1_2" id="__nav_4_1_3_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_3_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_3_1_2">
            <span class="md-nav__icon md-icon"></span>
            internal
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_types/included_core_types/internal/render_value/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    render_value
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_types/included_core_types/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_types/included_core_types/serialization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    serialization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../defaults/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    defaults
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../doc/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    doc
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_5" id="__nav_4_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_5">
            <span class="md-nav__icon md-icon"></span>
            doc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../doc/gen_info_pages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    gen_info_pages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../doc/generate_api_doc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    generate_api_doc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../doc/mkdocs_macros_cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mkdocs_macros_cli
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../doc/mkdocs_macros_kiara/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mkdocs_macros_kiara
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_5_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../doc/mkdocstrings/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    mkdocstrings
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_5_5" id="__nav_4_1_5_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_5_5">
            <span class="md-nav__icon md-icon"></span>
            mkdocstrings
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../doc/mkdocstrings/collector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    collector
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../doc/mkdocstrings/handler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    handler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../doc/mkdocstrings/renderer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    renderer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    exceptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../interfaces/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    interfaces
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7" id="__nav_4_1_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7">
            <span class="md-nav__icon md-icon"></span>
            interfaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../interfaces/cli/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    cli
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1" id="__nav_4_1_7_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1">
            <span class="md-nav__icon md-icon"></span>
            cli
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../interfaces/cli/archive/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    archive
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_1" id="__nav_4_1_7_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_1">
            <span class="md-nav__icon md-icon"></span>
            archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/cli/archive/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../interfaces/cli/context/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    context
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_2" id="__nav_4_1_7_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_2">
            <span class="md-nav__icon md-icon"></span>
            context
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/cli/context/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../interfaces/cli/data/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    data
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_3" id="__nav_4_1_7_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_3">
            <span class="md-nav__icon md-icon"></span>
            data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/cli/data/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../interfaces/cli/info/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    info
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_4" id="__nav_4_1_7_1_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_4">
            <span class="md-nav__icon md-icon"></span>
            info
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/cli/info/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../interfaces/cli/module/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    module
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_5" id="__nav_4_1_7_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_5">
            <span class="md-nav__icon md-icon"></span>
            module
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/cli/module/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../interfaces/cli/operation/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    operation
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_6" id="__nav_4_1_7_1_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_6">
            <span class="md-nav__icon md-icon"></span>
            operation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/cli/operation/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../interfaces/cli/pipeline/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    pipeline
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_7" id="__nav_4_1_7_1_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_7">
            <span class="md-nav__icon md-icon"></span>
            pipeline
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/cli/pipeline/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../interfaces/cli/plugin/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    plugin
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_8" id="__nav_4_1_7_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_8">
            <span class="md-nav__icon md-icon"></span>
            plugin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/cli/plugin/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/cli/proxy_cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    proxy_cli
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../interfaces/cli/render/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    render
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_10" id="__nav_4_1_7_1_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_10">
            <span class="md-nav__icon md-icon"></span>
            render
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/cli/render/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/cli/run/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    run
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_12" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../interfaces/cli/type/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    type
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_12" id="__nav_4_1_7_1_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_12">
            <span class="md-nav__icon md-icon"></span>
            type
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/cli/type/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_13" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../interfaces/cli/workflow/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    workflow
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_13" id="__nav_4_1_7_1_13_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_13">
            <span class="md-nav__icon md-icon"></span>
            workflow
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/cli/workflow/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../interfaces/python_api/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    python_api
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_2" id="__nav_4_1_7_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_2">
            <span class="md-nav__icon md-icon"></span>
            python_api
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/python_api/base_api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    base_api
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/python_api/batch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    batch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/python_api/kiara_api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    kiara_api
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_2_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../interfaces/python_api/models/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    models
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_2_4" id="__nav_4_1_7_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_2_4">
            <span class="md-nav__icon md-icon"></span>
            models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/python_api/models/archive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    archive
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/python_api/models/doc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    doc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/python_api/models/info/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    info
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/python_api/models/job/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    job
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/python_api/models/workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    workflow
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/python_api/operation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    operation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/python_api/proxy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    proxy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/python_api/utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/python_api/value/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    value
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/python_api/workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    workflow
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../models/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    models
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_8" id="__nav_4_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8">
            <span class="md-nav__icon md-icon"></span>
            models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/aliases/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    aliases
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/archives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    archives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/context/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/data_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    data_types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    documentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../models/events/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    events
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_8_6" id="__nav_4_1_8_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_8_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8_6">
            <span class="md-nav__icon md-icon"></span>
            events
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/events/alias_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias_registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/events/data_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    data_registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/events/destiny_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    destiny_registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/events/job_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    job_registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/events/pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/events/workflow_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    workflow_registry
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/filesystem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    filesystem
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/metadata/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../models/module/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    module
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_8_9" id="__nav_4_1_8_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_8_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8_9">
            <span class="md-nav__icon md-icon"></span>
            module
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/module/destiny/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    destiny
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/module/jobs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    jobs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/module/manifest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    manifest
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/module/operation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    operation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/module/persistence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    persistence
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8_9_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../models/module/pipeline/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    pipeline
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_8_9_6" id="__nav_4_1_8_9_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_8_9_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8_9_6">
            <span class="md-nav__icon md-icon"></span>
            pipeline
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/module/pipeline/controller/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    controller
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/module/pipeline/pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/module/pipeline/stages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    stages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/module/pipeline/structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    structure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/module/pipeline/value_refs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    value_refs
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/python_class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    python_class
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8_11" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../models/rendering/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    rendering
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_8_11" id="__nav_4_1_8_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_8_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8_11">
            <span class="md-nav__icon md-icon"></span>
            rendering
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/rendering/values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    values
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8_12" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../models/runtime_environment/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    runtime_environment
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_8_12" id="__nav_4_1_8_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_8_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8_12">
            <span class="md-nav__icon md-icon"></span>
            runtime_environment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/runtime_environment/kiara/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    kiara
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/runtime_environment/operating_system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    operating_system
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/runtime_environment/python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    python
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8_13" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../models/values/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    values
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_8_13" id="__nav_4_1_8_13_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_8_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8_13">
            <span class="md-nav__icon md-icon"></span>
            values
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/values/data_type/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    data_type
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/values/lineage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    lineage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/values/matchers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    matchers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/values/value/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    value
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8_13_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../models/values/value_metadata/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    value_metadata
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_8_13_5" id="__nav_4_1_8_13_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_8_13_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8_13_5">
            <span class="md-nav__icon md-icon"></span>
            value_metadata
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/values/value_metadata/included_metadata_types/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    included_metadata_types
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/values/value_schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    value_schema
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    workflow
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../modules/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    modules
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_9" id="__nav_4_1_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_9">
            <span class="md-nav__icon md-icon"></span>
            modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_9_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../modules/included_core_modules/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    included_core_modules
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_9_1" id="__nav_4_1_9_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_9_1">
            <span class="md-nav__icon md-icon"></span>
            included_core_modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../modules/included_core_modules/create_from/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    create_from
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../modules/included_core_modules/export_as/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    export_as
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../modules/included_core_modules/filesystem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    filesystem
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../modules/included_core_modules/filter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    filter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../modules/included_core_modules/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../modules/included_core_modules/mock/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mock
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../modules/included_core_modules/pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../modules/included_core_modules/pretty_print/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pretty_print
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../modules/included_core_modules/render_value/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    render_value
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../modules/included_core_modules/serialization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    serialization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../operations/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    operations
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_10" id="__nav_4_1_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_10">
            <span class="md-nav__icon md-icon"></span>
            operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_10_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../operations/included_core_operations/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    included_core_operations
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_10_1" id="__nav_4_1_10_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_10_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_10_1">
            <span class="md-nav__icon md-icon"></span>
            included_core_operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/included_core_operations/create_from/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    create_from
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/included_core_operations/export_as/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    export_as
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/included_core_operations/filter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    filter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/included_core_operations/import_data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    import_data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/included_core_operations/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/included_core_operations/pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/included_core_operations/pretty_print/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pretty_print
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/included_core_operations/render_data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    render_data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/included_core_operations/render_value/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    render_value
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/included_core_operations/serialize/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    serialize
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_11" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../processing/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    processing
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_11" id="__nav_4_1_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_11">
            <span class="md-nav__icon md-icon"></span>
            processing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../processing/synchronous/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    synchronous
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../registries/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    registries
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12" id="__nav_4_1_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12">
            <span class="md-nav__icon md-icon"></span>
            registries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../registries/aliases/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    aliases
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_1" id="__nav_4_1_12_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_12_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_1">
            <span class="md-nav__icon md-icon"></span>
            aliases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/aliases/archives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    archives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/aliases/sqlite_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sqlite_store
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../registries/data/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    data
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_2" id="__nav_4_1_12_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_12_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_2">
            <span class="md-nav__icon md-icon"></span>
            data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_2_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../registries/data/data_store/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    data_store
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_2_1" id="__nav_4_1_12_2_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_12_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_2_1">
            <span class="md-nav__icon md-icon"></span>
            data_store
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/data/data_store/filesystem_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    filesystem_store
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/data/data_store/sqlite_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sqlite_store
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/environment/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../registries/events/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    events
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_4" id="__nav_4_1_12_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_12_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_4">
            <span class="md-nav__icon md-icon"></span>
            events
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/events/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/events/registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    registry
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/ids/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ids
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../registries/jobs/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    jobs
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_6" id="__nav_4_1_12_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_12_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_6">
            <span class="md-nav__icon md-icon"></span>
            jobs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_6_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../registries/jobs/job_store/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    job_store
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_6_1" id="__nav_4_1_12_6_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_12_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_6_1">
            <span class="md-nav__icon md-icon"></span>
            job_store
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/jobs/job_store/filesystem_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    filesystem_store
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/jobs/job_store/sqlite_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sqlite_store
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../registries/metadata/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    metadata
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_7" id="__nav_4_1_12_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_12_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_7">
            <span class="md-nav__icon md-icon"></span>
            metadata
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_7_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../registries/metadata/metadata_store/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    metadata_store
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_7_1" id="__nav_4_1_12_7_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_12_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_7_1">
            <span class="md-nav__icon md-icon"></span>
            metadata_store
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/metadata/metadata_store/sqlite_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sqlite_store
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/models/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/modules/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/operations/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    operations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/rendering/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rendering
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/templates/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    templates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/types/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_14" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../registries/workflows/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    workflows
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_14" id="__nav_4_1_12_14_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_12_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_14">
            <span class="md-nav__icon md-icon"></span>
            workflows
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/workflows/archives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    archives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registries/workflows/sqlite_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sqlite_store
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_13" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../renderers/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    renderers
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_13" id="__nav_4_1_13_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_13">
            <span class="md-nav__icon md-icon"></span>
            renderers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_13_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../renderers/included_renderers/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    included_renderers
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_13_1" id="__nav_4_1_13_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_13_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_13_1">
            <span class="md-nav__icon md-icon"></span>
            included_renderers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_13_1_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../renderers/included_renderers/api/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    api
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_13_1_1" id="__nav_4_1_13_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_13_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_13_1_1">
            <span class="md-nav__icon md-icon"></span>
            api
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../renderers/included_renderers/api/base_api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    base_api
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../renderers/included_renderers/api/kiara_api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    kiara_api
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../renderers/included_renderers/archive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    archive
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../renderers/included_renderers/job/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    job
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../renderers/included_renderers/pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../renderers/included_renderers/value/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    value
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../renderers/jinja/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    jinja
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_14" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../utils/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_14" id="__nav_4_1_14_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_14">
            <span class="md-nav__icon md-icon"></span>
            utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/archives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    archives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/class_loading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class_loading
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_14_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../utils/cli/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    cli
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_14_3" id="__nav_4_1_14_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_14_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_14_3">
            <span class="md-nav__icon md-icon"></span>
            cli
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/cli/exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    exceptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/cli/rich_click/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rich_click
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/cli/run/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    run
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/concurrency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    concurrency
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/dates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    dates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/db/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    db
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/debug/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    debug
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/develop/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    develop
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/dicts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    dicts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/doc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    doc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/downloads/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    downloads
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/global_metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    global_metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/graphs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    graphs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/hashfs/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    hashfs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/hashing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    hashing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/html/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    html
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/introspection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    introspection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/json/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    json
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    operations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/output/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    output
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/pipelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pipelines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/reflection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    reflection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/rendering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rendering
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/stores/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    stores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/string_vars/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    string_vars
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/testing/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    values
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/windows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    windows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/yaml/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    yaml
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_15" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../zmq/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    zmq
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_15" id="__nav_4_1_15_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_15">
            <span class="md-nav__icon md-icon"></span>
            zmq
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../zmq/client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../zmq/messages/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    messages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../zmq/service/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    service
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../design_docs/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Design docs
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Design docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../design_docs/architecture/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design_docs/architecture/assumptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assumptions &amp; considerations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design_docs/architecture/decisions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Decisions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design_docs/architecture/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../design_docs/architecture/data/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Data
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_1_4" id="__nav_5_1_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design_docs/architecture/data/persistence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data persistence
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../design_docs/architecture/workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workflows
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kiara.api" class="md-nav__link">
    <span class="md-ellipsis">
      api
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.api-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.api.ValueMapSchema" class="md-nav__link">
    <span class="md-ellipsis">
      ValueMapSchema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.api-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.api.Kiara" class="md-nav__link">
    <span class="md-ellipsis">
      Kiara
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.KiaraConfig" class="md-nav__link">
    <span class="md-ellipsis">
      KiaraConfig
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.KiaraAPI" class="md-nav__link">
    <span class="md-ellipsis">
      KiaraAPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.KiArchive" class="md-nav__link">
    <span class="md-ellipsis">
      KiArchive
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.JobDesc" class="md-nav__link">
    <span class="md-ellipsis">
      JobDesc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.RunSpec" class="md-nav__link">
    <span class="md-ellipsis">
      RunSpec
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.Pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Pipeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.PipelineStructure" class="md-nav__link">
    <span class="md-ellipsis">
      PipelineStructure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.Value" class="md-nav__link">
    <span class="md-ellipsis">
      Value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.ValueMap" class="md-nav__link">
    <span class="md-ellipsis">
      ValueMap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.ValueSchema" class="md-nav__link">
    <span class="md-ellipsis">
      ValueSchema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.KiaraModule" class="md-nav__link">
    <span class="md-ellipsis">
      KiaraModule
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.api.KiaraModuleConfig" class="md-nav__link">
    <span class="md-ellipsis">
      KiaraModuleConfig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>api</h1>

<div class="doc doc-object doc-module">



<a id="kiara.api"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">





<h2 id="kiara.api-attributes">Attributes<a href="#kiara.api-attributes" class="headerlink" title="Permanent link">&para;</a></h2>

<div class="doc doc-object doc-attribute">



<h3 id="kiara.api.ValueMapSchema" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ValueMapSchema</span> <span class="o">=</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#kiara.api.ValueMapSchema" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

    </div>

</div>
<h2 id="kiara.api-classes">Classes<a href="#kiara.api-classes" class="headerlink" title="Permanent link">&para;</a></h2>

<div class="doc doc-object doc-class">



<h3 id="kiara.api.Kiara" class="doc doc-heading">
            <code>Kiara</code>


<a href="#kiara.api.Kiara" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="object">object</span></code></p>


        <p>The core context of a kiara session.</p>
<p>The <code>Kiara</code> object holds all information related to the current environment the user does works in. This includes:</p>
<ul>
<li>available modules, operations &amp; pipelines</li>
<li>available value data_types</li>
<li>available metadata schemas</li>
<li>available data items</li>
<li>available controller and processor data_types</li>
<li>misc. configuration options</li>
</ul>
<p>It's possible to use <em>kiara</em> without ever manually touching the 'Kiara' class, by default all relevant classes and functions
will use a default instance of this class (available via the <code>Kiara.instance()</code> method.</p>
<p>The Kiara class is highly dependent on the Python environment it lives in, because it auto-discovers available sub-classes
of its building blocks (modules, value data_types, etc.). So, you can't assume that, for example, a pipeline you create
will work the same way (or at all) in a different environment. <em>kiara</em> will always be able to tell you all the details
of this environment, though, and it will attach those details to things like data, so there is always a record of
how something was created, and in which environment.</p>







              <details class="quote">
                <summary>Source code in <code>src/kiara/context/__init__.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Kiara</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The core context of a kiara session.</span>

<span class="sd">    The `Kiara` object holds all information related to the current environment the user does works in. This includes:</span>

<span class="sd">      - available modules, operations &amp; pipelines</span>
<span class="sd">      - available value data_types</span>
<span class="sd">      - available metadata schemas</span>
<span class="sd">      - available data items</span>
<span class="sd">      - available controller and processor data_types</span>
<span class="sd">      - misc. configuration options</span>

<span class="sd">    It&#39;s possible to use *kiara* without ever manually touching the &#39;Kiara&#39; class, by default all relevant classes and functions</span>
<span class="sd">    will use a default instance of this class (available via the `Kiara.instance()` method.</span>

<span class="sd">    The Kiara class is highly dependent on the Python environment it lives in, because it auto-discovers available sub-classes</span>
<span class="sd">    of its building blocks (modules, value data_types, etc.). So, you can&#39;t assume that, for example, a pipeline you create</span>
<span class="sd">    will work the same way (or at all) in a different environment. *kiara* will always be able to tell you all the details</span>
<span class="sd">    of this environment, though, and it will attach those details to things like data, so there is always a record of</span>
<span class="sd">    how something was created, and in which environment.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The default *kiara* context. In most cases, it&#39;s recommended you create and manage your own, though.&quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Kiara.instance() is not implemented yet.&quot;</span><span class="p">)</span>
        <span class="c1"># return BaseAPI.instance().context</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">KiaraContextConfig</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">runtime_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">KiaraRuntimeConfig</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">kc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">KiaraConfig</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="p">:</span>
            <span class="n">kc</span> <span class="o">=</span> <span class="n">KiaraConfig</span><span class="p">()</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">kc</span><span class="o">.</span><span class="n">get_context_config</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">runtime_config</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">kc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">kc</span> <span class="o">=</span> <span class="n">KiaraConfig</span><span class="p">()</span>
            <span class="n">runtime_config</span> <span class="o">=</span> <span class="n">kc</span><span class="o">.</span><span class="n">runtime_config</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">ID_REGISTRY</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">context_id</span><span class="p">),</span> <span class="n">obj</span><span class="o">=</span><span class="bp">self</span>
        <span class="p">)</span>
        <span class="n">ID_REGISTRY</span><span class="o">.</span><span class="n">update_metadata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">,</span> <span class="n">kiara_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">:</span> <span class="n">KiaraContextConfig</span> <span class="o">=</span> <span class="n">config</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_runtime_config</span><span class="p">:</span> <span class="n">KiaraRuntimeConfig</span> <span class="o">=</span> <span class="n">runtime_config</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_env_mgmt</span><span class="p">:</span> <span class="n">EnvironmentRegistry</span> <span class="o">=</span> <span class="n">EnvironmentRegistry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_event_registry</span><span class="p">:</span> <span class="n">EventRegistry</span> <span class="o">=</span> <span class="n">EventRegistry</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_type_registry</span><span class="p">:</span> <span class="n">TypeRegistry</span> <span class="o">=</span> <span class="n">TypeRegistry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="p">:</span> <span class="n">DataRegistry</span> <span class="o">=</span> <span class="n">DataRegistry</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_registry</span><span class="p">:</span> <span class="n">MetadataRegistry</span> <span class="o">=</span> <span class="n">MetadataRegistry</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_job_registry</span><span class="p">:</span> <span class="n">JobRegistry</span> <span class="o">=</span> <span class="n">JobRegistry</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_module_registry</span><span class="p">:</span> <span class="n">ModuleRegistry</span> <span class="o">=</span> <span class="n">ModuleRegistry</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_operation_registry</span><span class="p">:</span> <span class="n">OperationRegistry</span> <span class="o">=</span> <span class="n">OperationRegistry</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_kiara_model_registry</span><span class="p">:</span> <span class="n">ModelRegistry</span> <span class="o">=</span> <span class="n">ModelRegistry</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_alias_registry</span><span class="p">:</span> <span class="n">AliasRegistry</span> <span class="o">=</span> <span class="n">AliasRegistry</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># self._destiny_registry: DestinyRegistry = DestinyRegistry(kiara=self)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_workflow_registry</span><span class="p">:</span> <span class="n">WorkflowRegistry</span> <span class="o">=</span> <span class="n">WorkflowRegistry</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_render_registry</span> <span class="o">=</span> <span class="n">RenderRegistry</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

        <span class="n">metadata_augmenter</span> <span class="o">=</span> <span class="n">CreateMetadataDestinies</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_event_registry</span><span class="o">.</span><span class="n">add_listener</span><span class="p">(</span>
            <span class="n">metadata_augmenter</span><span class="p">,</span> <span class="o">*</span><span class="n">metadata_augmenter</span><span class="o">.</span><span class="n">supported_event_types</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_context_info</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">KiaraContextInfo</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># initialize stores</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_archive_types</span> <span class="o">=</span> <span class="n">find_all_archive_types</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_archives</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">KiaraArchive</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">archive_alias</span><span class="p">,</span> <span class="n">archive</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">archives</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># TODO: this is just to make old context that still had that not error out</span>
            <span class="k">if</span> <span class="s2">&quot;_destiny_&quot;</span> <span class="ow">in</span> <span class="n">archive</span><span class="o">.</span><span class="n">archive_type</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="n">archive_alias</span> <span class="o">==</span> <span class="s2">&quot;default_job_store&quot;</span>
                <span class="ow">and</span> <span class="n">archive</span><span class="o">.</span><span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;filesystem_job_store&quot;</span>
            <span class="p">):</span>
                <span class="c1"># this is a temporary solution for contexts that still have the old filesystem job store</span>
                <span class="c1"># TODO: remove this at some stage</span>

                <span class="n">archive_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;archive_path&quot;</span><span class="p">])</span>
                <span class="n">file_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">archive_path</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.kiarchive&quot;</span>

                <span class="n">js_config</span> <span class="o">=</span> <span class="n">SqliteArchiveConfig</span><span class="o">.</span><span class="n">create_new_store_config</span><span class="p">(</span>
                    <span class="n">store_base_path</span><span class="o">=</span><span class="n">archive</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;archive_path&quot;</span><span class="p">],</span>
                    <span class="n">file_name</span><span class="o">=</span><span class="n">file_name</span><span class="p">,</span>
                    <span class="n">use_wal_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">archive</span> <span class="o">=</span> <span class="n">KiaraArchiveConfig</span><span class="p">(</span>
                    <span class="n">archive_type</span><span class="o">=</span><span class="s2">&quot;sqlite_job_store&quot;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">js_config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>
                <span class="p">)</span>

            <span class="n">archive_cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_archive_types</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_type</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">archive_cls</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t create context: no archive type &#39;</span><span class="si">{</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_type</span><span class="si">}</span><span class="s2">&#39; available. Available types: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_archive_types</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

            <span class="n">config_cls</span> <span class="o">=</span> <span class="n">archive_cls</span><span class="o">.</span><span class="n">_config_cls</span>
            <span class="n">archive_config</span> <span class="o">=</span> <span class="n">config_cls</span><span class="p">(</span><span class="o">**</span><span class="n">archive</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>
            <span class="n">archive_obj</span> <span class="o">=</span> <span class="n">archive_cls</span><span class="p">(</span>
                <span class="n">archive_name</span><span class="o">=</span><span class="n">archive_alias</span><span class="p">,</span> <span class="n">archive_config</span><span class="o">=</span><span class="n">archive_config</span>
            <span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="k">for</span> <span class="n">supported_type</span> <span class="ow">in</span> <span class="n">archive_obj</span><span class="o">.</span><span class="n">supported_item_types</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">supported_type</span> <span class="o">==</span> <span class="s2">&quot;metadata&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">register_metadata_archive</span><span class="p">(</span><span class="n">archive_obj</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="k">if</span> <span class="n">supported_type</span> <span class="o">==</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">register_data_archive</span><span class="p">(</span>
                        <span class="n">archive_obj</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">supported_type</span> <span class="o">==</span> <span class="s2">&quot;job_record&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">register_job_archive</span><span class="p">(</span><span class="n">archive_obj</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

                <span class="k">if</span> <span class="n">supported_type</span> <span class="o">==</span> <span class="s2">&quot;alias&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">register_archive</span><span class="p">(</span><span class="n">archive_obj</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

                <span class="c1"># if supported_type == &quot;destiny&quot;:</span>
                <span class="c1">#     self.destiny_registry.register_destiny_archive(archive_obj)  # type: ignore</span>

                <span class="k">if</span> <span class="n">supported_type</span> <span class="o">==</span> <span class="s2">&quot;workflow&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">register_archive</span><span class="p">(</span><span class="n">archive_obj</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_runtime_config</span><span class="o">.</span><span class="n">lock_context</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lock_context</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">lock_context</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Lock the context, so that it can&#39;t be used by other processes.&quot;&quot;&quot;</span>
        <span class="n">aquired</span> <span class="o">=</span> <span class="n">ID_REGISTRY</span><span class="o">.</span><span class="n">lock_context</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">aquired</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraContextException</span><span class="p">(</span>
                <span class="s2">&quot;Can&#39;t lock context: already locked by another process.&quot;</span><span class="p">,</span>
                <span class="n">context_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">unlock_context</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">unlock_context</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ID_REGISTRY</span><span class="o">.</span><span class="n">unlock_context</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">context_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraContextConfig</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">runtime_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraRuntimeConfig</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_runtime_config</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">update_runtime_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">settings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraRuntimeConfig</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">settings</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime_config</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime_config</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">context_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraContextInfo&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_info</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_context_info</span> <span class="o">=</span> <span class="n">KiaraContextInfo</span><span class="o">.</span><span class="n">create_from_kiara_instance</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_info</span>

    <span class="c1"># ===================================================================================================</span>
    <span class="c1"># registry accessors</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">environment_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">EnvironmentRegistry</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_env_mgmt</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">type_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TypeRegistry</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type_registry</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">module_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModuleRegistry</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_registry</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">kiara_model_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModelRegistry</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara_model_registry</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">alias_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AliasRegistry</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_alias_registry</span>

    <span class="c1"># @property</span>
    <span class="c1"># def destiny_registry(self) -&gt; DestinyRegistry:</span>
    <span class="c1">#     return self._destiny_registry</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">job_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JobRegistry</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_job_registry</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">operation_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationRegistry</span><span class="p">:</span>
        <span class="n">op_registry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operation_registry</span>
        <span class="k">return</span> <span class="n">op_registry</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">data_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataRegistry</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">metadata_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MetadataRegistry</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_registry</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">workflow_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkflowRegistry</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workflow_registry</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">event_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">EventRegistry</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_event_registry</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">render_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderRegistry</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_render_registry</span>

    <span class="c1"># ===================================================================================================</span>
    <span class="c1"># context specific types &amp; instances</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">current_environments</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">RuntimeEnvironment</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">environment_registry</span><span class="o">.</span><span class="n">environments</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">data_type_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">DataType</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">data_type_classes</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">data_type_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">get_data_type_names</span><span class="p">(</span><span class="n">include_profiles</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">module_type_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;KiaraModule&quot;</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_registry</span><span class="o">.</span><span class="n">module_types</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">module_type_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_registry</span><span class="o">.</span><span class="n">get_module_type_names</span><span class="p">()</span>

    <span class="c1"># ===================================================================================================</span>
    <span class="c1"># kiara session API methods</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">register_external_archive</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">KiaraArchive</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">KiaraArchive</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]],</span>
        <span class="n">allow_write_access</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register one or several external archives with the context.</span>

<span class="sd">        In case you provide KiaraArchive instances, they will be modified in case the provided &#39;allow_write_access&#39; is different from the &#39;is_force_read_only&#39; attribute of the archive.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">archive_instances</span> <span class="o">=</span> <span class="n">check_external_archive</span><span class="p">(</span>
            <span class="n">archive</span><span class="o">=</span><span class="n">archive</span><span class="p">,</span> <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span>
        <span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">archive_type</span><span class="p">,</span> <span class="n">_archive_inst</span> <span class="ow">in</span> <span class="n">archive_instances</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">log_message</span><span class="p">(</span>
                <span class="s2">&quot;register.external.archive&quot;</span><span class="p">,</span>
                <span class="n">archive</span><span class="o">=</span><span class="n">_archive_inst</span><span class="o">.</span><span class="n">archive_name</span><span class="p">,</span>
                <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">_archive_inst</span><span class="o">.</span><span class="n">set_force_read_only</span><span class="p">(</span><span class="ow">not</span> <span class="n">allow_write_access</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">register_data_archive</span><span class="p">(</span><span class="n">_archive_inst</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="n">log_message</span><span class="p">(</span>
                    <span class="s2">&quot;archive.registered&quot;</span><span class="p">,</span>
                    <span class="n">archive</span><span class="o">=</span><span class="n">_archive_inst</span><span class="o">.</span><span class="n">archive_name</span><span class="p">,</span>
                    <span class="n">archive_type</span><span class="o">=</span><span class="s2">&quot;data&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;metadata&quot;</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">register_metadata_archive</span><span class="p">(</span>
                    <span class="n">_archive_inst</span>  <span class="c1"># type: ignore</span>
                <span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="n">log_message</span><span class="p">(</span>
                    <span class="s2">&quot;archive.registered&quot;</span><span class="p">,</span>
                    <span class="n">archive</span><span class="o">=</span><span class="n">_archive_inst</span><span class="o">.</span><span class="n">archive_name</span><span class="p">,</span>
                    <span class="n">archive_type</span><span class="o">=</span><span class="s2">&quot;metadata&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;alias&quot;</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="s2">&quot;alias&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">register_archive</span><span class="p">(</span><span class="n">_archive_inst</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="n">log_message</span><span class="p">(</span>
                    <span class="s2">&quot;archive.registered&quot;</span><span class="p">,</span>
                    <span class="n">archive</span><span class="o">=</span><span class="n">_archive_inst</span><span class="o">.</span><span class="n">archive_name</span><span class="p">,</span>
                    <span class="n">archive_type</span><span class="o">=</span><span class="s2">&quot;alias&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;job_record&quot;</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="s2">&quot;job_record&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">register_job_archive</span><span class="p">(</span>
                    <span class="n">_archive_inst</span>  <span class="c1"># type: ignore</span>
                <span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="n">log_message</span><span class="p">(</span>
                    <span class="s2">&quot;archive.registered&quot;</span><span class="p">,</span>
                    <span class="n">archive</span><span class="o">=</span><span class="n">_archive_inst</span><span class="o">.</span><span class="n">archive_name</span><span class="p">,</span>
                    <span class="n">archive_type</span><span class="o">=</span><span class="s2">&quot;job_record&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t register archive of type &#39;</span><span class="si">{</span><span class="n">archive_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_manifest</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">module_or_operation</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Manifest</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">module_or_operation</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_type_names</span><span class="p">:</span>
            <span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span> <span class="o">=</span> <span class="n">Manifest</span><span class="p">(</span>
                <span class="n">module_type</span><span class="o">=</span><span class="n">module_or_operation</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">config</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="n">module_or_operation</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operation_ids</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">config</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Specified run target &#39;</span><span class="si">{</span><span class="n">module_or_operation</span><span class="si">}</span><span class="s2">&#39; is an operation, additional module configuration is not allowed (yet).&quot;</span>
                <span class="p">)</span>
            <span class="n">manifest</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="n">module_or_operation</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">module_or_operation</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t assemble operation, invalid operation/module name: </span><span class="si">{</span><span class="n">module_or_operation</span><span class="si">}</span><span class="s2">. Must be registered module or operation name, or file.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">manifest</span>

    <span class="c1"># def create_module(self, manifest: Union[Manifest, str]) -&gt; &quot;KiaraModule&quot;:</span>
    <span class="c1">#     &quot;&quot;&quot;Create a [KiaraModule][kiara.module.KiaraModule] object from a module configuration.</span>
    <span class="c1">#</span>
    <span class="c1">#     Arguments:</span>
    <span class="c1">#         manifest: the module configuration</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#</span>
    <span class="c1">#     return self._module_registry.create_module(manifest=manifest)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">queue</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">wait</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Queue a job with the specified manifest and inputs.</span>

<span class="sd">        Arguments:</span>
<span class="sd">        ---------</span>
<span class="sd">           manifest: the job manifest</span>
<span class="sd">           inputs: the job inputs</span>
<span class="sd">           wait: whether to wait for the job to be finished before returning</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">            the job id that can be used to look up job status &amp; results</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="n">wait</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ValueMap</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Queue a job with the specified manifest and inputs.</span>

<span class="sd">        Arguments:</span>
<span class="sd">        ---------</span>
<span class="sd">           manifest: the job manifest</span>
<span class="sd">           inputs: the job inputs</span>
<span class="sd">           wait: whether to wait for the job to be finished before returning</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">execute_and_retrieve</span><span class="p">(</span><span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">save_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">ValueMap</span><span class="p">,</span> <span class="n">alias_map</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span><span class="p">:</span>
        <span class="n">_values</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">field_names</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
            <span class="n">_values</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">store_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
        <span class="n">stored</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">field_aliases</span> <span class="ow">in</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">_values</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">field_aliases</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">register_aliases</span><span class="p">(</span>
                        <span class="n">value_id</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="p">,</span> <span class="n">aliases</span><span class="o">=</span><span class="n">field_aliases</span>
                    <span class="p">)</span>

                <span class="n">stored</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">StoreValueResult</span><span class="p">(</span>
                    <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
                    <span class="n">aliases</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">field_aliases</span><span class="p">),</span>
                    <span class="n">error</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">persisted_data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">log_exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="n">stored</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">StoreValueResult</span><span class="p">(</span>
                    <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
                    <span class="n">aliases</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">field_aliases</span><span class="p">),</span>
                    <span class="n">error</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
                    <span class="n">persisted_data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">StoreValuesResult</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="n">stored</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_context_summary</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextInfo</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ContextInfo</span><span class="o">.</span><span class="n">create_from_context</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_archives</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="n">KiaraArchive</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">KiaraArchive</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">archive</span><span class="p">:</span> <span class="n">KiaraArchive</span>
        <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">archive</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">metadata_archives</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="nb">set</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">archive</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">data_archives</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="nb">set</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">archive</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">alias_archives</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="nb">set</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
        <span class="c1"># for alias, archive in self.destiny_registry.destiny_archives.items():</span>
        <span class="c1">#     result.setdefault(archive, set()).add(alias)</span>
        <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">archive</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">job_archives</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="nb">set</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">archive</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">workflow_archives</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="nb">set</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">





<h4 id="kiara.api.Kiara-attributes">Attributes<a href="#kiara.api.Kiara-attributes" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.id" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.id" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.context_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">context_config</span><span class="p">:</span> <span class="n">KiaraContextConfig</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.context_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.runtime_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">runtime_config</span><span class="p">:</span> <span class="n">KiaraRuntimeConfig</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.runtime_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.context_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">context_info</span><span class="p">:</span> <span class="n">KiaraContextInfo</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.context_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.environment_registry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">environment_registry</span><span class="p">:</span> <span class="n">EnvironmentRegistry</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.environment_registry" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.type_registry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">type_registry</span><span class="p">:</span> <span class="n">TypeRegistry</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.type_registry" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.module_registry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">module_registry</span><span class="p">:</span> <span class="n">ModuleRegistry</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.module_registry" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.kiara_model_registry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">kiara_model_registry</span><span class="p">:</span> <span class="n">ModelRegistry</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.kiara_model_registry" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.alias_registry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">alias_registry</span><span class="p">:</span> <span class="n">AliasRegistry</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.alias_registry" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.job_registry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">job_registry</span><span class="p">:</span> <span class="n">JobRegistry</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.job_registry" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.operation_registry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">operation_registry</span><span class="p">:</span> <span class="n">OperationRegistry</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.operation_registry" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.data_registry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">data_registry</span><span class="p">:</span> <span class="n">DataRegistry</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.data_registry" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.metadata_registry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">metadata_registry</span><span class="p">:</span> <span class="n">MetadataRegistry</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.metadata_registry" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.workflow_registry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">workflow_registry</span><span class="p">:</span> <span class="n">WorkflowRegistry</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.workflow_registry" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.event_registry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">event_registry</span><span class="p">:</span> <span class="n">EventRegistry</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.event_registry" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.render_registry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">render_registry</span><span class="p">:</span> <span class="n">RenderRegistry</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.render_registry" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.current_environments" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">current_environments</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">RuntimeEnvironment</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.current_environments" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.data_type_classes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">data_type_classes</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">DataType</span><span class="p">]]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.data_type_classes" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.data_type_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">data_type_names</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.data_type_names" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.module_type_classes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">module_type_classes</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">KiaraModule</span><span class="p">]]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.module_type_classes" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Kiara.module_type_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">module_type_names</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Kiara.module_type_names" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<h4 id="kiara.api.Kiara-functions">Functions<a href="#kiara.api.Kiara-functions" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Kiara.instance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">instance</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Kiara</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.Kiara.instance" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>The default <em>kiara</em> context. In most cases, it's recommended you create and manage your own, though.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The default *kiara* context. In most cases, it&#39;s recommended you create and manage your own, though.&quot;&quot;&quot;</span>

    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Kiara.instance() is not implemented yet.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Kiara.lock_context" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lock_context</span><span class="p">()</span></code>

<a href="#kiara.api.Kiara.lock_context" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Lock the context, so that it can't be used by other processes.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">lock_context</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Lock the context, so that it can&#39;t be used by other processes.&quot;&quot;&quot;</span>
    <span class="n">aquired</span> <span class="o">=</span> <span class="n">ID_REGISTRY</span><span class="o">.</span><span class="n">lock_context</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">aquired</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">KiaraContextException</span><span class="p">(</span>
            <span class="s2">&quot;Can&#39;t lock context: already locked by another process.&quot;</span><span class="p">,</span>
            <span class="n">context_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">unlock_context</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Kiara.unlock_context" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">unlock_context</span><span class="p">()</span></code>

<a href="#kiara.api.Kiara.unlock_context" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">233</span>
<span class="normal">234</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">unlock_context</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">ID_REGISTRY</span><span class="o">.</span><span class="n">unlock_context</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Kiara.update_runtime_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_runtime_config</span><span class="p">(</span><span class="o">**</span><span class="n">settings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraRuntimeConfig</span></code>

<a href="#kiara.api.Kiara.update_runtime_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update_runtime_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">settings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraRuntimeConfig</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">settings</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime_config</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime_config</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Kiara.register_external_archive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">register_external_archive</span><span class="p">(</span><span class="n">archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">KiaraArchive</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">KiaraArchive</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]],</span> <span class="n">allow_write_access</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.api.Kiara.register_external_archive" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Register one or several external archives with the context.</p>
<p>In case you provide KiaraArchive instances, they will be modified in case the provided 'allow_write_access' is different from the 'is_force_read_only' attribute of the archive.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">register_external_archive</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">KiaraArchive</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">KiaraArchive</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]],</span>
    <span class="n">allow_write_access</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Register one or several external archives with the context.</span>

<span class="sd">    In case you provide KiaraArchive instances, they will be modified in case the provided &#39;allow_write_access&#39; is different from the &#39;is_force_read_only&#39; attribute of the archive.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">archive_instances</span> <span class="o">=</span> <span class="n">check_external_archive</span><span class="p">(</span>
        <span class="n">archive</span><span class="o">=</span><span class="n">archive</span><span class="p">,</span> <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span>
    <span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">archive_type</span><span class="p">,</span> <span class="n">_archive_inst</span> <span class="ow">in</span> <span class="n">archive_instances</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">log_message</span><span class="p">(</span>
            <span class="s2">&quot;register.external.archive&quot;</span><span class="p">,</span>
            <span class="n">archive</span><span class="o">=</span><span class="n">_archive_inst</span><span class="o">.</span><span class="n">archive_name</span><span class="p">,</span>
            <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">_archive_inst</span><span class="o">.</span><span class="n">set_force_read_only</span><span class="p">(</span><span class="ow">not</span> <span class="n">allow_write_access</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">register_data_archive</span><span class="p">(</span><span class="n">_archive_inst</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="n">log_message</span><span class="p">(</span>
                <span class="s2">&quot;archive.registered&quot;</span><span class="p">,</span>
                <span class="n">archive</span><span class="o">=</span><span class="n">_archive_inst</span><span class="o">.</span><span class="n">archive_name</span><span class="p">,</span>
                <span class="n">archive_type</span><span class="o">=</span><span class="s2">&quot;data&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;metadata&quot;</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">register_metadata_archive</span><span class="p">(</span>
                <span class="n">_archive_inst</span>  <span class="c1"># type: ignore</span>
            <span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="n">log_message</span><span class="p">(</span>
                <span class="s2">&quot;archive.registered&quot;</span><span class="p">,</span>
                <span class="n">archive</span><span class="o">=</span><span class="n">_archive_inst</span><span class="o">.</span><span class="n">archive_name</span><span class="p">,</span>
                <span class="n">archive_type</span><span class="o">=</span><span class="s2">&quot;metadata&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;alias&quot;</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="s2">&quot;alias&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">register_archive</span><span class="p">(</span><span class="n">_archive_inst</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="n">log_message</span><span class="p">(</span>
                <span class="s2">&quot;archive.registered&quot;</span><span class="p">,</span>
                <span class="n">archive</span><span class="o">=</span><span class="n">_archive_inst</span><span class="o">.</span><span class="n">archive_name</span><span class="p">,</span>
                <span class="n">archive_type</span><span class="o">=</span><span class="s2">&quot;alias&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;job_record&quot;</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="s2">&quot;job_record&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">register_job_archive</span><span class="p">(</span>
                <span class="n">_archive_inst</span>  <span class="c1"># type: ignore</span>
            <span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="n">log_message</span><span class="p">(</span>
                <span class="s2">&quot;archive.registered&quot;</span><span class="p">,</span>
                <span class="n">archive</span><span class="o">=</span><span class="n">_archive_inst</span><span class="o">.</span><span class="n">archive_name</span><span class="p">,</span>
                <span class="n">archive_type</span><span class="o">=</span><span class="s2">&quot;job_record&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t register archive of type &#39;</span><span class="si">{</span><span class="n">archive_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Kiara.create_manifest" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_manifest</span><span class="p">(</span><span class="n">module_or_operation</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Manifest</span></code>

<a href="#kiara.api.Kiara.create_manifest" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_manifest</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">module_or_operation</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Manifest</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">module_or_operation</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_type_names</span><span class="p">:</span>
        <span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span> <span class="o">=</span> <span class="n">Manifest</span><span class="p">(</span>
            <span class="n">module_type</span><span class="o">=</span><span class="n">module_or_operation</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">config</span>
        <span class="p">)</span>

    <span class="k">elif</span> <span class="n">module_or_operation</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operation_ids</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">config</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Specified run target &#39;</span><span class="si">{</span><span class="n">module_or_operation</span><span class="si">}</span><span class="s2">&#39; is an operation, additional module configuration is not allowed (yet).&quot;</span>
            <span class="p">)</span>
        <span class="n">manifest</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="n">module_or_operation</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">module_or_operation</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t assemble operation, invalid operation/module name: </span><span class="si">{</span><span class="n">module_or_operation</span><span class="si">}</span><span class="s2">. Must be registered module or operation name, or file.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">manifest</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Kiara.queue" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">queue</span><span class="p">(</span><span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">wait</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span></code>

<a href="#kiara.api.Kiara.queue" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Queue a job with the specified manifest and inputs.</p>
        <hr />
<p>manifest: the job manifest
   inputs: the job inputs
   wait: whether to wait for the job to be finished before returning</p>
        <hr />
<div class="codehilite"><pre><span></span><code>the job id that can be used to look up job status &amp; results
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">queue</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">wait</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Queue a job with the specified manifest and inputs.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    ---------</span>
<span class="sd">       manifest: the job manifest</span>
<span class="sd">       inputs: the job inputs</span>
<span class="sd">       wait: whether to wait for the job to be finished before returning</span>

<span class="sd">    Returns:</span>
<span class="sd">    -------</span>
<span class="sd">        the job id that can be used to look up job status &amp; results</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="n">wait</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Kiara.process" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">process</span><span class="p">(</span><span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ValueMap</span></code>

<a href="#kiara.api.Kiara.process" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Queue a job with the specified manifest and inputs.</p>
        <hr />
<p>manifest: the job manifest
   inputs: the job inputs
   wait: whether to wait for the job to be finished before returning</p>
<h6 id="kiara.api.Kiara.process--returns">Returns:<a class="headerlink" href="#kiara.api.Kiara.process--returns" title="Permanent link">&para;</a></h6>


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ValueMap</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Queue a job with the specified manifest and inputs.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    ---------</span>
<span class="sd">       manifest: the job manifest</span>
<span class="sd">       inputs: the job inputs</span>
<span class="sd">       wait: whether to wait for the job to be finished before returning</span>

<span class="sd">    Returns:</span>
<span class="sd">    -------</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">execute_and_retrieve</span><span class="p">(</span><span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Kiara.save_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">save_values</span><span class="p">(</span><span class="n">values</span><span class="p">:</span> <span class="n">ValueMap</span><span class="p">,</span> <span class="n">alias_map</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span></code>

<a href="#kiara.api.Kiara.save_values" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">save_values</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">ValueMap</span><span class="p">,</span> <span class="n">alias_map</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span><span class="p">:</span>
    <span class="n">_values</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">field_names</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
        <span class="n">_values</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">store_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
    <span class="n">stored</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">field_aliases</span> <span class="ow">in</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">_values</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">field_aliases</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">register_aliases</span><span class="p">(</span>
                    <span class="n">value_id</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="p">,</span> <span class="n">aliases</span><span class="o">=</span><span class="n">field_aliases</span>
                <span class="p">)</span>

            <span class="n">stored</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">StoreValueResult</span><span class="p">(</span>
                <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
                <span class="n">aliases</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">field_aliases</span><span class="p">),</span>
                <span class="n">error</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">persisted_data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="n">stored</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">StoreValueResult</span><span class="p">(</span>
                <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
                <span class="n">aliases</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">field_aliases</span><span class="p">),</span>
                <span class="n">error</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
                <span class="n">persisted_data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">return</span> <span class="n">StoreValuesResult</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="n">stored</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Kiara.create_context_summary" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_context_summary</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">ContextInfo</span></code>

<a href="#kiara.api.Kiara.create_context_summary" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">508</span>
<span class="normal">509</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_context_summary</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextInfo</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">ContextInfo</span><span class="o">.</span><span class="n">create_from_context</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Kiara.get_all_archives" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_archives</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="n">KiaraArchive</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span></code>

<a href="#kiara.api.Kiara.get_all_archives" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_archives</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="n">KiaraArchive</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
    <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">KiaraArchive</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">archive</span><span class="p">:</span> <span class="n">KiaraArchive</span>
    <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">archive</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">metadata_archives</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="nb">set</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">archive</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">data_archives</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="nb">set</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">archive</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">alias_archives</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="nb">set</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
    <span class="c1"># for alias, archive in self.destiny_registry.destiny_archives.items():</span>
    <span class="c1">#     result.setdefault(archive, set()).add(alias)</span>
    <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">archive</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">job_archives</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="nb">set</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">archive</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">workflow_archives</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="nb">set</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="kiara.api.KiaraConfig" class="doc doc-heading">
            <code>KiaraConfig</code>


<a href="#kiara.api.KiaraConfig" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic_settings.BaseSettings">BaseSettings</span></code></p>








              <details class="quote">
                <summary>Source code in <code>src/kiara/context/config.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">KiaraConfig</span><span class="p">(</span><span class="n">BaseSettings</span><span class="p">):</span>
    <span class="n">model_config</span> <span class="o">=</span> <span class="n">SettingsConfigDict</span><span class="p">(</span>
        <span class="n">env_prefix</span><span class="o">=</span><span class="s2">&quot;kiara_&quot;</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="s2">&quot;forbid&quot;</span><span class="p">,</span> <span class="n">use_enum_values</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_in_folder</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraConfig&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t create new kiara config, path exists: </span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">config</span> <span class="o">=</span> <span class="n">KiaraConfig</span><span class="p">(</span><span class="n">base_data_path</span><span class="o">=</span><span class="n">path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">())</span>
        <span class="n">config_file</span> <span class="o">=</span> <span class="n">path</span> <span class="o">/</span> <span class="n">KIARA_CONFIG_FILE_NAME</span>

        <span class="n">config</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">config</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">load_from_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraConfig&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">KIARA_MAIN_CONFIG_FILE</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t load kiara config, path does not exist: </span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">path</span> <span class="o">/</span> <span class="n">KIARA_CONFIG_FILE_NAME</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t load kiara config, path does not exist: </span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

        <span class="k">with</span> <span class="n">path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;rt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

        <span class="n">config</span> <span class="o">=</span> <span class="n">KiaraConfig</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">_config_path</span> <span class="o">=</span> <span class="n">path</span>
        <span class="k">return</span> <span class="n">config</span>

    <span class="n">context_search_paths</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The base path to look for contexts in.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="p">[</span><span class="n">KIARA_MAIN_CONTEXTS_PATH</span><span class="p">],</span>
    <span class="p">)</span>
    <span class="n">base_data_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The base path to use for all data (unless otherwise specified.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">kiara_app_dirs</span><span class="o">.</span><span class="n">user_data_dir</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">stores_base_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The base path for the stores of this context.&quot;</span>
    <span class="p">)</span>
    <span class="n">default_context</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the default context to use if none is provided.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">DEFAULT_CONTEXT_NAME</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="c1"># default_store_type: Literal[&quot;sqlite&quot;, &quot;filesystem&quot;] = Field(</span>
    <span class="c1">#     description=&quot;The default store type to use when creating new stores.&quot;,</span>
    <span class="c1">#     default=DEFAULT_STORE_TYPE,</span>
    <span class="c1"># )</span>
    <span class="n">auto_generate_contexts</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether to auto-generate requested contexts if they don&#39;t exist yet.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">runtime_config</span><span class="p">:</span> <span class="n">KiaraRuntimeConfig</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The kiara runtime config.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="n">KiaraRuntimeConfig</span>
    <span class="p">)</span>

    <span class="n">_contexts</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
    <span class="n">_available_context_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_context_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">KiaraContextConfig</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
    <span class="n">_config_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;context_search_paths&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">validate_context_search_paths</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="n">KIARA_MAIN_CONTEXTS_PATH</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">v</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_set_paths</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
        <span class="n">base_path</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;base_data_path&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">base_path</span><span class="p">:</span>
            <span class="n">base_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">kiara_app_dirs</span><span class="o">.</span><span class="n">user_data_dir</span><span class="p">)</span>
            <span class="n">values</span><span class="p">[</span><span class="s2">&quot;base_data_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">base_path</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
            <span class="n">base_path</span> <span class="o">=</span> <span class="n">base_path</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>
            <span class="n">values</span><span class="p">[</span><span class="s2">&quot;base_data_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">base_path</span>

        <span class="n">stores_base_path</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stores_base_path&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">stores_base_path</span><span class="p">:</span>
            <span class="n">stores_base_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;stores&quot;</span><span class="p">)</span>
            <span class="n">values</span><span class="p">[</span><span class="s2">&quot;stores_base_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">stores_base_path</span>

        <span class="n">context_search_paths</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;context_search_paths&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">context_search_paths</span><span class="p">:</span>
            <span class="n">context_search_paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;contexts&quot;</span><span class="p">)]</span>
            <span class="n">values</span><span class="p">[</span><span class="s2">&quot;context_search_paths&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">context_search_paths</span>

        <span class="k">return</span> <span class="n">values</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">available_context_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_available_context_files</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_available_context_files</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">search_path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">context_search_paths</span><span class="p">:</span>
            <span class="n">sp</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">search_path</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">sp</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">&quot;*.yaml&quot;</span><span class="p">):</span>
                <span class="n">rel_path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
                <span class="n">alias</span> <span class="o">=</span> <span class="n">rel_path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
                <span class="n">alias</span> <span class="o">=</span> <span class="n">alias</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">)</span>
                <span class="n">result</span><span class="p">[</span><span class="n">alias</span><span class="p">]</span> <span class="o">=</span> <span class="n">path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_available_context_files</span> <span class="o">=</span> <span class="n">result</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_available_context_files</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">context_configs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">KiaraContextConfig</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_context_config</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_context_names</span><span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_context_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">context_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">auto_generate</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraContextConfig</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">auto_generate</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">auto_generate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_generate_contexts</span>

        <span class="k">if</span> <span class="n">context_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">context_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_context</span>

        <span class="k">if</span> <span class="n">context_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_context_names</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">auto_generate</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">context_name</span> <span class="o">==</span> <span class="n">DEFAULT_CONTEXT_NAME</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;No kiara context with name &#39;</span><span class="si">{</span><span class="n">context_name</span><span class="si">}</span><span class="s2">&#39; available.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_context_config</span><span class="p">(</span><span class="n">context_alias</span><span class="o">=</span><span class="n">context_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">context_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_data</span><span class="p">[</span><span class="n">context_name</span><span class="p">]</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_available_context_files</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="n">context_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_available_context_files</span><span class="p">[</span><span class="n">context_name</span><span class="p">]</span>
        <span class="n">context_data</span> <span class="o">=</span> <span class="n">get_data_from_file</span><span class="p">(</span><span class="n">context_file</span><span class="p">,</span> <span class="n">content_type</span><span class="o">=</span><span class="s2">&quot;yaml&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">context_data</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Empty/corrupted context file &#39;</span><span class="si">{</span><span class="n">context_file</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&#39;: delete file and try again.&quot;</span>
            <span class="p">)</span>

        <span class="n">changed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="s2">&quot;extra_pipeline_folders&quot;</span> <span class="ow">in</span> <span class="n">context_data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">epf</span> <span class="o">=</span> <span class="n">context_data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;extra_pipeline_folders&quot;</span><span class="p">)</span>
            <span class="n">context_data</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;extra_pipelines&quot;</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">epf</span><span class="p">)</span>
            <span class="n">changed</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">context</span> <span class="o">=</span> <span class="n">KiaraContextConfig</span><span class="p">(</span><span class="o">**</span><span class="n">context_data</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">changed</span><span class="p">:</span>
            <span class="n">changed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_context</span><span class="p">(</span><span class="n">context_config</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">changed</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;write.context_file&quot;</span><span class="p">,</span>
                <span class="n">context_config_file</span><span class="o">=</span><span class="n">context_file</span><span class="o">.</span><span class="n">as_posix</span><span class="p">(),</span>
                <span class="n">context_name</span><span class="o">=</span><span class="n">context_name</span><span class="p">,</span>
                <span class="n">reason</span><span class="o">=</span><span class="s2">&quot;context changed after validation&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">context_file</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">context_file</span><span class="p">,</span> <span class="s2">&quot;wt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span> <span class="n">f</span><span class="p">)</span>

        <span class="n">context</span><span class="o">.</span><span class="n">_context_config_path</span> <span class="o">=</span> <span class="n">context_file</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_context_data</span><span class="p">[</span><span class="n">context_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">context</span>
        <span class="k">return</span> <span class="n">context</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_validate_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_config</span><span class="p">:</span> <span class="n">KiaraContextConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">changed</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">sqlite_base_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stores_base_path</span><span class="p">,</span> <span class="s2">&quot;sqlite_stores&quot;</span><span class="p">)</span>
        <span class="n">filesystem_base_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stores_base_path</span><span class="p">,</span> <span class="s2">&quot;filesystem_stores&quot;</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">create_default_sqlite_archive_config</span><span class="p">(</span><span class="n">use_wal_mode</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
            <span class="n">store_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())</span>
            <span class="n">file_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">store_id</span><span class="si">}</span><span class="s2">.karchive&quot;</span>
            <span class="n">archive_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sqlite_base_path</span><span class="p">,</span> <span class="n">file_name</span><span class="p">))</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">archive_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Archive path &#39;</span><span class="si">{</span><span class="n">archive_path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&#39; already exists.&quot;</span>
                <span class="p">)</span>

            <span class="n">archive_path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

            <span class="c1"># Connect to the SQLite database (or create it if it doesn&#39;t exist)</span>
            <span class="kn">import</span><span class="w"> </span><span class="nn">sqlite3</span>

            <span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">archive_path</span><span class="p">)</span>

            <span class="c1"># Create a cursor object</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
            <span class="c1"># Create table</span>
            <span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;CREATE TABLE archive_metadata</span>
<span class="sd">                         (key text PRIMARY KEY , value text NOT NULL)&quot;&quot;&quot;</span>
            <span class="p">)</span>
            <span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
                <span class="s2">&quot;INSERT INTO archive_metadata VALUES (&#39;archive_id&#39;, ?)&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">store_id</span><span class="p">,)</span>
            <span class="p">)</span>
            <span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;sqlite_db_path&quot;</span><span class="p">:</span> <span class="n">archive_path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">(),</span>
                <span class="s2">&quot;use_wal_mode&quot;</span><span class="p">:</span> <span class="n">use_wal_mode</span><span class="p">,</span>
            <span class="p">}</span>

        <span class="n">default_sqlite_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">use_wal_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">default_store_type</span> <span class="o">=</span> <span class="s2">&quot;sqlite&quot;</span>

        <span class="k">if</span> <span class="n">default_store_type</span> <span class="o">==</span> <span class="s2">&quot;auto&quot;</span><span class="p">:</span>
            <span class="c1"># if windows, we want sqlite as default, because although it&#39;s slower, it does not</span>
            <span class="c1"># need the user to enable developer mode</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;nt&quot;</span><span class="p">:</span>
                <span class="n">data_store_type</span> <span class="o">=</span> <span class="s2">&quot;sqlite&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">data_store_type</span> <span class="o">=</span> <span class="s2">&quot;filesystem&quot;</span>

            <span class="n">metadata_store_type</span> <span class="o">=</span> <span class="s2">&quot;sqlite&quot;</span>
            <span class="n">alias_store_type</span> <span class="o">=</span> <span class="s2">&quot;sqlite&quot;</span>
            <span class="n">job_store_type</span> <span class="o">=</span> <span class="s2">&quot;sqlite&quot;</span>
            <span class="n">workflow_store_type</span> <span class="o">=</span> <span class="s2">&quot;sqlite&quot;</span>
        <span class="k">elif</span> <span class="n">default_store_type</span> <span class="o">==</span> <span class="s2">&quot;filesystem&quot;</span><span class="p">:</span>
            <span class="n">metadata_store_type</span> <span class="o">=</span> <span class="s2">&quot;filesystem&quot;</span>
            <span class="n">data_store_type</span> <span class="o">=</span> <span class="s2">&quot;filesystem&quot;</span>
            <span class="n">alias_store_type</span> <span class="o">=</span> <span class="s2">&quot;filesystem&quot;</span>
            <span class="n">job_store_type</span> <span class="o">=</span> <span class="s2">&quot;filesystem&quot;</span>
            <span class="n">workflow_store_type</span> <span class="o">=</span> <span class="s2">&quot;filesystem&quot;</span>
        <span class="k">elif</span> <span class="n">default_store_type</span> <span class="o">==</span> <span class="s2">&quot;sqlite&quot;</span><span class="p">:</span>
            <span class="n">metadata_store_type</span> <span class="o">=</span> <span class="s2">&quot;sqlite&quot;</span>
            <span class="n">data_store_type</span> <span class="o">=</span> <span class="s2">&quot;sqlite&quot;</span>
            <span class="n">alias_store_type</span> <span class="o">=</span> <span class="s2">&quot;sqlite&quot;</span>
            <span class="n">job_store_type</span> <span class="o">=</span> <span class="s2">&quot;sqlite&quot;</span>
            <span class="n">workflow_store_type</span> <span class="o">=</span> <span class="s2">&quot;sqlite&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown store type: </span><span class="si">{</span><span class="n">default_store_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">DEFAULT_METADATA_STORE_MARKER</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">context_config</span><span class="o">.</span><span class="n">archives</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">metadata_store_type</span> <span class="o">==</span> <span class="s2">&quot;sqlite&quot;</span><span class="p">:</span>
                <span class="n">default_sqlite_config</span> <span class="o">=</span> <span class="n">create_default_sqlite_archive_config</span><span class="p">(</span>
                    <span class="n">use_wal_mode</span><span class="o">=</span><span class="n">use_wal_mode</span>
                <span class="p">)</span>
                <span class="n">metaddata_store</span> <span class="o">=</span> <span class="n">KiaraArchiveConfig</span><span class="p">(</span>
                    <span class="n">archive_type</span><span class="o">=</span><span class="s2">&quot;sqlite_metadata_store&quot;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">default_sqlite_config</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">metadata_store_type</span> <span class="o">==</span> <span class="s2">&quot;filesystem&quot;</span><span class="p">:</span>
                <span class="n">default_sqlite_config</span> <span class="o">=</span> <span class="n">create_default_sqlite_archive_config</span><span class="p">(</span>
                    <span class="n">use_wal_mode</span><span class="o">=</span><span class="n">use_wal_mode</span>
                <span class="p">)</span>
                <span class="n">metaddata_store</span> <span class="o">=</span> <span class="n">KiaraArchiveConfig</span><span class="p">(</span>
                    <span class="n">archive_type</span><span class="o">=</span><span class="s2">&quot;sqlite_metadata_store&quot;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">default_sqlite_config</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t create default metadata store: invalid default store type &#39;</span><span class="si">{</span><span class="n">metadata_store_type</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
                <span class="p">)</span>

            <span class="n">context_config</span><span class="o">.</span><span class="n">archives</span><span class="p">[</span><span class="n">DEFAULT_METADATA_STORE_MARKER</span><span class="p">]</span> <span class="o">=</span> <span class="n">metaddata_store</span>
            <span class="n">changed</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">DEFAULT_DATA_STORE_MARKER</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">context_config</span><span class="o">.</span><span class="n">archives</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">data_store_type</span> <span class="o">==</span> <span class="s2">&quot;sqlite&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">default_sqlite_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">default_sqlite_config</span> <span class="o">=</span> <span class="n">create_default_sqlite_archive_config</span><span class="p">(</span>
                        <span class="n">use_wal_mode</span><span class="o">=</span><span class="n">use_wal_mode</span>
                    <span class="p">)</span>

                <span class="n">data_store</span> <span class="o">=</span> <span class="n">KiaraArchiveConfig</span><span class="p">(</span>
                    <span class="n">archive_type</span><span class="o">=</span><span class="s2">&quot;sqlite_data_store&quot;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">default_sqlite_config</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">data_store_type</span> <span class="o">==</span> <span class="s2">&quot;filesystem&quot;</span><span class="p">:</span>
                <span class="n">data_store_type</span> <span class="o">=</span> <span class="s2">&quot;filesystem_data_store&quot;</span>
                <span class="n">data_store</span> <span class="o">=</span> <span class="n">create_default_store_config</span><span class="p">(</span>
                    <span class="n">store_type</span><span class="o">=</span><span class="n">data_store_type</span><span class="p">,</span>
                    <span class="n">stores_base_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">filesystem_base_path</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">),</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t create default data store: invalid default store type &#39;</span><span class="si">{</span><span class="n">data_store_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                <span class="p">)</span>

            <span class="n">context_config</span><span class="o">.</span><span class="n">archives</span><span class="p">[</span><span class="n">DEFAULT_DATA_STORE_MARKER</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_store</span>
            <span class="n">changed</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">DEFAULT_JOB_STORE_MARKER</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">context_config</span><span class="o">.</span><span class="n">archives</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">job_store_type</span> <span class="o">==</span> <span class="s2">&quot;sqlite&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">default_sqlite_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">default_sqlite_config</span> <span class="o">=</span> <span class="n">create_default_sqlite_archive_config</span><span class="p">(</span>
                        <span class="n">use_wal_mode</span><span class="o">=</span><span class="n">use_wal_mode</span>
                    <span class="p">)</span>

                <span class="n">job_store</span> <span class="o">=</span> <span class="n">KiaraArchiveConfig</span><span class="p">(</span>
                    <span class="n">archive_type</span><span class="o">=</span><span class="s2">&quot;sqlite_job_store&quot;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">default_sqlite_config</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">job_store_type</span> <span class="o">==</span> <span class="s2">&quot;filesystem&quot;</span><span class="p">:</span>
                <span class="n">job_store_type</span> <span class="o">=</span> <span class="s2">&quot;filesystem_job_store&quot;</span>
                <span class="n">job_store</span> <span class="o">=</span> <span class="n">create_default_store_config</span><span class="p">(</span>
                    <span class="n">store_type</span><span class="o">=</span><span class="n">job_store_type</span><span class="p">,</span>
                    <span class="n">stores_base_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">filesystem_base_path</span><span class="p">,</span> <span class="s2">&quot;jobs&quot;</span><span class="p">),</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t create default job store: invalid default store type &#39;</span><span class="si">{</span><span class="n">job_store_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                <span class="p">)</span>

            <span class="n">context_config</span><span class="o">.</span><span class="n">archives</span><span class="p">[</span><span class="n">DEFAULT_JOB_STORE_MARKER</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_store</span>
            <span class="n">changed</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">DEFAULT_ALIAS_STORE_MARKER</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">context_config</span><span class="o">.</span><span class="n">archives</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">alias_store_type</span> <span class="o">==</span> <span class="s2">&quot;sqlite&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">default_sqlite_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">default_sqlite_config</span> <span class="o">=</span> <span class="n">create_default_sqlite_archive_config</span><span class="p">(</span>
                        <span class="n">use_wal_mode</span><span class="o">=</span><span class="n">use_wal_mode</span>
                    <span class="p">)</span>

                <span class="n">alias_store</span> <span class="o">=</span> <span class="n">KiaraArchiveConfig</span><span class="p">(</span>
                    <span class="n">archive_type</span><span class="o">=</span><span class="s2">&quot;sqlite_alias_store&quot;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">default_sqlite_config</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">alias_store_type</span> <span class="o">==</span> <span class="s2">&quot;filesystem&quot;</span><span class="p">:</span>
                <span class="n">alias_store_type</span> <span class="o">=</span> <span class="s2">&quot;filesystem_alias_store&quot;</span>
                <span class="n">alias_store</span> <span class="o">=</span> <span class="n">create_default_store_config</span><span class="p">(</span>
                    <span class="n">store_type</span><span class="o">=</span><span class="n">alias_store_type</span><span class="p">,</span>
                    <span class="n">stores_base_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">filesystem_base_path</span><span class="p">,</span> <span class="s2">&quot;aliases&quot;</span><span class="p">),</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t create default alias store: invalid default store type &#39;</span><span class="si">{</span><span class="n">alias_store_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                <span class="p">)</span>

            <span class="n">context_config</span><span class="o">.</span><span class="n">archives</span><span class="p">[</span><span class="n">DEFAULT_ALIAS_STORE_MARKER</span><span class="p">]</span> <span class="o">=</span> <span class="n">alias_store</span>
            <span class="n">changed</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">DEFAULT_WORKFLOW_STORE_MARKER</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">context_config</span><span class="o">.</span><span class="n">archives</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="c1"># TODO: impolement sqlite type, or remove workflows entirely</span>

            <span class="n">workflow_store_type</span> <span class="o">=</span> <span class="s2">&quot;filesystem_workflow_store&quot;</span>
            <span class="c1"># workflow_store_type = &quot;sqlite_workflow_store&quot;</span>

            <span class="n">workflow_store</span> <span class="o">=</span> <span class="n">create_default_store_config</span><span class="p">(</span>
                <span class="n">store_type</span><span class="o">=</span><span class="n">workflow_store_type</span><span class="p">,</span>
                <span class="n">stores_base_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">filesystem_base_path</span><span class="p">,</span> <span class="s2">&quot;workflows&quot;</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="n">context_config</span><span class="o">.</span><span class="n">archives</span><span class="p">[</span><span class="n">DEFAULT_WORKFLOW_STORE_MARKER</span><span class="p">]</span> <span class="o">=</span> <span class="n">workflow_store</span>
            <span class="n">changed</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="n">changed</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_context_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">context_alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraContextConfig</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">context_alias</span><span class="p">:</span>
            <span class="n">context_alias</span> <span class="o">=</span> <span class="n">DEFAULT_CONTEXT_NAME</span>

        <span class="k">if</span> <span class="n">context_alias</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_context_names</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t create kiara context &#39;</span><span class="si">{</span><span class="n">context_alias</span><span class="si">}</span><span class="s2">&#39;: context with that alias already registered.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">context_alias</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.kontext&quot;</span><span class="p">):</span>
            <span class="n">context_db_file</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">context_alias</span><span class="p">)</span>
            <span class="n">context_config</span><span class="p">:</span> <span class="n">KiaraContextConfig</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">KiaraContextConfig</span><span class="o">.</span><span class="n">create_from_sqlite_db</span><span class="p">(</span><span class="n">db_path</span><span class="o">=</span><span class="n">context_db_file</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validate_context</span><span class="p">(</span><span class="n">context_config</span><span class="o">=</span><span class="n">context_config</span><span class="p">)</span>
            <span class="n">context_config</span><span class="o">.</span><span class="n">_context_config_path</span> <span class="o">=</span> <span class="n">context_db_file</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span> <span class="ow">in</span> <span class="n">context_alias</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t create context with alias &#39;</span><span class="si">{</span><span class="n">context_alias</span><span class="si">}</span><span class="s2">&#39;: no special characters allowed.&quot;</span>
                <span class="p">)</span>

            <span class="n">context_file</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">Path</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context_search_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
                <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">context_alias</span><span class="si">}</span><span class="s2">.yaml&quot;</span>
            <span class="p">)</span>

            <span class="n">archives</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">KiaraArchiveConfig</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="c1"># create_default_archives(kiara_config=self)</span>
            <span class="n">context_id</span> <span class="o">=</span> <span class="n">ID_REGISTRY</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span>
                <span class="n">obj_type</span><span class="o">=</span><span class="n">KiaraContextConfig</span><span class="p">,</span>
                <span class="n">comment</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;new kiara context &#39;</span><span class="si">{</span><span class="n">context_alias</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">context_config</span> <span class="o">=</span> <span class="n">KiaraContextConfig</span><span class="p">(</span>
                <span class="n">context_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">context_id</span><span class="p">),</span> <span class="n">archives</span><span class="o">=</span><span class="n">archives</span><span class="p">,</span> <span class="n">extra_pipelines</span><span class="o">=</span><span class="p">[]</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_validate_context</span><span class="p">(</span><span class="n">context_config</span><span class="o">=</span><span class="n">context_config</span><span class="p">)</span>

            <span class="n">context_file</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">context_file</span><span class="p">,</span> <span class="s2">&quot;wt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">context_config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span> <span class="n">f</span><span class="p">)</span>

            <span class="n">context_config</span><span class="o">.</span><span class="n">_context_config_path</span> <span class="o">=</span> <span class="n">context_file</span>

            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_available_context_files</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_available_context_files</span><span class="p">[</span><span class="n">context_alias</span><span class="p">]</span> <span class="o">=</span> <span class="n">context_file</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_context_data</span><span class="p">[</span><span class="n">context_alias</span><span class="p">]</span> <span class="o">=</span> <span class="n">context_config</span>

        <span class="k">return</span> <span class="n">context_config</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_context</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">context</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">extra_pipelines</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">context</span><span class="p">:</span>
            <span class="n">context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_context</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
                <span class="n">context</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="ow">or</span> <span class="n">context</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.kontext&quot;</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">context</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">context</span><span class="p">))</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">context</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.kontext&quot;</span><span class="p">):</span>
                <span class="n">context_config</span> <span class="o">=</span> <span class="n">KiaraContextConfig</span><span class="o">.</span><span class="n">create_from_sqlite_db</span><span class="p">(</span>
                    <span class="n">db_path</span><span class="o">=</span><span class="n">context</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">with</span> <span class="n">context</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;rt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                        <span class="n">data</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Can&#39;t read context from file &#39;</span><span class="si">{</span><span class="n">context</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="n">context_config</span> <span class="o">=</span> <span class="n">KiaraContextConfig</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">context_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_context_config</span><span class="p">(</span><span class="n">context_name</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">):</span>
            <span class="n">context_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_context_config</span><span class="p">(</span><span class="n">context_id</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t retrieve context, invalid context config type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="k">assert</span> <span class="n">context_config</span><span class="o">.</span><span class="n">context_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_contexts</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">extra_pipelines</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">extra_pipelines</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">extra_pipelines</span> <span class="o">=</span> <span class="p">[</span><span class="n">extra_pipelines</span><span class="p">]</span>
            <span class="n">context_config</span><span class="o">.</span><span class="n">add_pipelines</span><span class="p">(</span><span class="o">*</span><span class="n">extra_pipelines</span><span class="p">)</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.context</span><span class="w"> </span><span class="kn">import</span> <span class="n">Kiara</span>

        <span class="n">kiara</span> <span class="o">=</span> <span class="n">Kiara</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">context_config</span><span class="p">,</span> <span class="n">runtime_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime_config</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">kiara</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">context_config</span><span class="o">.</span><span class="n">context_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_contexts</span><span class="p">[</span><span class="n">kiara</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">kiara</span>

        <span class="k">return</span> <span class="n">kiara</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">find_context_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraContextConfig</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">KIARA_MAIN_CONFIG_FILE</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t save config file, path already exists: </span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(</span>
            <span class="n">exclude</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;context&quot;</span><span class="p">,</span>
                <span class="s2">&quot;auto_generate_contexts&quot;</span><span class="p">,</span>
                <span class="s2">&quot;stores_base_path&quot;</span><span class="p">,</span>
                <span class="s2">&quot;context_search_paths&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default_context&quot;</span><span class="p">,</span>
                <span class="s2">&quot;runtime_config&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="k">with</span> <span class="n">path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;wt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span>
                <span class="n">data</span><span class="p">,</span>
                <span class="n">f</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_config_path</span> <span class="o">=</span> <span class="n">path</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">context_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">dry_run</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;ContextInfo&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes the context with the specified name.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">context_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">context_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_context</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.context</span><span class="w"> </span><span class="kn">import</span> <span class="n">Kiara</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.context</span><span class="w"> </span><span class="kn">import</span> <span class="n">ContextInfo</span>

        <span class="n">context_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_context_config</span><span class="p">(</span>
            <span class="n">context_name</span><span class="o">=</span><span class="n">context_name</span><span class="p">,</span> <span class="n">auto_generate</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span>

        <span class="n">context_summary</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">kiara</span> <span class="o">=</span> <span class="n">Kiara</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">context_config</span><span class="p">,</span> <span class="n">runtime_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime_config</span><span class="p">)</span>

            <span class="n">context_summary</span> <span class="o">=</span> <span class="n">ContextInfo</span><span class="o">.</span><span class="n">create_from_context</span><span class="p">(</span>
                <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">context_name</span><span class="o">=</span><span class="n">context_name</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">dry_run</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">context_summary</span>

            <span class="k">for</span> <span class="n">archive</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">get_all_archives</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">archive</span><span class="o">.</span><span class="n">delete_archive</span><span class="p">(</span><span class="n">archive_id</span><span class="o">=</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_id</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_message</span><span class="p">(</span><span class="s2">&quot;delete.context.error&quot;</span><span class="p">,</span> <span class="n">context_name</span><span class="o">=</span><span class="n">context_name</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="n">e</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">dry_run</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">context_config</span><span class="o">.</span><span class="n">_context_config_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">os</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">context_config</span><span class="o">.</span><span class="n">_context_config_path</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">context_summary</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">render_config</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.utils.output</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_recursive_table_from_model_object</span>

        <span class="k">return</span> <span class="n">create_recursive_table_from_model_object</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">render_config</span><span class="o">=</span><span class="n">render_config</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">





<h4 id="kiara.api.KiaraConfig-attributes">Attributes<a href="#kiara.api.KiaraConfig-attributes" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraConfig.model_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">model_config</span> <span class="o">=</span> <span class="n">SettingsConfigDict</span><span class="p">(</span><span class="n">env_prefix</span><span class="o">=</span><span class="s1">&#39;kiara_&#39;</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="s1">&#39;forbid&#39;</span><span class="p">,</span> <span class="n">use_enum_values</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiaraConfig.model_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraConfig.context_search_paths" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">context_search_paths</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The base path to look for contexts in.&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[</span><span class="n">KIARA_MAIN_CONTEXTS_PATH</span><span class="p">])</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiaraConfig.context_search_paths" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraConfig.base_data_path" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">base_data_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The base path to use for all data (unless otherwise specified.&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">kiara_app_dirs</span><span class="o">.</span><span class="n">user_data_dir</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiaraConfig.base_data_path" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraConfig.stores_base_path" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">stores_base_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The base path for the stores of this context.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiaraConfig.stores_base_path" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraConfig.default_context" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">default_context</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The name of the default context to use if none is provided.&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">DEFAULT_CONTEXT_NAME</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiaraConfig.default_context" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraConfig.auto_generate_contexts" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">auto_generate_contexts</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether to auto-generate requested contexts if they don&#39;t exist yet.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiaraConfig.auto_generate_contexts" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraConfig.runtime_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">runtime_config</span><span class="p">:</span> <span class="n">KiaraRuntimeConfig</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The kiara runtime config.&#39;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="n">KiaraRuntimeConfig</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiaraConfig.runtime_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraConfig.available_context_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">available_context_names</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.KiaraConfig.available_context_names" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraConfig.context_configs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">context_configs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">KiaraContextConfig</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.KiaraConfig.context_configs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<h4 id="kiara.api.KiaraConfig-functions">Functions<a href="#kiara.api.KiaraConfig-functions" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraConfig.create_in_folder" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_in_folder</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">KiaraConfig</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.KiaraConfig.create_in_folder" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/config.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_in_folder</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraConfig&quot;</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t create new kiara config, path exists: </span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">KiaraConfig</span><span class="p">(</span><span class="n">base_data_path</span><span class="o">=</span><span class="n">path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">())</span>
    <span class="n">config_file</span> <span class="o">=</span> <span class="n">path</span> <span class="o">/</span> <span class="n">KIARA_CONFIG_FILE_NAME</span>

    <span class="n">config</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">config</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraConfig.load_from_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load_from_file</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraConfig</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.KiaraConfig.load_from_file" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/config.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">load_from_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraConfig&quot;</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">KIARA_MAIN_CONFIG_FILE</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t load kiara config, path does not exist: </span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">path</span> <span class="o">/</span> <span class="n">KIARA_CONFIG_FILE_NAME</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t load kiara config, path does not exist: </span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

    <span class="k">with</span> <span class="n">path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;rt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">KiaraConfig</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>
    <span class="n">config</span><span class="o">.</span><span class="n">_config_path</span> <span class="o">=</span> <span class="n">path</span>
    <span class="k">return</span> <span class="n">config</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraConfig.validate_context_search_paths" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_context_search_paths</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.KiaraConfig.validate_context_search_paths" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/config.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;context_search_paths&quot;</span><span class="p">)</span>
<span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">validate_context_search_paths</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="n">KIARA_MAIN_CONTEXTS_PATH</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">v</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraConfig.get_context_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_context_config</span><span class="p">(</span><span class="n">context_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">auto_generate</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraContextConfig</span></code>

<a href="#kiara.api.KiaraConfig.get_context_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/config.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_context_config</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">context_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">auto_generate</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraContextConfig</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">auto_generate</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">auto_generate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_generate_contexts</span>

    <span class="k">if</span> <span class="n">context_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">context_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_context</span>

    <span class="k">if</span> <span class="n">context_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_context_names</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">auto_generate</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">context_name</span> <span class="o">==</span> <span class="n">DEFAULT_CONTEXT_NAME</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No kiara context with name &#39;</span><span class="si">{</span><span class="n">context_name</span><span class="si">}</span><span class="s2">&#39; available.&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_context_config</span><span class="p">(</span><span class="n">context_alias</span><span class="o">=</span><span class="n">context_name</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">context_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_data</span><span class="p">[</span><span class="n">context_name</span><span class="p">]</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_available_context_files</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="n">context_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_available_context_files</span><span class="p">[</span><span class="n">context_name</span><span class="p">]</span>
    <span class="n">context_data</span> <span class="o">=</span> <span class="n">get_data_from_file</span><span class="p">(</span><span class="n">context_file</span><span class="p">,</span> <span class="n">content_type</span><span class="o">=</span><span class="s2">&quot;yaml&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">context_data</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Empty/corrupted context file &#39;</span><span class="si">{</span><span class="n">context_file</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&#39;: delete file and try again.&quot;</span>
        <span class="p">)</span>

    <span class="n">changed</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="s2">&quot;extra_pipeline_folders&quot;</span> <span class="ow">in</span> <span class="n">context_data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">epf</span> <span class="o">=</span> <span class="n">context_data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;extra_pipeline_folders&quot;</span><span class="p">)</span>
        <span class="n">context_data</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;extra_pipelines&quot;</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">epf</span><span class="p">)</span>
        <span class="n">changed</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">context</span> <span class="o">=</span> <span class="n">KiaraContextConfig</span><span class="p">(</span><span class="o">**</span><span class="n">context_data</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">changed</span><span class="p">:</span>
        <span class="n">changed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_context</span><span class="p">(</span><span class="n">context_config</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">changed</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;write.context_file&quot;</span><span class="p">,</span>
            <span class="n">context_config_file</span><span class="o">=</span><span class="n">context_file</span><span class="o">.</span><span class="n">as_posix</span><span class="p">(),</span>
            <span class="n">context_name</span><span class="o">=</span><span class="n">context_name</span><span class="p">,</span>
            <span class="n">reason</span><span class="o">=</span><span class="s2">&quot;context changed after validation&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">context_file</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">context_file</span><span class="p">,</span> <span class="s2">&quot;wt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span> <span class="n">f</span><span class="p">)</span>

    <span class="n">context</span><span class="o">.</span><span class="n">_context_config_path</span> <span class="o">=</span> <span class="n">context_file</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_context_data</span><span class="p">[</span><span class="n">context_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">context</span>
    <span class="k">return</span> <span class="n">context</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraConfig.create_context_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_context_config</span><span class="p">(</span><span class="n">context_alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraContextConfig</span></code>

<a href="#kiara.api.KiaraConfig.create_context_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/config.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_context_config</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">context_alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraContextConfig</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">context_alias</span><span class="p">:</span>
        <span class="n">context_alias</span> <span class="o">=</span> <span class="n">DEFAULT_CONTEXT_NAME</span>

    <span class="k">if</span> <span class="n">context_alias</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_context_names</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t create kiara context &#39;</span><span class="si">{</span><span class="n">context_alias</span><span class="si">}</span><span class="s2">&#39;: context with that alias already registered.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">context_alias</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.kontext&quot;</span><span class="p">):</span>
        <span class="n">context_db_file</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">context_alias</span><span class="p">)</span>
        <span class="n">context_config</span><span class="p">:</span> <span class="n">KiaraContextConfig</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">KiaraContextConfig</span><span class="o">.</span><span class="n">create_from_sqlite_db</span><span class="p">(</span><span class="n">db_path</span><span class="o">=</span><span class="n">context_db_file</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_context</span><span class="p">(</span><span class="n">context_config</span><span class="o">=</span><span class="n">context_config</span><span class="p">)</span>
        <span class="n">context_config</span><span class="o">.</span><span class="n">_context_config_path</span> <span class="o">=</span> <span class="n">context_db_file</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span> <span class="ow">in</span> <span class="n">context_alias</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t create context with alias &#39;</span><span class="si">{</span><span class="n">context_alias</span><span class="si">}</span><span class="s2">&#39;: no special characters allowed.&quot;</span>
            <span class="p">)</span>

        <span class="n">context_file</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">Path</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context_search_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">context_alias</span><span class="si">}</span><span class="s2">.yaml&quot;</span>
        <span class="p">)</span>

        <span class="n">archives</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">KiaraArchiveConfig</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># create_default_archives(kiara_config=self)</span>
        <span class="n">context_id</span> <span class="o">=</span> <span class="n">ID_REGISTRY</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span>
            <span class="n">obj_type</span><span class="o">=</span><span class="n">KiaraContextConfig</span><span class="p">,</span>
            <span class="n">comment</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;new kiara context &#39;</span><span class="si">{</span><span class="n">context_alias</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">context_config</span> <span class="o">=</span> <span class="n">KiaraContextConfig</span><span class="p">(</span>
            <span class="n">context_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">context_id</span><span class="p">),</span> <span class="n">archives</span><span class="o">=</span><span class="n">archives</span><span class="p">,</span> <span class="n">extra_pipelines</span><span class="o">=</span><span class="p">[]</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_context</span><span class="p">(</span><span class="n">context_config</span><span class="o">=</span><span class="n">context_config</span><span class="p">)</span>

        <span class="n">context_file</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">context_file</span><span class="p">,</span> <span class="s2">&quot;wt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">context_config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span> <span class="n">f</span><span class="p">)</span>

        <span class="n">context_config</span><span class="o">.</span><span class="n">_context_config_path</span> <span class="o">=</span> <span class="n">context_file</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_available_context_files</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_available_context_files</span><span class="p">[</span><span class="n">context_alias</span><span class="p">]</span> <span class="o">=</span> <span class="n">context_file</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_context_data</span><span class="p">[</span><span class="n">context_alias</span><span class="p">]</span> <span class="o">=</span> <span class="n">context_config</span>

    <span class="k">return</span> <span class="n">context_config</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraConfig.create_context" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_context</span><span class="p">(</span><span class="n">context</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">extra_pipelines</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Kiara</span></code>

<a href="#kiara.api.KiaraConfig.create_context" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/config.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_context</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">extra_pipelines</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">context</span><span class="p">:</span>
        <span class="n">context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_context</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
            <span class="n">context</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="ow">or</span> <span class="n">context</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.kontext&quot;</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="n">context</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">context</span><span class="p">))</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">context</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.kontext&quot;</span><span class="p">):</span>
            <span class="n">context_config</span> <span class="o">=</span> <span class="n">KiaraContextConfig</span><span class="o">.</span><span class="n">create_from_sqlite_db</span><span class="p">(</span>
                <span class="n">db_path</span><span class="o">=</span><span class="n">context</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">with</span> <span class="n">context</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;rt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">data</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t read context from file &#39;</span><span class="si">{</span><span class="n">context</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="n">context_config</span> <span class="o">=</span> <span class="n">KiaraContextConfig</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">context_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_context_config</span><span class="p">(</span><span class="n">context_name</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">):</span>
        <span class="n">context_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_context_config</span><span class="p">(</span><span class="n">context_id</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t retrieve context, invalid context config type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
        <span class="p">)</span>

    <span class="k">assert</span> <span class="n">context_config</span><span class="o">.</span><span class="n">context_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_contexts</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">extra_pipelines</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">extra_pipelines</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">extra_pipelines</span> <span class="o">=</span> <span class="p">[</span><span class="n">extra_pipelines</span><span class="p">]</span>
        <span class="n">context_config</span><span class="o">.</span><span class="n">add_pipelines</span><span class="p">(</span><span class="o">*</span><span class="n">extra_pipelines</span><span class="p">)</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.context</span><span class="w"> </span><span class="kn">import</span> <span class="n">Kiara</span>

    <span class="n">kiara</span> <span class="o">=</span> <span class="n">Kiara</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">context_config</span><span class="p">,</span> <span class="n">runtime_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime_config</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">kiara</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">context_config</span><span class="o">.</span><span class="n">context_id</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_contexts</span><span class="p">[</span><span class="n">kiara</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">kiara</span>

    <span class="k">return</span> <span class="n">kiara</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraConfig.find_context_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_context_config</span><span class="p">(</span><span class="n">context_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraContextConfig</span></code>

<a href="#kiara.api.KiaraConfig.find_context_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/config.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">881</span>
<span class="normal">882</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">find_context_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraContextConfig</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraConfig.save" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">save</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>

<a href="#kiara.api.KiaraConfig.save" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/config.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">KIARA_MAIN_CONFIG_FILE</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t save config file, path already exists: </span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(</span>
        <span class="n">exclude</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;context&quot;</span><span class="p">,</span>
            <span class="s2">&quot;auto_generate_contexts&quot;</span><span class="p">,</span>
            <span class="s2">&quot;stores_base_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;context_search_paths&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default_context&quot;</span><span class="p">,</span>
            <span class="s2">&quot;runtime_config&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">)</span>

    <span class="k">with</span> <span class="n">path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;wt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span>
            <span class="n">data</span><span class="p">,</span>
            <span class="n">f</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_config_path</span> <span class="o">=</span> <span class="n">path</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraConfig.delete" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete</span><span class="p">(</span><span class="n">context_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">dry_run</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">ContextInfo</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span></code>

<a href="#kiara.api.KiaraConfig.delete" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Deletes the context with the specified name.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/config.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">context_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">dry_run</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;ContextInfo&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes the context with the specified name.&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">context_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">context_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_context</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.context</span><span class="w"> </span><span class="kn">import</span> <span class="n">Kiara</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.context</span><span class="w"> </span><span class="kn">import</span> <span class="n">ContextInfo</span>

    <span class="n">context_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_context_config</span><span class="p">(</span>
        <span class="n">context_name</span><span class="o">=</span><span class="n">context_name</span><span class="p">,</span> <span class="n">auto_generate</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>

    <span class="n">context_summary</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">kiara</span> <span class="o">=</span> <span class="n">Kiara</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">context_config</span><span class="p">,</span> <span class="n">runtime_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime_config</span><span class="p">)</span>

        <span class="n">context_summary</span> <span class="o">=</span> <span class="n">ContextInfo</span><span class="o">.</span><span class="n">create_from_context</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">context_name</span><span class="o">=</span><span class="n">context_name</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">dry_run</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">context_summary</span>

        <span class="k">for</span> <span class="n">archive</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">get_all_archives</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">archive</span><span class="o">.</span><span class="n">delete_archive</span><span class="p">(</span><span class="n">archive_id</span><span class="o">=</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_id</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_message</span><span class="p">(</span><span class="s2">&quot;delete.context.error&quot;</span><span class="p">,</span> <span class="n">context_name</span><span class="o">=</span><span class="n">context_name</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="n">e</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">dry_run</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">context_config</span><span class="o">.</span><span class="n">_context_config_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">context_config</span><span class="o">.</span><span class="n">_context_config_path</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">context_summary</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraConfig.create_renderable" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">render_config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span></code>

<a href="#kiara.api.KiaraConfig.create_renderable" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/context/config.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">render_config</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.utils.output</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_recursive_table_from_model_object</span>

    <span class="k">return</span> <span class="n">create_recursive_table_from_model_object</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">render_config</span><span class="o">=</span><span class="n">render_config</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="kiara.api.KiaraAPI" class="doc doc-heading">
            <code>KiaraAPI</code>


<a href="#kiara.api.KiaraAPI" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="object">object</span></code></p>


        <p>Kiara API for clients.</p>
<p>This class wraps a [Kiara][kiara.context.kiara.Kiara] instance, and allows easy a access to tasks that are
typically done by a frontend. The return types of each method are json seriable in most cases.</p>
<p>The naming of the API endpoints follows a (loose-ish) convention:
- list_<em>: return a list of ids or items, if items, filtering is supported
- get_</em>: get specific instances of a type (operation, value, etc.)
- retrieve_<em>: get augmented information about an instance or type of something. This usually implies that there is some overhead,
so before you use this, make sure that there is not 'get_</em>' or 'list_*' endpoint that could give you what you need.</p>
<p>Some methods of this class are copied (automatically) from the <a class="autorefs autorefs-internal" href="../interfaces/python_api/base_api/#kiara.interfaces.python_api.base_api.BaseAPI">BaseAPI</a> class, which is the actual implementation of the API.
This is done for different reasons:
- to keep the 'BaseAPI' class flexible, as it is used internally, so the <code>KiaraAPI</code> class can serve as a sort of 'stable' frontend, even if the underlying BaseAPI changes
- to avoid having to write the same documentation / code twice
- to be able to postpone the imports that are in the <code>base_api</code> module
- to be able to add instrumentation, logging, etc. to the API calls later on</p>
<p>Re-generating those copied methods can be done like so:</p>
<div class="highlight"><pre><span></span><code> kiara render --source-type base_api --target-type kiara_api item kiara_api template_file=kiara/src/kiara/interfaces/python_api/kiara_api.py target_file=kiara/src/kiara/interfaces/python_api/kiara_api.py
</code></pre></div>
<p>All endpoints that have the 'tag' annotation <code>kiara_api</code> will then be copied.</p>







              <details class="quote">
                <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  48</span>
<span class="normal">  49</span>
<span class="normal">  50</span>
<span class="normal">  51</span>
<span class="normal">  52</span>
<span class="normal">  53</span>
<span class="normal">  54</span>
<span class="normal">  55</span>
<span class="normal">  56</span>
<span class="normal">  57</span>
<span class="normal">  58</span>
<span class="normal">  59</span>
<span class="normal">  60</span>
<span class="normal">  61</span>
<span class="normal">  62</span>
<span class="normal">  63</span>
<span class="normal">  64</span>
<span class="normal">  65</span>
<span class="normal">  66</span>
<span class="normal">  67</span>
<span class="normal">  68</span>
<span class="normal">  69</span>
<span class="normal">  70</span>
<span class="normal">  71</span>
<span class="normal">  72</span>
<span class="normal">  73</span>
<span class="normal">  74</span>
<span class="normal">  75</span>
<span class="normal">  76</span>
<span class="normal">  77</span>
<span class="normal">  78</span>
<span class="normal">  79</span>
<span class="normal">  80</span>
<span class="normal">  81</span>
<span class="normal">  82</span>
<span class="normal">  83</span>
<span class="normal">  84</span>
<span class="normal">  85</span>
<span class="normal">  86</span>
<span class="normal">  87</span>
<span class="normal">  88</span>
<span class="normal">  89</span>
<span class="normal">  90</span>
<span class="normal">  91</span>
<span class="normal">  92</span>
<span class="normal">  93</span>
<span class="normal">  94</span>
<span class="normal">  95</span>
<span class="normal">  96</span>
<span class="normal">  97</span>
<span class="normal">  98</span>
<span class="normal">  99</span>
<span class="normal"> 100</span>
<span class="normal"> 101</span>
<span class="normal"> 102</span>
<span class="normal"> 103</span>
<span class="normal"> 104</span>
<span class="normal"> 105</span>
<span class="normal"> 106</span>
<span class="normal"> 107</span>
<span class="normal"> 108</span>
<span class="normal"> 109</span>
<span class="normal"> 110</span>
<span class="normal"> 111</span>
<span class="normal"> 112</span>
<span class="normal"> 113</span>
<span class="normal"> 114</span>
<span class="normal"> 115</span>
<span class="normal"> 116</span>
<span class="normal"> 117</span>
<span class="normal"> 118</span>
<span class="normal"> 119</span>
<span class="normal"> 120</span>
<span class="normal"> 121</span>
<span class="normal"> 122</span>
<span class="normal"> 123</span>
<span class="normal"> 124</span>
<span class="normal"> 125</span>
<span class="normal"> 126</span>
<span class="normal"> 127</span>
<span class="normal"> 128</span>
<span class="normal"> 129</span>
<span class="normal"> 130</span>
<span class="normal"> 131</span>
<span class="normal"> 132</span>
<span class="normal"> 133</span>
<span class="normal"> 134</span>
<span class="normal"> 135</span>
<span class="normal"> 136</span>
<span class="normal"> 137</span>
<span class="normal"> 138</span>
<span class="normal"> 139</span>
<span class="normal"> 140</span>
<span class="normal"> 141</span>
<span class="normal"> 142</span>
<span class="normal"> 143</span>
<span class="normal"> 144</span>
<span class="normal"> 145</span>
<span class="normal"> 146</span>
<span class="normal"> 147</span>
<span class="normal"> 148</span>
<span class="normal"> 149</span>
<span class="normal"> 150</span>
<span class="normal"> 151</span>
<span class="normal"> 152</span>
<span class="normal"> 153</span>
<span class="normal"> 154</span>
<span class="normal"> 155</span>
<span class="normal"> 156</span>
<span class="normal"> 157</span>
<span class="normal"> 158</span>
<span class="normal"> 159</span>
<span class="normal"> 160</span>
<span class="normal"> 161</span>
<span class="normal"> 162</span>
<span class="normal"> 163</span>
<span class="normal"> 164</span>
<span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">KiaraAPI</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Kiara API for clients.</span>

<span class="sd">    This class wraps a [Kiara][kiara.context.kiara.Kiara] instance, and allows easy a access to tasks that are</span>
<span class="sd">    typically done by a frontend. The return types of each method are json seriable in most cases.</span>

<span class="sd">    The naming of the API endpoints follows a (loose-ish) convention:</span>
<span class="sd">    - list_*: return a list of ids or items, if items, filtering is supported</span>
<span class="sd">    - get_*: get specific instances of a type (operation, value, etc.)</span>
<span class="sd">    - retrieve_*: get augmented information about an instance or type of something. This usually implies that there is some overhead,</span>
<span class="sd">    so before you use this, make sure that there is not &#39;get_*&#39; or &#39;list_*&#39; endpoint that could give you what you need.</span>

<span class="sd">    Some methods of this class are copied (automatically) from the [BaseAPI][kiara.interfaces.python_api.base_api.BaseAPI] class, which is the actual implementation of the API.</span>
<span class="sd">    This is done for different reasons:</span>
<span class="sd">    - to keep the &#39;BaseAPI&#39; class flexible, as it is used internally, so the `KiaraAPI` class can serve as a sort of &#39;stable&#39; frontend, even if the underlying BaseAPI changes</span>
<span class="sd">    - to avoid having to write the same documentation / code twice</span>
<span class="sd">    - to be able to postpone the imports that are in the `base_api` module</span>
<span class="sd">    - to be able to add instrumentation, logging, etc. to the API calls later on</span>

<span class="sd">    Re-generating those copied methods can be done like so:</span>

<span class="sd">    ```</span>
<span class="sd">     kiara render --source-type base_api --target-type kiara_api item kiara_api template_file=kiara/src/kiara/interfaces/python_api/kiara_api.py target_file=kiara/src/kiara/interfaces/python_api/kiara_api.py</span>
<span class="sd">    ```</span>

<span class="sd">    All endpoints that have the &#39;tag&#39; annotation `kiara_api` will then be copied.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_default_instance</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="s2">&quot;KiaraAPI&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraAPI&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the default KiaraAPI instance.</span>

<span class="sd">        This is a convenience method to get a singleton KiaraAPI instance. If this is the first time this method is called, it loads the default *kiara* context. If this is called subsequently, it will return</span>
<span class="sd">        the same instance, so if you or some-one (or -thing) switched that context, this might not be the case.</span>

<span class="sd">        So make sure you understand the implications, and if in doubt, it might be safer to create your own `KiaraAPI` instance manually.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_default_instance</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_default_instance</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.utils.config</span><span class="w"> </span><span class="kn">import</span> <span class="n">assemble_kiara_config</span>

        <span class="n">config</span> <span class="o">=</span> <span class="n">assemble_kiara_config</span><span class="p">()</span>

        <span class="n">api</span> <span class="o">=</span> <span class="n">KiaraAPI</span><span class="p">(</span><span class="n">kiara_config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">_default_instance</span> <span class="o">=</span> <span class="n">api</span>
        <span class="k">return</span> <span class="n">api</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;KiaraConfig&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.base_api</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseAPI</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="p">:</span> <span class="n">BaseAPI</span> <span class="o">=</span> <span class="n">BaseAPI</span><span class="p">(</span><span class="n">kiara_config</span><span class="o">=</span><span class="n">kiara_config</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run_job</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="s2">&quot;Manifest&quot;</span><span class="p">,</span> <span class="s2">&quot;OperationInfo&quot;</span><span class="p">,</span> <span class="s2">&quot;JobDesc&quot;</span><span class="p">],</span>
        <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">comment</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">operation_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run a job from a operation id, module_name (and config), or pipeline file, wait for the job to finish and retrieve the result.</span>

<span class="sd">        This is a convenience method that auto-detects what is meant by the &#39;operation&#39; string input argument.</span>

<span class="sd">        In general, try to avoid this method and use &#39;queue_job&#39;, &#39;get_job&#39; and &#39;retrieve_job_result&#39; manually instead,</span>
<span class="sd">        since this is a blocking operation.</span>

<span class="sd">        If the &#39;operation&#39; is a JobDesc instance, and that JobDesc instance has the &#39;save&#39; attribute</span>
<span class="sd">        set, it will be ignored, so you&#39;ll have to store any results manually.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            operation: a module name, operation id, or a path to a pipeline file (resolved in this order, until a match is found)..</span>
<span class="sd">            inputs: the operation inputs</span>
<span class="sd">            comment: a (required) comment to attach to the job</span>
<span class="sd">            operation_config: the (optional) module config in case &#39;operation&#39; is a module name</span>

<span class="sd">        Returns:</span>
<span class="sd">            the job result value map</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># if not comment and comment != &quot;&quot;:</span>
        <span class="c1">#     from kiara.exceptions import KiaraException</span>
        <span class="c1">#</span>
        <span class="c1">#     raise KiaraException(msg=&quot;Can&#39;t submit job: no comment provided.&quot;)</span>

        <span class="k">if</span> <span class="n">inputs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">inputs</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">run_job</span><span class="p">(</span>
            <span class="n">operation</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span>
            <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
            <span class="n">operation_config</span><span class="o">=</span><span class="n">operation_config</span><span class="p">,</span>
            <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">queue_job</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="s2">&quot;Manifest&quot;</span><span class="p">,</span> <span class="s2">&quot;OperationInfo&quot;</span><span class="p">,</span> <span class="s2">&quot;JobDesc&quot;</span><span class="p">],</span>
        <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">comment</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">operation_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Queue a job from a operation id, module_name (and config), or pipeline file, wait for the job to finish and retrieve the result.</span>

<span class="sd">        This is a convenience method that auto-detects what is meant by the &#39;operation&#39; string input argument.</span>

<span class="sd">        If the &#39;operation&#39; is a JobDesc instance, and that JobDesc instance has the &#39;save&#39; attribute</span>
<span class="sd">        set, it will be ignored, so you&#39;ll have to store any results manually.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            operation: a module name, operation id, or a path to a pipeline file (resolved in this order, until a match is found)..</span>
<span class="sd">            inputs: the operation inputs</span>
<span class="sd">            comment: a (required) comment to attach to the job</span>
<span class="sd">            operation_config: the (optional) module config in case &#39;operation&#39; is a module name</span>

<span class="sd">        Returns:</span>
<span class="sd">            the queued job id</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">comment</span> <span class="ow">and</span> <span class="n">comment</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">KiaraException</span>

            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Can&#39;t submit job: no comment provided.&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">queue_job</span><span class="p">(</span>
            <span class="n">operation</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span>
            <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
            <span class="n">operation_config</span><span class="o">=</span><span class="n">operation_config</span><span class="p">,</span>
            <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_job_comment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span> <span class="n">comment</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set a comment for the specified job.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            job_id: the job id</span>
<span class="sd">            comment: the comment to set</span>
<span class="sd">            force: whether to overwrite an existing comment</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">CommentMetadata</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">job_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">job_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">job_id</span><span class="p">)</span>

        <span class="n">comment_metadata</span> <span class="o">=</span> <span class="n">CommentMetadata</span><span class="p">(</span><span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="n">comment_metadata</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">register_job_metadata_items</span><span class="p">(</span>
            <span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">items</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_job_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the comment for the specified job.</span>

<span class="sd">        Returns &#39;None&#39; if the job_id does not exist, or the job does not have a comment attached to it.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            job_id: the job id</span>

<span class="sd">        Returns:</span>
<span class="sd">            the comment as string, or None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">CommentMetadata</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">job_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">job_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">job_id</span><span class="p">)</span>

        <span class="n">metadata</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;KiaraMetadata&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">retrieve_job_metadata_item</span><span class="p">(</span>
                <span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;comment&quot;</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">metadata</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">CommentMetadata</span><span class="p">):</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">KiaraException</span>

            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Metadata item &#39;comment&#39; for job &#39;</span><span class="si">{</span><span class="n">job_id</span><span class="si">}</span><span class="s2">&#39; is not a comment.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="o">.</span><span class="n">comment</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_augmented_value_lineage</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="s2">&quot;Path&quot;</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve lineage data for the specified value, augmented with additional metadata.</span>

<span class="sd">        The format of the returned data is a dictionary with the following keys:</span>

<span class="sd">        - `id`: The ID of the node.</span>
<span class="sd">        - `desc`: The description of the node.</span>
<span class="sd">        - `parentIds`: A list of IDs of the parent nodes.</span>
<span class="sd">        - `info`: Additional information about the node, including a preview of the value if it is set.</span>

<span class="sd">        Args:</span>
<span class="sd">            value: The value to retrieve the lineage data for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary containing the augmented lineage data.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="n">graph</span> <span class="o">=</span> <span class="n">_value</span><span class="o">.</span><span class="n">lineage</span><span class="o">.</span><span class="n">module_graph</span>

        <span class="n">nodes</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">data</span><span class="p">()</span>
        <span class="n">augmented_nodes</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">get_info</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
            <span class="c1"># all this is terribly inefficient</span>

            <span class="k">if</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;node_type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;operation&quot;</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">retrieve_module_type_info</span><span class="p">(</span>
                    <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;module_type&quot;</span><span class="p">]</span>
                <span class="p">)</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>

            <span class="k">elif</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;node_type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span>
                <span class="n">value_id</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">6</span><span class="p">:]</span>

                <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value_id</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                    <span class="n">render_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">render_value</span><span class="p">(</span>
                        <span class="n">value</span><span class="o">=</span><span class="n">v</span><span class="p">,</span> <span class="n">target_format</span><span class="o">=</span><span class="s2">&quot;string&quot;</span>
                    <span class="p">)</span><span class="o">.</span><span class="n">rendered</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="n">render_result</span> <span class="o">=</span> <span class="s2">&quot;None&quot;</span>

                <span class="n">result</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;preview&quot;</span><span class="p">:</span> <span class="n">render_result</span><span class="p">}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown node type: </span><span class="si">{</span><span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">result</span>

        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nodes</span><span class="p">):</span>
            <span class="n">node_dict</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="s2">&quot;desc&quot;</span><span class="p">:</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="s2">&quot;parentIds&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">graph</span><span class="o">.</span><span class="n">predecessors</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">])),</span>
                <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="n">get_info</span><span class="p">(</span><span class="n">node</span><span class="p">),</span>
            <span class="p">}</span>
            <span class="n">augmented_nodes</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">node_dict</span>

        <span class="k">return</span> <span class="n">augmented_nodes</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">print_all_jobs_info_data</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">max_char</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">show_inputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">show_outputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Prints a table with all jobs info data.</span>

<span class="sd">        If max_char &gt; 0, the value previews will be truncated to max_char characters, unless aliases is True, in which case the aliases of a value will be shown (if available).</span>

<span class="sd">        Arguments:</span>
<span class="sd">            max_char: the maximum number of characters to show for value previews</span>
<span class="sd">            aliases: whether to show aliases for values (if max_char is exceeded by preview)</span>
<span class="sd">            show_inputs: whether to show the inputs of the jobs</span>
<span class="sd">            show_outputs: whether to show the outputs of the jobs</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">rich.table</span><span class="w"> </span><span class="kn">import</span> <span class="n">Table</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.utils.cli</span><span class="w"> </span><span class="kn">import</span> <span class="n">terminal_print</span>

        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_jobs_info_data</span><span class="p">(</span>
            <span class="n">aliases</span><span class="o">=</span><span class="n">aliases</span><span class="p">,</span>
            <span class="n">max_char</span><span class="o">=</span><span class="n">max_char</span><span class="p">,</span>
            <span class="n">add_inputs_preview</span><span class="o">=</span><span class="n">show_inputs</span><span class="p">,</span>
            <span class="n">add_outputs_preview</span><span class="o">=</span><span class="n">show_outputs</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Module name&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Comment&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Time submitted&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Runtime&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">show_inputs</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Inputs&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">show_outputs</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Outputs&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">row_data</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="n">row</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">row_data</span><span class="p">[</span><span class="s2">&quot;module_name&quot;</span><span class="p">],</span>
                <span class="n">row_data</span><span class="p">[</span><span class="s2">&quot;comment&quot;</span><span class="p">],</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">row_data</span><span class="p">[</span><span class="s2">&quot;time_submitted&quot;</span><span class="p">]),</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">row_data</span><span class="p">[</span><span class="s2">&quot;runtime&quot;</span><span class="p">]),</span>
            <span class="p">]</span>
            <span class="k">if</span> <span class="n">show_inputs</span><span class="p">:</span>
                <span class="n">inputs</span> <span class="o">=</span> <span class="n">row_data</span><span class="p">[</span><span class="s2">&quot;inputs&quot;</span><span class="p">]</span>
                <span class="n">inputs_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
                    <span class="n">show_lines</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span>
                <span class="p">)</span>
                <span class="n">inputs_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Field&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
                <span class="n">inputs_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">input_name</span><span class="p">,</span> <span class="n">input_value</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">inputs_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">input_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">input_value</span><span class="p">))</span>

                <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">inputs_table</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">show_outputs</span><span class="p">:</span>
                <span class="n">outputs</span> <span class="o">=</span> <span class="n">row_data</span><span class="p">[</span><span class="s2">&quot;outputs&quot;</span><span class="p">]</span>
                <span class="n">outputs_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
                    <span class="n">show_lines</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span>
                <span class="p">)</span>
                <span class="n">outputs_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Field&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
                <span class="n">outputs_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">output_name</span><span class="p">,</span> <span class="n">output_value</span> <span class="ow">in</span> <span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">outputs_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">output_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">output_value</span><span class="p">))</span>
                <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">outputs_table</span><span class="p">)</span>

            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">)</span>

        <span class="n">terminal_print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_jobs_info_data</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">max_char</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">add_inputs_preview</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">add_outputs_preview</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve all job info as a list of dicts.</span>

<span class="sd">        If max_char &gt; 0, the value previews will be truncated to max_char characters, unless aliases is True, in which case the aliases of a value will be shown (if available).</span>

<span class="sd">        The result list items are dicts with the following keys:</span>

<span class="sd">        - job_id: the job id</span>
<span class="sd">        - module_name: the module name</span>
<span class="sd">        - module_config: the module config that was used (if applicable, otherwise this key will not be present)</span>
<span class="sd">        - time_submitted: the time the job was submitted</span>
<span class="sd">        - runtime: the runtime of the job</span>
<span class="sd">        - comment: the comment for the job</span>
<span class="sd">        - inputs: a dict of input field names and values (when &#39;add_inputs_preview&#39; is set)</span>
<span class="sd">        - outputs: a dict of output field names and values (when &#39;add_outputs_preview&#39; is set)</span>

<span class="sd">        Arguments:</span>
<span class="sd">            max_char: the maximum number of characters to show for value previews</span>
<span class="sd">            aliases: whether to show aliases for values (if max_char is exceeded by preview)</span>
<span class="sd">            add_inputs_preview: whether to add preview data for input fields</span>
<span class="sd">            add_outputs_preview: whether to add preview data for output fields</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">job_infos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">retrieve_jobs_info</span><span class="p">(</span><span class="n">allow_internal</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">get_value_str</span><span class="p">(</span><span class="n">value_info</span><span class="p">:</span> <span class="s2">&quot;ValueInfo&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">value_info</span><span class="o">.</span><span class="n">_value</span><span class="p">:</span>
                <span class="n">value_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value_info</span><span class="o">.</span><span class="n">value_id</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">value_obj</span> <span class="o">=</span> <span class="n">value_info</span><span class="o">.</span><span class="n">_value</span>

            <span class="k">if</span> <span class="n">value_obj</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                <span class="n">rendered</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">render_value</span><span class="p">(</span>
                    <span class="n">value</span><span class="o">=</span><span class="n">value_obj</span><span class="p">,</span> <span class="n">target_format</span><span class="o">=</span><span class="s2">&quot;string&quot;</span>
                <span class="p">)</span><span class="o">.</span><span class="n">rendered</span>  <span class="c1"># type: ignore</span>

                <span class="k">if</span> <span class="n">max_char</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">rendered</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">max_char</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">rendered</span>

                <span class="k">if</span> <span class="n">aliases</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="n">value_aliases</span> <span class="o">=</span> <span class="n">value_info</span><span class="o">.</span><span class="n">aliases</span>
                    <span class="k">if</span> <span class="n">value_aliases</span><span class="p">:</span>
                        <span class="n">value_aliases_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">value_aliases</span><span class="p">)</span>
                        <span class="k">return</span> <span class="n">value_aliases_str</span>

                <span class="c1"># means no aliases</span>
                <span class="k">if</span> <span class="n">max_char</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">rendered</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">max_char</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;...&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">rendered</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">value_obj</span><span class="o">.</span><span class="n">value_status</span><span class="o">.</span><span class="n">value</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">job_id</span><span class="p">,</span> <span class="n">job_info</span> <span class="ow">in</span> <span class="n">job_infos</span><span class="o">.</span><span class="n">item_infos</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">module_name</span> <span class="o">=</span> <span class="n">job_info</span><span class="o">.</span><span class="n">job_record</span><span class="o">.</span><span class="n">module_type</span>
            <span class="n">module_config</span> <span class="o">=</span> <span class="n">job_info</span><span class="o">.</span><span class="n">job_record</span><span class="o">.</span><span class="n">module_config</span>
            <span class="n">comment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_job_comment</span><span class="p">(</span><span class="n">job_info</span><span class="o">.</span><span class="n">job_record</span><span class="o">.</span><span class="n">job_id</span><span class="p">)</span>
            <span class="n">time_submitted</span> <span class="o">=</span> <span class="n">job_info</span><span class="o">.</span><span class="n">job_record</span><span class="o">.</span><span class="n">job_submitted</span>
            <span class="n">runtime_details</span> <span class="o">=</span> <span class="n">job_info</span><span class="o">.</span><span class="n">job_record</span><span class="o">.</span><span class="n">runtime_details</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">runtime_details</span><span class="p">:</span>
                <span class="n">runtime</span> <span class="o">=</span> <span class="s2">&quot;n/a&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">runtime</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">runtime_details</span><span class="o">.</span><span class="n">runtime</span><span class="p">)</span>

            <span class="n">inputs</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="n">add_inputs_preview</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">value_info</span> <span class="ow">in</span> <span class="n">job_info</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">value_str</span> <span class="o">=</span> <span class="n">get_value_str</span><span class="p">(</span><span class="n">value_info</span><span class="p">)</span>
                    <span class="n">inputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_str</span>
            <span class="n">outputs</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="n">add_outputs_preview</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">value_info</span> <span class="ow">in</span> <span class="n">job_info</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">value_str</span> <span class="o">=</span> <span class="n">get_value_str</span><span class="p">(</span><span class="n">value_info</span><span class="p">)</span>
                    <span class="n">outputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_str</span>

            <span class="n">result_item</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;job_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">job_id</span><span class="p">),</span>
                <span class="s2">&quot;module_name&quot;</span><span class="p">:</span> <span class="n">module_name</span><span class="p">,</span>
                <span class="s2">&quot;time_submitted&quot;</span><span class="p">:</span> <span class="n">time_submitted</span><span class="p">,</span>
                <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="n">comment</span><span class="p">,</span>
                <span class="s2">&quot;runtime&quot;</span><span class="p">:</span> <span class="n">runtime</span><span class="p">,</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="n">add_inputs_preview</span><span class="p">:</span>
                <span class="n">result_item</span><span class="p">[</span><span class="s2">&quot;inputs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">inputs</span>
            <span class="k">if</span> <span class="n">add_outputs_preview</span><span class="p">:</span>
                <span class="n">result_item</span><span class="p">[</span><span class="s2">&quot;outputs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">outputs</span>

            <span class="k">if</span> <span class="n">module_config</span><span class="p">:</span>
                <span class="n">result_item</span><span class="p">[</span><span class="s2">&quot;module_config&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">module_config</span>

            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result_item</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;time_submitted&quot;</span><span class="p">])</span>

    <span class="c1"># BEGIN IMPORTED-ENDPOINTS</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_available_plugin_names</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">regex</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^kiara[-_]plugin\..*&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Get a list of all available plugins.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            regex: an optional regex to indicate the plugin naming scheme (default: /$kiara[_-]plugin\..*/)</span>

<span class="sd">        Returns:</span>
<span class="sd">            a list of plugin names</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_available_plugin_names</span><span class="p">(</span><span class="n">regex</span><span class="o">=</span><span class="n">regex</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_plugin_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraPluginInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get information about a plugin.</span>

<span class="sd">        This contains information about included data-types, modules, operations, pipelines, as well as metadata</span>
<span class="sd">        about author(s), etc.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            plugin_name: the name of the plugin</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dictionary with information about the plugin</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;KiaraPluginInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_plugin_info</span><span class="p">(</span>
            <span class="n">plugin_name</span><span class="o">=</span><span class="n">plugin_name</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_plugin_infos</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">plugin_name_regex</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^kiara[-_]plugin\..*&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraPluginInfos&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get information about multiple plugins.</span>

<span class="sd">        This is just a convenience method to get information about multiple plugins at once.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;KiaraPluginInfos&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_plugin_infos</span><span class="p">(</span>
            <span class="n">plugin_name_regex</span><span class="o">=</span><span class="n">plugin_name_regex</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_context_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ContextInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve information about the current kiara context.</span>

<span class="sd">        This contains information about the context, like its name/alias, the values &amp; aliases it contains, and which archives are connected to it.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ContextInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get_context_info</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_context_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;list the names of all available/registered contexts.</span>

<span class="sd">        NOTE: this functionality might be changed in the future, depending on requirements and feedback and</span>
<span class="sd">        whether we want to support single-file contexts in the future.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_context_names</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_context_infos</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ContextInfos&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve information about the available/registered contexts.</span>

<span class="sd">        NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ContextInfos&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_context_infos</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_current_context_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the name of the current context.</span>

<span class="sd">        NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get_current_context_name</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_active_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">create</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the currently active context for this KiarAPI instance.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            context_name: the name of the context to set as active</span>
<span class="sd">            create: if True, create the context if it doesn&#39;t exist</span>

<span class="sd">        NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">set_active_context</span><span class="p">(</span><span class="n">context_name</span><span class="o">=</span><span class="n">context_name</span><span class="p">,</span> <span class="n">create</span><span class="o">=</span><span class="n">create</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_data_type_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_profiles</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of all registered data types.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            include_profiles: if True, also include the names of all registered data type profiles</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_data_type_names</span><span class="p">(</span>
            <span class="n">include_profiles</span><span class="o">=</span><span class="n">include_profiles</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_data_types_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">include_data_type_profiles</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">python_package</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;DataTypeClassesInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve information about all data types.</span>

<span class="sd">        A data type is a Python class that inherits from [DataType[kiara.data_types.DataType], and it wraps a specific</span>
<span class="sd">        Python class that holds the actual data and provides metadata and convenience methods for managing the data internally. Data types are not directly used by users, but they are exposed in the input/output schemas of moudles and other data-related features.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            filter: an optional string or (list of strings) the returned datatype ids have to match (all filters in the case of a list)</span>
<span class="sd">            include_data_type_profiles: if True, also include the names of all registered data type profiles</span>
<span class="sd">            python_package: if provided, only return data types that are defined in the given python package</span>

<span class="sd">        Returns:</span>
<span class="sd">            an object containing all information about all data types</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;DataTypeClassesInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_data_types_info</span><span class="p">(</span>
            <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
            <span class="n">include_data_type_profiles</span><span class="o">=</span><span class="n">include_data_type_profiles</span><span class="p">,</span>
            <span class="n">python_package</span><span class="o">=</span><span class="n">python_package</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_data_type_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;DataTypeClassInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve information about a specific data type.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data_type: the registered name of the data type</span>

<span class="sd">        Returns:</span>
<span class="sd">            an object containing all information about a data type</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;DataTypeClassInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_data_type_info</span><span class="p">(</span>
            <span class="n">data_type_name</span><span class="o">=</span><span class="n">data_type_name</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_module_type_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of all registered module types.&quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_module_type_names</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_module_types_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">python_package</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ModuleTypesInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve information for all available module types (or a filtered subset thereof).</span>

<span class="sd">        A module type is Python class that inherits from [KiaraModule][kiara.modules.KiaraModule], and is the basic</span>
<span class="sd">        building block for processing pipelines. Module types are not used directly by users, Operations are. Operations</span>
<span class="sd">         are instantiated modules (meaning: the module &amp; some (optional) configuration).</span>

<span class="sd">        Arguments:</span>
<span class="sd">            filter: an optional string (or list of string) the returned module names have to match (all filters in case of list)</span>
<span class="sd">            python_package: an optional string, if provided, only modules from the specified python package are returned</span>

<span class="sd">        Returns:</span>
<span class="sd">            a mapping object containing module names as keys, and information about the modules as values</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ModuleTypesInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_module_types_info</span><span class="p">(</span>
            <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span> <span class="n">python_package</span><span class="o">=</span><span class="n">python_package</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_module_type_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ModuleTypeInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve information about a specific module type.</span>

<span class="sd">        This can be used to retrieve information like module documentation and configuration options.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            module_type: the registered name of the module</span>

<span class="sd">        Returns:</span>
<span class="sd">            an object containing all information about a module type</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ModuleTypeInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_module_type_info</span><span class="p">(</span>
            <span class="n">module_type</span><span class="o">=</span><span class="n">module_type</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_operation_ids</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of all operation ids that match the specified filter.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            filter: the (optional) filter string(s), an operation must match all of them to be included in the result</span>
<span class="sd">            input_types: each operation must have at least one input that matches one of the specified types</span>
<span class="sd">            output_types: each operation must have at least one output that matches one of the specified types</span>
<span class="sd">            operation_types: only include operations of the specified type(s)</span>
<span class="sd">            include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">            python_packages: only include operations that are contained in one of the provided python packages</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_operation_ids</span><span class="p">(</span>
            <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
            <span class="n">input_types</span><span class="o">=</span><span class="n">input_types</span><span class="p">,</span>
            <span class="n">output_types</span><span class="o">=</span><span class="n">output_types</span><span class="p">,</span>
            <span class="n">operation_types</span><span class="o">=</span><span class="n">operation_types</span><span class="p">,</span>
            <span class="n">include_internal</span><span class="o">=</span><span class="n">include_internal</span><span class="p">,</span>
            <span class="n">python_packages</span><span class="o">=</span><span class="n">python_packages</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_operation</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Path&quot;</span><span class="p">],</span>
        <span class="n">allow_external</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Operation&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the operation instance with the specified id.</span>

<span class="sd">        The difference to the &#39;create_operation&#39; endpoint is slight, in most cases you could use either of them, but this one is a bit more convenient in most cases, as it tries to do the right thing with whatever &#39;operation&#39; argument you use it. The &#39;create_opearation&#39; endpoint will always create a new &#39;Operation&#39; instance, while this may or may not return a re-used one.</span>

<span class="sd">        This endpoint can be used to get information about a specific operation, like inputs/outputs scheman, documentation, etc.</span>

<span class="sd">        The order in which the operation argument is resolved:</span>
<span class="sd">        - if it&#39;s a string, and an existing, registered operation_id, the associated operation is returned</span>
<span class="sd">        - if it&#39;s a path to an existing file, the content of the file is loaded into a dict and depending on the content a pipeline module will be created, or a &#39;normal&#39; manifest (if module_type is a key in the dict)</span>

<span class="sd">        Arguments:</span>
<span class="sd">            operation: the operation id, module_type_name, path to a file, or url</span>
<span class="sd">            allow_external: if True, allow loading operations from external sources (e.g. a URL), if &#39;None&#39; is provided, the configured value in the runtime configuration is used.</span>

<span class="sd">        Returns:</span>
<span class="sd">            operation instance data</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;Operation&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span>
            <span class="n">operation</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span> <span class="n">allow_external</span><span class="o">=</span><span class="n">allow_external</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_operations</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;OperationsMap&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available operations, optionally filter.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            filter: the (optional) filter string(s), an operation must match all of them to be included in the result</span>
<span class="sd">            input_types: each operation must have at least one input that matches one of the specified types</span>
<span class="sd">            output_types: each operation must have at least one output that matches one of the specified types</span>
<span class="sd">            operation_types: only include operations of the specified type(s)</span>
<span class="sd">            include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">            python_packages: only include operations that are contained in one of the provided python packages</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dictionary with the operation id as key, and [kiara.models.module.operation.Operation] instance data as value</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;OperationsMap&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_operations</span><span class="p">(</span>
            <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
            <span class="n">input_types</span><span class="o">=</span><span class="n">input_types</span><span class="p">,</span>
            <span class="n">output_types</span><span class="o">=</span><span class="n">output_types</span><span class="p">,</span>
            <span class="n">operation_types</span><span class="o">=</span><span class="n">operation_types</span><span class="p">,</span>
            <span class="n">python_packages</span><span class="o">=</span><span class="n">python_packages</span><span class="p">,</span>
            <span class="n">include_internal</span><span class="o">=</span><span class="n">include_internal</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_operation_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">operation</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">allow_external</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;OperationInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the full information for the specified operation id.</span>

<span class="sd">        This is similar to the &#39;get_operation&#39; method, but returns additional information. Only use this instead of</span>
<span class="sd">        &#39;get_operation&#39; if you need the additional info, as it&#39;s more expensive to get.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            operation: the operation id</span>

<span class="sd">        Returns:</span>
<span class="sd">            augmented operation instance data</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;OperationInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_operation_info</span><span class="p">(</span>
            <span class="n">operation</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span> <span class="n">allow_external</span><span class="o">=</span><span class="n">allow_external</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_operations_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="n">filters</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;OperationGroupInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve information about the matching operations.</span>

<span class="sd">        This retrieves the same list of operations as [list_operations][kiara.interfaces.python_api.KiaraAPI.list_operations],</span>
<span class="sd">        but augments each result instance with additional information that might be useful in frontends.</span>

<span class="sd">        &#39;OperationInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [Operation][kiara.models.module.operation.Operation] objects</span>
<span class="sd">        hold, but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">        of the augmented information, just use the [list_operations][kiara.interfaces.python_api.KiaraAPI.list_operations] method</span>
<span class="sd">        instead.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            filters: the (optional) filter strings, an operation must match all of them to be included in the result</span>
<span class="sd">            include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">            input_types: each operation must have at least one input that matches one of the specified types</span>
<span class="sd">            output_types: each operation must have at least one output that matches one of the specified types</span>
<span class="sd">            operation_types: only include operations of the specified type(s)</span>
<span class="sd">            include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">            python_packages: only include operations that are contained in one of the provided python packages</span>
<span class="sd">        Returns:</span>
<span class="sd">            a wrapper object containing a dictionary of items with value_id as key, and [kiara.interfaces.python_api.models.info.OperationInfo] as value</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;OperationGroupInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_operations_info</span><span class="p">(</span>
            <span class="o">*</span><span class="n">filters</span><span class="p">,</span>
            <span class="n">input_types</span><span class="o">=</span><span class="n">input_types</span><span class="p">,</span>
            <span class="n">output_types</span><span class="o">=</span><span class="n">output_types</span><span class="p">,</span>
            <span class="n">operation_types</span><span class="o">=</span><span class="n">operation_types</span><span class="p">,</span>
            <span class="n">python_packages</span><span class="o">=</span><span class="n">python_packages</span><span class="p">,</span>
            <span class="n">include_internal</span><span class="o">=</span><span class="n">include_internal</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_all_value_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all value ids in the current context.</span>

<span class="sd">        This returns everything, even internal values. It should be faster than using</span>
<span class="sd">        `list_value_ids` with equivalent parameters, because no filtering has to happen.</span>

<span class="sd">        Returns:</span>
<span class="sd">            all value_ids in the current context, using every registered store</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_all_value_ids</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_value_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available value ids for this kiara context.</span>

<span class="sd">        By default, this also includes internal values.</span>

<span class="sd">        This method exists mainly so frontends can retrieve a list of all value_ids that exists on the backend without</span>
<span class="sd">        having to look up the details of each value (like [list_values][kiara.interfaces.python_api.KiaraAPI.list_values]</span>
<span class="sd">        does). This method can also be used with a matcher, but in this case the [list_values][kiara.interfaces.python_api.KiaraAPI.list_values]</span>
<span class="sd">        would be preferable in most cases, because it is called under the hood, and the performance advantage of not</span>
<span class="sd">        having to look up value details is gone.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters and defaults</span>

<span class="sd">        Returns:</span>
<span class="sd">            a list of value ids</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_value_ids</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_all_values</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all values in the current context, incl. internal ones.</span>

<span class="sd">        This should be faster than `list_values` with equivalent matcher params, because no</span>
<span class="sd">        filtering has to happen.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_all_values</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available (relevant) values, optionally filter.</span>

<span class="sd">        Retrieve information about all values that are available in the current kiara context session (both stored and non-stored).</span>

<span class="sd">        Check the `ValueMatcher` class for available parameters and defaults, for example this excludes</span>
<span class="sd">        internal values by default.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dictionary with value_id as key, and [kiara.models.values.value.Value] as value</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_values</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Path&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;Value&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve a value instance with the specified id or alias.</span>

<span class="sd">        Basically a convenience method to convert any possible Python type into</span>
<span class="sd">        a &#39;Value&#39; instance. Raises an exception if no value could be found.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            value: a value id, alias or object that has a &#39;value_id&#39; attribute.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the Value instance</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve Value instances for the specified value ids or aliases.</span>

<span class="sd">        This is a convenience method to get fully &#39;hydrated&#39; `Value` objects from references to them.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            values: a dictionary with value ids or aliases as keys, and value instances as values</span>

<span class="sd">        Returns:</span>
<span class="sd">            a mapping with value_id as key, and [kiara.models.values.value.Value] as value</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get_values</span><span class="p">(</span><span class="o">**</span><span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_value_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="s2">&quot;Path&quot;</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve an info object for a value.</span>

<span class="sd">        Companion method to &#39;get_value&#39;, &#39;ValueInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [Value][kiara.models.values.value.Value] objects</span>
<span class="sd">        hold (like resolved properties for example), but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">        of the augmented information, just use the [get_value][kiara.interfaces.python_api.KiaraAPI.get_value] method</span>
<span class="sd">        instead.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            value: a value id, alias or object that has a &#39;value_id&#39; attribute.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the ValueInfo instance</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ValueInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_value_info</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_values_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValuesInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve information about the matching values.</span>

<span class="sd">        This retrieves the same list of values as [list_values][kiara.interfaces.python_api.KiaraAPI.list_values],</span>
<span class="sd">        but augments each result value instance with additional information that might be useful in frontends.</span>

<span class="sd">        &#39;ValueInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [Value][kiara.models.values.value.Value] objects</span>
<span class="sd">        hold (like resolved properties for example), but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">        of the augmented information, just use the [list_values][kiara.interfaces.python_api.KiaraAPI.list_values] method</span>
<span class="sd">        instead.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">        Returns:</span>
<span class="sd">            a wrapper object containing the items as dictionary with value_id as key, and [kiara.interfaces.python_api.models.values.ValueInfo] as value</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ValuesInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_values_info</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_alias_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available alias keys.</span>

<span class="sd">        This method exists mainly so frontend can retrieve a list of all value_ids that exists on the backend without</span>
<span class="sd">        having to look up the details of each value (like [list_aliases][kiara.interfaces.python_api.KiaraAPI.list_aliases]</span>
<span class="sd">        does). This method can also be used with a matcher, but in this case the [list_aliases][kiara.interfaces.python_api.KiaraAPI.list_aliases]</span>
<span class="sd">        would be preferrable in most cases, because it is called under the hood, and the performance advantage of not</span>
<span class="sd">        having to look up value details is gone.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">        Returns:</span>
<span class="sd">            a list of value ids</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_alias_names</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available values that have an alias assigned, optionally filter.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dictionary with value_id as key, and [kiara.models.values.value.Value] as value</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_aliases</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_aliases_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValuesInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve information about the matching values.</span>

<span class="sd">        This retrieves the same list of values as [list_values][kiara.interfaces.python_api.KiaraAPI.list_values],</span>
<span class="sd">        but augments each result value instance with additional information that might be useful in frontends.</span>

<span class="sd">        &#39;ValueInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [Value][kiara.models.values.value.Value] objects</span>
<span class="sd">        hold (like resolved properties for example), but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">        of the augmented information, just use the [get_value][kiara.interfaces.python_api.KiaraAPI.list_aliases] method</span>
<span class="sd">        instead.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dictionary with a value alias as key, and [kiara.interfaces.python_api.models.values.ValueInfo] as value</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ValuesInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_aliases_info</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">store_value</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">],</span>
        <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span>
        <span class="n">allow_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">store_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">set_as_store_default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreValueResult&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Store the specified value in a value store.</span>

<span class="sd">        If you provide values for the &#39;data_store&#39; and/or &#39;alias_store&#39; other than &#39;default&#39;, you need</span>
<span class="sd">        to make sure those stores are registered with the current context. In most cases, the &#39;export&#39; endpoint (to be done) will probably be an easier way to export values, which I suspect will</span>
<span class="sd">        be the main use-case for this endpoint if any of the &#39;store&#39; arguments where needed. Otherwise, this endpoint is useful to persist values for use in later seperate sessions.</span>

<span class="sd">        This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">        &#39;StoreValueResult&#39; instance that is returned to see if the storing was successful.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            value: the value (or a reference to it)</span>
<span class="sd">            alias: (Optional) one or several aliases for the value</span>
<span class="sd">            allow_overwrite: whether to allow overwriting existing aliases</span>
<span class="sd">            store: in case data and alias store names are the same, you can use this, if you specify one or both of the others, this will be overwritten</span>
<span class="sd">            store_related_metadata: whether to store related metadata (comments, etc.) in the same store as the data</span>
<span class="sd">            set_as_store_default: whether to set the specified store as the default store for the value</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;StoreValueResult&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">store_value</span><span class="p">(</span>
            <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
            <span class="n">alias</span><span class="o">=</span><span class="n">alias</span><span class="p">,</span>
            <span class="n">allow_overwrite</span><span class="o">=</span><span class="n">allow_overwrite</span><span class="p">,</span>
            <span class="n">store</span><span class="o">=</span><span class="n">store</span><span class="p">,</span>
            <span class="n">store_related_metadata</span><span class="o">=</span><span class="n">store_related_metadata</span><span class="p">,</span>
            <span class="n">set_as_store_default</span><span class="o">=</span><span class="n">set_as_store_default</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">store_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span>
            <span class="s2">&quot;Value&quot;</span><span class="p">,</span>
            <span class="s2">&quot;UUID&quot;</span><span class="p">,</span>
            <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">]],</span>
            <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">]],</span>
        <span class="p">],</span>
        <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">store_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreValuesResult&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Store multiple values into the (default) kiara value store.</span>

<span class="sd">        Convenience method to store multiple values. In a lot of cases you can be more flexible if you</span>
<span class="sd">        loop over the values on the frontend side, and call the &#39;store_value&#39; method for each value. But this might be meaningfully slower. This method has the potential to be optimized in the future.</span>

<span class="sd">        You have several options to provide the values and aliases you want to store:</span>

<span class="sd">        - as a string, in which case the item will be wrapped in a list (see non-mapping iterable below)</span>

<span class="sd">        - as a (non-mapping) iterable of value items, those can either be:</span>

<span class="sd">          - a value id (as string or uuid)</span>
<span class="sd">          - a value alias (as string)</span>
<span class="sd">          - a value instance</span>

<span class="sd">        If you do that, then the &#39;alias_map&#39; argument can either be:</span>

<span class="sd">          - &#39;False&#39;, in which case no aliases will be registered</span>
<span class="sd">          - &#39;True&#39;, in which case all items in the &#39;values&#39; iterable must be a valid alias, and the alias will be copied without change to the new store</span>
<span class="sd">          - a &#39;string&#39;, in which case all items in the &#39;values&#39; iterable also must be a valid alias, and the alias that will be registered in the new store will use the string value as prefix (e.g. &#39;alias_map&#39; = &#39;experiment1&#39; and &#39;values&#39; = [&#39;a&#39;, &#39;b&#39;] will result in the aliases &#39;experiment1.a&#39; and &#39;experiment1.b&#39;)</span>
<span class="sd">          - a map that uses the stringi-fied uuid of the value that should get one or several aliases as key, and a list of aliases as values</span>

<span class="sd">        You can also use a mapping type (like a dict) for the &#39;values&#39; argument. In this case, the key is a string, and the value can be:</span>

<span class="sd">          - a value id (as string or uuid)</span>
<span class="sd">          - a value alias (as string)</span>
<span class="sd">          - a value instance</span>

<span class="sd">        In this case, the meaning of the &#39;alias_map&#39; is as follows:</span>

<span class="sd">          - &#39;False&#39;: no aliases will be registered</span>
<span class="sd">          - &#39;True&#39;: the key in the &#39;values&#39; argument will be used as alias</span>
<span class="sd">          - a string: all keys from the &#39;values&#39; map will be used as alias, prefixed with the value of &#39;alias_map&#39;</span>
<span class="sd">          - another map, with a string referring to the key in the &#39;values&#39; argument as key, and a list of aliases (strings) as value</span>

<span class="sd">        Sorry, this is all a bit convoluted, but it&#39;s the only way I could think of to make this work for all the requirements I had. In most keases, you&#39;ll only have to use &#39;True&#39; or &#39;False&#39; here, hopefully.</span>

<span class="sd">        This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">        &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            values: an iterable/map of value keys/values</span>
<span class="sd">            alias_map: a map of value keys aliases</span>
<span class="sd">            allow_alias_overwrite: whether to allow overwriting existing aliases</span>
<span class="sd">            store: in case data and alias store names are the same, you can use this, if you specify one or both of the others, this will be overwritten</span>
<span class="sd">            data_store: the registered name (or archive id as string) of the store to write the data</span>
<span class="sd">            alias_store: the registered name (or archive id as string) of the store to persist the alias(es)/value_id mapping</span>

<span class="sd">        Returns:</span>
<span class="sd">            an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;StoreValuesResult&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">store_values</span><span class="p">(</span>
            <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span>
            <span class="n">alias_map</span><span class="o">=</span><span class="n">alias_map</span><span class="p">,</span>
            <span class="n">allow_alias_overwrite</span><span class="o">=</span><span class="n">allow_alias_overwrite</span><span class="p">,</span>
            <span class="n">store</span><span class="o">=</span><span class="n">store</span><span class="p">,</span>
            <span class="n">store_related_metadata</span><span class="o">=</span><span class="n">store_related_metadata</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">source_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Path&quot;</span><span class="p">],</span>
        <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span>
            <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">]],</span>
            <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">]],</span>
        <span class="p">],</span>
        <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">source_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreValuesResult&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Import one or several values from an external kiara archive, along with their aliases (optional).</span>

<span class="sd">        For the &#39;values&#39; &amp; &#39;alias_map&#39; arguments, see the &#39;store_values&#39; endpoint, as they will be forwarded to that endpoint as is,</span>
<span class="sd">        and there are several ways to use them which is information I don&#39;t want to duplicate.</span>

<span class="sd">        If you provide aliases in the &#39;values&#39; parameter, the aliases must be available in the external archive.</span>

<span class="sd">        Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">        This will probably be added later on, let me know if there is demand, then I&#39;ll prioritize.</span>

<span class="sd">        This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">        &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful.</span>

<span class="sd">        # NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            source_archive: the name of the archive to store the values into</span>
<span class="sd">            values: an iterable/map of value keys/values</span>
<span class="sd">            alias_map: a map of value keys aliases</span>
<span class="sd">            allow_alias_overwrite: whether to allow overwriting existing aliases</span>
<span class="sd">            source_registered_name: the name to register the archive under in the context</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;StoreValuesResult&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">import_values</span><span class="p">(</span>
            <span class="n">source_archive</span><span class="o">=</span><span class="n">source_archive</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span>
            <span class="n">alias_map</span><span class="o">=</span><span class="n">alias_map</span><span class="p">,</span>
            <span class="n">allow_alias_overwrite</span><span class="o">=</span><span class="n">allow_alias_overwrite</span><span class="p">,</span>
            <span class="n">source_registered_name</span><span class="o">=</span><span class="n">source_registered_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">target_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Path&quot;</span><span class="p">],</span>
        <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span>
            <span class="s2">&quot;Value&quot;</span><span class="p">,</span>
            <span class="s2">&quot;UUID&quot;</span><span class="p">,</span>
            <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">]],</span>
            <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">]],</span>
        <span class="p">],</span>
        <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">target_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">append</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">target_store_params</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">export_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">additional_archive_metadata</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreValuesResult&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Store one or several values along with (optional) aliases into a kiara archive.</span>

<span class="sd">        For the &#39;values&#39; &amp; &#39;alias_map&#39; arguments, see the &#39;store_values&#39; endpoint, as they will be forwarded to that endpoint as is,</span>
<span class="sd">        and there are several ways to use them which is information I don&#39;t want to duplicate.</span>

<span class="sd">        Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">        This will probably be added later on, let me know if there is demand, then I&#39;ll prioritize.</span>

<span class="sd">        &#39;target_store_params&#39; is used if the archive does not exist yet. The one supported value for the &#39;target_store_params&#39; argument currently is &#39;compression&#39;, which can be one of:</span>

<span class="sd">        - zstd: zstd compression (default) -- fairly fast, and good compression</span>
<span class="sd">        - none: no compression</span>
<span class="sd">        - LZMA: LZMA compression -- very slow, but very good compression</span>
<span class="sd">        - LZ4: LZ4 compression -- very fast, but not as good compression as zstd</span>

<span class="sd">        This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">        &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful.</span>

<span class="sd">        # NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            target_store: the name of the archive to store the values into</span>
<span class="sd">            values: an iterable/map of value keys/values</span>
<span class="sd">            alias_map: a map of value keys aliases</span>
<span class="sd">            allow_alias_overwrite: whether to allow overwriting existing aliases</span>
<span class="sd">            target_registered_name: the name to register the archive under in the context</span>
<span class="sd">            append: whether to append to an existing archive</span>
<span class="sd">            target_store_params: additional parameters to pass to the &#39;create_kiarchive&#39; method if the file does not exist yet</span>
<span class="sd">            export_related_metadata: whether to export related metadata (e.g. job info, comments, ..) to the new archive or not</span>
<span class="sd">            additional_archive_metadata: (optional) additional metadata to add to the archive</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;StoreValuesResult&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">export_values</span><span class="p">(</span>
            <span class="n">target_archive</span><span class="o">=</span><span class="n">target_archive</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span>
            <span class="n">alias_map</span><span class="o">=</span><span class="n">alias_map</span><span class="p">,</span>
            <span class="n">allow_alias_overwrite</span><span class="o">=</span><span class="n">allow_alias_overwrite</span><span class="p">,</span>
            <span class="n">target_registered_name</span><span class="o">=</span><span class="n">target_registered_name</span><span class="p">,</span>
            <span class="n">append</span><span class="o">=</span><span class="n">append</span><span class="p">,</span>
            <span class="n">target_store_params</span><span class="o">=</span><span class="n">target_store_params</span><span class="p">,</span>
            <span class="n">export_related_metadata</span><span class="o">=</span><span class="n">export_related_metadata</span><span class="p">,</span>
            <span class="n">additional_archive_metadata</span><span class="o">=</span><span class="n">additional_archive_metadata</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_archive_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;KiArchive&quot;</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiArchiveInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve information about an archive at the specified local path</span>

<span class="sd">        Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">        This will probably be added later on, let me know if there is demand, then I&#39;ll prioritize.</span>

<span class="sd">        # NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            archive: the uri of the archive (file path)</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [KiarchiveInfo][kiara.interfaces.python_api.models.archive.KiarchiveInfo] instance, containing details about the archive</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;KiArchiveInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_archive_info</span><span class="p">(</span><span class="n">archive</span><span class="o">=</span><span class="n">archive</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export_archive</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">target_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Path&quot;</span><span class="p">],</span>
        <span class="n">target_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">append</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">no_aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">target_store_params</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreValuesResult&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Export all data from the default store in your context into the specfied archive path.</span>

<span class="sd">        The target archives will be registered into the context, either using the provided registered_name, or the name</span>
<span class="sd">        will be auto-determined from the archive metadata.</span>

<span class="sd">        Currently, this only works with an external archive file, not with an archive that is already registered into the context.</span>
<span class="sd">        This will be added later on.</span>

<span class="sd">        Also, currently you can only export all data from the default store, there is no way to select only a sub-set. This will</span>
<span class="sd">        also be supported later on.</span>

<span class="sd">        The one supported value for the &#39;target_store_params&#39; argument currently is &#39;compression&#39;, which can be one of:</span>

<span class="sd">        - zstd: zstd compression (default) -- fairly fast, and good compression</span>
<span class="sd">        - none: no compression</span>
<span class="sd">        - LZMA: LZMA compression -- very slow, but very good compression</span>
<span class="sd">        - LZ4: LZ4 compression -- very fast, but not as good compression as zstd</span>

<span class="sd">        This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">        &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful</span>

<span class="sd">        Arguments:</span>
<span class="sd">            target_archive: the registered_name or uri of the target archive</span>
<span class="sd">            target_registered_name: the name/alias that the archive should be registered in the context (if necessary)</span>
<span class="sd">            append: whether to append to an existing archive or error out if the target already exists</span>
<span class="sd">            no_aliases: whether to skip importing aliases</span>
<span class="sd">            target_store_params: additional parameters to pass to the &#39;create_kiarchive&#39; method if the target file does not exist yet</span>

<span class="sd">        Returns:</span>
<span class="sd">            an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;StoreValuesResult&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">export_archive</span><span class="p">(</span>
            <span class="n">target_archive</span><span class="o">=</span><span class="n">target_archive</span><span class="p">,</span>
            <span class="n">target_registered_name</span><span class="o">=</span><span class="n">target_registered_name</span><span class="p">,</span>
            <span class="n">append</span><span class="o">=</span><span class="n">append</span><span class="p">,</span>
            <span class="n">no_aliases</span><span class="o">=</span><span class="n">no_aliases</span><span class="p">,</span>
            <span class="n">target_store_params</span><span class="o">=</span><span class="n">target_store_params</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_archive</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">source_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Path&quot;</span><span class="p">],</span>
        <span class="n">source_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">no_aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreValuesResult&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Import all data from the specified archive into the current contexts default data &amp; alias store.</span>

<span class="sd">        The source target will be registered into the context, either using the provided registered_name, otherwise the name</span>
<span class="sd">        will be auto-determined from the archive metadata.</span>

<span class="sd">        Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">        This will be added later on.</span>

<span class="sd">        Also, currently you can only import all data into the default store, there is no way to select only a sub-set. This will</span>
<span class="sd">        also be supported later on.</span>

<span class="sd">        This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">        &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful</span>

<span class="sd">        Arguments:</span>
<span class="sd">            source_archive: the registered_name or uri of the source archive</span>
<span class="sd">            source_registered_name: the name/alias that the archive should be registered in the context (if necessary)</span>
<span class="sd">            no_aliases: whether to skip importing aliases</span>

<span class="sd">        Returns:</span>
<span class="sd">            an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;StoreValuesResult&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">import_archive</span><span class="p">(</span>
            <span class="n">source_archive</span><span class="o">=</span><span class="n">source_archive</span><span class="p">,</span>
            <span class="n">source_registered_name</span><span class="o">=</span><span class="n">source_registered_name</span><span class="p">,</span>
            <span class="n">no_aliases</span><span class="o">=</span><span class="n">no_aliases</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_job</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;ActiveJob&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the status of the job with the provided id.&quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ActiveJob&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get_job</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_job_result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the result(s) of the specified job.&quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get_job_result</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_all_job_record_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available job ids in this kiara context, ordered from newest to oldest, including internal jobs.</span>

<span class="sd">        This should be faster than `list_job_record_ids` with equivalent parameters, because no filtering</span>
<span class="sd">        needs to be done.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_all_job_record_ids</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_job_record_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available job ids in this kiara context, ordered from newest to oldest.</span>

<span class="sd">        You can look up the supported matcher parameter arguments via the [JobMatcher][kiara.models.module.jobs.JobMatcher] class. By default, this method for example</span>
<span class="sd">        does not return jobs marked as &#39;internal&#39;.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            matcher_params: additional parameters to pass to the job matcher</span>

<span class="sd">        Returns:</span>
<span class="sd">            a list of job ids, ordered from latest to earliest</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_job_record_ids</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_all_job_records</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;JobRecord&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available job records in this kiara context, ordered from newest to oldest, including internal jobs.</span>

<span class="sd">        This should be faster than `list_job_records` with equivalent parameters, because no filtering</span>
<span class="sd">        needs to be done.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;JobRecord&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_all_job_records</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_job_records</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;JobRecord&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available job ids in this kiara context, ordered from newest to oldest.</span>

<span class="sd">        You can look up the supported matcher parameter arguments via the [JobMatcher][kiara.models.module.jobs.JobMatcher] class. By default, this method for example</span>
<span class="sd">        does not return jobs marked as &#39;internal&#39;.</span>

<span class="sd">        You can look up the supported matcher parameter arguments via the [JobMatcher][kiara.models.module.jobs.JobMatcher] class.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            matcher_params: additional parameters to pass to the job matcher</span>

<span class="sd">        Returns:</span>
<span class="sd">            a list of job details, ordered from latest to earliest</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;JobRecord&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_job_records</span><span class="p">(</span>
            <span class="o">**</span><span class="n">matcher_params</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_job_record</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;JobRecord&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the detailed job record for the specified job id.</span>

<span class="sd">        If no job can be found, &#39;None&#39; is returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;JobRecord&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get_job_record</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_job_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;JobInfo&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the detailed job record for the specified job id.</span>

<span class="sd">        If no job can be found, &#39;None&#39; is returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;JobInfo&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_job_info</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_jobs_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;JobsInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;JobsInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_jobs_info</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<h4 id="kiara.api.KiaraAPI-functions">Functions<a href="#kiara.api.KiaraAPI-functions" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.instance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">instance</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">KiaraAPI</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.KiaraAPI.instance" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve the default KiaraAPI instance.</p>
<p>This is a convenience method to get a singleton KiaraAPI instance. If this is the first time this method is called, it loads the default <em>kiara</em> context. If this is called subsequently, it will return
the same instance, so if you or some-one (or -thing) switched that context, this might not be the case.</p>
<p>So make sure you understand the implications, and if in doubt, it might be safer to create your own <code>KiaraAPI</code> instance manually.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraAPI&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the default KiaraAPI instance.</span>

<span class="sd">    This is a convenience method to get a singleton KiaraAPI instance. If this is the first time this method is called, it loads the default *kiara* context. If this is called subsequently, it will return</span>
<span class="sd">    the same instance, so if you or some-one (or -thing) switched that context, this might not be the case.</span>

<span class="sd">    So make sure you understand the implications, and if in doubt, it might be safer to create your own `KiaraAPI` instance manually.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_default_instance</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_default_instance</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.utils.config</span><span class="w"> </span><span class="kn">import</span> <span class="n">assemble_kiara_config</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">assemble_kiara_config</span><span class="p">()</span>

    <span class="n">api</span> <span class="o">=</span> <span class="n">KiaraAPI</span><span class="p">(</span><span class="n">kiara_config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">_default_instance</span> <span class="o">=</span> <span class="n">api</span>
    <span class="k">return</span> <span class="n">api</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.run_job" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run_job</span><span class="p">(</span><span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="n">Manifest</span><span class="p">,</span> <span class="n">OperationInfo</span><span class="p">,</span> <span class="n">JobDesc</span><span class="p">],</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">comment</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">operation_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span></code>

<a href="#kiara.api.KiaraAPI.run_job" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Run a job from a operation id, module_name (and config), or pipeline file, wait for the job to finish and retrieve the result.</p>
<p>This is a convenience method that auto-detects what is meant by the 'operation' string input argument.</p>
<p>In general, try to avoid this method and use 'queue_job', 'get_job' and 'retrieve_job_result' manually instead,
since this is a blocking operation.</p>
<p>If the 'operation' is a JobDesc instance, and that JobDesc instance has the 'save' attribute
set, it will be ignored, so you'll have to store any results manually.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>operation</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="pathlib.Path">Path</span>, <a class="autorefs autorefs-internal" title="Manifest (kiara.models.module.manifest.Manifest)" href="../models/module/manifest/#kiara.models.module.manifest.Manifest">Manifest</a>, <a class="autorefs autorefs-internal" title="OperationInfo (kiara.interfaces.python_api.models.info.OperationInfo)" href="../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.OperationInfo">OperationInfo</a>, <a class="autorefs autorefs-internal" title="JobDesc (kiara.interfaces.python_api.models.job.JobDesc)" href="../interfaces/python_api/models/job/#kiara.interfaces.python_api.models.job.JobDesc">JobDesc</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a module name, operation id, or a path to a pipeline file (resolved in this order, until a match is found)..</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>inputs</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the operation inputs</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>comment</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a (required) comment to attach to the job</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>operation_config</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) module config in case 'operation' is a module name</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValueMapReadOnly (kiara.models.values.value.ValueMapReadOnly)" href="../models/values/value/#kiara.models.values.value.ValueMapReadOnly">ValueMapReadOnly</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the job result value map</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">run_job</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="s2">&quot;Manifest&quot;</span><span class="p">,</span> <span class="s2">&quot;OperationInfo&quot;</span><span class="p">,</span> <span class="s2">&quot;JobDesc&quot;</span><span class="p">],</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">comment</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">operation_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Run a job from a operation id, module_name (and config), or pipeline file, wait for the job to finish and retrieve the result.</span>

<span class="sd">    This is a convenience method that auto-detects what is meant by the &#39;operation&#39; string input argument.</span>

<span class="sd">    In general, try to avoid this method and use &#39;queue_job&#39;, &#39;get_job&#39; and &#39;retrieve_job_result&#39; manually instead,</span>
<span class="sd">    since this is a blocking operation.</span>

<span class="sd">    If the &#39;operation&#39; is a JobDesc instance, and that JobDesc instance has the &#39;save&#39; attribute</span>
<span class="sd">    set, it will be ignored, so you&#39;ll have to store any results manually.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        operation: a module name, operation id, or a path to a pipeline file (resolved in this order, until a match is found)..</span>
<span class="sd">        inputs: the operation inputs</span>
<span class="sd">        comment: a (required) comment to attach to the job</span>
<span class="sd">        operation_config: the (optional) module config in case &#39;operation&#39; is a module name</span>

<span class="sd">    Returns:</span>
<span class="sd">        the job result value map</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># if not comment and comment != &quot;&quot;:</span>
    <span class="c1">#     from kiara.exceptions import KiaraException</span>
    <span class="c1">#</span>
    <span class="c1">#     raise KiaraException(msg=&quot;Can&#39;t submit job: no comment provided.&quot;)</span>

    <span class="k">if</span> <span class="n">inputs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">inputs</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">run_job</span><span class="p">(</span>
        <span class="n">operation</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span>
        <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
        <span class="n">operation_config</span><span class="o">=</span><span class="n">operation_config</span><span class="p">,</span>
        <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.queue_job" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">queue_job</span><span class="p">(</span><span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="n">Manifest</span><span class="p">,</span> <span class="n">OperationInfo</span><span class="p">,</span> <span class="n">JobDesc</span><span class="p">],</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">comment</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">operation_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span></code>

<a href="#kiara.api.KiaraAPI.queue_job" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Queue a job from a operation id, module_name (and config), or pipeline file, wait for the job to finish and retrieve the result.</p>
<p>This is a convenience method that auto-detects what is meant by the 'operation' string input argument.</p>
<p>If the 'operation' is a JobDesc instance, and that JobDesc instance has the 'save' attribute
set, it will be ignored, so you'll have to store any results manually.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>operation</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="pathlib.Path">Path</span>, <a class="autorefs autorefs-internal" title="Manifest (kiara.models.module.manifest.Manifest)" href="../models/module/manifest/#kiara.models.module.manifest.Manifest">Manifest</a>, <a class="autorefs autorefs-internal" title="OperationInfo (kiara.interfaces.python_api.models.info.OperationInfo)" href="../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.OperationInfo">OperationInfo</a>, <a class="autorefs autorefs-internal" title="JobDesc (kiara.interfaces.python_api.models.job.JobDesc)" href="../interfaces/python_api/models/job/#kiara.interfaces.python_api.models.job.JobDesc">JobDesc</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a module name, operation id, or a path to a pipeline file (resolved in this order, until a match is found)..</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>inputs</code>
            </td>
            <td>
                  <code><span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the operation inputs</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>comment</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a (required) comment to attach to the job</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>operation_config</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) module config in case 'operation' is a module name</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="uuid.UUID">UUID</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the queued job id</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">queue_job</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="s2">&quot;Manifest&quot;</span><span class="p">,</span> <span class="s2">&quot;OperationInfo&quot;</span><span class="p">,</span> <span class="s2">&quot;JobDesc&quot;</span><span class="p">],</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">comment</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">operation_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Queue a job from a operation id, module_name (and config), or pipeline file, wait for the job to finish and retrieve the result.</span>

<span class="sd">    This is a convenience method that auto-detects what is meant by the &#39;operation&#39; string input argument.</span>

<span class="sd">    If the &#39;operation&#39; is a JobDesc instance, and that JobDesc instance has the &#39;save&#39; attribute</span>
<span class="sd">    set, it will be ignored, so you&#39;ll have to store any results manually.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        operation: a module name, operation id, or a path to a pipeline file (resolved in this order, until a match is found)..</span>
<span class="sd">        inputs: the operation inputs</span>
<span class="sd">        comment: a (required) comment to attach to the job</span>
<span class="sd">        operation_config: the (optional) module config in case &#39;operation&#39; is a module name</span>

<span class="sd">    Returns:</span>
<span class="sd">        the queued job id</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">comment</span> <span class="ow">and</span> <span class="n">comment</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">KiaraException</span>

        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Can&#39;t submit job: no comment provided.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">queue_job</span><span class="p">(</span>
        <span class="n">operation</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span>
        <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
        <span class="n">operation_config</span><span class="o">=</span><span class="n">operation_config</span><span class="p">,</span>
        <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.set_job_comment" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_job_comment</span><span class="p">(</span><span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span> <span class="n">comment</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span></code>

<a href="#kiara.api.KiaraAPI.set_job_comment" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Set a comment for the specified job.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>job_id</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the job id</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>comment</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the comment to set</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to overwrite an existing comment</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_job_comment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span> <span class="n">comment</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set a comment for the specified job.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        job_id: the job id</span>
<span class="sd">        comment: the comment to set</span>
<span class="sd">        force: whether to overwrite an existing comment</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">CommentMetadata</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">job_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">job_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">job_id</span><span class="p">)</span>

    <span class="n">comment_metadata</span> <span class="o">=</span> <span class="n">CommentMetadata</span><span class="p">(</span><span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>
    <span class="n">items</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="n">comment_metadata</span><span class="p">}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">register_job_metadata_items</span><span class="p">(</span>
        <span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">items</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.get_job_comment" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_job_comment</span><span class="p">(</span><span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span></code>

<a href="#kiara.api.KiaraAPI.get_job_comment" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve the comment for the specified job.</p>
<p>Returns 'None' if the job_id does not exist, or the job does not have a comment attached to it.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>job_id</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the job id</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the comment as string, or None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_job_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the comment for the specified job.</span>

<span class="sd">    Returns &#39;None&#39; if the job_id does not exist, or the job does not have a comment attached to it.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        job_id: the job id</span>

<span class="sd">    Returns:</span>
<span class="sd">        the comment as string, or None</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">CommentMetadata</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">job_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">job_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">job_id</span><span class="p">)</span>

    <span class="n">metadata</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;KiaraMetadata&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">retrieve_job_metadata_item</span><span class="p">(</span>
            <span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;comment&quot;</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">metadata</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">CommentMetadata</span><span class="p">):</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">KiaraException</span>

        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
            <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Metadata item &#39;comment&#39; for job &#39;</span><span class="si">{</span><span class="n">job_id</span><span class="si">}</span><span class="s2">&#39; is not a comment.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">metadata</span><span class="o">.</span><span class="n">comment</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.retrieve_augmented_value_lineage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_augmented_value_lineage</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span></code>

<a href="#kiara.api.KiaraAPI.retrieve_augmented_value_lineage" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve lineage data for the specified value, augmented with additional metadata.</p>
<p>The format of the returned data is a dictionary with the following keys:</p>
<ul>
<li><code>id</code>: The ID of the node.</li>
<li><code>desc</code>: The description of the node.</li>
<li><code>parentIds</code>: A list of IDs of the parent nodes.</li>
<li><code>info</code>: Additional information about the node, including a preview of the value if it is set.</li>
</ul>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../models/values/value/#kiara.models.values.value.Value">Value</a>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The value to retrieve the lineage data for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="int">int</span>, <span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary containing the augmented lineage data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_augmented_value_lineage</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="s2">&quot;Path&quot;</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve lineage data for the specified value, augmented with additional metadata.</span>

<span class="sd">    The format of the returned data is a dictionary with the following keys:</span>

<span class="sd">    - `id`: The ID of the node.</span>
<span class="sd">    - `desc`: The description of the node.</span>
<span class="sd">    - `parentIds`: A list of IDs of the parent nodes.</span>
<span class="sd">    - `info`: Additional information about the node, including a preview of the value if it is set.</span>

<span class="sd">    Args:</span>
<span class="sd">        value: The value to retrieve the lineage data for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary containing the augmented lineage data.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="n">graph</span> <span class="o">=</span> <span class="n">_value</span><span class="o">.</span><span class="n">lineage</span><span class="o">.</span><span class="n">module_graph</span>

    <span class="n">nodes</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">data</span><span class="p">()</span>
    <span class="n">augmented_nodes</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_info</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
        <span class="c1"># all this is terribly inefficient</span>

        <span class="k">if</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;node_type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;operation&quot;</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">retrieve_module_type_info</span><span class="p">(</span>
                <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;module_type&quot;</span><span class="p">]</span>
            <span class="p">)</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;node_type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span>
            <span class="n">value_id</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">6</span><span class="p">:]</span>

            <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value_id</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                <span class="n">render_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">render_value</span><span class="p">(</span>
                    <span class="n">value</span><span class="o">=</span><span class="n">v</span><span class="p">,</span> <span class="n">target_format</span><span class="o">=</span><span class="s2">&quot;string&quot;</span>
                <span class="p">)</span><span class="o">.</span><span class="n">rendered</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">render_result</span> <span class="o">=</span> <span class="s2">&quot;None&quot;</span>

            <span class="n">result</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;preview&quot;</span><span class="p">:</span> <span class="n">render_result</span><span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown node type: </span><span class="si">{</span><span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nodes</span><span class="p">):</span>
        <span class="n">node_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
            <span class="s2">&quot;desc&quot;</span><span class="p">:</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="s2">&quot;parentIds&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">graph</span><span class="o">.</span><span class="n">predecessors</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">])),</span>
            <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="n">get_info</span><span class="p">(</span><span class="n">node</span><span class="p">),</span>
        <span class="p">}</span>
        <span class="n">augmented_nodes</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">node_dict</span>

    <span class="k">return</span> <span class="n">augmented_nodes</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.print_all_jobs_info_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">print_all_jobs_info_data</span><span class="p">(</span><span class="n">aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">max_char</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">show_inputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">show_outputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

<a href="#kiara.api.KiaraAPI.print_all_jobs_info_data" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Prints a table with all jobs info data.</p>
<p>If max_char &gt; 0, the value previews will be truncated to max_char characters, unless aliases is True, in which case the aliases of a value will be shown (if available).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>max_char</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the maximum number of characters to show for value previews</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>aliases</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to show aliases for values (if max_char is exceeded by preview)</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>show_inputs</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to show the inputs of the jobs</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>show_outputs</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to show the outputs of the jobs</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">print_all_jobs_info_data</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">max_char</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">show_inputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">show_outputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prints a table with all jobs info data.</span>

<span class="sd">    If max_char &gt; 0, the value previews will be truncated to max_char characters, unless aliases is True, in which case the aliases of a value will be shown (if available).</span>

<span class="sd">    Arguments:</span>
<span class="sd">        max_char: the maximum number of characters to show for value previews</span>
<span class="sd">        aliases: whether to show aliases for values (if max_char is exceeded by preview)</span>
<span class="sd">        show_inputs: whether to show the inputs of the jobs</span>
<span class="sd">        show_outputs: whether to show the outputs of the jobs</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">rich.table</span><span class="w"> </span><span class="kn">import</span> <span class="n">Table</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.utils.cli</span><span class="w"> </span><span class="kn">import</span> <span class="n">terminal_print</span>

    <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_jobs_info_data</span><span class="p">(</span>
        <span class="n">aliases</span><span class="o">=</span><span class="n">aliases</span><span class="p">,</span>
        <span class="n">max_char</span><span class="o">=</span><span class="n">max_char</span><span class="p">,</span>
        <span class="n">add_inputs_preview</span><span class="o">=</span><span class="n">show_inputs</span><span class="p">,</span>
        <span class="n">add_outputs_preview</span><span class="o">=</span><span class="n">show_outputs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Module name&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Comment&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Time submitted&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Runtime&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">show_inputs</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Inputs&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">show_outputs</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Outputs&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">row_data</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
        <span class="n">row</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">row_data</span><span class="p">[</span><span class="s2">&quot;module_name&quot;</span><span class="p">],</span>
            <span class="n">row_data</span><span class="p">[</span><span class="s2">&quot;comment&quot;</span><span class="p">],</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">row_data</span><span class="p">[</span><span class="s2">&quot;time_submitted&quot;</span><span class="p">]),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">row_data</span><span class="p">[</span><span class="s2">&quot;runtime&quot;</span><span class="p">]),</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="n">show_inputs</span><span class="p">:</span>
            <span class="n">inputs</span> <span class="o">=</span> <span class="n">row_data</span><span class="p">[</span><span class="s2">&quot;inputs&quot;</span><span class="p">]</span>
            <span class="n">inputs_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
                <span class="n">show_lines</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span>
            <span class="n">inputs_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Field&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
            <span class="n">inputs_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">input_name</span><span class="p">,</span> <span class="n">input_value</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">inputs_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">input_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">input_value</span><span class="p">))</span>

            <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">inputs_table</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">show_outputs</span><span class="p">:</span>
            <span class="n">outputs</span> <span class="o">=</span> <span class="n">row_data</span><span class="p">[</span><span class="s2">&quot;outputs&quot;</span><span class="p">]</span>
            <span class="n">outputs_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
                <span class="n">show_lines</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span>
            <span class="n">outputs_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Field&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
            <span class="n">outputs_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">output_name</span><span class="p">,</span> <span class="n">output_value</span> <span class="ow">in</span> <span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">outputs_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">output_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">output_value</span><span class="p">))</span>
            <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">outputs_table</span><span class="p">)</span>

        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">)</span>

    <span class="n">terminal_print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.get_all_jobs_info_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_jobs_info_data</span><span class="p">(</span><span class="n">aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">max_char</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">add_inputs_preview</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">add_outputs_preview</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span></code>

<a href="#kiara.api.KiaraAPI.get_all_jobs_info_data" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve all job info as a list of dicts.</p>
<p>If max_char &gt; 0, the value previews will be truncated to max_char characters, unless aliases is True, in which case the aliases of a value will be shown (if available).</p>
<p>The result list items are dicts with the following keys:</p>
<ul>
<li>job_id: the job id</li>
<li>module_name: the module name</li>
<li>module_config: the module config that was used (if applicable, otherwise this key will not be present)</li>
<li>time_submitted: the time the job was submitted</li>
<li>runtime: the runtime of the job</li>
<li>comment: the comment for the job</li>
<li>inputs: a dict of input field names and values (when 'add_inputs_preview' is set)</li>
<li>outputs: a dict of output field names and values (when 'add_outputs_preview' is set)</li>
</ul>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>max_char</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the maximum number of characters to show for value previews</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>aliases</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to show aliases for values (if max_char is exceeded by preview)</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>add_inputs_preview</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to add preview data for input fields</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>add_outputs_preview</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to add preview data for output fields</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_jobs_info_data</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">max_char</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">add_inputs_preview</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">add_outputs_preview</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve all job info as a list of dicts.</span>

<span class="sd">    If max_char &gt; 0, the value previews will be truncated to max_char characters, unless aliases is True, in which case the aliases of a value will be shown (if available).</span>

<span class="sd">    The result list items are dicts with the following keys:</span>

<span class="sd">    - job_id: the job id</span>
<span class="sd">    - module_name: the module name</span>
<span class="sd">    - module_config: the module config that was used (if applicable, otherwise this key will not be present)</span>
<span class="sd">    - time_submitted: the time the job was submitted</span>
<span class="sd">    - runtime: the runtime of the job</span>
<span class="sd">    - comment: the comment for the job</span>
<span class="sd">    - inputs: a dict of input field names and values (when &#39;add_inputs_preview&#39; is set)</span>
<span class="sd">    - outputs: a dict of output field names and values (when &#39;add_outputs_preview&#39; is set)</span>

<span class="sd">    Arguments:</span>
<span class="sd">        max_char: the maximum number of characters to show for value previews</span>
<span class="sd">        aliases: whether to show aliases for values (if max_char is exceeded by preview)</span>
<span class="sd">        add_inputs_preview: whether to add preview data for input fields</span>
<span class="sd">        add_outputs_preview: whether to add preview data for output fields</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">job_infos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">retrieve_jobs_info</span><span class="p">(</span><span class="n">allow_internal</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_value_str</span><span class="p">(</span><span class="n">value_info</span><span class="p">:</span> <span class="s2">&quot;ValueInfo&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">value_info</span><span class="o">.</span><span class="n">_value</span><span class="p">:</span>
            <span class="n">value_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value_info</span><span class="o">.</span><span class="n">value_id</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">value_obj</span> <span class="o">=</span> <span class="n">value_info</span><span class="o">.</span><span class="n">_value</span>

        <span class="k">if</span> <span class="n">value_obj</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
            <span class="n">rendered</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">render_value</span><span class="p">(</span>
                <span class="n">value</span><span class="o">=</span><span class="n">value_obj</span><span class="p">,</span> <span class="n">target_format</span><span class="o">=</span><span class="s2">&quot;string&quot;</span>
            <span class="p">)</span><span class="o">.</span><span class="n">rendered</span>  <span class="c1"># type: ignore</span>

            <span class="k">if</span> <span class="n">max_char</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">rendered</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">max_char</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">rendered</span>

            <span class="k">if</span> <span class="n">aliases</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">value_aliases</span> <span class="o">=</span> <span class="n">value_info</span><span class="o">.</span><span class="n">aliases</span>
                <span class="k">if</span> <span class="n">value_aliases</span><span class="p">:</span>
                    <span class="n">value_aliases_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">value_aliases</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">value_aliases_str</span>

            <span class="c1"># means no aliases</span>
            <span class="k">if</span> <span class="n">max_char</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">rendered</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">max_char</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;...&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">rendered</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value_obj</span><span class="o">.</span><span class="n">value_status</span><span class="o">.</span><span class="n">value</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">job_id</span><span class="p">,</span> <span class="n">job_info</span> <span class="ow">in</span> <span class="n">job_infos</span><span class="o">.</span><span class="n">item_infos</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">module_name</span> <span class="o">=</span> <span class="n">job_info</span><span class="o">.</span><span class="n">job_record</span><span class="o">.</span><span class="n">module_type</span>
        <span class="n">module_config</span> <span class="o">=</span> <span class="n">job_info</span><span class="o">.</span><span class="n">job_record</span><span class="o">.</span><span class="n">module_config</span>
        <span class="n">comment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_job_comment</span><span class="p">(</span><span class="n">job_info</span><span class="o">.</span><span class="n">job_record</span><span class="o">.</span><span class="n">job_id</span><span class="p">)</span>
        <span class="n">time_submitted</span> <span class="o">=</span> <span class="n">job_info</span><span class="o">.</span><span class="n">job_record</span><span class="o">.</span><span class="n">job_submitted</span>
        <span class="n">runtime_details</span> <span class="o">=</span> <span class="n">job_info</span><span class="o">.</span><span class="n">job_record</span><span class="o">.</span><span class="n">runtime_details</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">runtime_details</span><span class="p">:</span>
            <span class="n">runtime</span> <span class="o">=</span> <span class="s2">&quot;n/a&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">runtime</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">runtime_details</span><span class="o">.</span><span class="n">runtime</span><span class="p">)</span>

        <span class="n">inputs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">add_inputs_preview</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">value_info</span> <span class="ow">in</span> <span class="n">job_info</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">value_str</span> <span class="o">=</span> <span class="n">get_value_str</span><span class="p">(</span><span class="n">value_info</span><span class="p">)</span>
                <span class="n">inputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_str</span>
        <span class="n">outputs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">add_outputs_preview</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">value_info</span> <span class="ow">in</span> <span class="n">job_info</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">value_str</span> <span class="o">=</span> <span class="n">get_value_str</span><span class="p">(</span><span class="n">value_info</span><span class="p">)</span>
                <span class="n">outputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_str</span>

        <span class="n">result_item</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;job_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">job_id</span><span class="p">),</span>
            <span class="s2">&quot;module_name&quot;</span><span class="p">:</span> <span class="n">module_name</span><span class="p">,</span>
            <span class="s2">&quot;time_submitted&quot;</span><span class="p">:</span> <span class="n">time_submitted</span><span class="p">,</span>
            <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="n">comment</span><span class="p">,</span>
            <span class="s2">&quot;runtime&quot;</span><span class="p">:</span> <span class="n">runtime</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">add_inputs_preview</span><span class="p">:</span>
            <span class="n">result_item</span><span class="p">[</span><span class="s2">&quot;inputs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">inputs</span>
        <span class="k">if</span> <span class="n">add_outputs_preview</span><span class="p">:</span>
            <span class="n">result_item</span><span class="p">[</span><span class="s2">&quot;outputs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">outputs</span>

        <span class="k">if</span> <span class="n">module_config</span><span class="p">:</span>
            <span class="n">result_item</span><span class="p">[</span><span class="s2">&quot;module_config&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">module_config</span>

        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result_item</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;time_submitted&quot;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.list_available_plugin_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_available_plugin_names</span><span class="p">(</span><span class="n">regex</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;^kiara[-_]plugin</span><span class="se">\\</span><span class="s1">..*&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.api.KiaraAPI.list_available_plugin_names" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get a list of all available plugins.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>regex</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an optional regex to indicate the plugin naming scheme (default: /$kiara[_-]plugin..*/)</p>
              </div>
            </td>
            <td>
                  <code>&#39;^kiara[-_]plugin\\..*&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of plugin names</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_available_plugin_names</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">regex</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^kiara[-_]plugin\..*&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Get a list of all available plugins.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        regex: an optional regex to indicate the plugin naming scheme (default: /$kiara[_-]plugin\..*/)</span>

<span class="sd">    Returns:</span>
<span class="sd">        a list of plugin names</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_available_plugin_names</span><span class="p">(</span><span class="n">regex</span><span class="o">=</span><span class="n">regex</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.retrieve_plugin_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_plugin_info</span><span class="p">(</span><span class="n">plugin_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraPluginInfo</span></code>

<a href="#kiara.api.KiaraAPI.retrieve_plugin_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get information about a plugin.</p>
<p>This contains information about included data-types, modules, operations, pipelines, as well as metadata
about author(s), etc.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>plugin_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name of the plugin</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="KiaraPluginInfo (kiara.interfaces.python_api.models.info.KiaraPluginInfo)" href="../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.KiaraPluginInfo">KiaraPluginInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary with information about the plugin</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_plugin_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraPluginInfo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get information about a plugin.</span>

<span class="sd">    This contains information about included data-types, modules, operations, pipelines, as well as metadata</span>
<span class="sd">    about author(s), etc.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        plugin_name: the name of the plugin</span>

<span class="sd">    Returns:</span>
<span class="sd">        a dictionary with information about the plugin</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;KiaraPluginInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_plugin_info</span><span class="p">(</span>
        <span class="n">plugin_name</span><span class="o">=</span><span class="n">plugin_name</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.retrieve_plugin_infos" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_plugin_infos</span><span class="p">(</span><span class="n">plugin_name_regex</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;^kiara[-_]plugin</span><span class="se">\\</span><span class="s1">..*&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraPluginInfos</span></code>

<a href="#kiara.api.KiaraAPI.retrieve_plugin_infos" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get information about multiple plugins.</p>
<p>This is just a convenience method to get information about multiple plugins at once.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_plugin_infos</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">plugin_name_regex</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^kiara[-_]plugin\..*&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraPluginInfos&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get information about multiple plugins.</span>

<span class="sd">    This is just a convenience method to get information about multiple plugins at once.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;KiaraPluginInfos&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_plugin_infos</span><span class="p">(</span>
        <span class="n">plugin_name_regex</span><span class="o">=</span><span class="n">plugin_name_regex</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.get_context_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_context_info</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">ContextInfo</span></code>

<a href="#kiara.api.KiaraAPI.get_context_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about the current kiara context.</p>
<p>This contains information about the context, like its name/alias, the values &amp; aliases it contains, and which archives are connected to it.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_context_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ContextInfo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve information about the current kiara context.</span>

<span class="sd">    This contains information about the context, like its name/alias, the values &amp; aliases it contains, and which archives are connected to it.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ContextInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get_context_info</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.list_context_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_context_names</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.api.KiaraAPI.list_context_names" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>list the names of all available/registered contexts.</p>
<p>NOTE: this functionality might be changed in the future, depending on requirements and feedback and
whether we want to support single-file contexts in the future.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_context_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;list the names of all available/registered contexts.</span>

<span class="sd">    NOTE: this functionality might be changed in the future, depending on requirements and feedback and</span>
<span class="sd">    whether we want to support single-file contexts in the future.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_context_names</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.retrieve_context_infos" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_context_infos</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">ContextInfos</span></code>

<a href="#kiara.api.KiaraAPI.retrieve_context_infos" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about the available/registered contexts.</p>
<p>NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_context_infos</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ContextInfos&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve information about the available/registered contexts.</span>

<span class="sd">    NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ContextInfos&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_context_infos</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.get_current_context_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_current_context_name</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

<a href="#kiara.api.KiaraAPI.get_current_context_name" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve the name of the current context.</p>
<p>NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_current_context_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the name of the current context.</span>

<span class="sd">    NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get_current_context_name</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.set_active_context" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_active_context</span><span class="p">(</span><span class="n">context_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">create</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span></code>

<a href="#kiara.api.KiaraAPI.set_active_context" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Set the currently active context for this KiarAPI instance.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>context_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name of the context to set as active</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>create</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True, create the context if it doesn't exist</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_active_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">create</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set the currently active context for this KiarAPI instance.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        context_name: the name of the context to set as active</span>
<span class="sd">        create: if True, create the context if it doesn&#39;t exist</span>

<span class="sd">    NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">set_active_context</span><span class="p">(</span><span class="n">context_name</span><span class="o">=</span><span class="n">context_name</span><span class="p">,</span> <span class="n">create</span><span class="o">=</span><span class="n">create</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.list_data_type_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_data_type_names</span><span class="p">(</span><span class="n">include_profiles</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.api.KiaraAPI.list_data_type_names" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get a list of all registered data types.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>include_profiles</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True, also include the names of all registered data type profiles</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_data_type_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_profiles</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a list of all registered data types.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        include_profiles: if True, also include the names of all registered data type profiles</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_data_type_names</span><span class="p">(</span>
        <span class="n">include_profiles</span><span class="o">=</span><span class="n">include_profiles</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.retrieve_data_types_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_data_types_info</span><span class="p">(</span><span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">include_data_type_profiles</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">python_package</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataTypeClassesInfo</span></code>

<a href="#kiara.api.KiaraAPI.retrieve_data_types_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about all data types.</p>
<p>A data type is a Python class that inherits from [DataType[kiara.data_types.DataType], and it wraps a specific
Python class that holds the actual data and provides metadata and convenience methods for managing the data internally. Data types are not directly used by users, but they are exposed in the input/output schemas of moudles and other data-related features.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filter</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an optional string or (list of strings) the returned datatype ids have to match (all filters in the case of a list)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_data_type_profiles</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True, also include the names of all registered data type profiles</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>python_package</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if provided, only return data types that are defined in the given python package</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="DataTypeClassesInfo (kiara.interfaces.python_api.models.info.DataTypeClassesInfo)" href="../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.DataTypeClassesInfo">DataTypeClassesInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an object containing all information about all data types</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_data_types_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include_data_type_profiles</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">python_package</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;DataTypeClassesInfo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve information about all data types.</span>

<span class="sd">    A data type is a Python class that inherits from [DataType[kiara.data_types.DataType], and it wraps a specific</span>
<span class="sd">    Python class that holds the actual data and provides metadata and convenience methods for managing the data internally. Data types are not directly used by users, but they are exposed in the input/output schemas of moudles and other data-related features.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        filter: an optional string or (list of strings) the returned datatype ids have to match (all filters in the case of a list)</span>
<span class="sd">        include_data_type_profiles: if True, also include the names of all registered data type profiles</span>
<span class="sd">        python_package: if provided, only return data types that are defined in the given python package</span>

<span class="sd">    Returns:</span>
<span class="sd">        an object containing all information about all data types</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;DataTypeClassesInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_data_types_info</span><span class="p">(</span>
        <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
        <span class="n">include_data_type_profiles</span><span class="o">=</span><span class="n">include_data_type_profiles</span><span class="p">,</span>
        <span class="n">python_package</span><span class="o">=</span><span class="n">python_package</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.retrieve_data_type_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_data_type_info</span><span class="p">(</span><span class="n">data_type_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataTypeClassInfo</span></code>

<a href="#kiara.api.KiaraAPI.retrieve_data_type_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about a specific data type.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data_type</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the registered name of the data type</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="DataTypeClassInfo (kiara.interfaces.python_api.models.info.DataTypeClassInfo)" href="../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.DataTypeClassInfo">DataTypeClassInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an object containing all information about a data type</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_data_type_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;DataTypeClassInfo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve information about a specific data type.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data_type: the registered name of the data type</span>

<span class="sd">    Returns:</span>
<span class="sd">        an object containing all information about a data type</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;DataTypeClassInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_data_type_info</span><span class="p">(</span>
        <span class="n">data_type_name</span><span class="o">=</span><span class="n">data_type_name</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.list_module_type_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_module_type_names</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.api.KiaraAPI.list_module_type_names" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get a list of all registered module types.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_module_type_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a list of all registered module types.&quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_module_type_names</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.retrieve_module_types_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_module_types_info</span><span class="p">(</span><span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">python_package</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModuleTypesInfo</span></code>

<a href="#kiara.api.KiaraAPI.retrieve_module_types_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information for all available module types (or a filtered subset thereof).</p>
<p>A module type is Python class that inherits from <a class="autorefs autorefs-internal" href="../modules/__init__/#kiara.modules.KiaraModule">KiaraModule</a>, and is the basic
building block for processing pipelines. Module types are not used directly by users, Operations are. Operations
 are instantiated modules (meaning: the module &amp; some (optional) configuration).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filter</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an optional string (or list of string) the returned module names have to match (all filters in case of list)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>python_package</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an optional string, if provided, only modules from the specified python package are returned</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ModuleTypesInfo (kiara.interfaces.python_api.models.info.ModuleTypesInfo)" href="../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.ModuleTypesInfo">ModuleTypesInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a mapping object containing module names as keys, and information about the modules as values</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_module_types_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">python_package</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ModuleTypesInfo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve information for all available module types (or a filtered subset thereof).</span>

<span class="sd">    A module type is Python class that inherits from [KiaraModule][kiara.modules.KiaraModule], and is the basic</span>
<span class="sd">    building block for processing pipelines. Module types are not used directly by users, Operations are. Operations</span>
<span class="sd">     are instantiated modules (meaning: the module &amp; some (optional) configuration).</span>

<span class="sd">    Arguments:</span>
<span class="sd">        filter: an optional string (or list of string) the returned module names have to match (all filters in case of list)</span>
<span class="sd">        python_package: an optional string, if provided, only modules from the specified python package are returned</span>

<span class="sd">    Returns:</span>
<span class="sd">        a mapping object containing module names as keys, and information about the modules as values</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ModuleTypesInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_module_types_info</span><span class="p">(</span>
        <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span> <span class="n">python_package</span><span class="o">=</span><span class="n">python_package</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.retrieve_module_type_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_module_type_info</span><span class="p">(</span><span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModuleTypeInfo</span></code>

<a href="#kiara.api.KiaraAPI.retrieve_module_type_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about a specific module type.</p>
<p>This can be used to retrieve information like module documentation and configuration options.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>module_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the registered name of the module</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ModuleTypeInfo (kiara.interfaces.python_api.models.info.ModuleTypeInfo)" href="../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.ModuleTypeInfo">ModuleTypeInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an object containing all information about a module type</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_module_type_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ModuleTypeInfo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve information about a specific module type.</span>

<span class="sd">    This can be used to retrieve information like module documentation and configuration options.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        module_type: the registered name of the module</span>

<span class="sd">    Returns:</span>
<span class="sd">        an object containing all information about a module type</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ModuleTypeInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_module_type_info</span><span class="p">(</span>
        <span class="n">module_type</span><span class="o">=</span><span class="n">module_type</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.list_operation_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_operation_ids</span><span class="p">(</span><span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.api.KiaraAPI.list_operation_ids" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get a list of all operation ids that match the specified filter.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filter</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter string(s), an operation must match all of them to be included in the result</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>each operation must have at least one input that matches one of the specified types</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>each operation must have at least one output that matches one of the specified types</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>operation_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>only include operations of the specified type(s)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_internal</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to include operations that are predominantly used internally in kiara.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>python_packages</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>only include operations that are contained in one of the provided python packages</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_operation_ids</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a list of all operation ids that match the specified filter.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        filter: the (optional) filter string(s), an operation must match all of them to be included in the result</span>
<span class="sd">        input_types: each operation must have at least one input that matches one of the specified types</span>
<span class="sd">        output_types: each operation must have at least one output that matches one of the specified types</span>
<span class="sd">        operation_types: only include operations of the specified type(s)</span>
<span class="sd">        include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">        python_packages: only include operations that are contained in one of the provided python packages</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_operation_ids</span><span class="p">(</span>
        <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
        <span class="n">input_types</span><span class="o">=</span><span class="n">input_types</span><span class="p">,</span>
        <span class="n">output_types</span><span class="o">=</span><span class="n">output_types</span><span class="p">,</span>
        <span class="n">operation_types</span><span class="o">=</span><span class="n">operation_types</span><span class="p">,</span>
        <span class="n">include_internal</span><span class="o">=</span><span class="n">include_internal</span><span class="p">,</span>
        <span class="n">python_packages</span><span class="o">=</span><span class="n">python_packages</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.get_operation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_operation</span><span class="p">(</span><span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="n">allow_external</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Operation</span></code>

<a href="#kiara.api.KiaraAPI.get_operation" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Return the operation instance with the specified id.</p>
<p>The difference to the 'create_operation' endpoint is slight, in most cases you could use either of them, but this one is a bit more convenient in most cases, as it tries to do the right thing with whatever 'operation' argument you use it. The 'create_opearation' endpoint will always create a new 'Operation' instance, while this may or may not return a re-used one.</p>
<p>This endpoint can be used to get information about a specific operation, like inputs/outputs scheman, documentation, etc.</p>
<p>The order in which the operation argument is resolved:
- if it's a string, and an existing, registered operation_id, the associated operation is returned
- if it's a path to an existing file, the content of the file is loaded into a dict and depending on the content a pipeline module will be created, or a 'normal' manifest (if module_type is a key in the dict)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>operation</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>], <span title="str">str</span>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the operation id, module_type_name, path to a file, or url</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>allow_external</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="bool">bool</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True, allow loading operations from external sources (e.g. a URL), if 'None' is provided, the configured value in the runtime configuration is used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="Operation (kiara.models.module.operation.Operation)" href="../models/module/operation/#kiara.models.module.operation.Operation">Operation</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>operation instance data</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_operation</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Path&quot;</span><span class="p">],</span>
    <span class="n">allow_external</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Operation&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the operation instance with the specified id.</span>

<span class="sd">    The difference to the &#39;create_operation&#39; endpoint is slight, in most cases you could use either of them, but this one is a bit more convenient in most cases, as it tries to do the right thing with whatever &#39;operation&#39; argument you use it. The &#39;create_opearation&#39; endpoint will always create a new &#39;Operation&#39; instance, while this may or may not return a re-used one.</span>

<span class="sd">    This endpoint can be used to get information about a specific operation, like inputs/outputs scheman, documentation, etc.</span>

<span class="sd">    The order in which the operation argument is resolved:</span>
<span class="sd">    - if it&#39;s a string, and an existing, registered operation_id, the associated operation is returned</span>
<span class="sd">    - if it&#39;s a path to an existing file, the content of the file is loaded into a dict and depending on the content a pipeline module will be created, or a &#39;normal&#39; manifest (if module_type is a key in the dict)</span>

<span class="sd">    Arguments:</span>
<span class="sd">        operation: the operation id, module_type_name, path to a file, or url</span>
<span class="sd">        allow_external: if True, allow loading operations from external sources (e.g. a URL), if &#39;None&#39; is provided, the configured value in the runtime configuration is used.</span>

<span class="sd">    Returns:</span>
<span class="sd">        operation instance data</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;Operation&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span>
        <span class="n">operation</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span> <span class="n">allow_external</span><span class="o">=</span><span class="n">allow_external</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.list_operations" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_operations</span><span class="p">(</span><span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationsMap</span></code>

<a href="#kiara.api.KiaraAPI.list_operations" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available operations, optionally filter.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filter</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter string(s), an operation must match all of them to be included in the result</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>each operation must have at least one input that matches one of the specified types</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>each operation must have at least one output that matches one of the specified types</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>operation_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>only include operations of the specified type(s)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_internal</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to include operations that are predominantly used internally in kiara.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>python_packages</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>only include operations that are contained in one of the provided python packages</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="OperationsMap (kiara.interfaces.python_api.models.doc.OperationsMap)" href="../interfaces/python_api/models/doc/#kiara.interfaces.python_api.models.doc.OperationsMap">OperationsMap</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary with the operation id as key, and [kiara.models.module.operation.Operation] instance data as value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_operations</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;OperationsMap&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available operations, optionally filter.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        filter: the (optional) filter string(s), an operation must match all of them to be included in the result</span>
<span class="sd">        input_types: each operation must have at least one input that matches one of the specified types</span>
<span class="sd">        output_types: each operation must have at least one output that matches one of the specified types</span>
<span class="sd">        operation_types: only include operations of the specified type(s)</span>
<span class="sd">        include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">        python_packages: only include operations that are contained in one of the provided python packages</span>

<span class="sd">    Returns:</span>
<span class="sd">        a dictionary with the operation id as key, and [kiara.models.module.operation.Operation] instance data as value</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;OperationsMap&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_operations</span><span class="p">(</span>
        <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
        <span class="n">input_types</span><span class="o">=</span><span class="n">input_types</span><span class="p">,</span>
        <span class="n">output_types</span><span class="o">=</span><span class="n">output_types</span><span class="p">,</span>
        <span class="n">operation_types</span><span class="o">=</span><span class="n">operation_types</span><span class="p">,</span>
        <span class="n">python_packages</span><span class="o">=</span><span class="n">python_packages</span><span class="p">,</span>
        <span class="n">include_internal</span><span class="o">=</span><span class="n">include_internal</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.retrieve_operation_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_operation_info</span><span class="p">(</span><span class="n">operation</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">allow_external</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationInfo</span></code>

<a href="#kiara.api.KiaraAPI.retrieve_operation_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Return the full information for the specified operation id.</p>
<p>This is similar to the 'get_operation' method, but returns additional information. Only use this instead of
'get_operation' if you need the additional info, as it's more expensive to get.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>operation</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the operation id</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="OperationInfo (kiara.interfaces.python_api.models.info.OperationInfo)" href="../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.OperationInfo">OperationInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>augmented operation instance data</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_operation_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">operation</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">allow_external</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;OperationInfo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the full information for the specified operation id.</span>

<span class="sd">    This is similar to the &#39;get_operation&#39; method, but returns additional information. Only use this instead of</span>
<span class="sd">    &#39;get_operation&#39; if you need the additional info, as it&#39;s more expensive to get.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        operation: the operation id</span>

<span class="sd">    Returns:</span>
<span class="sd">        augmented operation instance data</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;OperationInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_operation_info</span><span class="p">(</span>
        <span class="n">operation</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span> <span class="n">allow_external</span><span class="o">=</span><span class="n">allow_external</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.retrieve_operations_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_operations_info</span><span class="p">(</span><span class="o">*</span><span class="n">filters</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationGroupInfo</span></code>

<a href="#kiara.api.KiaraAPI.retrieve_operations_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about the matching operations.</p>
<p>This retrieves the same list of operations as [list_operations][kiara.interfaces.python_api.KiaraAPI.list_operations],
but augments each result instance with additional information that might be useful in frontends.</p>
<p>'OperationInfo' objects contains augmented information on top of what 'normal' <a class="autorefs autorefs-internal" href="../models/module/operation/#kiara.models.module.operation.Operation">Operation</a> objects
hold, but they can take longer to create/resolve. If you don't need any
of the augmented information, just use the [list_operations][kiara.interfaces.python_api.KiaraAPI.list_operations] method
instead.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filters</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter strings, an operation must match all of them to be included in the result</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_internal</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to include operations that are predominantly used internally in kiara.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>each operation must have at least one input that matches one of the specified types</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>each operation must have at least one output that matches one of the specified types</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>operation_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>only include operations of the specified type(s)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_internal</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to include operations that are predominantly used internally in kiara.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>python_packages</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>only include operations that are contained in one of the provided python packages</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    a wrapper object containing a dictionary of items with value_id as key, and [kiara.interfaces.python_api.models.info.OperationInfo] as value</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_operations_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="n">filters</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;OperationGroupInfo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve information about the matching operations.</span>

<span class="sd">    This retrieves the same list of operations as [list_operations][kiara.interfaces.python_api.KiaraAPI.list_operations],</span>
<span class="sd">    but augments each result instance with additional information that might be useful in frontends.</span>

<span class="sd">    &#39;OperationInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [Operation][kiara.models.module.operation.Operation] objects</span>
<span class="sd">    hold, but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">    of the augmented information, just use the [list_operations][kiara.interfaces.python_api.KiaraAPI.list_operations] method</span>
<span class="sd">    instead.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        filters: the (optional) filter strings, an operation must match all of them to be included in the result</span>
<span class="sd">        include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">        input_types: each operation must have at least one input that matches one of the specified types</span>
<span class="sd">        output_types: each operation must have at least one output that matches one of the specified types</span>
<span class="sd">        operation_types: only include operations of the specified type(s)</span>
<span class="sd">        include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">        python_packages: only include operations that are contained in one of the provided python packages</span>
<span class="sd">    Returns:</span>
<span class="sd">        a wrapper object containing a dictionary of items with value_id as key, and [kiara.interfaces.python_api.models.info.OperationInfo] as value</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;OperationGroupInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_operations_info</span><span class="p">(</span>
        <span class="o">*</span><span class="n">filters</span><span class="p">,</span>
        <span class="n">input_types</span><span class="o">=</span><span class="n">input_types</span><span class="p">,</span>
        <span class="n">output_types</span><span class="o">=</span><span class="n">output_types</span><span class="p">,</span>
        <span class="n">operation_types</span><span class="o">=</span><span class="n">operation_types</span><span class="p">,</span>
        <span class="n">python_packages</span><span class="o">=</span><span class="n">python_packages</span><span class="p">,</span>
        <span class="n">include_internal</span><span class="o">=</span><span class="n">include_internal</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.list_all_value_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_all_value_ids</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span></code>

<a href="#kiara.api.KiaraAPI.list_all_value_ids" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all value ids in the current context.</p>
<p>This returns everything, even internal values. It should be faster than using
<code>list_value_ids</code> with equivalent parameters, because no filtering has to happen.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>all value_ids in the current context, using every registered store</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_all_value_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all value ids in the current context.</span>

<span class="sd">    This returns everything, even internal values. It should be faster than using</span>
<span class="sd">    `list_value_ids` with equivalent parameters, because no filtering has to happen.</span>

<span class="sd">    Returns:</span>
<span class="sd">        all value_ids in the current context, using every registered store</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_all_value_ids</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.list_value_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_value_ids</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span></code>

<a href="#kiara.api.KiaraAPI.list_value_ids" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available value ids for this kiara context.</p>
<p>By default, this also includes internal values.</p>
<p>This method exists mainly so frontends can retrieve a list of all value_ids that exists on the backend without
having to look up the details of each value (like [list_values][kiara.interfaces.python_api.KiaraAPI.list_values]
does). This method can also be used with a matcher, but in this case the [list_values][kiara.interfaces.python_api.KiaraAPI.list_values]
would be preferable in most cases, because it is called under the hood, and the performance advantage of not
having to look up value details is gone.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>matcher_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter parameters, check the <a class="autorefs autorefs-internal" href="../models/values/matchers/#kiara.models.values.matchers.ValueMatcher">ValueMatcher</a> class for available parameters and defaults</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of value ids</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_value_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available value ids for this kiara context.</span>

<span class="sd">    By default, this also includes internal values.</span>

<span class="sd">    This method exists mainly so frontends can retrieve a list of all value_ids that exists on the backend without</span>
<span class="sd">    having to look up the details of each value (like [list_values][kiara.interfaces.python_api.KiaraAPI.list_values]</span>
<span class="sd">    does). This method can also be used with a matcher, but in this case the [list_values][kiara.interfaces.python_api.KiaraAPI.list_values]</span>
<span class="sd">    would be preferable in most cases, because it is called under the hood, and the performance advantage of not</span>
<span class="sd">    having to look up value details is gone.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters and defaults</span>

<span class="sd">    Returns:</span>
<span class="sd">        a list of value ids</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_value_ids</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.list_all_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_all_values</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span></code>

<a href="#kiara.api.KiaraAPI.list_all_values" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all values in the current context, incl. internal ones.</p>
<p>This should be faster than <code>list_values</code> with equivalent matcher params, because no
filtering has to happen.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_all_values</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all values in the current context, incl. internal ones.</span>

<span class="sd">    This should be faster than `list_values` with equivalent matcher params, because no</span>
<span class="sd">    filtering has to happen.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_all_values</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.list_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_values</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span></code>

<a href="#kiara.api.KiaraAPI.list_values" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available (relevant) values, optionally filter.</p>
<p>Retrieve information about all values that are available in the current kiara context session (both stored and non-stored).</p>
<p>Check the <code>ValueMatcher</code> class for available parameters and defaults, for example this excludes
internal values by default.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>matcher_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter parameters, check the <a class="autorefs autorefs-internal" href="../models/values/matchers/#kiara.models.values.matchers.ValueMatcher">ValueMatcher</a> class for available parameters</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValueMapReadOnly (kiara.models.values.value.ValueMapReadOnly)" href="../models/values/value/#kiara.models.values.value.ValueMapReadOnly">ValueMapReadOnly</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary with value_id as key, and [kiara.models.values.value.Value] as value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available (relevant) values, optionally filter.</span>

<span class="sd">    Retrieve information about all values that are available in the current kiara context session (both stored and non-stored).</span>

<span class="sd">    Check the `ValueMatcher` class for available parameters and defaults, for example this excludes</span>
<span class="sd">    internal values by default.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">    Returns:</span>
<span class="sd">        a dictionary with value_id as key, and [kiara.models.values.value.Value] as value</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_values</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.get_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Value</span></code>

<a href="#kiara.api.KiaraAPI.get_value" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve a value instance with the specified id or alias.</p>
<p>Basically a convenience method to convert any possible Python type into
a 'Value' instance. Raises an exception if no value could be found.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../models/values/value/#kiara.models.values.value.Value">Value</a>, <span title="uuid.UUID">UUID</span>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a value id, alias or object that has a 'value_id' attribute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../models/values/value/#kiara.models.values.value.Value">Value</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the Value instance</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Path&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;Value&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve a value instance with the specified id or alias.</span>

<span class="sd">    Basically a convenience method to convert any possible Python type into</span>
<span class="sd">    a &#39;Value&#39; instance. Raises an exception if no value could be found.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        value: a value id, alias or object that has a &#39;value_id&#39; attribute.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the Value instance</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.get_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_values</span><span class="p">(</span><span class="o">**</span><span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span></code>

<a href="#kiara.api.KiaraAPI.get_values" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve Value instances for the specified value ids or aliases.</p>
<p>This is a convenience method to get fully 'hydrated' <code>Value</code> objects from references to them.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>values</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../models/values/value/#kiara.models.values.value.Value">Value</a>, <span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary with value ids or aliases as keys, and value instances as values</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValueMapReadOnly (kiara.models.values.value.ValueMapReadOnly)" href="../models/values/value/#kiara.models.values.value.ValueMapReadOnly">ValueMapReadOnly</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a mapping with value_id as key, and [kiara.models.values.value.Value] as value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve Value instances for the specified value ids or aliases.</span>

<span class="sd">    This is a convenience method to get fully &#39;hydrated&#39; `Value` objects from references to them.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        values: a dictionary with value ids or aliases as keys, and value instances as values</span>

<span class="sd">    Returns:</span>
<span class="sd">        a mapping with value_id as key, and [kiara.models.values.value.Value] as value</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get_values</span><span class="p">(</span><span class="o">**</span><span class="n">values</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.retrieve_value_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_value_info</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ValueInfo</span></code>

<a href="#kiara.api.KiaraAPI.retrieve_value_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve an info object for a value.</p>
<p>Companion method to 'get_value', 'ValueInfo' objects contains augmented information on top of what 'normal' <a class="autorefs autorefs-internal" href="../models/values/value/#kiara.models.values.value.Value">Value</a> objects
hold (like resolved properties for example), but they can take longer to create/resolve. If you don't need any
of the augmented information, just use the [get_value][kiara.interfaces.python_api.KiaraAPI.get_value] method
instead.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../models/values/value/#kiara.models.values.value.Value">Value</a>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a value id, alias or object that has a 'value_id' attribute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValueInfo (kiara.interfaces.python_api.models.info.ValueInfo)" href="../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.ValueInfo">ValueInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the ValueInfo instance</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_value_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="s2">&quot;Path&quot;</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueInfo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve an info object for a value.</span>

<span class="sd">    Companion method to &#39;get_value&#39;, &#39;ValueInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [Value][kiara.models.values.value.Value] objects</span>
<span class="sd">    hold (like resolved properties for example), but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">    of the augmented information, just use the [get_value][kiara.interfaces.python_api.KiaraAPI.get_value] method</span>
<span class="sd">    instead.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        value: a value id, alias or object that has a &#39;value_id&#39; attribute.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the ValueInfo instance</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ValueInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_value_info</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.retrieve_values_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_values_info</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValuesInfo</span></code>

<a href="#kiara.api.KiaraAPI.retrieve_values_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about the matching values.</p>
<p>This retrieves the same list of values as [list_values][kiara.interfaces.python_api.KiaraAPI.list_values],
but augments each result value instance with additional information that might be useful in frontends.</p>
<p>'ValueInfo' objects contains augmented information on top of what 'normal' <a class="autorefs autorefs-internal" href="../models/values/value/#kiara.models.values.value.Value">Value</a> objects
hold (like resolved properties for example), but they can take longer to create/resolve. If you don't need any
of the augmented information, just use the [list_values][kiara.interfaces.python_api.KiaraAPI.list_values] method
instead.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>matcher_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter parameters, check the <a class="autorefs autorefs-internal" href="../models/values/matchers/#kiara.models.values.matchers.ValueMatcher">ValueMatcher</a> class for available parameters</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValuesInfo (kiara.interfaces.python_api.models.info.ValuesInfo)" href="../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.ValuesInfo">ValuesInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a wrapper object containing the items as dictionary with value_id as key, and [kiara.interfaces.python_api.models.values.ValueInfo] as value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_values_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValuesInfo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve information about the matching values.</span>

<span class="sd">    This retrieves the same list of values as [list_values][kiara.interfaces.python_api.KiaraAPI.list_values],</span>
<span class="sd">    but augments each result value instance with additional information that might be useful in frontends.</span>

<span class="sd">    &#39;ValueInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [Value][kiara.models.values.value.Value] objects</span>
<span class="sd">    hold (like resolved properties for example), but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">    of the augmented information, just use the [list_values][kiara.interfaces.python_api.KiaraAPI.list_values] method</span>
<span class="sd">    instead.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">    Returns:</span>
<span class="sd">        a wrapper object containing the items as dictionary with value_id as key, and [kiara.interfaces.python_api.models.values.ValueInfo] as value</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ValuesInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_values_info</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.list_alias_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_alias_names</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.api.KiaraAPI.list_alias_names" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available alias keys.</p>
<p>This method exists mainly so frontend can retrieve a list of all value_ids that exists on the backend without
having to look up the details of each value (like [list_aliases][kiara.interfaces.python_api.KiaraAPI.list_aliases]
does). This method can also be used with a matcher, but in this case the [list_aliases][kiara.interfaces.python_api.KiaraAPI.list_aliases]
would be preferrable in most cases, because it is called under the hood, and the performance advantage of not
having to look up value details is gone.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>matcher_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter parameters, check the <a class="autorefs autorefs-internal" href="../models/values/matchers/#kiara.models.values.matchers.ValueMatcher">ValueMatcher</a> class for available parameters</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of value ids</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_alias_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available alias keys.</span>

<span class="sd">    This method exists mainly so frontend can retrieve a list of all value_ids that exists on the backend without</span>
<span class="sd">    having to look up the details of each value (like [list_aliases][kiara.interfaces.python_api.KiaraAPI.list_aliases]</span>
<span class="sd">    does). This method can also be used with a matcher, but in this case the [list_aliases][kiara.interfaces.python_api.KiaraAPI.list_aliases]</span>
<span class="sd">    would be preferrable in most cases, because it is called under the hood, and the performance advantage of not</span>
<span class="sd">    having to look up value details is gone.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">    Returns:</span>
<span class="sd">        a list of value ids</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_alias_names</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.list_aliases" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_aliases</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span></code>

<a href="#kiara.api.KiaraAPI.list_aliases" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available values that have an alias assigned, optionally filter.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>matcher_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter parameters, check the <a class="autorefs autorefs-internal" href="../models/values/matchers/#kiara.models.values.matchers.ValueMatcher">ValueMatcher</a> class for available parameters</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValueMapReadOnly (kiara.models.values.value.ValueMapReadOnly)" href="../models/values/value/#kiara.models.values.value.ValueMapReadOnly">ValueMapReadOnly</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary with value_id as key, and [kiara.models.values.value.Value] as value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span>
<span class="normal">992</span>
<span class="normal">993</span>
<span class="normal">994</span>
<span class="normal">995</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available values that have an alias assigned, optionally filter.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">    Returns:</span>
<span class="sd">        a dictionary with value_id as key, and [kiara.models.values.value.Value] as value</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_aliases</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.retrieve_aliases_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_aliases_info</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValuesInfo</span></code>

<a href="#kiara.api.KiaraAPI.retrieve_aliases_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about the matching values.</p>
<p>This retrieves the same list of values as [list_values][kiara.interfaces.python_api.KiaraAPI.list_values],
but augments each result value instance with additional information that might be useful in frontends.</p>
<p>'ValueInfo' objects contains augmented information on top of what 'normal' <a class="autorefs autorefs-internal" href="../models/values/value/#kiara.models.values.value.Value">Value</a> objects
hold (like resolved properties for example), but they can take longer to create/resolve. If you don't need any
of the augmented information, just use the [get_value][kiara.interfaces.python_api.KiaraAPI.list_aliases] method
instead.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>matcher_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter parameters, check the <a class="autorefs autorefs-internal" href="../models/values/matchers/#kiara.models.values.matchers.ValueMatcher">ValueMatcher</a> class for available parameters</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValuesInfo (kiara.interfaces.python_api.models.info.ValuesInfo)" href="../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.ValuesInfo">ValuesInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary with a value alias as key, and [kiara.interfaces.python_api.models.values.ValueInfo] as value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_aliases_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValuesInfo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve information about the matching values.</span>

<span class="sd">    This retrieves the same list of values as [list_values][kiara.interfaces.python_api.KiaraAPI.list_values],</span>
<span class="sd">    but augments each result value instance with additional information that might be useful in frontends.</span>

<span class="sd">    &#39;ValueInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [Value][kiara.models.values.value.Value] objects</span>
<span class="sd">    hold (like resolved properties for example), but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">    of the augmented information, just use the [get_value][kiara.interfaces.python_api.KiaraAPI.list_aliases] method</span>
<span class="sd">    instead.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">    Returns:</span>
<span class="sd">        a dictionary with a value alias as key, and [kiara.interfaces.python_api.models.values.ValueInfo] as value</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ValuesInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_aliases_info</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.store_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">store_value</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">],</span> <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span> <span class="n">allow_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">store_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">set_as_store_default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValueResult</span></code>

<a href="#kiara.api.KiaraAPI.store_value" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Store the specified value in a value store.</p>
<p>If you provide values for the 'data_store' and/or 'alias_store' other than 'default', you need
to make sure those stores are registered with the current context. In most cases, the 'export' endpoint (to be done) will probably be an easier way to export values, which I suspect will
be the main use-case for this endpoint if any of the 'store' arguments where needed. Otherwise, this endpoint is useful to persist values for use in later seperate sessions.</p>
<p>This method does not raise an error if the storing of the value fails, so you have to investigate the
'StoreValueResult' instance that is returned to see if the storing was successful.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../models/values/value/#kiara.models.values.value.Value">Value</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the value (or a reference to it)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>alias</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(Optional) one or several aliases for the value</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>allow_overwrite</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to allow overwriting existing aliases</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>store</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>in case data and alias store names are the same, you can use this, if you specify one or both of the others, this will be overwritten</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>store_related_metadata</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to store related metadata (comments, etc.) in the same store as the data</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>set_as_store_default</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to set the specified store as the default store for the value</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">store_value</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">],</span>
    <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span>
    <span class="n">allow_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">store_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">set_as_store_default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreValueResult&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Store the specified value in a value store.</span>

<span class="sd">    If you provide values for the &#39;data_store&#39; and/or &#39;alias_store&#39; other than &#39;default&#39;, you need</span>
<span class="sd">    to make sure those stores are registered with the current context. In most cases, the &#39;export&#39; endpoint (to be done) will probably be an easier way to export values, which I suspect will</span>
<span class="sd">    be the main use-case for this endpoint if any of the &#39;store&#39; arguments where needed. Otherwise, this endpoint is useful to persist values for use in later seperate sessions.</span>

<span class="sd">    This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">    &#39;StoreValueResult&#39; instance that is returned to see if the storing was successful.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        value: the value (or a reference to it)</span>
<span class="sd">        alias: (Optional) one or several aliases for the value</span>
<span class="sd">        allow_overwrite: whether to allow overwriting existing aliases</span>
<span class="sd">        store: in case data and alias store names are the same, you can use this, if you specify one or both of the others, this will be overwritten</span>
<span class="sd">        store_related_metadata: whether to store related metadata (comments, etc.) in the same store as the data</span>
<span class="sd">        set_as_store_default: whether to set the specified store as the default store for the value</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;StoreValueResult&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">store_value</span><span class="p">(</span>
        <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
        <span class="n">alias</span><span class="o">=</span><span class="n">alias</span><span class="p">,</span>
        <span class="n">allow_overwrite</span><span class="o">=</span><span class="n">allow_overwrite</span><span class="p">,</span>
        <span class="n">store</span><span class="o">=</span><span class="n">store</span><span class="p">,</span>
        <span class="n">store_related_metadata</span><span class="o">=</span><span class="n">store_related_metadata</span><span class="p">,</span>
        <span class="n">set_as_store_default</span><span class="o">=</span><span class="n">set_as_store_default</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.store_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">store_values</span><span class="p">(</span><span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]]],</span> <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">store_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span></code>

<a href="#kiara.api.KiaraAPI.store_values" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Store multiple values into the (default) kiara value store.</p>
<p>Convenience method to store multiple values. In a lot of cases you can be more flexible if you
loop over the values on the frontend side, and call the 'store_value' method for each value. But this might be meaningfully slower. This method has the potential to be optimized in the future.</p>
<p>You have several options to provide the values and aliases you want to store:</p>
<ul>
<li>
<p>as a string, in which case the item will be wrapped in a list (see non-mapping iterable below)</p>
</li>
<li>
<p>as a (non-mapping) iterable of value items, those can either be:</p>
</li>
<li>
<p>a value id (as string or uuid)</p>
</li>
<li>a value alias (as string)</li>
<li>a value instance</li>
</ul>
<p>If you do that, then the 'alias_map' argument can either be:</p>
<ul>
<li>'False', in which case no aliases will be registered</li>
<li>'True', in which case all items in the 'values' iterable must be a valid alias, and the alias will be copied without change to the new store</li>
<li>a 'string', in which case all items in the 'values' iterable also must be a valid alias, and the alias that will be registered in the new store will use the string value as prefix (e.g. 'alias_map' = 'experiment1' and 'values' = ['a', 'b'] will result in the aliases 'experiment1.a' and 'experiment1.b')</li>
<li>a map that uses the stringi-fied uuid of the value that should get one or several aliases as key, and a list of aliases as values</li>
</ul>
<p>You can also use a mapping type (like a dict) for the 'values' argument. In this case, the key is a string, and the value can be:</p>
<ul>
<li>a value id (as string or uuid)</li>
<li>a value alias (as string)</li>
<li>a value instance</li>
</ul>
<p>In this case, the meaning of the 'alias_map' is as follows:</p>
<ul>
<li>'False': no aliases will be registered</li>
<li>'True': the key in the 'values' argument will be used as alias</li>
<li>a string: all keys from the 'values' map will be used as alias, prefixed with the value of 'alias_map'</li>
<li>another map, with a string referring to the key in the 'values' argument as key, and a list of aliases (strings) as value</li>
</ul>
<p>Sorry, this is all a bit convoluted, but it's the only way I could think of to make this work for all the requirements I had. In most keases, you'll only have to use 'True' or 'False' here, hopefully.</p>
<p>This method does not raise an error if the storing of the value fails, so you have to investigate the
'StoreValuesResult' instance that is returned to see if the storing was successful.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>values</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../models/values/value/#kiara.models.values.value.Value">Value</a>, <span title="uuid.UUID">UUID</span>, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../models/values/value/#kiara.models.values.value.Value">Value</a>]], <span title="typing.Iterable">Iterable</span>[<span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../models/values/value/#kiara.models.values.value.Value">Value</a>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an iterable/map of value keys/values</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>alias_map</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]], <span title="bool">bool</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a map of value keys aliases</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>allow_alias_overwrite</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to allow overwriting existing aliases</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>store</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>in case data and alias store names are the same, you can use this, if you specify one or both of the others, this will be overwritten</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data_store</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the registered name (or archive id as string) of the store to write the data</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>alias_store</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the registered name (or archive id as string) of the store to persist the alias(es)/value_id mapping</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="StoreValuesResult (kiara.interfaces.python_api.value.StoreValuesResult)" href="../interfaces/python_api/value/#kiara.interfaces.python_api.value.StoreValuesResult">StoreValuesResult</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">store_values</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span>
        <span class="s2">&quot;Value&quot;</span><span class="p">,</span>
        <span class="s2">&quot;UUID&quot;</span><span class="p">,</span>
        <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">]],</span>
        <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">]],</span>
    <span class="p">],</span>
    <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">store_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreValuesResult&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Store multiple values into the (default) kiara value store.</span>

<span class="sd">    Convenience method to store multiple values. In a lot of cases you can be more flexible if you</span>
<span class="sd">    loop over the values on the frontend side, and call the &#39;store_value&#39; method for each value. But this might be meaningfully slower. This method has the potential to be optimized in the future.</span>

<span class="sd">    You have several options to provide the values and aliases you want to store:</span>

<span class="sd">    - as a string, in which case the item will be wrapped in a list (see non-mapping iterable below)</span>

<span class="sd">    - as a (non-mapping) iterable of value items, those can either be:</span>

<span class="sd">      - a value id (as string or uuid)</span>
<span class="sd">      - a value alias (as string)</span>
<span class="sd">      - a value instance</span>

<span class="sd">    If you do that, then the &#39;alias_map&#39; argument can either be:</span>

<span class="sd">      - &#39;False&#39;, in which case no aliases will be registered</span>
<span class="sd">      - &#39;True&#39;, in which case all items in the &#39;values&#39; iterable must be a valid alias, and the alias will be copied without change to the new store</span>
<span class="sd">      - a &#39;string&#39;, in which case all items in the &#39;values&#39; iterable also must be a valid alias, and the alias that will be registered in the new store will use the string value as prefix (e.g. &#39;alias_map&#39; = &#39;experiment1&#39; and &#39;values&#39; = [&#39;a&#39;, &#39;b&#39;] will result in the aliases &#39;experiment1.a&#39; and &#39;experiment1.b&#39;)</span>
<span class="sd">      - a map that uses the stringi-fied uuid of the value that should get one or several aliases as key, and a list of aliases as values</span>

<span class="sd">    You can also use a mapping type (like a dict) for the &#39;values&#39; argument. In this case, the key is a string, and the value can be:</span>

<span class="sd">      - a value id (as string or uuid)</span>
<span class="sd">      - a value alias (as string)</span>
<span class="sd">      - a value instance</span>

<span class="sd">    In this case, the meaning of the &#39;alias_map&#39; is as follows:</span>

<span class="sd">      - &#39;False&#39;: no aliases will be registered</span>
<span class="sd">      - &#39;True&#39;: the key in the &#39;values&#39; argument will be used as alias</span>
<span class="sd">      - a string: all keys from the &#39;values&#39; map will be used as alias, prefixed with the value of &#39;alias_map&#39;</span>
<span class="sd">      - another map, with a string referring to the key in the &#39;values&#39; argument as key, and a list of aliases (strings) as value</span>

<span class="sd">    Sorry, this is all a bit convoluted, but it&#39;s the only way I could think of to make this work for all the requirements I had. In most keases, you&#39;ll only have to use &#39;True&#39; or &#39;False&#39; here, hopefully.</span>

<span class="sd">    This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">    &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        values: an iterable/map of value keys/values</span>
<span class="sd">        alias_map: a map of value keys aliases</span>
<span class="sd">        allow_alias_overwrite: whether to allow overwriting existing aliases</span>
<span class="sd">        store: in case data and alias store names are the same, you can use this, if you specify one or both of the others, this will be overwritten</span>
<span class="sd">        data_store: the registered name (or archive id as string) of the store to write the data</span>
<span class="sd">        alias_store: the registered name (or archive id as string) of the store to persist the alias(es)/value_id mapping</span>

<span class="sd">    Returns:</span>
<span class="sd">        an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;StoreValuesResult&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">store_values</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span>
        <span class="n">alias_map</span><span class="o">=</span><span class="n">alias_map</span><span class="p">,</span>
        <span class="n">allow_alias_overwrite</span><span class="o">=</span><span class="n">allow_alias_overwrite</span><span class="p">,</span>
        <span class="n">store</span><span class="o">=</span><span class="n">store</span><span class="p">,</span>
        <span class="n">store_related_metadata</span><span class="o">=</span><span class="n">store_related_metadata</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.import_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">import_values</span><span class="p">(</span><span class="n">source_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]]],</span> <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">source_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span></code>

<a href="#kiara.api.KiaraAPI.import_values" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Import one or several values from an external kiara archive, along with their aliases (optional).</p>
<p>For the 'values' &amp; 'alias_map' arguments, see the 'store_values' endpoint, as they will be forwarded to that endpoint as is,
and there are several ways to use them which is information I don't want to duplicate.</p>
<p>If you provide aliases in the 'values' parameter, the aliases must be available in the external archive.</p>
<p>Currently, this only works with an external archive file, not with an archive that is registered into the context.
This will probably be added later on, let me know if there is demand, then I'll prioritize.</p>
<p>This method does not raise an error if the storing of the value fails, so you have to investigate the
'StoreValuesResult' instance that is returned to see if the storing was successful.</p>
<h6 id="kiara.api.KiaraAPI.import_values--note-this-is-a-preliminary-endpoint-and-might-be-changed-in-the-future-if-you-have-a-use-case-for-this-please-let-me-know">NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.<a class="headerlink" href="#kiara.api.KiaraAPI.import_values--note-this-is-a-preliminary-endpoint-and-might-be-changed-in-the-future-if-you-have-a-use-case-for-this-please-let-me-know" title="Permanent link">&para;</a></h6>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source_archive</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name of the archive to store the values into</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>values</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../models/values/value/#kiara.models.values.value.Value">Value</a>]], <span title="typing.Iterable">Iterable</span>[<span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../models/values/value/#kiara.models.values.value.Value">Value</a>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an iterable/map of value keys/values</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>alias_map</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]], <span title="bool">bool</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a map of value keys aliases</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>allow_alias_overwrite</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to allow overwriting existing aliases</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>source_registered_name</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name to register the archive under in the context</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">import_values</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">source_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Path&quot;</span><span class="p">],</span>
    <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span>
        <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">]],</span>
        <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">]],</span>
    <span class="p">],</span>
    <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">source_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreValuesResult&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Import one or several values from an external kiara archive, along with their aliases (optional).</span>

<span class="sd">    For the &#39;values&#39; &amp; &#39;alias_map&#39; arguments, see the &#39;store_values&#39; endpoint, as they will be forwarded to that endpoint as is,</span>
<span class="sd">    and there are several ways to use them which is information I don&#39;t want to duplicate.</span>

<span class="sd">    If you provide aliases in the &#39;values&#39; parameter, the aliases must be available in the external archive.</span>

<span class="sd">    Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">    This will probably be added later on, let me know if there is demand, then I&#39;ll prioritize.</span>

<span class="sd">    This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">    &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful.</span>

<span class="sd">    # NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        source_archive: the name of the archive to store the values into</span>
<span class="sd">        values: an iterable/map of value keys/values</span>
<span class="sd">        alias_map: a map of value keys aliases</span>
<span class="sd">        allow_alias_overwrite: whether to allow overwriting existing aliases</span>
<span class="sd">        source_registered_name: the name to register the archive under in the context</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;StoreValuesResult&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">import_values</span><span class="p">(</span>
        <span class="n">source_archive</span><span class="o">=</span><span class="n">source_archive</span><span class="p">,</span>
        <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span>
        <span class="n">alias_map</span><span class="o">=</span><span class="n">alias_map</span><span class="p">,</span>
        <span class="n">allow_alias_overwrite</span><span class="o">=</span><span class="n">allow_alias_overwrite</span><span class="p">,</span>
        <span class="n">source_registered_name</span><span class="o">=</span><span class="n">source_registered_name</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.export_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export_values</span><span class="p">(</span><span class="n">target_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]]],</span> <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">target_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">append</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">target_store_params</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">export_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">additional_archive_metadata</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span></code>

<a href="#kiara.api.KiaraAPI.export_values" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Store one or several values along with (optional) aliases into a kiara archive.</p>
<p>For the 'values' &amp; 'alias_map' arguments, see the 'store_values' endpoint, as they will be forwarded to that endpoint as is,
and there are several ways to use them which is information I don't want to duplicate.</p>
<p>Currently, this only works with an external archive file, not with an archive that is registered into the context.
This will probably be added later on, let me know if there is demand, then I'll prioritize.</p>
<p>'target_store_params' is used if the archive does not exist yet. The one supported value for the 'target_store_params' argument currently is 'compression', which can be one of:</p>
<ul>
<li>zstd: zstd compression (default) -- fairly fast, and good compression</li>
<li>none: no compression</li>
<li>LZMA: LZMA compression -- very slow, but very good compression</li>
<li>LZ4: LZ4 compression -- very fast, but not as good compression as zstd</li>
</ul>
<p>This method does not raise an error if the storing of the value fails, so you have to investigate the
'StoreValuesResult' instance that is returned to see if the storing was successful.</p>
<h6 id="kiara.api.KiaraAPI.export_values--note-this-is-a-preliminary-endpoint-and-might-be-changed-in-the-future-if-you-have-a-use-case-for-this-please-let-me-know">NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.<a class="headerlink" href="#kiara.api.KiaraAPI.export_values--note-this-is-a-preliminary-endpoint-and-might-be-changed-in-the-future-if-you-have-a-use-case-for-this-please-let-me-know" title="Permanent link">&para;</a></h6>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>target_store</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name of the archive to store the values into</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>values</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../models/values/value/#kiara.models.values.value.Value">Value</a>, <span title="uuid.UUID">UUID</span>, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../models/values/value/#kiara.models.values.value.Value">Value</a>]], <span title="typing.Iterable">Iterable</span>[<span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../models/values/value/#kiara.models.values.value.Value">Value</a>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an iterable/map of value keys/values</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>alias_map</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]], <span title="bool">bool</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a map of value keys aliases</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>allow_alias_overwrite</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to allow overwriting existing aliases</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_registered_name</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name to register the archive under in the context</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>append</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to append to an existing archive</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_store_params</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional parameters to pass to the 'create_kiarchive' method if the file does not exist yet</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>export_related_metadata</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to export related metadata (e.g. job info, comments, ..) to the new archive or not</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>additional_archive_metadata</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(optional) additional metadata to add to the archive</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">export_values</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">target_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Path&quot;</span><span class="p">],</span>
    <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span>
        <span class="s2">&quot;Value&quot;</span><span class="p">,</span>
        <span class="s2">&quot;UUID&quot;</span><span class="p">,</span>
        <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">]],</span>
        <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">]],</span>
    <span class="p">],</span>
    <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">target_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">append</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">target_store_params</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">export_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">additional_archive_metadata</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreValuesResult&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Store one or several values along with (optional) aliases into a kiara archive.</span>

<span class="sd">    For the &#39;values&#39; &amp; &#39;alias_map&#39; arguments, see the &#39;store_values&#39; endpoint, as they will be forwarded to that endpoint as is,</span>
<span class="sd">    and there are several ways to use them which is information I don&#39;t want to duplicate.</span>

<span class="sd">    Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">    This will probably be added later on, let me know if there is demand, then I&#39;ll prioritize.</span>

<span class="sd">    &#39;target_store_params&#39; is used if the archive does not exist yet. The one supported value for the &#39;target_store_params&#39; argument currently is &#39;compression&#39;, which can be one of:</span>

<span class="sd">    - zstd: zstd compression (default) -- fairly fast, and good compression</span>
<span class="sd">    - none: no compression</span>
<span class="sd">    - LZMA: LZMA compression -- very slow, but very good compression</span>
<span class="sd">    - LZ4: LZ4 compression -- very fast, but not as good compression as zstd</span>

<span class="sd">    This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">    &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful.</span>

<span class="sd">    # NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        target_store: the name of the archive to store the values into</span>
<span class="sd">        values: an iterable/map of value keys/values</span>
<span class="sd">        alias_map: a map of value keys aliases</span>
<span class="sd">        allow_alias_overwrite: whether to allow overwriting existing aliases</span>
<span class="sd">        target_registered_name: the name to register the archive under in the context</span>
<span class="sd">        append: whether to append to an existing archive</span>
<span class="sd">        target_store_params: additional parameters to pass to the &#39;create_kiarchive&#39; method if the file does not exist yet</span>
<span class="sd">        export_related_metadata: whether to export related metadata (e.g. job info, comments, ..) to the new archive or not</span>
<span class="sd">        additional_archive_metadata: (optional) additional metadata to add to the archive</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;StoreValuesResult&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">export_values</span><span class="p">(</span>
        <span class="n">target_archive</span><span class="o">=</span><span class="n">target_archive</span><span class="p">,</span>
        <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span>
        <span class="n">alias_map</span><span class="o">=</span><span class="n">alias_map</span><span class="p">,</span>
        <span class="n">allow_alias_overwrite</span><span class="o">=</span><span class="n">allow_alias_overwrite</span><span class="p">,</span>
        <span class="n">target_registered_name</span><span class="o">=</span><span class="n">target_registered_name</span><span class="p">,</span>
        <span class="n">append</span><span class="o">=</span><span class="n">append</span><span class="p">,</span>
        <span class="n">target_store_params</span><span class="o">=</span><span class="n">target_store_params</span><span class="p">,</span>
        <span class="n">export_related_metadata</span><span class="o">=</span><span class="n">export_related_metadata</span><span class="p">,</span>
        <span class="n">additional_archive_metadata</span><span class="o">=</span><span class="n">additional_archive_metadata</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.retrieve_archive_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_archive_info</span><span class="p">(</span><span class="n">archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">KiArchive</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">KiArchiveInfo</span></code>

<a href="#kiara.api.KiaraAPI.retrieve_archive_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about an archive at the specified local path</p>
<p>Currently, this only works with an external archive file, not with an archive that is registered into the context.
This will probably be added later on, let me know if there is demand, then I'll prioritize.</p>
<h6 id="kiara.api.KiaraAPI.retrieve_archive_info--note-this-is-a-preliminary-endpoint-and-might-be-changed-in-the-future-if-you-have-a-use-case-for-this-please-let-me-know">NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.<a class="headerlink" href="#kiara.api.KiaraAPI.retrieve_archive_info--note-this-is-a-preliminary-endpoint-and-might-be-changed-in-the-future-if-you-have-a-use-case-for-this-please-let-me-know" title="Permanent link">&para;</a></h6>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>archive</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="KiArchive (kiara.interfaces.python_api.models.archive.KiArchive)" href="../interfaces/python_api/models/archive/#kiara.interfaces.python_api.models.archive.KiArchive">KiArchive</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the uri of the archive (file path)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="KiArchiveInfo (kiara.models.archives.KiArchiveInfo)" href="../models/archives/#kiara.models.archives.KiArchiveInfo">KiArchiveInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a [KiarchiveInfo][kiara.interfaces.python_api.models.archive.KiarchiveInfo] instance, containing details about the archive</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_archive_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;KiArchive&quot;</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiArchiveInfo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve information about an archive at the specified local path</span>

<span class="sd">    Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">    This will probably be added later on, let me know if there is demand, then I&#39;ll prioritize.</span>

<span class="sd">    # NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        archive: the uri of the archive (file path)</span>

<span class="sd">    Returns:</span>
<span class="sd">        a [KiarchiveInfo][kiara.interfaces.python_api.models.archive.KiarchiveInfo] instance, containing details about the archive</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;KiArchiveInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_archive_info</span><span class="p">(</span><span class="n">archive</span><span class="o">=</span><span class="n">archive</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.export_archive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export_archive</span><span class="p">(</span><span class="n">target_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="n">target_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">append</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">no_aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">target_store_params</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span></code>

<a href="#kiara.api.KiaraAPI.export_archive" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Export all data from the default store in your context into the specfied archive path.</p>
<p>The target archives will be registered into the context, either using the provided registered_name, or the name
will be auto-determined from the archive metadata.</p>
<p>Currently, this only works with an external archive file, not with an archive that is already registered into the context.
This will be added later on.</p>
<p>Also, currently you can only export all data from the default store, there is no way to select only a sub-set. This will
also be supported later on.</p>
<p>The one supported value for the 'target_store_params' argument currently is 'compression', which can be one of:</p>
<ul>
<li>zstd: zstd compression (default) -- fairly fast, and good compression</li>
<li>none: no compression</li>
<li>LZMA: LZMA compression -- very slow, but very good compression</li>
<li>LZ4: LZ4 compression -- very fast, but not as good compression as zstd</li>
</ul>
<p>This method does not raise an error if the storing of the value fails, so you have to investigate the
'StoreValuesResult' instance that is returned to see if the storing was successful</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>target_archive</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the registered_name or uri of the target archive</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_registered_name</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name/alias that the archive should be registered in the context (if necessary)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>append</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to append to an existing archive or error out if the target already exists</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>no_aliases</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to skip importing aliases</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_store_params</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional parameters to pass to the 'create_kiarchive' method if the target file does not exist yet</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="StoreValuesResult (kiara.interfaces.python_api.value.StoreValuesResult)" href="../interfaces/python_api/value/#kiara.interfaces.python_api.value.StoreValuesResult">StoreValuesResult</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">export_archive</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">target_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Path&quot;</span><span class="p">],</span>
    <span class="n">target_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">append</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">no_aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">target_store_params</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreValuesResult&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Export all data from the default store in your context into the specfied archive path.</span>

<span class="sd">    The target archives will be registered into the context, either using the provided registered_name, or the name</span>
<span class="sd">    will be auto-determined from the archive metadata.</span>

<span class="sd">    Currently, this only works with an external archive file, not with an archive that is already registered into the context.</span>
<span class="sd">    This will be added later on.</span>

<span class="sd">    Also, currently you can only export all data from the default store, there is no way to select only a sub-set. This will</span>
<span class="sd">    also be supported later on.</span>

<span class="sd">    The one supported value for the &#39;target_store_params&#39; argument currently is &#39;compression&#39;, which can be one of:</span>

<span class="sd">    - zstd: zstd compression (default) -- fairly fast, and good compression</span>
<span class="sd">    - none: no compression</span>
<span class="sd">    - LZMA: LZMA compression -- very slow, but very good compression</span>
<span class="sd">    - LZ4: LZ4 compression -- very fast, but not as good compression as zstd</span>

<span class="sd">    This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">    &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful</span>

<span class="sd">    Arguments:</span>
<span class="sd">        target_archive: the registered_name or uri of the target archive</span>
<span class="sd">        target_registered_name: the name/alias that the archive should be registered in the context (if necessary)</span>
<span class="sd">        append: whether to append to an existing archive or error out if the target already exists</span>
<span class="sd">        no_aliases: whether to skip importing aliases</span>
<span class="sd">        target_store_params: additional parameters to pass to the &#39;create_kiarchive&#39; method if the target file does not exist yet</span>

<span class="sd">    Returns:</span>
<span class="sd">        an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;StoreValuesResult&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">export_archive</span><span class="p">(</span>
        <span class="n">target_archive</span><span class="o">=</span><span class="n">target_archive</span><span class="p">,</span>
        <span class="n">target_registered_name</span><span class="o">=</span><span class="n">target_registered_name</span><span class="p">,</span>
        <span class="n">append</span><span class="o">=</span><span class="n">append</span><span class="p">,</span>
        <span class="n">no_aliases</span><span class="o">=</span><span class="n">no_aliases</span><span class="p">,</span>
        <span class="n">target_store_params</span><span class="o">=</span><span class="n">target_store_params</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.import_archive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">import_archive</span><span class="p">(</span><span class="n">source_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="n">source_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">no_aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span></code>

<a href="#kiara.api.KiaraAPI.import_archive" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Import all data from the specified archive into the current contexts default data &amp; alias store.</p>
<p>The source target will be registered into the context, either using the provided registered_name, otherwise the name
will be auto-determined from the archive metadata.</p>
<p>Currently, this only works with an external archive file, not with an archive that is registered into the context.
This will be added later on.</p>
<p>Also, currently you can only import all data into the default store, there is no way to select only a sub-set. This will
also be supported later on.</p>
<p>This method does not raise an error if the storing of the value fails, so you have to investigate the
'StoreValuesResult' instance that is returned to see if the storing was successful</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source_archive</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the registered_name or uri of the source archive</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>source_registered_name</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name/alias that the archive should be registered in the context (if necessary)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>no_aliases</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to skip importing aliases</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="StoreValuesResult (kiara.interfaces.python_api.value.StoreValuesResult)" href="../interfaces/python_api/value/#kiara.interfaces.python_api.value.StoreValuesResult">StoreValuesResult</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">import_archive</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">source_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Path&quot;</span><span class="p">],</span>
    <span class="n">source_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">no_aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreValuesResult&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Import all data from the specified archive into the current contexts default data &amp; alias store.</span>

<span class="sd">    The source target will be registered into the context, either using the provided registered_name, otherwise the name</span>
<span class="sd">    will be auto-determined from the archive metadata.</span>

<span class="sd">    Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">    This will be added later on.</span>

<span class="sd">    Also, currently you can only import all data into the default store, there is no way to select only a sub-set. This will</span>
<span class="sd">    also be supported later on.</span>

<span class="sd">    This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">    &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful</span>

<span class="sd">    Arguments:</span>
<span class="sd">        source_archive: the registered_name or uri of the source archive</span>
<span class="sd">        source_registered_name: the name/alias that the archive should be registered in the context (if necessary)</span>
<span class="sd">        no_aliases: whether to skip importing aliases</span>

<span class="sd">    Returns:</span>
<span class="sd">        an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;StoreValuesResult&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">import_archive</span><span class="p">(</span>
        <span class="n">source_archive</span><span class="o">=</span><span class="n">source_archive</span><span class="p">,</span>
        <span class="n">source_registered_name</span><span class="o">=</span><span class="n">source_registered_name</span><span class="p">,</span>
        <span class="n">no_aliases</span><span class="o">=</span><span class="n">no_aliases</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.get_job" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_job</span><span class="p">(</span><span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ActiveJob</span></code>

<a href="#kiara.api.KiaraAPI.get_job" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve the status of the job with the provided id.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_job</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;ActiveJob&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the status of the job with the provided id.&quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ActiveJob&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get_job</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.get_job_result" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_job_result</span><span class="p">(</span><span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span></code>

<a href="#kiara.api.KiaraAPI.get_job_result" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve the result(s) of the specified job.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_job_result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the result(s) of the specified job.&quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;ValueMapReadOnly&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get_job_result</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.list_all_job_record_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_all_job_record_ids</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span></code>

<a href="#kiara.api.KiaraAPI.list_all_job_record_ids" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available job ids in this kiara context, ordered from newest to oldest, including internal jobs.</p>
<p>This should be faster than <code>list_job_record_ids</code> with equivalent parameters, because no filtering
needs to be done.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_all_job_record_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available job ids in this kiara context, ordered from newest to oldest, including internal jobs.</span>

<span class="sd">    This should be faster than `list_job_record_ids` with equivalent parameters, because no filtering</span>
<span class="sd">    needs to be done.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_all_job_record_ids</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.list_job_record_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_job_record_ids</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span></code>

<a href="#kiara.api.KiaraAPI.list_job_record_ids" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available job ids in this kiara context, ordered from newest to oldest.</p>
<p>You can look up the supported matcher parameter arguments via the <a class="autorefs autorefs-internal" href="../models/module/jobs/#kiara.models.module.jobs.JobMatcher">JobMatcher</a> class. By default, this method for example
does not return jobs marked as 'internal'.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>matcher_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional parameters to pass to the job matcher</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of job ids, ordered from latest to earliest</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_job_record_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available job ids in this kiara context, ordered from newest to oldest.</span>

<span class="sd">    You can look up the supported matcher parameter arguments via the [JobMatcher][kiara.models.module.jobs.JobMatcher] class. By default, this method for example</span>
<span class="sd">    does not return jobs marked as &#39;internal&#39;.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        matcher_params: additional parameters to pass to the job matcher</span>

<span class="sd">    Returns:</span>
<span class="sd">        a list of job ids, ordered from latest to earliest</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_job_record_ids</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.list_all_job_records" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_all_job_records</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="n">JobRecord</span><span class="p">]</span></code>

<a href="#kiara.api.KiaraAPI.list_all_job_records" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available job records in this kiara context, ordered from newest to oldest, including internal jobs.</p>
<p>This should be faster than <code>list_job_records</code> with equivalent parameters, because no filtering
needs to be done.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_all_job_records</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;JobRecord&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available job records in this kiara context, ordered from newest to oldest, including internal jobs.</span>

<span class="sd">    This should be faster than `list_job_records` with equivalent parameters, because no filtering</span>
<span class="sd">    needs to be done.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;JobRecord&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_all_job_records</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.list_job_records" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_job_records</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="n">JobRecord</span><span class="p">]</span></code>

<a href="#kiara.api.KiaraAPI.list_job_records" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available job ids in this kiara context, ordered from newest to oldest.</p>
<p>You can look up the supported matcher parameter arguments via the <a class="autorefs autorefs-internal" href="../models/module/jobs/#kiara.models.module.jobs.JobMatcher">JobMatcher</a> class. By default, this method for example
does not return jobs marked as 'internal'.</p>
<p>You can look up the supported matcher parameter arguments via the <a class="autorefs autorefs-internal" href="../models/module/jobs/#kiara.models.module.jobs.JobMatcher">JobMatcher</a> class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>matcher_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional parameters to pass to the job matcher</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Mapping">Mapping</span>[<span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="JobRecord (kiara.models.module.jobs.JobRecord)" href="../models/module/jobs/#kiara.models.module.jobs.JobRecord">JobRecord</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of job details, ordered from latest to earliest</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_job_records</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;JobRecord&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available job ids in this kiara context, ordered from newest to oldest.</span>

<span class="sd">    You can look up the supported matcher parameter arguments via the [JobMatcher][kiara.models.module.jobs.JobMatcher] class. By default, this method for example</span>
<span class="sd">    does not return jobs marked as &#39;internal&#39;.</span>

<span class="sd">    You can look up the supported matcher parameter arguments via the [JobMatcher][kiara.models.module.jobs.JobMatcher] class.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        matcher_params: additional parameters to pass to the job matcher</span>

<span class="sd">    Returns:</span>
<span class="sd">        a list of job details, ordered from latest to earliest</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;JobRecord&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">list_job_records</span><span class="p">(</span>
        <span class="o">**</span><span class="n">matcher_params</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.get_job_record" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_job_record</span><span class="p">(</span><span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">JobRecord</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span></code>

<a href="#kiara.api.KiaraAPI.get_job_record" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve the detailed job record for the specified job id.</p>
<p>If no job can be found, 'None' is returned.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_job_record</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;JobRecord&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the detailed job record for the specified job id.</span>

<span class="sd">    If no job can be found, &#39;None&#39; is returned.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;JobRecord&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get_job_record</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.retrieve_job_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_job_info</span><span class="p">(</span><span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">JobInfo</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span></code>

<a href="#kiara.api.KiaraAPI.retrieve_job_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve the detailed job record for the specified job id.</p>
<p>If no job can be found, 'None' is returned.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_job_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;JobInfo&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the detailed job record for the specified job id.</span>

<span class="sd">    If no job can be found, &#39;None&#39; is returned.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;JobInfo&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_job_info</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraAPI.retrieve_jobs_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_jobs_info</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JobsInfo</span></code>

<a href="#kiara.api.KiaraAPI.retrieve_jobs_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/kiara_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_jobs_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;JobsInfo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="s2">&quot;JobsInfo&quot;</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">retrieve_jobs_info</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="kiara.api.KiArchive" class="doc doc-heading">
            <code>KiArchive</code>


<a href="#kiara.api.KiArchive" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="KiaraModel (kiara.models.KiaraModel)" href="../models/__init__/#kiara.models.KiaraModel">KiaraModel</a></code></p>








              <details class="quote">
                <summary>Source code in <code>src/kiara/interfaces/python_api/models/archive.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">KiArchive</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">load_kiarchive</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
        <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
        <span class="n">allow_write_access</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">archive_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiArchive&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>

        <span class="n">archive_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">archive_path</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Archive file &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">)</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.utils.stores</span><span class="w"> </span><span class="kn">import</span> <span class="n">check_external_archive</span>

        <span class="n">archives</span> <span class="o">=</span> <span class="n">check_external_archive</span><span class="p">(</span>
            <span class="n">archive</span><span class="o">=</span><span class="n">archive_path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">(),</span>
            <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
            <span class="n">archive_name</span><span class="o">=</span><span class="n">archive_name</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;metadata&quot;</span> <span class="ow">in</span> <span class="n">archives</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">metadata_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">MetadataArchive</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">archives</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
            <span class="n">metadata_archive_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">metadata_archive</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
            <span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">metadata_archive_config</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">metadata_archive</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">archives</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">data_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">DataArchive</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">archives</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
            <span class="n">data_archive_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">data_archive</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
            <span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data_archive_config</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">data_archive</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="s2">&quot;alias&quot;</span> <span class="ow">in</span> <span class="n">archives</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">alias_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">AliasArchive</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">archives</span><span class="p">[</span><span class="s2">&quot;alias&quot;</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
            <span class="n">alias_archive_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">alias_archive</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
            <span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">alias_archive_config</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">alias_archive</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="s2">&quot;job_record&quot;</span> <span class="ow">in</span> <span class="n">archives</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">jobs_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">JobArchive</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">archives</span><span class="p">[</span><span class="s2">&quot;job_record&quot;</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
            <span class="n">jobs_archive_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">jobs_archive</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
            <span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">jobs_archive_config</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">jobs_archive</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">_archives</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">x</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data_archive</span><span class="p">,</span> <span class="n">alias_archive</span><span class="p">,</span> <span class="n">metadata_archive</span><span class="p">,</span> <span class="n">jobs_archive</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_archives</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No archive found in file: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">archive_id</span> <span class="o">=</span> <span class="n">_archives</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">archive_id</span>
            <span class="n">archive_alias</span> <span class="o">=</span> <span class="n">_archives</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">archive_name</span>
            <span class="k">for</span> <span class="n">archive</span> <span class="ow">in</span> <span class="n">_archives</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">archive</span><span class="o">.</span><span class="n">archive_id</span> <span class="o">!=</span> <span class="n">archive_id</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Multiple different archive ids found in file: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">archive</span><span class="o">.</span><span class="n">archive_name</span> <span class="o">!=</span> <span class="n">archive_alias</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Multiple different archive aliases found in file: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>

        <span class="n">kiarchive</span> <span class="o">=</span> <span class="n">KiArchive</span><span class="p">(</span>
            <span class="n">archive_id</span><span class="o">=</span><span class="n">archive_id</span><span class="p">,</span>
            <span class="n">archive_name</span><span class="o">=</span><span class="n">archive_alias</span><span class="p">,</span>
            <span class="n">metadata_archive_config</span><span class="o">=</span><span class="n">metadata_archive_config</span><span class="p">,</span>
            <span class="n">data_archive_config</span><span class="o">=</span><span class="n">data_archive_config</span><span class="p">,</span>
            <span class="n">alias_archive_config</span><span class="o">=</span><span class="n">alias_archive_config</span><span class="p">,</span>
            <span class="n">job_archive_config</span><span class="o">=</span><span class="n">jobs_archive_config</span><span class="p">,</span>
            <span class="n">archive_base_path</span><span class="o">=</span><span class="n">archive_path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">as_posix</span><span class="p">(),</span>
            <span class="n">archive_file_name</span><span class="o">=</span><span class="n">archive_path</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">kiarchive</span><span class="o">.</span><span class="n">_metadata_archive</span> <span class="o">=</span> <span class="n">metadata_archive</span>
        <span class="n">kiarchive</span><span class="o">.</span><span class="n">_data_archive</span> <span class="o">=</span> <span class="n">data_archive</span>
        <span class="n">kiarchive</span><span class="o">.</span><span class="n">_alias_archive</span> <span class="o">=</span> <span class="n">alias_archive</span>
        <span class="n">kiarchive</span><span class="o">.</span><span class="n">_jobs_archive</span> <span class="o">=</span> <span class="n">jobs_archive</span>
        <span class="n">kiarchive</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">kiara</span>

        <span class="k">return</span> <span class="n">kiarchive</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_kiarchive</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
        <span class="n">kiarchive_uri</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
        <span class="n">archive_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">compression</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">CHUNK_COMPRESSION_TYPE</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">allow_write_access</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">allow_existing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiArchive&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">compression</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">compression</span> <span class="o">=</span> <span class="n">DEFAULT_CHUNK_COMPRESSION</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">kiarchive_uri</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">kiarchive_uri</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">kiarchive_uri</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">archive_name</span><span class="p">:</span>
            <span class="n">archive_name</span> <span class="o">=</span> <span class="n">kiarchive_uri</span><span class="o">.</span><span class="n">name</span>
            <span class="k">if</span> <span class="n">archive_name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.kiarchive&quot;</span><span class="p">):</span>
                <span class="n">archive_name</span> <span class="o">=</span> <span class="n">archive_name</span><span class="p">[:</span><span class="o">-</span><span class="mi">10</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">kiarchive_uri</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">allow_existing</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Archive file &#39;</span><span class="si">{</span><span class="n">kiarchive_uri</span><span class="si">}</span><span class="s2">&#39; already exists.&quot;</span><span class="p">)</span>
            <span class="n">kiarchive</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">load_kiarchive</span><span class="p">(</span>
                <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">kiarchive_uri</span><span class="p">,</span> <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.utils.stores</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_new_archive</span>

            <span class="n">archive_base_path</span> <span class="o">=</span> <span class="n">kiarchive_uri</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>
            <span class="n">archive_file_name</span> <span class="o">=</span> <span class="n">kiarchive_uri</span><span class="o">.</span><span class="n">name</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">compression</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">compression</span> <span class="o">=</span> <span class="n">CHUNK_COMPRESSION_TYPE</span><span class="p">[</span><span class="n">compression</span><span class="o">.</span><span class="n">upper</span><span class="p">()]</span>

            <span class="n">data_store</span><span class="p">:</span> <span class="n">DataStore</span> <span class="o">=</span> <span class="n">create_new_archive</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
                <span class="n">archive_name</span><span class="o">=</span><span class="n">archive_name</span><span class="p">,</span>
                <span class="n">store_base_path</span><span class="o">=</span><span class="n">archive_base_path</span><span class="p">,</span>
                <span class="n">store_type</span><span class="o">=</span><span class="s2">&quot;sqlite_data_store&quot;</span><span class="p">,</span>
                <span class="n">file_name</span><span class="o">=</span><span class="n">archive_file_name</span><span class="p">,</span>
                <span class="n">default_chunk_compression</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">compression</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
                <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">data_store_config</span> <span class="o">=</span> <span class="n">data_store</span><span class="o">.</span><span class="n">config</span>

            <span class="n">metadata_store</span><span class="p">:</span> <span class="n">MetadataStore</span> <span class="o">=</span> <span class="n">create_new_archive</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
                <span class="n">archive_name</span><span class="o">=</span><span class="n">archive_name</span><span class="p">,</span>
                <span class="n">store_base_path</span><span class="o">=</span><span class="n">archive_base_path</span><span class="p">,</span>
                <span class="n">store_type</span><span class="o">=</span><span class="s2">&quot;sqlite_metadata_store&quot;</span><span class="p">,</span>
                <span class="n">file_name</span><span class="o">=</span><span class="n">archive_file_name</span><span class="p">,</span>
                <span class="n">allow_write_access</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">set_archive_name_metadata</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">metadata_store_config</span> <span class="o">=</span> <span class="n">metadata_store</span><span class="o">.</span><span class="n">config</span>

            <span class="n">alias_store</span><span class="p">:</span> <span class="n">AliasStore</span> <span class="o">=</span> <span class="n">create_new_archive</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
                <span class="n">archive_name</span><span class="o">=</span><span class="n">archive_name</span><span class="p">,</span>
                <span class="n">store_base_path</span><span class="o">=</span><span class="n">archive_base_path</span><span class="p">,</span>
                <span class="n">store_type</span><span class="o">=</span><span class="s2">&quot;sqlite_alias_store&quot;</span><span class="p">,</span>
                <span class="n">file_name</span><span class="o">=</span><span class="n">archive_file_name</span><span class="p">,</span>
                <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
                <span class="n">set_archive_name_metadata</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">alias_store_config</span> <span class="o">=</span> <span class="n">alias_store</span><span class="o">.</span><span class="n">config</span>

            <span class="n">job_store</span><span class="p">:</span> <span class="n">JobStore</span> <span class="o">=</span> <span class="n">create_new_archive</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
                <span class="n">archive_name</span><span class="o">=</span><span class="n">archive_name</span><span class="p">,</span>
                <span class="n">store_base_path</span><span class="o">=</span><span class="n">archive_base_path</span><span class="p">,</span>
                <span class="n">store_type</span><span class="o">=</span><span class="s2">&quot;sqlite_job_store&quot;</span><span class="p">,</span>
                <span class="n">file_name</span><span class="o">=</span><span class="n">archive_file_name</span><span class="p">,</span>
                <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
                <span class="n">set_archive_name_metadata</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">job_store_config</span> <span class="o">=</span> <span class="n">job_store</span><span class="o">.</span><span class="n">config</span>

            <span class="n">kiarchive_id</span> <span class="o">=</span> <span class="n">data_store</span><span class="o">.</span><span class="n">archive_id</span>
            <span class="k">assert</span> <span class="n">alias_store</span><span class="o">.</span><span class="n">archive_id</span> <span class="o">==</span> <span class="n">kiarchive_id</span>
            <span class="k">assert</span> <span class="n">metadata_store</span><span class="o">.</span><span class="n">archive_id</span> <span class="o">==</span> <span class="n">kiarchive_id</span>
            <span class="k">assert</span> <span class="n">job_store</span><span class="o">.</span><span class="n">archive_id</span> <span class="o">==</span> <span class="n">kiarchive_id</span>

            <span class="n">kiarchive</span> <span class="o">=</span> <span class="n">KiArchive</span><span class="p">(</span>
                <span class="n">archive_id</span><span class="o">=</span><span class="n">kiarchive_id</span><span class="p">,</span>
                <span class="n">archive_name</span><span class="o">=</span><span class="n">archive_name</span><span class="p">,</span>
                <span class="n">archive_base_path</span><span class="o">=</span><span class="n">archive_base_path</span><span class="p">,</span>
                <span class="n">archive_file_name</span><span class="o">=</span><span class="n">archive_file_name</span><span class="p">,</span>
                <span class="n">metadata_archive_config</span><span class="o">=</span><span class="n">metadata_store_config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
                <span class="n">data_archive_config</span><span class="o">=</span><span class="n">data_store_config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
                <span class="n">alias_archive_config</span><span class="o">=</span><span class="n">alias_store_config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
                <span class="n">job_archive_config</span><span class="o">=</span><span class="n">job_store_config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
                <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">kiarchive</span><span class="o">.</span><span class="n">_metadata_archive</span> <span class="o">=</span> <span class="n">metadata_store</span>
            <span class="n">kiarchive</span><span class="o">.</span><span class="n">_data_archive</span> <span class="o">=</span> <span class="n">data_store</span>
            <span class="n">kiarchive</span><span class="o">.</span><span class="n">_alias_archive</span> <span class="o">=</span> <span class="n">alias_store</span>
            <span class="n">kiarchive</span><span class="o">.</span><span class="n">_jobs_archive</span> <span class="o">=</span> <span class="n">job_store</span>
            <span class="n">kiarchive</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">kiara</span>

        <span class="k">return</span> <span class="n">kiarchive</span>

    <span class="n">_kiara_model_id</span><span class="p">:</span> <span class="n">ClassVar</span> <span class="o">=</span> <span class="s2">&quot;instance.kiarchive&quot;</span>

    <span class="n">archive_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The unique identifier of the archive.&quot;</span><span class="p">)</span>
    <span class="n">archive_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The alias of the archive.&quot;</span><span class="p">)</span>
    <span class="n">archive_base_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The base path/uri of the store.&quot;</span><span class="p">)</span>
    <span class="n">archive_file_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The (file-)name of the store.&quot;</span><span class="p">)</span>
    <span class="n">allow_write_access</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether the store allows write access.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>
    <span class="n">metadata_archive_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The archive to store metadata in.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>
    <span class="n">data_archive_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The archive to store the data in.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>
    <span class="n">alias_archive_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The archive to store aliases in.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>
    <span class="n">job_archive_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The archive to store jobs in.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>

    <span class="n">_metadata_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;MetadataArchive&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_data_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;DataArchive&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_alias_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;AliasArchive&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_jobs_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;JobArchive&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="n">_kiara</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">metadata_archive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;MetadataArchive&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_archive</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_archive</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata_archive_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.utils.stores</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_new_archive</span>

        <span class="n">metadata_archive</span><span class="p">:</span> <span class="n">MetadataArchive</span> <span class="o">=</span> <span class="n">create_new_archive</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
            <span class="n">archive_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_name</span><span class="p">,</span>
            <span class="n">store_base_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_base_path</span><span class="p">,</span>
            <span class="n">store_type</span><span class="o">=</span><span class="s2">&quot;sqlite_metadata_store&quot;</span><span class="p">,</span>
            <span class="n">file_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_file_name</span><span class="p">,</span>
            <span class="n">allow_write_access</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata_archive_config</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_archive</span> <span class="o">=</span> <span class="n">metadata_archive</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_archive</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">data_archive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;DataArchive&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_archive</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_archive</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_archive_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.utils.stores</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_new_archive</span>

        <span class="n">data_archive</span><span class="p">:</span> <span class="n">DataArchive</span> <span class="o">=</span> <span class="n">create_new_archive</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
            <span class="n">archive_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_name</span><span class="p">,</span>
            <span class="n">store_base_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_base_path</span><span class="p">,</span>
            <span class="n">store_type</span><span class="o">=</span><span class="s2">&quot;sqlite_data_store&quot;</span><span class="p">,</span>
            <span class="n">file_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_file_name</span><span class="p">,</span>
            <span class="n">allow_write_access</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">data_archive_config</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_archive</span> <span class="o">=</span> <span class="n">data_archive</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_archive</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">alias_archive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;AliasArchive&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_alias_archive</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_alias_archive</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">alias_archive_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.utils.stores</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_new_archive</span>

        <span class="n">alias_archive</span><span class="p">:</span> <span class="n">AliasStore</span> <span class="o">=</span> <span class="n">create_new_archive</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
            <span class="n">archive_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_name</span><span class="p">,</span>
            <span class="n">store_base_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_base_path</span><span class="p">,</span>
            <span class="n">store_type</span><span class="o">=</span><span class="s2">&quot;sqlite_alias_store&quot;</span><span class="p">,</span>
            <span class="n">file_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_file_name</span><span class="p">,</span>
            <span class="n">allow_write_access</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_alias_archive</span> <span class="o">=</span> <span class="n">alias_archive</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_alias_archive</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">job_archive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;JobArchive&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_jobs_archive</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_jobs_archive</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">job_archive_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.utils.stores</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_new_archive</span>

        <span class="n">jobs_archive</span><span class="p">:</span> <span class="n">JobStore</span> <span class="o">=</span> <span class="n">create_new_archive</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
            <span class="n">archive_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_name</span><span class="p">,</span>
            <span class="n">store_base_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_base_path</span><span class="p">,</span>
            <span class="n">store_type</span><span class="o">=</span><span class="s2">&quot;sqlite_job_store&quot;</span><span class="p">,</span>
            <span class="n">file_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_file_name</span><span class="p">,</span>
            <span class="n">allow_write_access</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_jobs_archive</span> <span class="o">=</span> <span class="n">jobs_archive</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_jobs_archive</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">





<h4 id="kiara.api.KiArchive-attributes">Attributes<a href="#kiara.api.KiArchive-attributes" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiArchive.archive_id" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">archive_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The unique identifier of the archive.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiArchive.archive_id" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiArchive.archive_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">archive_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The alias of the archive.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiArchive.archive_name" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiArchive.archive_base_path" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">archive_base_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The base path/uri of the store.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiArchive.archive_base_path" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiArchive.archive_file_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">archive_file_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The (file-)name of the store.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiArchive.archive_file_name" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiArchive.allow_write_access" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">allow_write_access</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Whether the store allows write access.&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiArchive.allow_write_access" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiArchive.metadata_archive_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">metadata_archive_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The archive to store metadata in.&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiArchive.metadata_archive_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiArchive.data_archive_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">data_archive_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The archive to store the data in.&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiArchive.data_archive_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiArchive.alias_archive_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">alias_archive_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The archive to store aliases in.&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiArchive.alias_archive_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiArchive.job_archive_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">job_archive_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The archive to store jobs in.&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiArchive.job_archive_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiArchive.metadata_archive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">metadata_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">MetadataArchive</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.KiArchive.metadata_archive" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiArchive.data_archive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">data_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">DataArchive</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.KiArchive.data_archive" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiArchive.alias_archive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">alias_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">AliasArchive</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.KiArchive.alias_archive" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiArchive.job_archive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">job_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">JobArchive</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.KiArchive.job_archive" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<h4 id="kiara.api.KiArchive-functions">Functions<a href="#kiara.api.KiArchive-functions" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiArchive.load_kiarchive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load_kiarchive</span><span class="p">(</span><span class="n">kiara</span><span class="p">:</span> <span class="n">Kiara</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="n">allow_write_access</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">archive_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiArchive</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.KiArchive.load_kiarchive" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/models/archive.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">load_kiarchive</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
    <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
    <span class="n">allow_write_access</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">archive_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiArchive&quot;</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>

    <span class="n">archive_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">archive_path</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Archive file &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">)</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.utils.stores</span><span class="w"> </span><span class="kn">import</span> <span class="n">check_external_archive</span>

    <span class="n">archives</span> <span class="o">=</span> <span class="n">check_external_archive</span><span class="p">(</span>
        <span class="n">archive</span><span class="o">=</span><span class="n">archive_path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">(),</span>
        <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
        <span class="n">archive_name</span><span class="o">=</span><span class="n">archive_name</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;metadata&quot;</span> <span class="ow">in</span> <span class="n">archives</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">metadata_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">MetadataArchive</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">archives</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
        <span class="n">metadata_archive_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">metadata_archive</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
        <span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">metadata_archive_config</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">metadata_archive</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">archives</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">data_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">DataArchive</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">archives</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
        <span class="n">data_archive_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">data_archive</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
        <span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">data_archive_config</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">data_archive</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="s2">&quot;alias&quot;</span> <span class="ow">in</span> <span class="n">archives</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">alias_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">AliasArchive</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">archives</span><span class="p">[</span><span class="s2">&quot;alias&quot;</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
        <span class="n">alias_archive_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">alias_archive</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
        <span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">alias_archive_config</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">alias_archive</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="s2">&quot;job_record&quot;</span> <span class="ow">in</span> <span class="n">archives</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">jobs_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">JobArchive</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">archives</span><span class="p">[</span><span class="s2">&quot;job_record&quot;</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
        <span class="n">jobs_archive_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">jobs_archive</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
        <span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">jobs_archive_config</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">jobs_archive</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">_archives</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">x</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data_archive</span><span class="p">,</span> <span class="n">alias_archive</span><span class="p">,</span> <span class="n">metadata_archive</span><span class="p">,</span> <span class="n">jobs_archive</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">_archives</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No archive found in file: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">archive_id</span> <span class="o">=</span> <span class="n">_archives</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">archive_id</span>
        <span class="n">archive_alias</span> <span class="o">=</span> <span class="n">_archives</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">archive_name</span>
        <span class="k">for</span> <span class="n">archive</span> <span class="ow">in</span> <span class="n">_archives</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">archive</span><span class="o">.</span><span class="n">archive_id</span> <span class="o">!=</span> <span class="n">archive_id</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Multiple different archive ids found in file: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="n">archive</span><span class="o">.</span><span class="n">archive_name</span> <span class="o">!=</span> <span class="n">archive_alias</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Multiple different archive aliases found in file: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

    <span class="n">kiarchive</span> <span class="o">=</span> <span class="n">KiArchive</span><span class="p">(</span>
        <span class="n">archive_id</span><span class="o">=</span><span class="n">archive_id</span><span class="p">,</span>
        <span class="n">archive_name</span><span class="o">=</span><span class="n">archive_alias</span><span class="p">,</span>
        <span class="n">metadata_archive_config</span><span class="o">=</span><span class="n">metadata_archive_config</span><span class="p">,</span>
        <span class="n">data_archive_config</span><span class="o">=</span><span class="n">data_archive_config</span><span class="p">,</span>
        <span class="n">alias_archive_config</span><span class="o">=</span><span class="n">alias_archive_config</span><span class="p">,</span>
        <span class="n">job_archive_config</span><span class="o">=</span><span class="n">jobs_archive_config</span><span class="p">,</span>
        <span class="n">archive_base_path</span><span class="o">=</span><span class="n">archive_path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">as_posix</span><span class="p">(),</span>
        <span class="n">archive_file_name</span><span class="o">=</span><span class="n">archive_path</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">kiarchive</span><span class="o">.</span><span class="n">_metadata_archive</span> <span class="o">=</span> <span class="n">metadata_archive</span>
    <span class="n">kiarchive</span><span class="o">.</span><span class="n">_data_archive</span> <span class="o">=</span> <span class="n">data_archive</span>
    <span class="n">kiarchive</span><span class="o">.</span><span class="n">_alias_archive</span> <span class="o">=</span> <span class="n">alias_archive</span>
    <span class="n">kiarchive</span><span class="o">.</span><span class="n">_jobs_archive</span> <span class="o">=</span> <span class="n">jobs_archive</span>
    <span class="n">kiarchive</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">kiara</span>

    <span class="k">return</span> <span class="n">kiarchive</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiArchive.create_kiarchive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_kiarchive</span><span class="p">(</span><span class="n">kiara</span><span class="p">:</span> <span class="n">Kiara</span><span class="p">,</span> <span class="n">kiarchive_uri</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="n">archive_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">compression</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">CHUNK_COMPRESSION_TYPE</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">allow_write_access</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">allow_existing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiArchive</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.KiArchive.create_kiarchive" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/models/archive.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_kiarchive</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
    <span class="n">kiarchive_uri</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
    <span class="n">archive_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">compression</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">CHUNK_COMPRESSION_TYPE</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">allow_write_access</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">allow_existing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiArchive&quot;</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">compression</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">compression</span> <span class="o">=</span> <span class="n">DEFAULT_CHUNK_COMPRESSION</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">kiarchive_uri</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">kiarchive_uri</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">kiarchive_uri</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">archive_name</span><span class="p">:</span>
        <span class="n">archive_name</span> <span class="o">=</span> <span class="n">kiarchive_uri</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="n">archive_name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.kiarchive&quot;</span><span class="p">):</span>
            <span class="n">archive_name</span> <span class="o">=</span> <span class="n">archive_name</span><span class="p">[:</span><span class="o">-</span><span class="mi">10</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">kiarchive_uri</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">allow_existing</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Archive file &#39;</span><span class="si">{</span><span class="n">kiarchive_uri</span><span class="si">}</span><span class="s2">&#39; already exists.&quot;</span><span class="p">)</span>
        <span class="n">kiarchive</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">load_kiarchive</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">kiarchive_uri</span><span class="p">,</span> <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.utils.stores</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_new_archive</span>

        <span class="n">archive_base_path</span> <span class="o">=</span> <span class="n">kiarchive_uri</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>
        <span class="n">archive_file_name</span> <span class="o">=</span> <span class="n">kiarchive_uri</span><span class="o">.</span><span class="n">name</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">compression</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">compression</span> <span class="o">=</span> <span class="n">CHUNK_COMPRESSION_TYPE</span><span class="p">[</span><span class="n">compression</span><span class="o">.</span><span class="n">upper</span><span class="p">()]</span>

        <span class="n">data_store</span><span class="p">:</span> <span class="n">DataStore</span> <span class="o">=</span> <span class="n">create_new_archive</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
            <span class="n">archive_name</span><span class="o">=</span><span class="n">archive_name</span><span class="p">,</span>
            <span class="n">store_base_path</span><span class="o">=</span><span class="n">archive_base_path</span><span class="p">,</span>
            <span class="n">store_type</span><span class="o">=</span><span class="s2">&quot;sqlite_data_store&quot;</span><span class="p">,</span>
            <span class="n">file_name</span><span class="o">=</span><span class="n">archive_file_name</span><span class="p">,</span>
            <span class="n">default_chunk_compression</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">compression</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
            <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">data_store_config</span> <span class="o">=</span> <span class="n">data_store</span><span class="o">.</span><span class="n">config</span>

        <span class="n">metadata_store</span><span class="p">:</span> <span class="n">MetadataStore</span> <span class="o">=</span> <span class="n">create_new_archive</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
            <span class="n">archive_name</span><span class="o">=</span><span class="n">archive_name</span><span class="p">,</span>
            <span class="n">store_base_path</span><span class="o">=</span><span class="n">archive_base_path</span><span class="p">,</span>
            <span class="n">store_type</span><span class="o">=</span><span class="s2">&quot;sqlite_metadata_store&quot;</span><span class="p">,</span>
            <span class="n">file_name</span><span class="o">=</span><span class="n">archive_file_name</span><span class="p">,</span>
            <span class="n">allow_write_access</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">set_archive_name_metadata</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">metadata_store_config</span> <span class="o">=</span> <span class="n">metadata_store</span><span class="o">.</span><span class="n">config</span>

        <span class="n">alias_store</span><span class="p">:</span> <span class="n">AliasStore</span> <span class="o">=</span> <span class="n">create_new_archive</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
            <span class="n">archive_name</span><span class="o">=</span><span class="n">archive_name</span><span class="p">,</span>
            <span class="n">store_base_path</span><span class="o">=</span><span class="n">archive_base_path</span><span class="p">,</span>
            <span class="n">store_type</span><span class="o">=</span><span class="s2">&quot;sqlite_alias_store&quot;</span><span class="p">,</span>
            <span class="n">file_name</span><span class="o">=</span><span class="n">archive_file_name</span><span class="p">,</span>
            <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
            <span class="n">set_archive_name_metadata</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">alias_store_config</span> <span class="o">=</span> <span class="n">alias_store</span><span class="o">.</span><span class="n">config</span>

        <span class="n">job_store</span><span class="p">:</span> <span class="n">JobStore</span> <span class="o">=</span> <span class="n">create_new_archive</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
            <span class="n">archive_name</span><span class="o">=</span><span class="n">archive_name</span><span class="p">,</span>
            <span class="n">store_base_path</span><span class="o">=</span><span class="n">archive_base_path</span><span class="p">,</span>
            <span class="n">store_type</span><span class="o">=</span><span class="s2">&quot;sqlite_job_store&quot;</span><span class="p">,</span>
            <span class="n">file_name</span><span class="o">=</span><span class="n">archive_file_name</span><span class="p">,</span>
            <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
            <span class="n">set_archive_name_metadata</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">job_store_config</span> <span class="o">=</span> <span class="n">job_store</span><span class="o">.</span><span class="n">config</span>

        <span class="n">kiarchive_id</span> <span class="o">=</span> <span class="n">data_store</span><span class="o">.</span><span class="n">archive_id</span>
        <span class="k">assert</span> <span class="n">alias_store</span><span class="o">.</span><span class="n">archive_id</span> <span class="o">==</span> <span class="n">kiarchive_id</span>
        <span class="k">assert</span> <span class="n">metadata_store</span><span class="o">.</span><span class="n">archive_id</span> <span class="o">==</span> <span class="n">kiarchive_id</span>
        <span class="k">assert</span> <span class="n">job_store</span><span class="o">.</span><span class="n">archive_id</span> <span class="o">==</span> <span class="n">kiarchive_id</span>

        <span class="n">kiarchive</span> <span class="o">=</span> <span class="n">KiArchive</span><span class="p">(</span>
            <span class="n">archive_id</span><span class="o">=</span><span class="n">kiarchive_id</span><span class="p">,</span>
            <span class="n">archive_name</span><span class="o">=</span><span class="n">archive_name</span><span class="p">,</span>
            <span class="n">archive_base_path</span><span class="o">=</span><span class="n">archive_base_path</span><span class="p">,</span>
            <span class="n">archive_file_name</span><span class="o">=</span><span class="n">archive_file_name</span><span class="p">,</span>
            <span class="n">metadata_archive_config</span><span class="o">=</span><span class="n">metadata_store_config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
            <span class="n">data_archive_config</span><span class="o">=</span><span class="n">data_store_config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
            <span class="n">alias_archive_config</span><span class="o">=</span><span class="n">alias_store_config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
            <span class="n">job_archive_config</span><span class="o">=</span><span class="n">job_store_config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
            <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">kiarchive</span><span class="o">.</span><span class="n">_metadata_archive</span> <span class="o">=</span> <span class="n">metadata_store</span>
        <span class="n">kiarchive</span><span class="o">.</span><span class="n">_data_archive</span> <span class="o">=</span> <span class="n">data_store</span>
        <span class="n">kiarchive</span><span class="o">.</span><span class="n">_alias_archive</span> <span class="o">=</span> <span class="n">alias_store</span>
        <span class="n">kiarchive</span><span class="o">.</span><span class="n">_jobs_archive</span> <span class="o">=</span> <span class="n">job_store</span>
        <span class="n">kiarchive</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">kiara</span>

    <span class="k">return</span> <span class="n">kiarchive</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="kiara.api.JobDesc" class="doc doc-heading">
            <code>JobDesc</code>


<a href="#kiara.api.JobDesc" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="KiaraModel (kiara.models.KiaraModel)" href="../models/__init__/#kiara.models.KiaraModel">KiaraModel</a></code></p>


        <p>An object describing a compute job with both raw or referenced inputs.</p>







              <details class="quote">
                <summary>Source code in <code>src/kiara/interfaces/python_api/models/job.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">JobDesc</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An object describing a compute job with both raw or referenced inputs.&quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span><span class="p">:</span> <span class="n">ClassVar</span> <span class="o">=</span> <span class="s2">&quot;instance.job_desc&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_from_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;JobDesc&quot;</span><span class="p">:</span>
        <span class="n">run_data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_from_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">run_data</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">parse_from_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t load job description, invalid file path: &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">get_data_from_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="n">repl_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;this_dir&quot;</span><span class="p">:</span> <span class="n">path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()}</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">run_data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_data</span><span class="p">(</span>
                <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">var_repl_dict</span><span class="o">=</span><span class="n">repl_dict</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="n">path</span><span class="o">.</span><span class="n">stem</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">run_data</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid run description in file &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">parse_data</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">var_repl_dict</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="s2">&quot;Job description data is not a mapping.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;operation&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="s2">&quot;Missing &#39;operation&#39; key&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">var_repl_dict</span><span class="p">:</span>
            <span class="n">run_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">replace_var_names_in_obj</span><span class="p">(</span>
                <span class="n">data</span><span class="p">,</span> <span class="n">repl_dict</span><span class="o">=</span><span class="n">var_repl_dict</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">run_data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">alias</span><span class="p">:</span>
            <span class="n">run_data</span><span class="p">[</span><span class="s2">&quot;job_alias&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">alias</span>

        <span class="k">return</span> <span class="n">run_data</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_from_data</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">var_repl_dict</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;JobDesc&quot;</span><span class="p">:</span>
        <span class="n">run_data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_data</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">var_repl_dict</span><span class="o">=</span><span class="n">var_repl_dict</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="n">alias</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">run_data</span><span class="p">)</span>

    <span class="n">job_alias</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The alias for the job.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>
    <span class="n">operation</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The operation id or module type.&quot;</span><span class="p">)</span>
    <span class="n">module_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The configuration for the module.&quot;</span>
    <span class="p">)</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The inputs for the job.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>
    <span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A description/doc for this job.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">save</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Configuration on how/whether to save the job results. Key is the output field name, value is the alias to use for saving.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IPLDKind</span><span class="p">:</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">get_hash</span><span class="p">(</span><span class="n">v</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;instance_cid&quot;</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">v</span><span class="o">.</span><span class="n">instance_cid</span>
            <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;value_id&quot;</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">value_id</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
                <span class="k">return</span> <span class="p">{</span><span class="n">get_hash</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">get_hash</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
            <span class="k">return</span> <span class="n">v</span>

        <span class="n">inputs_hash</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">get_hash</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;operation&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation</span><span class="p">,</span>
            <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="n">inputs_hash</span><span class="p">,</span>
            <span class="s2">&quot;save&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
        <span class="p">}</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">validate_inputs</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
                    <span class="n">data</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
                <span class="n">run_data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_from_file</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">run_data</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">values</span> <span class="o">=</span> <span class="n">data</span>
        <span class="k">return</span> <span class="n">values</span>

    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">validate_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara_api</span><span class="p">:</span> <span class="s2">&quot;BaseAPI&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Operation&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">:</span>
            <span class="n">operation</span><span class="p">:</span> <span class="n">Operation</span> <span class="o">=</span> <span class="n">kiara_api</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">operation</span><span class="p">,</span> <span class="n">allow_external</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation</span><span class="p">,</span>
                <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">operation</span> <span class="o">=</span> <span class="n">kiara_api</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="n">operation</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">allow_external</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">operation</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">





<h4 id="kiara.api.JobDesc-attributes">Attributes<a href="#kiara.api.JobDesc-attributes" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.JobDesc.job_alias" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">job_alias</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The alias for the job.&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.JobDesc.job_alias" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.JobDesc.operation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">operation</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The operation id or module type.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.JobDesc.operation" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.JobDesc.module_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">module_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;The configuration for the module.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.JobDesc.module_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.JobDesc.inputs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The inputs for the job.&#39;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.JobDesc.inputs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.JobDesc.doc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;A description/doc for this job.&#39;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.JobDesc.doc" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.JobDesc.save" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">save</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Configuration on how/whether to save the job results. Key is the output field name, value is the alias to use for saving.&#39;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.JobDesc.save" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<h4 id="kiara.api.JobDesc-functions">Functions<a href="#kiara.api.JobDesc-functions" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.JobDesc.create_from_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_from_file</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">JobDesc</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.JobDesc.create_from_file" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/models/job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_from_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;JobDesc&quot;</span><span class="p">:</span>
    <span class="n">run_data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_from_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">run_data</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.JobDesc.parse_from_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_from_file</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.JobDesc.parse_from_file" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/models/job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">parse_from_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t load job description, invalid file path: &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="p">)</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">get_data_from_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="n">repl_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;this_dir&quot;</span><span class="p">:</span> <span class="n">path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()}</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">run_data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_data</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">var_repl_dict</span><span class="o">=</span><span class="n">repl_dict</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="n">path</span><span class="o">.</span><span class="n">stem</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">run_data</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid run description in file &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.JobDesc.parse_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_data</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">var_repl_dict</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.JobDesc.parse_data" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/models/job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">parse_data</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">var_repl_dict</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="s2">&quot;Job description data is not a mapping.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;operation&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="s2">&quot;Missing &#39;operation&#39; key&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">var_repl_dict</span><span class="p">:</span>
        <span class="n">run_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">replace_var_names_in_obj</span><span class="p">(</span>
            <span class="n">data</span><span class="p">,</span> <span class="n">repl_dict</span><span class="o">=</span><span class="n">var_repl_dict</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">run_data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">alias</span><span class="p">:</span>
        <span class="n">run_data</span><span class="p">[</span><span class="s2">&quot;job_alias&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">alias</span>

    <span class="k">return</span> <span class="n">run_data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.JobDesc.create_from_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_from_data</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">var_repl_dict</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JobDesc</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.JobDesc.create_from_data" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/models/job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_from_data</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">var_repl_dict</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;JobDesc&quot;</span><span class="p">:</span>
    <span class="n">run_data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_data</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">var_repl_dict</span><span class="o">=</span><span class="n">var_repl_dict</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="n">alias</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">run_data</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.JobDesc.validate_inputs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_inputs</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.JobDesc.validate_inputs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/models/job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
<span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">validate_inputs</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
            <span class="n">run_data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_from_file</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">run_data</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">data</span>
    <span class="k">return</span> <span class="n">values</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.JobDesc.validate_doc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_doc</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.JobDesc.validate_doc" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/models/job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
<span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">validate_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.JobDesc.get_operation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_operation</span><span class="p">(</span><span class="n">kiara_api</span><span class="p">:</span> <span class="n">BaseAPI</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Operation</span></code>

<a href="#kiara.api.JobDesc.get_operation" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/models/job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara_api</span><span class="p">:</span> <span class="s2">&quot;BaseAPI&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Operation&quot;</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">:</span>
        <span class="n">operation</span><span class="p">:</span> <span class="n">Operation</span> <span class="o">=</span> <span class="n">kiara_api</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">operation</span><span class="p">,</span> <span class="n">allow_external</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation</span><span class="p">,</span>
            <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">operation</span> <span class="o">=</span> <span class="n">kiara_api</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="n">operation</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">allow_external</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">operation</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="kiara.api.RunSpec" class="doc doc-heading">
            <code>RunSpec</code>


<a href="#kiara.api.RunSpec" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>A list of jobs, ran one after the other, incl saving of results.</p>







              <details class="quote">
                <summary>Source code in <code>src/kiara/interfaces/python_api/models/job.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RunSpec</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A list of jobs, ran one after the other, incl saving of results.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_from_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t load run spec, invalid file path: &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">get_data_from_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="n">repl_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;this_dir&quot;</span><span class="p">:</span> <span class="n">path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()}</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">run</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_from_data</span><span class="p">(</span>
                <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">var_repl_dict</span><span class="o">=</span><span class="n">repl_dict</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="n">path</span><span class="o">.</span><span class="n">stem</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">run</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid run description in file &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_from_data</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">var_repl_dict</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="s2">&quot;Run spec data is not a mapping.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;jobs&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="s2">&quot;Missing &#39;jobs&#39; key&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">var_repl_dict</span><span class="p">:</span>
            <span class="n">run_data</span> <span class="o">=</span> <span class="n">replace_var_names_in_obj</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">repl_dict</span><span class="o">=</span><span class="n">var_repl_dict</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">run_data</span> <span class="o">=</span> <span class="n">data</span>

        <span class="k">if</span> <span class="n">alias</span><span class="p">:</span>
            <span class="n">run_data</span><span class="p">[</span><span class="s2">&quot;run_alias&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">alias</span>

        <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">run_data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">instance</span>

    <span class="n">run_alias</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The alias for the run.&quot;</span><span class="p">)</span>
    <span class="n">jobs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">JobDesc</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The jobs to run.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A description/doc for this run.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">validate_inputs</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
        <span class="k">if</span> <span class="s2">&quot;jobs&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Missing required &#39;jobs&#39; key.&quot;</span><span class="p">)</span>

        <span class="n">jobs</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="s2">&quot;jobs&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">jobs</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid &#39;jobs&#39; value, must be a list.&quot;</span><span class="p">)</span>

        <span class="n">new_jobs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">jobs</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">job</span><span class="p">,</span> <span class="n">JobDesc</span><span class="p">):</span>
                <span class="n">job_spec</span> <span class="o">=</span> <span class="n">job</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">job</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
                <span class="n">job_spec</span> <span class="o">=</span> <span class="n">JobDesc</span><span class="p">(</span><span class="o">**</span><span class="n">job</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">job</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">)):</span>
                <span class="n">job_spec</span> <span class="o">=</span> <span class="n">JobDesc</span><span class="o">.</span><span class="n">create_from_file</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid job spec type: </span><span class="si">{</span><span class="n">job</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># TODO: validate &#39;save&#39; fields</span>
            <span class="n">new_jobs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">job_spec</span><span class="p">)</span>

        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;jobs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_jobs</span>
        <span class="k">return</span> <span class="n">values</span>

    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">validate_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">





<h4 id="kiara.api.RunSpec-attributes">Attributes<a href="#kiara.api.RunSpec-attributes" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.RunSpec.run_alias" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run_alias</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The alias for the run.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.RunSpec.run_alias" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.RunSpec.jobs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">jobs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">JobDesc</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The jobs to run.&#39;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.RunSpec.jobs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.RunSpec.doc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;A description/doc for this run.&#39;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.RunSpec.doc" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<h4 id="kiara.api.RunSpec-functions">Functions<a href="#kiara.api.RunSpec-functions" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.RunSpec.create_from_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_from_file</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.RunSpec.create_from_file" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/models/job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_from_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t load run spec, invalid file path: &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">get_data_from_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="n">repl_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;this_dir&quot;</span><span class="p">:</span> <span class="n">path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()}</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">run</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_from_data</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">var_repl_dict</span><span class="o">=</span><span class="n">repl_dict</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="n">path</span><span class="o">.</span><span class="n">stem</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">run</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid run description in file &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.RunSpec.create_from_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_from_data</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">var_repl_dict</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.RunSpec.create_from_data" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/models/job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_from_data</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">var_repl_dict</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="s2">&quot;Run spec data is not a mapping.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;jobs&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="s2">&quot;Missing &#39;jobs&#39; key&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">var_repl_dict</span><span class="p">:</span>
        <span class="n">run_data</span> <span class="o">=</span> <span class="n">replace_var_names_in_obj</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">repl_dict</span><span class="o">=</span><span class="n">var_repl_dict</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">run_data</span> <span class="o">=</span> <span class="n">data</span>

    <span class="k">if</span> <span class="n">alias</span><span class="p">:</span>
        <span class="n">run_data</span><span class="p">[</span><span class="s2">&quot;run_alias&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">alias</span>

    <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">run_data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">instance</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.RunSpec.validate_inputs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_inputs</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.RunSpec.validate_inputs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/models/job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
<span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">validate_inputs</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
    <span class="k">if</span> <span class="s2">&quot;jobs&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Missing required &#39;jobs&#39; key.&quot;</span><span class="p">)</span>

    <span class="n">jobs</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="s2">&quot;jobs&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">jobs</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid &#39;jobs&#39; value, must be a list.&quot;</span><span class="p">)</span>

    <span class="n">new_jobs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">jobs</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">job</span><span class="p">,</span> <span class="n">JobDesc</span><span class="p">):</span>
            <span class="n">job_spec</span> <span class="o">=</span> <span class="n">job</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">job</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">job_spec</span> <span class="o">=</span> <span class="n">JobDesc</span><span class="p">(</span><span class="o">**</span><span class="n">job</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">job</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">)):</span>
            <span class="n">job_spec</span> <span class="o">=</span> <span class="n">JobDesc</span><span class="o">.</span><span class="n">create_from_file</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid job spec type: </span><span class="si">{</span><span class="n">job</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># TODO: validate &#39;save&#39; fields</span>
        <span class="n">new_jobs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">job_spec</span><span class="p">)</span>

    <span class="n">values</span><span class="p">[</span><span class="s2">&quot;jobs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_jobs</span>
    <span class="k">return</span> <span class="n">values</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.RunSpec.validate_doc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_doc</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.RunSpec.validate_doc" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/models/job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
<span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">validate_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="kiara.api.Pipeline" class="doc doc-heading">
            <code>Pipeline</code>


<a href="#kiara.api.Pipeline" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="object">object</span></code></p>


        <p>An instance of a [PipelineStructure][kiara.pipeline.structure.PipelineStructure] that holds state for all of the inputs/outputs of the steps within.</p>







              <details class="quote">
                <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Pipeline</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An instance of a [PipelineStructure][kiara.pipeline.structure.PipelineStructure] that holds state for all of the inputs/outputs of the steps within.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_pipeline</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">kiara</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="s2">&quot;BaseAPI&quot;</span><span class="p">],</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">PipelineConfig</span><span class="p">,</span> <span class="n">PipelineStructure</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Pipeline&quot;</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.base_api</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseAPI</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">kiara</span><span class="p">,</span> <span class="n">BaseAPI</span><span class="p">):</span>
            <span class="n">kiara</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">context</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">pipeline_structure</span><span class="p">:</span> <span class="n">PipelineStructure</span> <span class="o">=</span> <span class="n">PipelineConfig</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span>
                <span class="n">pipeline_name</span><span class="o">=</span><span class="s2">&quot;__pipeline__&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span>
            <span class="p">)</span><span class="o">.</span><span class="n">structure</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">PipelineConfig</span><span class="p">):</span>
            <span class="n">pipeline_structure</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">structure</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">PipelineStructure</span><span class="p">):</span>
            <span class="n">pipeline_structure</span> <span class="o">=</span> <span class="n">pipeline</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">operation</span> <span class="o">=</span> <span class="n">create_operation</span><span class="p">(</span><span class="n">module_or_operation</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">)</span>
            <span class="n">module</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="n">module</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">PipelineConfig</span><span class="p">):</span>
                <span class="n">config</span><span class="p">:</span> <span class="n">PipelineConfig</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">config</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">step_id</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">module_type_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>
                <span class="n">input_aliases</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">output_aliases</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">for</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="n">module</span><span class="o">.</span><span class="n">input_names</span><span class="p">:</span>
                    <span class="n">input_aliases</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">input_name</span>
                <span class="k">for</span> <span class="n">output_name</span> <span class="ow">in</span> <span class="n">module</span><span class="o">.</span><span class="n">output_names</span><span class="p">:</span>
                    <span class="n">output_aliases</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">output_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">output_name</span>
                <span class="n">pipeline_config_data</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="n">module</span><span class="o">.</span><span class="n">doc</span><span class="p">,</span>
                    <span class="s2">&quot;steps&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="n">module</span><span class="o">.</span><span class="n">module_type_name</span><span class="p">,</span>
                            <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
                            <span class="s2">&quot;step_id&quot;</span><span class="p">:</span> <span class="n">step_id</span><span class="p">,</span>
                        <span class="p">},</span>
                    <span class="p">],</span>
                    <span class="s2">&quot;input_aliases&quot;</span><span class="p">:</span> <span class="n">input_aliases</span><span class="p">,</span>
                    <span class="s2">&quot;output_aliases&quot;</span><span class="p">:</span> <span class="n">output_aliases</span><span class="p">,</span>
                <span class="p">}</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">PipelineConfig</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span>
                    <span class="n">pipeline_name</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">module_type_name</span><span class="p">,</span>
                    <span class="n">data</span><span class="o">=</span><span class="n">pipeline_config_data</span><span class="p">,</span>
                    <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="n">pipeline_structure</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">structure</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type for argument &#39;pipeline&#39;: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">pipeline</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">pipeline_obj</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="n">pipeline_structure</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">pipeline_obj</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">:</span> <span class="n">PipelineStructure</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="p">:</span> <span class="n">PipelineStructure</span> <span class="o">=</span> <span class="n">structure</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_value_refs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">AliasValueMap</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">ValueRef</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
        <span class="c1"># self._status: StepStatus = StepStatus.STALE</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineStep</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_by_stage</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_outputs_by_stage</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">:</span> <span class="n">Kiara</span> <span class="o">=</span> <span class="n">kiara</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="p">:</span> <span class="n">DataRegistry</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">data_registry</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="p">:</span> <span class="n">AliasValueMap</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PipelineListener</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_init_values</span><span class="p">()</span>

        <span class="c1"># self._update_status()</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">pipeline_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span>

    <span class="c1"># @property</span>
    <span class="c1"># def pipeline_name(self) -&gt; str:</span>
    <span class="c1">#     return self.structure.pipeline_config.pipeline_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">kiara_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="o">.</span><span class="n">id</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_init_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize this object. This should only be called once.</span>

<span class="sd">        Basically, this goes through all the inputs and outputs of all steps, and &#39;allocates&#39; a PipelineValueInfo object</span>
<span class="sd">        for each of them. In case where output/input or pipeline-input/input points are connected, only one</span>
<span class="sd">        value item is allocated, since those refer to the same value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">AliasValueMap</span><span class="p">(</span>
            <span class="n">alias</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
            <span class="n">version</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">assoc_value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">values_schema</span><span class="o">=</span><span class="p">{},</span>
            <span class="n">assoc_schema</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">values</span><span class="o">.</span><span class="n">_data_registry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span>
        <span class="n">inputs_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">pipeline_inputs_schema</span>
        <span class="n">outputs_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">pipeline_outputs_schema</span>
        <span class="k">if</span> <span class="n">inputs_schema</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">inputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">values</span><span class="o">.</span><span class="n">set_alias_schema</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;pipeline.inputs.</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">values</span><span class="o">.</span><span class="n">set_alias_schema</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">ValueSchema</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">outputs_schema</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">outputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">values</span><span class="o">.</span><span class="n">set_alias_schema</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;pipeline.outputs.</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">values</span><span class="o">.</span><span class="n">set_alias_schema</span><span class="p">(</span><span class="s2">&quot;pipeline.outputs&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">ValueSchema</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
            <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">value_schema</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">inputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">values</span><span class="o">.</span><span class="n">set_alias_schema</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.inputs.</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">value_schema</span>
                <span class="p">)</span>
            <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">value_schema</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">values</span><span class="o">.</span><span class="n">set_alias_schema</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.outputs.</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">value_schema</span>
                <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span> <span class="o">=</span> <span class="n">values</span>

        <span class="n">initial_inputs</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">pipeline_inputs_schema</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_pipeline_inputs</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">initial_inputs</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Pipeline</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">_id</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">listener</span><span class="p">:</span> <span class="n">PipelineListener</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listener</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">structure</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineStructure</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">pipeline_inputs_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">pipeline_inputs_schema</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">pipeline_outputs_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">pipeline_outputs_schema</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineConfig</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">pipeline_config</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">doc</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DocumentationMetadataModel</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">doc</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_current_pipeline_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;All (pipeline) input values of this pipeline.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_current_pipeline_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;All (pipeline) output values of this pipeline.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.outputs&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_current_step_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
        <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.inputs&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_current_step_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
        <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.outputs&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_inputs_for_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">step_ids</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve value ids for the inputs of the specified steps (or all steps, if no argument provided.&quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">step_ids</span> <span class="ow">and</span> <span class="n">step_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">step_ids</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">ids</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_outputs_for_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">step_ids</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve value ids for the outputs of the specified steps (or all steps, if no argument provided.&quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">step_ids</span> <span class="ow">and</span> <span class="n">step_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">step_ids</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_outputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">ids</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_notify_pipeline_listeners</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">PipelineEvent</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">listener</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">:</span>
            <span class="n">listener</span><span class="o">.</span><span class="n">_pipeline_event_occurred</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="n">event</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_pipeline_details</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineState</span><span class="p">:</span>
        <span class="n">pipeline_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">)</span>
        <span class="n">pipeline_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.outputs&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">pipeline_inputs</span><span class="p">:</span>
            <span class="n">invalid</span> <span class="o">=</span> <span class="n">pipeline_inputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">invalid</span><span class="p">:</span>
                <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_READY</span>
                <span class="n">step_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.outputs&quot;</span><span class="p">)</span>
                <span class="k">assert</span> <span class="n">step_outputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="n">invalid_outputs</span> <span class="o">=</span> <span class="n">step_outputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
                <span class="c1"># TODO: also check that all the pedigrees match up with current inputs</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">invalid_outputs</span><span class="p">:</span>
                    <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">RESULTS_READY</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_INVALID</span>
            <span class="n">_pipeline_inputs</span> <span class="o">=</span> <span class="n">pipeline_inputs</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_pipeline_inputs</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">invalid</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_READY</span>

        <span class="k">if</span> <span class="n">pipeline_outputs</span><span class="p">:</span>
            <span class="n">_pipeline_outputs</span> <span class="o">=</span> <span class="n">pipeline_outputs</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_pipeline_outputs</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">step_states</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
            <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step_details</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
            <span class="n">step_states</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span>

        <span class="n">details</span> <span class="o">=</span> <span class="n">PipelineState</span><span class="p">(</span>
            <span class="n">kiara_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">kiara_id</span><span class="p">,</span>
            <span class="n">pipeline_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">,</span>
            <span class="n">pipeline_status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
            <span class="n">pipeline_inputs</span><span class="o">=</span><span class="n">_pipeline_inputs</span><span class="p">,</span>
            <span class="n">pipeline_outputs</span><span class="o">=</span><span class="n">_pipeline_outputs</span><span class="p">,</span>
            <span class="n">invalid_details</span><span class="o">=</span><span class="n">invalid</span><span class="p">,</span>
            <span class="n">step_states</span><span class="o">=</span><span class="n">step_states</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">details</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span>

        <span class="k">return</span> <span class="n">details</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_step_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepDetails</span><span class="p">:</span>
        <span class="n">step_input_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">step_output_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_outputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">step_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.inputs&quot;</span><span class="p">)</span>

        <span class="k">assert</span> <span class="n">step_inputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="n">step_inputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>

        <span class="n">processing_stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_processing_stage</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">invalid</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_READY</span>
            <span class="n">step_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.outputs&quot;</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">step_outputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">invalid_outputs</span> <span class="o">=</span> <span class="n">step_outputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
            <span class="c1"># TODO: also check that all the pedigrees match up with current inputs</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">invalid_outputs</span><span class="p">:</span>
                <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">RESULTS_READY</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_INVALID</span>

        <span class="n">details</span> <span class="o">=</span> <span class="n">StepDetails</span><span class="p">(</span>
            <span class="n">kiara_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">kiara_id</span><span class="p">,</span>
            <span class="n">pipeline_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">,</span>
            <span class="n">step</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">),</span>
            <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span>
            <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
            <span class="n">inputs</span><span class="o">=</span><span class="n">step_input_ids</span><span class="p">,</span>
            <span class="n">outputs</span><span class="o">=</span><span class="n">step_output_ids</span><span class="p">,</span>
            <span class="n">invalid_details</span><span class="o">=</span><span class="n">invalid</span><span class="p">,</span>
            <span class="n">processing_stage</span><span class="o">=</span><span class="n">processing_stage</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">details</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span>
        <span class="k">return</span> <span class="n">details</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_pipeline_input</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline_input_field</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">input_value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">sync_to_step_inputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Just a utility method, check &#39;set_pipeline_inputs` for more details.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_pipeline_inputs</span><span class="p">(</span>
            <span class="p">{</span><span class="n">pipeline_input_field</span><span class="p">:</span> <span class="n">input_value</span><span class="p">},</span>
            <span class="n">sync_to_step_inputs</span><span class="o">=</span><span class="n">sync_to_step_inputs</span><span class="p">,</span>
            <span class="n">notify_listeners</span><span class="o">=</span><span class="n">notify_listeners</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_pipeline_inputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">sync_to_step_inputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set one or several pipeline inputs.</span>

<span class="sd">        The &#39;sync_to_step_inputs&#39; parameter determines whether the inputs should be synced to the respective step inputs, which is what you usually want. Only in cases where you don&#39;t want to reset/clear any intermediate or end-result values you would set this to False.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            inputs: the inputs to set</span>
<span class="sd">            sync_to_step_inputs: whether to sync the inputs to the respective step inputs</span>
<span class="sd">            notify_listeners: whether to notify listeners about the change, in most cases, this would be a PipelineController instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">values_to_set</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">:</span>
                <span class="n">values_to_set</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">NOT_SET_VALUE_ID</span>
            <span class="k">elif</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NO_VALUE</span><span class="p">]:</span>
                <span class="n">values_to_set</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">NONE_VALUE_ID</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">)</span>
                <span class="k">assert</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="c1"># dbg(alias_map.__dict__)</span>
                <span class="n">schema</span> <span class="o">=</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Can&#39;t set pipeline input for input &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39;: no such input field. Available fields: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">alias_map</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">register_data</span><span class="p">(</span>
                    <span class="n">data</span><span class="o">=</span><span class="n">v</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span> <span class="n">pedigree</span><span class="o">=</span><span class="n">ORPHAN</span><span class="p">,</span> <span class="n">reuse_existing</span><span class="o">=</span><span class="kc">True</span>
                <span class="p">)</span>
                <span class="n">values_to_set</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">value_id</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">values_to_set</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="n">changed_pipeline_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_values</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">values_to_set</span><span class="p">)</span>

        <span class="n">changed_results</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;__pipeline__&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="n">changed_pipeline_inputs</span><span class="p">}}</span>

        <span class="k">if</span> <span class="n">sync_to_step_inputs</span><span class="p">:</span>
            <span class="n">changed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_pipeline_inputs</span><span class="p">(</span><span class="n">notify_listeners</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">dpath</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">changed_results</span><span class="p">,</span> <span class="n">changed</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="n">notify_listeners</span><span class="p">:</span>
            <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed</span><span class="o">=</span><span class="n">changed_results</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_notify_pipeline_listeners</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">changed_results</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">sync_pipeline_inputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sync all pipeline input.&quot;&quot;&quot;</span>

        <span class="n">pipeline_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_pipeline_inputs</span><span class="p">()</span>

        <span class="n">values_to_sync</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">pipeline_input_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">step_input</span> <span class="ow">in</span> <span class="n">ref</span><span class="o">.</span><span class="n">connected_inputs</span><span class="p">:</span>
                <span class="n">step_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_input</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">step_inputs</span><span class="p">[</span><span class="n">step_input</span><span class="o">.</span><span class="n">value_name</span><span class="p">]</span> <span class="o">!=</span> <span class="n">pipeline_inputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]:</span>
                    <span class="n">values_to_sync</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">step_input</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="p">{})[</span>
                        <span class="n">step_input</span><span class="o">.</span><span class="n">value_name</span>
                    <span class="p">]</span> <span class="o">=</span> <span class="n">pipeline_inputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>

        <span class="n">results</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">values_to_sync</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">values_to_sync</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span>
            <span class="n">step_changed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">values</span><span class="p">)</span>
            <span class="n">dpath</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">step_changed</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="n">notify_listeners</span><span class="p">:</span>
            <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed</span><span class="o">=</span><span class="n">results</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_notify_pipeline_listeners</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">results</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_set_step_inputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>
        <span class="n">changed_step_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_values</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.inputs&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">inputs</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">changed_step_inputs</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">step_id</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="n">changed_step_inputs</span><span class="p">}</span>
        <span class="p">}</span>

        <span class="n">step_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_step_output_refs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
        <span class="c1"># null_outputs = {k: NOT_SET_VALUE_ID for k in step_outputs.keys()}</span>
        <span class="n">null_outputs</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">step_outputs</span><span class="p">,</span> <span class="n">NOT_SET_VALUE_ID</span><span class="p">)</span>

        <span class="n">changed_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_step_outputs</span><span class="p">(</span>
            <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">null_outputs</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span>
        <span class="c1"># assert step_id in changed_outputs.keys()</span>

        <span class="n">result</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">changed_outputs</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_multiple_step_outputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">changed_outputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]],</span>
        <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>
        <span class="n">results</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step_id</span><span class="p">,</span> <span class="n">outputs</span> <span class="ow">in</span> <span class="n">changed_outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">step_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_step_outputs</span><span class="p">(</span>
                <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span>
            <span class="n">dpath</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">step_results</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="n">notify_listeners</span><span class="p">:</span>
            <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed</span><span class="o">=</span><span class="n">results</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_notify_pipeline_listeners</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">results</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_step_outputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">outputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]],</span>
        <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>
        <span class="c1"># make sure pedigrees match with respective inputs?</span>

        <span class="n">changed_step_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_values</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.outputs&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">outputs</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">changed_step_outputs</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">step_id</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="n">changed_step_outputs</span><span class="p">}</span>
        <span class="p">}</span>

        <span class="n">output_refs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_step_output_refs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>

        <span class="n">pipeline_outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">inputs_to_set</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">ref</span> <span class="ow">in</span> <span class="n">output_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">ref</span><span class="o">.</span><span class="n">pipeline_output</span><span class="p">:</span>
                <span class="k">assert</span> <span class="n">ref</span><span class="o">.</span><span class="n">pipeline_output</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pipeline_outputs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                <span class="n">pipeline_outputs</span><span class="p">[</span><span class="n">ref</span><span class="o">.</span><span class="n">pipeline_output</span><span class="p">]</span> <span class="o">=</span> <span class="n">outputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">input_ref</span> <span class="ow">in</span> <span class="n">ref</span><span class="o">.</span><span class="n">connected_inputs</span><span class="p">:</span>
                <span class="n">inputs_to_set</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">input_ref</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="p">{})[</span>
                    <span class="n">input_ref</span><span class="o">.</span><span class="n">value_name</span>
                <span class="p">]</span> <span class="o">=</span> <span class="n">outputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">_step_id</span><span class="p">,</span> <span class="n">step_inputs</span> <span class="ow">in</span> <span class="n">inputs_to_set</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">changed_step_fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_step_inputs</span><span class="p">(</span>
                <span class="n">step_id</span><span class="o">=</span><span class="n">_step_id</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">step_inputs</span>
            <span class="p">)</span>
            <span class="n">dpath</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">changed_step_fields</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="n">pipeline_outputs</span><span class="p">:</span>
            <span class="n">changed_pipeline_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_pipeline_outputs</span><span class="p">(</span><span class="o">**</span><span class="n">pipeline_outputs</span><span class="p">)</span>
            <span class="n">dpath</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
                <span class="n">result</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;__pipeline__&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="n">changed_pipeline_outputs</span><span class="p">}}</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">notify_listeners</span><span class="p">:</span>
            <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed</span><span class="o">=</span><span class="n">result</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_notify_pipeline_listeners</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_set_pipeline_outputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">outputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]:</span>
        <span class="n">changed_pipeline_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_values</span><span class="p">(</span><span class="s2">&quot;pipeline.outputs&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">outputs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">changed_pipeline_outputs</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_set_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set values (value-ids) for the sub-alias-map with the specified alias path.&quot;&quot;&quot;</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">_alias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">_alias</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_alias</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">invalid</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid field &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39;. Available fields: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_current_pipeline_inputs</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

        <span class="k">if</span> <span class="n">invalid</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidValuesException</span><span class="p">(</span><span class="n">invalid_values</span><span class="o">=</span><span class="n">invalid</span><span class="p">)</span>

        <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">AliasValueMap</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="n">values_to_set</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">current</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">changed</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">new_value</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">current_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">current_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">current_value_id</span> <span class="o">=</span> <span class="n">current_value</span><span class="o">.</span><span class="n">assoc_value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">current_value_id</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">current</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_value_id</span>

            <span class="k">if</span> <span class="n">current_value_id</span> <span class="o">!=</span> <span class="n">new_value</span><span class="p">:</span>
                <span class="n">values_to_set</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_value</span>
                <span class="n">changed</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">ChangedValue</span><span class="p">(</span><span class="n">old</span><span class="o">=</span><span class="n">current_value_id</span><span class="p">,</span> <span class="n">new</span><span class="o">=</span><span class="n">new_value</span><span class="p">)</span>

        <span class="n">_alias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">_alias</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">_alias</span><span class="o">.</span><span class="n">_set_aliases</span><span class="p">(</span><span class="o">**</span><span class="n">values_to_set</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">changed</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">step_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return all ids of the steps of this pipeline.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">step_ids</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">execution_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">execution_graph</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">data_flow_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">data_flow_graph</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">data_flow_graph_simple</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">data_flow_graph_simple</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineStep</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the object representing a step in this workflow, identified by the step id.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_pipeline_inputs_schema_for_step</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the schema for the inputs of the specified step.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_pipeline_inputs_schema_for_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">pipeline_input_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineInputRef</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">pipeline_input_refs</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">pipeline_output_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineOutputRef</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">pipeline_output_refs</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_steps_by_stage</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineStep</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a all pipeline steps, ordered by stage they belong to.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineStep</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
            <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
            <span class="n">stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_processing_stage</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">stage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">stage</span><span class="p">,</span> <span class="p">{})[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">step</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span> <span class="o">=</span> <span class="n">result</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_job_config_for_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JobConfig</span><span class="p">:</span>
        <span class="n">step_inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">step_details</span><span class="p">:</span> <span class="n">StepDetails</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step_details</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">step</span><span class="p">:</span> <span class="n">PipelineStep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>

        <span class="c1"># if the inputs are not valid, ignore this step</span>
        <span class="k">if</span> <span class="n">step_details</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_INVALID</span><span class="p">:</span>
            <span class="n">invalid_details</span> <span class="o">=</span> <span class="n">step_details</span><span class="o">.</span><span class="n">invalid_details</span>
            <span class="k">assert</span> <span class="n">invalid_details</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Can&#39;t execute step &#39;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;, invalid inputs: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_details</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidValuesException</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">,</span> <span class="n">invalid_values</span><span class="o">=</span><span class="n">invalid_details</span><span class="p">)</span>

        <span class="n">job_config</span> <span class="o">=</span> <span class="n">JobConfig</span><span class="o">.</span><span class="n">create_from_module</span><span class="p">(</span>
            <span class="n">data_registry</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="p">,</span> <span class="n">module</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">step_inputs</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">job_config</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">PipelineInfo</span><span class="o">.</span><span class="n">create_from_pipeline</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span>
        <span class="p">)</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">





<h4 id="kiara.api.Pipeline-attributes">Attributes<a href="#kiara.api.Pipeline-attributes" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Pipeline.pipeline_id" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pipeline_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Pipeline.pipeline_id" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Pipeline.kiara_id" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">kiara_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Pipeline.kiara_id" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Pipeline.id" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Pipeline.id" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Pipeline.structure" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">structure</span><span class="p">:</span> <span class="n">PipelineStructure</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Pipeline.structure" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Pipeline.pipeline_inputs_schema" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pipeline_inputs_schema</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Pipeline.pipeline_inputs_schema" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Pipeline.pipeline_outputs_schema" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pipeline_outputs_schema</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Pipeline.pipeline_outputs_schema" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Pipeline.config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">config</span><span class="p">:</span> <span class="n">PipelineConfig</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Pipeline.config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Pipeline.doc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Pipeline.doc" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Pipeline.step_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">step_ids</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Pipeline.step_ids" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Return all ids of the steps of this pipeline.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Pipeline.execution_graph" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">execution_graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Pipeline.execution_graph" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Pipeline.data_flow_graph" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">data_flow_graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Pipeline.data_flow_graph" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Pipeline.data_flow_graph_simple" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">data_flow_graph_simple</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Pipeline.data_flow_graph_simple" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Pipeline.pipeline_input_refs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pipeline_input_refs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineInputRef</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Pipeline.pipeline_input_refs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Pipeline.pipeline_output_refs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pipeline_output_refs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineOutputRef</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Pipeline.pipeline_output_refs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<h4 id="kiara.api.Pipeline-functions">Functions<a href="#kiara.api.Pipeline-functions" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.create_pipeline" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_pipeline</span><span class="p">(</span><span class="n">kiara</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Kiara</span><span class="p">,</span> <span class="n">BaseAPI</span><span class="p">],</span> <span class="n">pipeline</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">PipelineConfig</span><span class="p">,</span> <span class="n">PipelineStructure</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Pipeline</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.Pipeline.create_pipeline" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_pipeline</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">kiara</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="s2">&quot;BaseAPI&quot;</span><span class="p">],</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">PipelineConfig</span><span class="p">,</span> <span class="n">PipelineStructure</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Pipeline&quot;</span><span class="p">:</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.base_api</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseAPI</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">kiara</span><span class="p">,</span> <span class="n">BaseAPI</span><span class="p">):</span>
        <span class="n">kiara</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">context</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
        <span class="n">pipeline_structure</span><span class="p">:</span> <span class="n">PipelineStructure</span> <span class="o">=</span> <span class="n">PipelineConfig</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="s2">&quot;__pipeline__&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span>
        <span class="p">)</span><span class="o">.</span><span class="n">structure</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">PipelineConfig</span><span class="p">):</span>
        <span class="n">pipeline_structure</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">structure</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">PipelineStructure</span><span class="p">):</span>
        <span class="n">pipeline_structure</span> <span class="o">=</span> <span class="n">pipeline</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">operation</span> <span class="o">=</span> <span class="n">create_operation</span><span class="p">(</span><span class="n">module_or_operation</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">)</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="n">module</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">PipelineConfig</span><span class="p">):</span>
            <span class="n">config</span><span class="p">:</span> <span class="n">PipelineConfig</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">config</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">step_id</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">module_type_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>
            <span class="n">input_aliases</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">output_aliases</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="n">module</span><span class="o">.</span><span class="n">input_names</span><span class="p">:</span>
                <span class="n">input_aliases</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">input_name</span>
            <span class="k">for</span> <span class="n">output_name</span> <span class="ow">in</span> <span class="n">module</span><span class="o">.</span><span class="n">output_names</span><span class="p">:</span>
                <span class="n">output_aliases</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">output_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">output_name</span>
            <span class="n">pipeline_config_data</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="n">module</span><span class="o">.</span><span class="n">doc</span><span class="p">,</span>
                <span class="s2">&quot;steps&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="n">module</span><span class="o">.</span><span class="n">module_type_name</span><span class="p">,</span>
                        <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
                        <span class="s2">&quot;step_id&quot;</span><span class="p">:</span> <span class="n">step_id</span><span class="p">,</span>
                    <span class="p">},</span>
                <span class="p">],</span>
                <span class="s2">&quot;input_aliases&quot;</span><span class="p">:</span> <span class="n">input_aliases</span><span class="p">,</span>
                <span class="s2">&quot;output_aliases&quot;</span><span class="p">:</span> <span class="n">output_aliases</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">PipelineConfig</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span>
                <span class="n">pipeline_name</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">module_type_name</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="n">pipeline_config_data</span><span class="p">,</span>
                <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">pipeline_structure</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">structure</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type for argument &#39;pipeline&#39;: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">pipeline</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">pipeline_obj</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="n">pipeline_structure</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pipeline_obj</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.add_listener" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_listener</span><span class="p">(</span><span class="n">listener</span><span class="p">:</span> <span class="n">PipelineListener</span><span class="p">)</span></code>

<a href="#kiara.api.Pipeline.add_listener" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">228</span>
<span class="normal">229</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">listener</span><span class="p">:</span> <span class="n">PipelineListener</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listener</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.get_current_pipeline_inputs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_current_pipeline_inputs</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

<a href="#kiara.api.Pipeline.get_current_pipeline_inputs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>All (pipeline) input values of this pipeline.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_current_pipeline_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;All (pipeline) input values of this pipeline.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.get_current_pipeline_outputs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_current_pipeline_outputs</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

<a href="#kiara.api.Pipeline.get_current_pipeline_outputs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>All (pipeline) output values of this pipeline.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_current_pipeline_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;All (pipeline) output values of this pipeline.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.outputs&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.get_current_step_inputs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

<a href="#kiara.api.Pipeline.get_current_step_inputs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_current_step_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
    <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.inputs&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.get_current_step_outputs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_current_step_outputs</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

<a href="#kiara.api.Pipeline.get_current_step_outputs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_current_step_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
    <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.outputs&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.get_inputs_for_steps" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_inputs_for_steps</span><span class="p">(</span><span class="o">*</span><span class="n">step_ids</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]]</span></code>

<a href="#kiara.api.Pipeline.get_inputs_for_steps" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve value ids for the inputs of the specified steps (or all steps, if no argument provided.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_inputs_for_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">step_ids</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve value ids for the inputs of the specified steps (or all steps, if no argument provided.&quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">step_ids</span> <span class="ow">and</span> <span class="n">step_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">step_ids</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">result</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">ids</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.get_outputs_for_steps" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_outputs_for_steps</span><span class="p">(</span><span class="o">*</span><span class="n">step_ids</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]]</span></code>

<a href="#kiara.api.Pipeline.get_outputs_for_steps" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve value ids for the outputs of the specified steps (or all steps, if no argument provided.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_outputs_for_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">step_ids</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve value ids for the outputs of the specified steps (or all steps, if no argument provided.&quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">step_ids</span> <span class="ow">and</span> <span class="n">step_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">step_ids</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_outputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">result</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">ids</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.get_pipeline_details" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_pipeline_details</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">PipelineState</span></code>

<a href="#kiara.api.Pipeline.get_pipeline_details" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_pipeline_details</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineState</span><span class="p">:</span>
    <span class="n">pipeline_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">)</span>
    <span class="n">pipeline_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.outputs&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">pipeline_inputs</span><span class="p">:</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="n">pipeline_inputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">invalid</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_READY</span>
            <span class="n">step_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.outputs&quot;</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">step_outputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">invalid_outputs</span> <span class="o">=</span> <span class="n">step_outputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
            <span class="c1"># TODO: also check that all the pedigrees match up with current inputs</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">invalid_outputs</span><span class="p">:</span>
                <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">RESULTS_READY</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_INVALID</span>
        <span class="n">_pipeline_inputs</span> <span class="o">=</span> <span class="n">pipeline_inputs</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_pipeline_inputs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_READY</span>

    <span class="k">if</span> <span class="n">pipeline_outputs</span><span class="p">:</span>
        <span class="n">_pipeline_outputs</span> <span class="o">=</span> <span class="n">pipeline_outputs</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_pipeline_outputs</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">step_states</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step_details</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">step_states</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span>

    <span class="n">details</span> <span class="o">=</span> <span class="n">PipelineState</span><span class="p">(</span>
        <span class="n">kiara_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">kiara_id</span><span class="p">,</span>
        <span class="n">pipeline_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">,</span>
        <span class="n">pipeline_status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
        <span class="n">pipeline_inputs</span><span class="o">=</span><span class="n">_pipeline_inputs</span><span class="p">,</span>
        <span class="n">pipeline_outputs</span><span class="o">=</span><span class="n">_pipeline_outputs</span><span class="p">,</span>
        <span class="n">invalid_details</span><span class="o">=</span><span class="n">invalid</span><span class="p">,</span>
        <span class="n">step_states</span><span class="o">=</span><span class="n">step_states</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">details</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span>

    <span class="k">return</span> <span class="n">details</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.get_step_details" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_step_details</span><span class="p">(</span><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepDetails</span></code>

<a href="#kiara.api.Pipeline.get_step_details" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_step_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepDetails</span><span class="p">:</span>
    <span class="n">step_input_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
    <span class="n">step_output_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_outputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
    <span class="n">step_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.inputs&quot;</span><span class="p">)</span>

    <span class="k">assert</span> <span class="n">step_inputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="n">invalid</span> <span class="o">=</span> <span class="n">step_inputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>

    <span class="n">processing_stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_processing_stage</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">invalid</span><span class="p">:</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_READY</span>
        <span class="n">step_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.outputs&quot;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">step_outputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">invalid_outputs</span> <span class="o">=</span> <span class="n">step_outputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
        <span class="c1"># TODO: also check that all the pedigrees match up with current inputs</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">invalid_outputs</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">RESULTS_READY</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_INVALID</span>

    <span class="n">details</span> <span class="o">=</span> <span class="n">StepDetails</span><span class="p">(</span>
        <span class="n">kiara_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">kiara_id</span><span class="p">,</span>
        <span class="n">pipeline_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">,</span>
        <span class="n">step</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">),</span>
        <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span>
        <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
        <span class="n">inputs</span><span class="o">=</span><span class="n">step_input_ids</span><span class="p">,</span>
        <span class="n">outputs</span><span class="o">=</span><span class="n">step_output_ids</span><span class="p">,</span>
        <span class="n">invalid_details</span><span class="o">=</span><span class="n">invalid</span><span class="p">,</span>
        <span class="n">processing_stage</span><span class="o">=</span><span class="n">processing_stage</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">details</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span>
    <span class="k">return</span> <span class="n">details</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.set_pipeline_input" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_pipeline_input</span><span class="p">(</span><span class="n">pipeline_input_field</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">input_value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">sync_to_step_inputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span></code>

<a href="#kiara.api.Pipeline.set_pipeline_input" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Just a utility method, check 'set_pipeline_inputs` for more details.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_pipeline_input</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline_input_field</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">input_value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">sync_to_step_inputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Just a utility method, check &#39;set_pipeline_inputs` for more details.&quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_pipeline_inputs</span><span class="p">(</span>
        <span class="p">{</span><span class="n">pipeline_input_field</span><span class="p">:</span> <span class="n">input_value</span><span class="p">},</span>
        <span class="n">sync_to_step_inputs</span><span class="o">=</span><span class="n">sync_to_step_inputs</span><span class="p">,</span>
        <span class="n">notify_listeners</span><span class="o">=</span><span class="n">notify_listeners</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.set_pipeline_inputs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_pipeline_inputs</span><span class="p">(</span><span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">sync_to_step_inputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span></code>

<a href="#kiara.api.Pipeline.set_pipeline_inputs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Set one or several pipeline inputs.</p>
<p>The 'sync_to_step_inputs' parameter determines whether the inputs should be synced to the respective step inputs, which is what you usually want. Only in cases where you don't want to reset/clear any intermediate or end-result values you would set this to False.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>inputs</code>
            </td>
            <td>
                  <code><span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the inputs to set</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sync_to_step_inputs</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to sync the inputs to the respective step inputs</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>notify_listeners</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to notify listeners about the change, in most cases, this would be a PipelineController instance.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_pipeline_inputs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">sync_to_step_inputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set one or several pipeline inputs.</span>

<span class="sd">    The &#39;sync_to_step_inputs&#39; parameter determines whether the inputs should be synced to the respective step inputs, which is what you usually want. Only in cases where you don&#39;t want to reset/clear any intermediate or end-result values you would set this to False.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        inputs: the inputs to set</span>
<span class="sd">        sync_to_step_inputs: whether to sync the inputs to the respective step inputs</span>
<span class="sd">        notify_listeners: whether to notify listeners about the change, in most cases, this would be a PipelineController instance.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">values_to_set</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">:</span>
            <span class="n">values_to_set</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">NOT_SET_VALUE_ID</span>
        <span class="k">elif</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NO_VALUE</span><span class="p">]:</span>
            <span class="n">values_to_set</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">NONE_VALUE_ID</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="c1"># dbg(alias_map.__dict__)</span>
            <span class="n">schema</span> <span class="o">=</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t set pipeline input for input &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39;: no such input field. Available fields: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">alias_map</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">register_data</span><span class="p">(</span>
                <span class="n">data</span><span class="o">=</span><span class="n">v</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span> <span class="n">pedigree</span><span class="o">=</span><span class="n">ORPHAN</span><span class="p">,</span> <span class="n">reuse_existing</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
            <span class="n">values_to_set</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">value_id</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">values_to_set</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="n">changed_pipeline_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_values</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">values_to_set</span><span class="p">)</span>

    <span class="n">changed_results</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;__pipeline__&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="n">changed_pipeline_inputs</span><span class="p">}}</span>

    <span class="k">if</span> <span class="n">sync_to_step_inputs</span><span class="p">:</span>
        <span class="n">changed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_pipeline_inputs</span><span class="p">(</span><span class="n">notify_listeners</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">dpath</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">changed_results</span><span class="p">,</span> <span class="n">changed</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="n">notify_listeners</span><span class="p">:</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed</span><span class="o">=</span><span class="n">changed_results</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_notify_pipeline_listeners</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">changed_results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.sync_pipeline_inputs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sync_pipeline_inputs</span><span class="p">(</span><span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span></code>

<a href="#kiara.api.Pipeline.sync_pipeline_inputs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Sync all pipeline input.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">sync_pipeline_inputs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sync all pipeline input.&quot;&quot;&quot;</span>

    <span class="n">pipeline_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_pipeline_inputs</span><span class="p">()</span>

    <span class="n">values_to_sync</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">pipeline_input_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">step_input</span> <span class="ow">in</span> <span class="n">ref</span><span class="o">.</span><span class="n">connected_inputs</span><span class="p">:</span>
            <span class="n">step_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_input</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">step_inputs</span><span class="p">[</span><span class="n">step_input</span><span class="o">.</span><span class="n">value_name</span><span class="p">]</span> <span class="o">!=</span> <span class="n">pipeline_inputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]:</span>
                <span class="n">values_to_sync</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">step_input</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="p">{})[</span>
                    <span class="n">step_input</span><span class="o">.</span><span class="n">value_name</span>
                <span class="p">]</span> <span class="o">=</span> <span class="n">pipeline_inputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>

    <span class="n">results</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">values_to_sync</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">values_to_sync</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span>
        <span class="n">step_changed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">values</span><span class="p">)</span>
        <span class="n">dpath</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">step_changed</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="n">notify_listeners</span><span class="p">:</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed</span><span class="o">=</span><span class="n">results</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_notify_pipeline_listeners</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.set_multiple_step_outputs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_multiple_step_outputs</span><span class="p">(</span><span class="n">changed_outputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]],</span> <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span></code>

<a href="#kiara.api.Pipeline.set_multiple_step_outputs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_multiple_step_outputs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">changed_outputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]],</span>
    <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>
    <span class="n">results</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step_id</span><span class="p">,</span> <span class="n">outputs</span> <span class="ow">in</span> <span class="n">changed_outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">step_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_step_outputs</span><span class="p">(</span>
            <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span>
        <span class="n">dpath</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">step_results</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="n">notify_listeners</span><span class="p">:</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed</span><span class="o">=</span><span class="n">results</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_notify_pipeline_listeners</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.set_step_outputs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_step_outputs</span><span class="p">(</span><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]],</span> <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span></code>

<a href="#kiara.api.Pipeline.set_step_outputs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_step_outputs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">outputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]],</span>
    <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>
    <span class="c1"># make sure pedigrees match with respective inputs?</span>

    <span class="n">changed_step_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_values</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.outputs&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">outputs</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">changed_step_outputs</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">step_id</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="n">changed_step_outputs</span><span class="p">}</span>
    <span class="p">}</span>

    <span class="n">output_refs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_step_output_refs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>

    <span class="n">pipeline_outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">inputs_to_set</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">ref</span> <span class="ow">in</span> <span class="n">output_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">ref</span><span class="o">.</span><span class="n">pipeline_output</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">ref</span><span class="o">.</span><span class="n">pipeline_output</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pipeline_outputs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="n">pipeline_outputs</span><span class="p">[</span><span class="n">ref</span><span class="o">.</span><span class="n">pipeline_output</span><span class="p">]</span> <span class="o">=</span> <span class="n">outputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">input_ref</span> <span class="ow">in</span> <span class="n">ref</span><span class="o">.</span><span class="n">connected_inputs</span><span class="p">:</span>
            <span class="n">inputs_to_set</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">input_ref</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="p">{})[</span>
                <span class="n">input_ref</span><span class="o">.</span><span class="n">value_name</span>
            <span class="p">]</span> <span class="o">=</span> <span class="n">outputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">_step_id</span><span class="p">,</span> <span class="n">step_inputs</span> <span class="ow">in</span> <span class="n">inputs_to_set</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">changed_step_fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_step_inputs</span><span class="p">(</span>
            <span class="n">step_id</span><span class="o">=</span><span class="n">_step_id</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">step_inputs</span>
        <span class="p">)</span>
        <span class="n">dpath</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">changed_step_fields</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="n">pipeline_outputs</span><span class="p">:</span>
        <span class="n">changed_pipeline_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_pipeline_outputs</span><span class="p">(</span><span class="o">**</span><span class="n">pipeline_outputs</span><span class="p">)</span>
        <span class="n">dpath</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
            <span class="n">result</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;__pipeline__&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="n">changed_pipeline_outputs</span><span class="p">}}</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">notify_listeners</span><span class="p">:</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed</span><span class="o">=</span><span class="n">result</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_notify_pipeline_listeners</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.get_step" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineStep</span></code>

<a href="#kiara.api.Pipeline.get_step" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Return the object representing a step in this workflow, identified by the step id.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineStep</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the object representing a step in this workflow, identified by the step id.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.get_pipeline_inputs_schema_for_step" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_pipeline_inputs_schema_for_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]</span></code>

<a href="#kiara.api.Pipeline.get_pipeline_inputs_schema_for_step" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Return the schema for the inputs of the specified step.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_pipeline_inputs_schema_for_step</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the schema for the inputs of the specified step.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_pipeline_inputs_schema_for_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.get_steps_by_stage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_steps_by_stage</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineStep</span><span class="p">]]</span></code>

<a href="#kiara.api.Pipeline.get_steps_by_stage" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Return a all pipeline steps, ordered by stage they belong to.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_steps_by_stage</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineStep</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a all pipeline steps, ordered by stage they belong to.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineStep</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
        <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_processing_stage</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">stage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">stage</span><span class="p">,</span> <span class="p">{})[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">step</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span> <span class="o">=</span> <span class="n">result</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.create_job_config_for_step" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_job_config_for_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JobConfig</span></code>

<a href="#kiara.api.Pipeline.create_job_config_for_step" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_job_config_for_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JobConfig</span><span class="p">:</span>
    <span class="n">step_inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
    <span class="n">step_details</span><span class="p">:</span> <span class="n">StepDetails</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step_details</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
    <span class="n">step</span><span class="p">:</span> <span class="n">PipelineStep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>

    <span class="c1"># if the inputs are not valid, ignore this step</span>
    <span class="k">if</span> <span class="n">step_details</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_INVALID</span><span class="p">:</span>
        <span class="n">invalid_details</span> <span class="o">=</span> <span class="n">step_details</span><span class="o">.</span><span class="n">invalid_details</span>
        <span class="k">assert</span> <span class="n">invalid_details</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Can&#39;t execute step &#39;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;, invalid inputs: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_details</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">raise</span> <span class="n">InvalidValuesException</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">,</span> <span class="n">invalid_values</span><span class="o">=</span><span class="n">invalid_details</span><span class="p">)</span>

    <span class="n">job_config</span> <span class="o">=</span> <span class="n">JobConfig</span><span class="o">.</span><span class="n">create_from_module</span><span class="p">(</span>
        <span class="n">data_registry</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="p">,</span> <span class="n">module</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">step_inputs</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">job_config</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Pipeline.create_renderable" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span></code>

<a href="#kiara.api.Pipeline.create_renderable" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/pipeline.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">PipelineInfo</span><span class="o">.</span><span class="n">create_from_pipeline</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span>
    <span class="p">)</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="kiara.api.PipelineStructure" class="doc doc-heading">
            <code>PipelineStructure</code>


<a href="#kiara.api.PipelineStructure" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="KiaraModel (kiara.models.KiaraModel)" href="../models/__init__/#kiara.models.KiaraModel">KiaraModel</a></code></p>


        <p>An object that holds one or several steps, and describes the connections between them.</p>







              <details class="quote">
                <summary>Source code in <code>src/kiara/models/module/pipeline/structure.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PipelineStructure</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An object that holds one or several steps, and describes the connections between them.&quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span><span class="p">:</span> <span class="n">ClassVar</span> <span class="o">=</span> <span class="s2">&quot;instance.pipeline_structure&quot;</span>

    <span class="n">pipeline_config</span><span class="p">:</span> <span class="n">PipelineConfig</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The underlying pipeline config.&quot;</span>
    <span class="p">)</span>
    <span class="n">steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PipelineStep</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The pipeline steps &quot;</span><span class="p">)</span>
    <span class="c1"># stages: Mapping[int, PipelineStage] = Field(description=&quot;Details about each of the pipeline stages.&quot;)</span>
    <span class="n">input_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The input aliases.&quot;</span><span class="p">)</span>
    <span class="n">output_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The output aliases.&quot;</span><span class="p">)</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">validate_pipeline_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">pipeline_config</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pipeline_config&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">pipeline_config</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No &#39;pipeline_config&#39; provided.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Only &#39;pipeline_config&#39; key allowed when creating a pipeline structure object.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline_config</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">pipeline_config</span> <span class="o">=</span> <span class="n">PipelineConfig</span><span class="p">(</span><span class="o">**</span><span class="n">pipeline_config</span><span class="p">)</span>
        <span class="n">_config</span><span class="p">:</span> <span class="n">PipelineConfig</span> <span class="o">=</span> <span class="n">pipeline_config</span>
        <span class="n">_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PipelineStep</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">_config</span><span class="o">.</span><span class="n">steps</span><span class="p">)</span>

        <span class="n">_input_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">_config</span><span class="o">.</span><span class="n">input_aliases</span><span class="p">)</span>
        <span class="n">_output_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">_config</span><span class="o">.</span><span class="n">output_aliases</span><span class="p">)</span>

        <span class="n">invalid_input_aliases</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">_input_aliases</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">a</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">invalid_input_aliases</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidPipelineConfig</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid input aliases, aliases can&#39;t contain special characters: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_input_aliases</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
                <span class="n">config</span><span class="o">=</span><span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pipeline_config&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
                <span class="n">details</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid characters: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_input_aliases</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">invalid_output_aliases</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">_input_aliases</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">a</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">invalid_input_aliases</span><span class="p">:</span>
            <span class="n">pc</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pipeline_config&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">pc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No pipeline config provided.&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InvalidPipelineConfig</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid input aliases, aliases can&#39;t contain special characters: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_output_aliases</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
                    <span class="n">config</span><span class="o">=</span><span class="n">pc</span><span class="p">,</span>
                    <span class="n">details</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid characters: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_output_aliases</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="n">valid_input_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">_steps</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">input_names</span><span class="p">:</span>
                <span class="n">valid_input_names</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">invalid_input_aliases</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">_input_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">a</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_input_names</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="n">invalid_input_aliases</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid input reference(s).&quot;</span>
            <span class="n">details</span> <span class="o">=</span> <span class="s2">&quot;Invalid reference(s):</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">for</span> <span class="n">iia</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">invalid_input_aliases</span><span class="p">):</span>
                <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; - </span><span class="si">{</span><span class="n">iia</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">details</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Must be one of: </span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">valid_input_names</span><span class="p">):</span>
                <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>

            <span class="k">raise</span> <span class="n">InvalidPipelineConfig</span><span class="p">(</span>
                <span class="n">msg</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pipeline_config&quot;</span><span class="p">,</span> <span class="p">{}),</span> <span class="n">details</span><span class="o">=</span><span class="n">details</span>
            <span class="p">)</span>

        <span class="n">valid_output_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">_steps</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">output_name</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">output_names</span><span class="p">:</span>
                <span class="n">valid_output_names</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">output_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">invalid_output_names</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">_output_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">a</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_output_names</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="n">invalid_output_names</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid output reference(s).&quot;</span>
            <span class="n">details</span> <span class="o">=</span> <span class="s2">&quot;Invalid reference(s):</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">for</span> <span class="n">iia</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">invalid_output_names</span><span class="p">):</span>
                <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; - </span><span class="si">{</span><span class="n">iia</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">details</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Must be one of: </span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">valid_output_names</span><span class="p">):</span>
                <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>

            <span class="k">raise</span> <span class="n">InvalidPipelineConfig</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pipeline_config&quot;</span><span class="p">,</span> <span class="p">{}),</span> <span class="n">details</span><span class="p">)</span>

        <span class="c1"># stages = PipelineStage.from_pipeline_structure(stages=)</span>

        <span class="c1"># values[&quot;steps&quot;] = {step.step_id: step for step in _steps}</span>
        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;steps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_steps</span>
        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;input_aliases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_input_aliases</span>
        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;output_aliases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_output_aliases</span>
        <span class="k">return</span> <span class="n">values</span>

    <span class="c1"># this is hardcoded for now</span>
    <span class="n">_add_all_workflow_outputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">_constants</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="n">_defaults</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="n">_execution_graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="n">_data_flow_graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="n">_data_flow_graph_simple</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="n">_processing_stages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="c1"># _stages_info: Mapping[int, PipelineStage] = PrivateAttr(None)  # type: ignore</span>

    <span class="c1"># holds details about the (current) processing steps contained in this workflow</span>
    <span class="n">_steps_details</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepInfo</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="c1"># _info: &quot;PipelineStructureInfo&quot; = PrivateAttr(None)  # type: ignore</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;steps&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">instance_cid</span> <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="p">],</span>
            <span class="s2">&quot;input_aliases&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_aliases</span><span class="p">,</span>
            <span class="s2">&quot;output_aliases&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_aliases</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_retrieve_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">instance_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">steps_details</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepInfo</span><span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_details</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_details</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">step_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_details</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_details</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">constants</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_constants</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_constants</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">defaults</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineStep</span><span class="p">:</span>
        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No step with id: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="n">step</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_step_input_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepInputRef</span><span class="p">]:</span>
        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No step with id: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="n">inputs</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_step_output_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepOutputRef</span><span class="p">]:</span>
        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No step with id: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="n">outputs</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_step_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepInfo</span><span class="p">:</span>
        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No step with id: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">d</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">execution_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execution_graph</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execution_graph</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">data_flow_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_flow_graph</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_flow_graph</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">data_flow_graph_simple</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_flow_graph_simple</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_flow_graph_simple</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">processing_stages</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processing_stages</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processing_stages</span>

        <span class="c1"># calculate execution order</span>
        <span class="c1"># process_late = self.pipeline_config.pipeline_name == &quot;topic_modeling&quot;</span>
        <span class="n">processing_stages</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">processing_stages</span> <span class="o">=</span> <span class="n">PipelineStage</span><span class="o">.</span><span class="n">extract_stages</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">stages_extraction_type</span><span class="o">=</span><span class="n">KIARA_DEFAULT_STAGES_EXTRACTION_TYPE</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_processing_stages</span> <span class="o">=</span> <span class="n">processing_stages</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processing_stages</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">extract_processing_stages</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">stages_extraction_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">KIARA_DEFAULT_STAGES_EXTRACTION_TYPE</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extract a list of lists of steps, representing the order of groups in which they will be executed.</span>

<span class="sd">        It is possible to extract the stages in different ways, depending on the use-case you have in mind. For most cases,</span>
<span class="sd">        &#39;late&#39; will be appropriate. Currently available:</span>
<span class="sd">        - &#39;late&#39;: process steps as late in the process as possible</span>
<span class="sd">        - &#39;early&#39;: process steps as early in the process as possible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">PipelineStage</span><span class="o">.</span><span class="n">extract_stages</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">stages_extraction_type</span><span class="o">=</span><span class="n">stages_extraction_type</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">extract_processing_stages_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">stages_extraction_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">KIARA_DEFAULT_STAGES_EXTRACTION_TYPE</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PipelineStage</span><span class="p">]:</span>
        <span class="n">stages</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_processing_stages</span><span class="p">(</span>
            <span class="n">stages_extraction_type</span><span class="o">=</span><span class="n">stages_extraction_type</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">PipelineStage</span><span class="o">.</span><span class="n">stages_info_from_pipeline_structure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stages</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_stages_graph</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">stages_extraction_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">KIARA_DEFAULT_STAGES_EXTRACTION_TYPE</span><span class="p">,</span>
        <span class="n">flatten</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a networx graph that represents the processing stages of the pipeline and how they are connecte.</span>

<span class="sd">        Arguments:</span>
<span class="sd">        ---------</span>
<span class="sd">            stages_extraction_type: how to extract the stages</span>
<span class="sd">            flatten: if True, the nodes representing connections between stages will be removed, leaving only the edge</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">            a networkx graph object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stages</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_processing_stages_info</span><span class="p">(</span>
            <span class="n">stages_extraction_type</span><span class="o">=</span><span class="n">stages_extraction_type</span>
        <span class="p">)</span>

        <span class="n">graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">stage</span> <span class="ow">in</span> <span class="n">stages</span><span class="p">:</span>
            <span class="n">fragment</span> <span class="o">=</span> <span class="n">stage</span><span class="o">.</span><span class="n">get_graph_fragment</span><span class="p">()</span>
            <span class="n">graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">fragment</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flatten</span><span class="p">:</span>
            <span class="n">to_flatten</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_id</span><span class="p">][</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;stage_output&quot;</span><span class="p">,</span> <span class="s2">&quot;connected_output&quot;</span><span class="p">]:</span>
                    <span class="n">to_flatten</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">to_flatten</span><span class="p">:</span>
                <span class="n">in_edges</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">graph</span><span class="o">.</span><span class="n">in_edges</span><span class="p">(</span><span class="n">f</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># noqa</span>
                <span class="n">out_edges</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">graph</span><span class="o">.</span><span class="n">out_edges</span><span class="p">(</span><span class="n">f</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># noqa</span>
                <span class="k">assert</span> <span class="n">in_edges</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">out_edges</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">graph</span><span class="o">.</span><span class="n">remove_edge</span><span class="p">(</span><span class="n">in_edges</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">in_edges</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="n">graph</span><span class="o">.</span><span class="n">remove_edge</span><span class="p">(</span><span class="n">out_edges</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">out_edges</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="n">graph</span><span class="o">.</span><span class="n">remove_node</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
                <span class="n">graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span>
                    <span class="n">in_edges</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                    <span class="n">out_edges</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                    <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;stage_connection&quot;</span><span class="p">,</span>
                    <span class="n">output_name</span><span class="o">=</span><span class="n">in_edges</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">graph</span>

    <span class="nd">@lru_cache</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_get_node_of_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_details</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">[</span>
            <span class="n">node</span>
            <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">attr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_flow_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">attr</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">node_type</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">steps_input_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepInputRef</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">node</span><span class="o">.</span><span class="n">alias</span><span class="p">:</span> <span class="n">node</span>
            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_of_type</span><span class="p">(</span><span class="n">node_type</span><span class="o">=</span><span class="n">StepInputRef</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">steps_output_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepOutputRef</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">node</span><span class="o">.</span><span class="n">alias</span><span class="p">:</span> <span class="n">node</span>
            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_of_type</span><span class="p">(</span><span class="n">node_type</span><span class="o">=</span><span class="n">StepOutputRef</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">pipeline_input_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineInputRef</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">node</span><span class="o">.</span><span class="n">value_name</span><span class="p">:</span> <span class="n">node</span>
            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_of_type</span><span class="p">(</span><span class="n">node_type</span><span class="o">=</span><span class="n">PipelineInputRef</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">pipeline_output_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineOutputRef</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">node</span><span class="o">.</span><span class="n">value_name</span><span class="p">:</span> <span class="n">node</span>
            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_of_type</span><span class="p">(</span><span class="n">node_type</span><span class="o">=</span><span class="n">PipelineOutputRef</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">pipeline_inputs_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
        <span class="n">schemas</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">input_name</span><span class="p">:</span> <span class="n">w_in</span><span class="o">.</span><span class="n">value_schema</span>
            <span class="k">for</span> <span class="n">input_name</span><span class="p">,</span> <span class="n">w_in</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_input_refs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">schemas</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">pipeline_outputs_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">output_name</span><span class="p">:</span> <span class="n">w_out</span><span class="o">.</span><span class="n">value_schema</span>
            <span class="k">for</span> <span class="n">output_name</span><span class="p">,</span> <span class="n">w_out</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_output_refs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_pipeline_inputs_schema_for_step</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_input_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">con</span> <span class="ow">in</span> <span class="n">ref</span><span class="o">.</span><span class="n">connected_inputs</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">con</span><span class="o">.</span><span class="n">step_id</span> <span class="o">==</span> <span class="n">step_id</span><span class="p">:</span>
                    <span class="n">result</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="n">ref</span><span class="o">.</span><span class="n">value_schema</span>
                    <span class="k">break</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_pipeline_outputs_schema_for_step</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_output_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">ref</span><span class="o">.</span><span class="n">connected_output</span><span class="o">.</span><span class="n">step_id</span> <span class="o">==</span> <span class="n">step_id</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="n">ref</span><span class="o">.</span><span class="n">value_schema</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_processing_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the processing stage for the specified step_id.</span>

<span class="sd">        Returns the stage nr (starting with &#39;1&#39;).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">processing_stages</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">index</span>

        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid step id &#39;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">step_is_required</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the specified step is required, or can be omitted.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step_details</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span><span class="o">.</span><span class="n">required</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_process_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The core method of this class, it connects all the processing modules, their inputs and outputs.&quot;&quot;&quot;</span>
        <span class="n">steps_details</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">execution_graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
        <span class="n">execution_graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;__root__&quot;</span><span class="p">)</span>
        <span class="n">data_flow_graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
        <span class="n">data_flow_graph_simple</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
        <span class="n">constants</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">structure_defaults</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># temp variable, to hold all outputs</span>
        <span class="n">outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepOutputRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># process all pipeline and step outputs first</span>
        <span class="n">_temp_steps_map</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineStep</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">pipeline_outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineOutputRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
            <span class="n">_temp_steps_map</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">step</span>

            <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">step_id</span> <span class="ow">in</span> <span class="n">steps_details</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t process steps: duplicate step_id &#39;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
                <span class="p">)</span>

            <span class="n">steps_details</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="n">step</span><span class="p">,</span>
                <span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="p">{},</span>
                <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{},</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">}</span>

            <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">)</span>
            <span class="n">data_flow_graph_simple</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">)</span>

            <span class="c1"># go through all the module outputs, create points for them and connect them to pipeline outputs</span>
            <span class="k">for</span> <span class="n">output_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">step_output</span> <span class="o">=</span> <span class="n">StepOutputRef</span><span class="p">(</span>
                    <span class="n">value_name</span><span class="o">=</span><span class="n">output_name</span><span class="p">,</span>
                    <span class="n">value_schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
                    <span class="n">step_id</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span>
                    <span class="n">pipeline_output</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="p">)</span>

                <span class="n">steps_details</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">][</span><span class="s2">&quot;outputs&quot;</span><span class="p">][</span><span class="n">output_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">step_output</span>
                <span class="n">step_alias</span> <span class="o">=</span> <span class="n">generate_step_alias</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="n">output_name</span><span class="p">)</span>
                <span class="n">outputs</span><span class="p">[</span><span class="n">step_alias</span><span class="p">]</span> <span class="o">=</span> <span class="n">step_output</span>

                <span class="c1"># step_output_name = generate_pipeline_endpoint_name(</span>
                <span class="c1">#     step_id=step.step_id, value_name=output_name</span>
                <span class="c1"># )</span>
                <span class="n">step_output_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">output_name</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_aliases</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">step_output_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">step_output_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_aliases</span><span class="p">[</span><span class="n">step_output_name</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_all_workflow_outputs</span><span class="p">:</span>
                        <span class="c1"># this output is not interesting for the workflow</span>
                        <span class="n">step_output_name</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="k">if</span> <span class="n">step_output_name</span><span class="p">:</span>
                    <span class="n">step_output_address</span> <span class="o">=</span> <span class="n">StepValueAddress</span><span class="p">(</span>
                        <span class="n">step_id</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="n">output_name</span>
                    <span class="p">)</span>
                    <span class="n">pipeline_output</span> <span class="o">=</span> <span class="n">PipelineOutputRef</span><span class="p">(</span>
                        <span class="n">value_name</span><span class="o">=</span><span class="n">step_output_name</span><span class="p">,</span>
                        <span class="n">connected_output</span><span class="o">=</span><span class="n">step_output_address</span><span class="p">,</span>
                        <span class="n">value_schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="n">pipeline_outputs</span><span class="p">[</span><span class="n">step_output_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pipeline_output</span>
                    <span class="n">step_output</span><span class="o">.</span><span class="n">pipeline_output</span> <span class="o">=</span> <span class="n">pipeline_output</span><span class="o">.</span><span class="n">value_name</span>

                    <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
                        <span class="n">pipeline_output</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">PipelineOutputRef</span><span class="o">.</span><span class="vm">__name__</span>
                    <span class="p">)</span>
                    <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">step_output</span><span class="p">,</span> <span class="n">pipeline_output</span><span class="p">)</span>

                    <span class="n">data_flow_graph_simple</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
                        <span class="n">pipeline_output</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">PipelineOutputRef</span><span class="o">.</span><span class="vm">__name__</span>
                    <span class="p">)</span>
                    <span class="n">data_flow_graph_simple</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">pipeline_output</span><span class="p">)</span>

                <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">step_output</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">StepOutputRef</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
                <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">step_output</span><span class="p">)</span>

        <span class="c1"># now process inputs, and connect them to the appropriate output/pipeline-input points</span>
        <span class="n">existing_pipeline_input_points</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineInputRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
            <span class="n">other_step_dependency</span><span class="p">:</span> <span class="n">Set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="c1"># go through all the inputs of a module, create input points and connect them to either</span>
            <span class="c1"># other module outputs, or pipeline inputs (which need to be created)</span>

            <span class="n">module_constants</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span>
                <span class="s2">&quot;constants&quot;</span>
            <span class="p">)</span>

            <span class="k">for</span> <span class="n">input_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">inputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">matching_input_links</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">StepValueAddress</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">is_constant</span> <span class="o">=</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="n">module_constants</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

                <span class="k">for</span> <span class="n">value_name</span><span class="p">,</span> <span class="n">input_links</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">input_links</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">value_name</span> <span class="o">==</span> <span class="n">input_name</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">input_link</span> <span class="ow">in</span> <span class="n">input_links</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">input_link</span> <span class="ow">in</span> <span class="n">matching_input_links</span><span class="p">:</span>
                                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate input link: </span><span class="si">{</span><span class="n">input_link</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                            <span class="n">matching_input_links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input_link</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">matching_input_links</span><span class="p">:</span>
                    <span class="c1"># this means we connect to other steps output</span>

                    <span class="n">connected_output_points</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">StepOutputRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="n">connected_outputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">StepValueAddress</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

                    <span class="k">for</span> <span class="n">input_link</span> <span class="ow">in</span> <span class="n">matching_input_links</span><span class="p">:</span>
                        <span class="n">output_id</span> <span class="o">=</span> <span class="n">generate_step_alias</span><span class="p">(</span>
                            <span class="n">input_link</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="n">input_link</span><span class="o">.</span><span class="n">value_name</span>
                        <span class="p">)</span>

                        <span class="k">if</span> <span class="n">output_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">outputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                                <span class="sa">f</span><span class="s2">&quot;Can&#39;t connect input &#39;</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2">&#39; for step &#39;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;: no output &#39;</span><span class="si">{</span><span class="n">output_id</span><span class="si">}</span><span class="s2">&#39; available. Available output names: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">outputs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
                            <span class="p">)</span>
                        <span class="n">connected_output_points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">outputs</span><span class="p">[</span><span class="n">output_id</span><span class="p">])</span>
                        <span class="n">connected_outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input_link</span><span class="p">)</span>

                        <span class="n">other_step_dependency</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">input_link</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>

                    <span class="n">step_input_point</span> <span class="o">=</span> <span class="n">StepInputRef</span><span class="p">(</span>
                        <span class="n">step_id</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span>
                        <span class="n">value_name</span><span class="o">=</span><span class="n">input_name</span><span class="p">,</span>
                        <span class="n">value_schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
                        <span class="n">is_constant</span><span class="o">=</span><span class="n">is_constant</span><span class="p">,</span>
                        <span class="n">connected_pipeline_input</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">connected_outputs</span><span class="o">=</span><span class="n">connected_outputs</span><span class="p">,</span>
                    <span class="p">)</span>

                    <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">connected_output_points</span><span class="p">:</span>
                        <span class="n">op</span><span class="o">.</span><span class="n">connected_inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">step_input_point</span><span class="o">.</span><span class="n">address</span><span class="p">)</span>
                        <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">step_input_point</span><span class="p">)</span>
                        <span class="n">data_flow_graph_simple</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span>
                            <span class="n">_temp_steps_map</span><span class="p">[</span><span class="n">op</span><span class="o">.</span><span class="n">step_id</span><span class="p">],</span> <span class="n">step_input_point</span>
                        <span class="p">)</span>  <span class="c1"># TODO: name edge</span>
                        <span class="n">data_flow_graph_simple</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span>
                            <span class="n">step_input_point</span><span class="p">,</span> <span class="n">step</span>
                        <span class="p">)</span>  <span class="c1"># TODO: name edge</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># this means we connect to pipeline input</span>
                    <span class="c1"># pipeline_input_name = generate_pipeline_endpoint_name(</span>
                    <span class="c1">#     step_id=step.step_id, value_name=input_name</span>
                    <span class="c1"># )</span>
                    <span class="n">pipeline_input_ref</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2">&quot;</span>

                    <span class="c1"># check whether this input has an alias associated with it</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_aliases</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

                    <span class="k">if</span> <span class="n">pipeline_input_ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="c1"># this means we use the pipeline alias</span>
                        <span class="n">pipeline_input_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_aliases</span><span class="p">[</span><span class="n">pipeline_input_ref</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">pipeline_input_name</span> <span class="o">=</span> <span class="n">generate_pipeline_endpoint_name</span><span class="p">(</span>
                            <span class="n">step_id</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="n">input_name</span>
                        <span class="p">)</span>

                    <span class="k">if</span> <span class="n">pipeline_input_name</span> <span class="ow">in</span> <span class="n">existing_pipeline_input_points</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="c1"># we already created a pipeline input with this name</span>
                        <span class="c1"># TODO: check whether schema fits</span>
                        <span class="n">connected_pipeline_input</span> <span class="o">=</span> <span class="n">existing_pipeline_input_points</span><span class="p">[</span>
                            <span class="n">pipeline_input_name</span>
                        <span class="p">]</span>
                        <span class="k">assert</span> <span class="n">connected_pipeline_input</span><span class="o">.</span><span class="n">is_constant</span> <span class="o">==</span> <span class="n">is_constant</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># we need to create the pipeline input</span>
                        <span class="n">connected_pipeline_input</span> <span class="o">=</span> <span class="n">PipelineInputRef</span><span class="p">(</span>
                            <span class="n">value_name</span><span class="o">=</span><span class="n">pipeline_input_name</span><span class="p">,</span>
                            <span class="n">value_schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
                            <span class="n">is_constant</span><span class="o">=</span><span class="n">is_constant</span><span class="p">,</span>
                        <span class="p">)</span>

                        <span class="n">existing_pipeline_input_points</span><span class="p">[</span><span class="n">pipeline_input_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                            <span class="n">connected_pipeline_input</span>
                        <span class="p">)</span>

                        <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
                            <span class="n">connected_pipeline_input</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">PipelineInputRef</span><span class="o">.</span><span class="vm">__name__</span>
                        <span class="p">)</span>
                        <span class="n">data_flow_graph_simple</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
                            <span class="n">connected_pipeline_input</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">PipelineInputRef</span><span class="o">.</span><span class="vm">__name__</span>
                        <span class="p">)</span>
                        <span class="k">if</span> <span class="n">is_constant</span><span class="p">:</span>
                            <span class="n">constants</span><span class="p">[</span><span class="n">pipeline_input_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                                <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;constants&quot;</span><span class="p">)[</span><span class="n">input_name</span><span class="p">]</span>
                            <span class="p">)</span>

                        <span class="n">default_val</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;defaults&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                            <span class="n">input_name</span><span class="p">,</span> <span class="kc">None</span>
                        <span class="p">)</span>
                        <span class="k">if</span> <span class="n">is_constant</span> <span class="ow">and</span> <span class="n">default_val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                                <span class="sa">f</span><span class="s2">&quot;Module config invalid for step &#39;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;: both default value and constant provided for input &#39;</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                            <span class="p">)</span>
                        <span class="k">elif</span> <span class="n">default_val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                            <span class="n">structure_defaults</span><span class="p">[</span><span class="n">pipeline_input_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">default_val</span>

                    <span class="n">step_input_point</span> <span class="o">=</span> <span class="n">StepInputRef</span><span class="p">(</span>
                        <span class="n">step_id</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span>
                        <span class="n">value_name</span><span class="o">=</span><span class="n">input_name</span><span class="p">,</span>
                        <span class="n">value_schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
                        <span class="n">connected_pipeline_input</span><span class="o">=</span><span class="n">connected_pipeline_input</span><span class="o">.</span><span class="n">value_name</span><span class="p">,</span>
                        <span class="n">connected_outputs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">is_constant</span><span class="o">=</span><span class="n">is_constant</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="n">connected_pipeline_input</span><span class="o">.</span><span class="n">connected_inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">step_input_point</span><span class="o">.</span><span class="n">address</span>
                    <span class="p">)</span>
                    <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">connected_pipeline_input</span><span class="p">,</span> <span class="n">step_input_point</span><span class="p">)</span>
                    <span class="n">data_flow_graph_simple</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">connected_pipeline_input</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span>

                <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">step_input_point</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">StepInputRef</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>

                <span class="n">steps_details</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">][</span><span class="s2">&quot;inputs&quot;</span><span class="p">][</span><span class="n">input_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">step_input_point</span>

                <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                    <span class="n">steps_details</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">][</span><span class="s2">&quot;doc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">doc</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">steps_details</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">][</span><span class="s2">&quot;doc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">doc</span>
                <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">step_input_point</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">other_step_dependency</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">module_id</span> <span class="ow">in</span> <span class="n">other_step_dependency</span><span class="p">:</span>
                    <span class="n">execution_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">module_id</span><span class="p">,</span> <span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">execution_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s2">&quot;__root__&quot;</span><span class="p">,</span> <span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_constants</span> <span class="o">=</span> <span class="n">constants</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults</span> <span class="o">=</span> <span class="n">structure_defaults</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_steps_details</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">steps_details</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">_step</span> <span class="o">=</span> <span class="n">StepInfo</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>
            <span class="n">_step</span><span class="o">.</span><span class="n">_structure</span> <span class="o">=</span> <span class="bp">self</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_steps_details</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">_step</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_execution_graph</span> <span class="o">=</span> <span class="n">execution_graph</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_flow_graph</span> <span class="o">=</span> <span class="n">data_flow_graph</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_flow_graph_simple</span> <span class="o">=</span> <span class="n">data_flow_graph_simple</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_processing_stages</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_of_type</span><span class="o">.</span><span class="n">cache_clear</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export_stages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># TODO: implement different processing stages possibilities</span>
        <span class="n">processing_stages</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">processing_stages</span>

        <span class="k">for</span> <span class="n">stage</span> <span class="ow">in</span> <span class="n">processing_stages</span><span class="p">:</span>
            <span class="n">input_links</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
                <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">input_link</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">input_links</span><span class="p">:</span>
                    <span class="n">input_links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input_link</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
        <span class="n">show_pipeline_inputs_for_steps</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s2">&quot;show_pipeline_inputs_for_steps&quot;</span><span class="p">,</span> <span class="kc">False</span>
        <span class="p">)</span>
        <span class="n">stages_extraction_type</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s2">&quot;stages_extraction_type&quot;</span><span class="p">,</span> <span class="n">KIARA_DEFAULT_STAGES_EXTRACTION_TYPE</span>
        <span class="p">)</span>

        <span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="s2">&quot;pipeline&quot;</span><span class="p">)</span>
        <span class="n">inputs</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;inputs&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_inputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">inputs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[i]</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">[i] (type: </span><span class="si">{</span><span class="n">schema</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

        <span class="n">steps</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;steps&quot;</span><span class="p">)</span>
        <span class="n">processing_stages</span> <span class="o">=</span> <span class="n">PipelineStage</span><span class="o">.</span><span class="n">extract_stages</span><span class="p">(</span>
            <span class="n">structure</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">stages_extraction_type</span><span class="o">=</span><span class="n">stages_extraction_type</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">processing_stages</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">stage_node</span> <span class="o">=</span> <span class="n">steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;stage </span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
                <span class="n">step_node</span> <span class="o">=</span> <span class="n">stage_node</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;step: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">show_pipeline_inputs_for_steps</span><span class="p">:</span>
                    <span class="n">pipeline_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_pipeline_inputs_schema_for_step</span><span class="p">(</span>
                        <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span>
                    <span class="p">)</span>
                    <span class="k">if</span> <span class="n">pipeline_inputs</span><span class="p">:</span>
                        <span class="n">inps</span> <span class="o">=</span> <span class="n">step_node</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;pipeline inputs&quot;</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">pi</span> <span class="ow">in</span> <span class="n">pipeline_inputs</span><span class="p">:</span>
                            <span class="n">inps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[i]</span><span class="si">{</span><span class="n">pi</span><span class="si">}</span><span class="s2">[i]&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                    <span class="n">step_node</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;desc: </span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">step_node</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;operation: </span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">manifest_src</span><span class="o">.</span><span class="n">module_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">outputs</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;outputs&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_outputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">outputs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[i]</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">[i] (type: </span><span class="si">{</span><span class="n">schema</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">tree</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">





<h4 id="kiara.api.PipelineStructure-attributes">Attributes<a href="#kiara.api.PipelineStructure-attributes" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.pipeline_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pipeline_config</span><span class="p">:</span> <span class="n">PipelineConfig</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The underlying pipeline config.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.pipeline_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.steps" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PipelineStep</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The pipeline steps &#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.steps" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.input_aliases" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">input_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The input aliases.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.input_aliases" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.output_aliases" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">output_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The output aliases.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.output_aliases" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.steps_details" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">steps_details</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepInfo</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.steps_details" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.step_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">step_ids</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.step_ids" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.constants" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">constants</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.constants" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.defaults" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">defaults</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.defaults" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.execution_graph" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">execution_graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.execution_graph" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.data_flow_graph" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">data_flow_graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.data_flow_graph" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.data_flow_graph_simple" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">data_flow_graph_simple</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.data_flow_graph_simple" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.processing_stages" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">processing_stages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.processing_stages" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.steps_input_refs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">steps_input_refs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepInputRef</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.steps_input_refs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.steps_output_refs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">steps_output_refs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepOutputRef</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.steps_output_refs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.pipeline_input_refs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pipeline_input_refs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineInputRef</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.pipeline_input_refs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.pipeline_output_refs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pipeline_output_refs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineOutputRef</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.pipeline_output_refs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.pipeline_inputs_schema" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pipeline_inputs_schema</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.pipeline_inputs_schema" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.PipelineStructure.pipeline_outputs_schema" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pipeline_outputs_schema</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.pipeline_outputs_schema" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<h4 id="kiara.api.PipelineStructure-functions">Functions<a href="#kiara.api.PipelineStructure-functions" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.PipelineStructure.validate_pipeline_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_pipeline_config</span><span class="p">(</span><span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.PipelineStructure.validate_pipeline_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/structure.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
<span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">validate_pipeline_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="n">pipeline_config</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pipeline_config&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">pipeline_config</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No &#39;pipeline_config&#39; provided.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Only &#39;pipeline_config&#39; key allowed when creating a pipeline structure object.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline_config</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
        <span class="n">pipeline_config</span> <span class="o">=</span> <span class="n">PipelineConfig</span><span class="p">(</span><span class="o">**</span><span class="n">pipeline_config</span><span class="p">)</span>
    <span class="n">_config</span><span class="p">:</span> <span class="n">PipelineConfig</span> <span class="o">=</span> <span class="n">pipeline_config</span>
    <span class="n">_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PipelineStep</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">_config</span><span class="o">.</span><span class="n">steps</span><span class="p">)</span>

    <span class="n">_input_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">_config</span><span class="o">.</span><span class="n">input_aliases</span><span class="p">)</span>
    <span class="n">_output_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">_config</span><span class="o">.</span><span class="n">output_aliases</span><span class="p">)</span>

    <span class="n">invalid_input_aliases</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">_input_aliases</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">a</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">invalid_input_aliases</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InvalidPipelineConfig</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid input aliases, aliases can&#39;t contain special characters: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_input_aliases</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pipeline_config&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
            <span class="n">details</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid characters: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_input_aliases</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">invalid_output_aliases</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">_input_aliases</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">a</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">invalid_input_aliases</span><span class="p">:</span>
        <span class="n">pc</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pipeline_config&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">pc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No pipeline config provided.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidPipelineConfig</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid input aliases, aliases can&#39;t contain special characters: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_output_aliases</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
                <span class="n">config</span><span class="o">=</span><span class="n">pc</span><span class="p">,</span>
                <span class="n">details</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid characters: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_output_aliases</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="n">valid_input_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">_steps</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">input_names</span><span class="p">:</span>
            <span class="n">valid_input_names</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">invalid_input_aliases</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">_input_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">a</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_input_names</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="n">invalid_input_aliases</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid input reference(s).&quot;</span>
        <span class="n">details</span> <span class="o">=</span> <span class="s2">&quot;Invalid reference(s):</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">for</span> <span class="n">iia</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">invalid_input_aliases</span><span class="p">):</span>
            <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; - </span><span class="si">{</span><span class="n">iia</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">details</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Must be one of: </span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">valid_input_names</span><span class="p">):</span>
            <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>

        <span class="k">raise</span> <span class="n">InvalidPipelineConfig</span><span class="p">(</span>
            <span class="n">msg</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pipeline_config&quot;</span><span class="p">,</span> <span class="p">{}),</span> <span class="n">details</span><span class="o">=</span><span class="n">details</span>
        <span class="p">)</span>

    <span class="n">valid_output_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">_steps</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">output_name</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">output_names</span><span class="p">:</span>
            <span class="n">valid_output_names</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">output_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">invalid_output_names</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">_output_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">a</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_output_names</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="n">invalid_output_names</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid output reference(s).&quot;</span>
        <span class="n">details</span> <span class="o">=</span> <span class="s2">&quot;Invalid reference(s):</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">for</span> <span class="n">iia</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">invalid_output_names</span><span class="p">):</span>
            <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; - </span><span class="si">{</span><span class="n">iia</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">details</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Must be one of: </span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">valid_output_names</span><span class="p">):</span>
            <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>

        <span class="k">raise</span> <span class="n">InvalidPipelineConfig</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pipeline_config&quot;</span><span class="p">,</span> <span class="p">{}),</span> <span class="n">details</span><span class="p">)</span>

    <span class="c1"># stages = PipelineStage.from_pipeline_structure(stages=)</span>

    <span class="c1"># values[&quot;steps&quot;] = {step.step_id: step for step in _steps}</span>
    <span class="n">values</span><span class="p">[</span><span class="s2">&quot;steps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_steps</span>
    <span class="n">values</span><span class="p">[</span><span class="s2">&quot;input_aliases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_input_aliases</span>
    <span class="n">values</span><span class="p">[</span><span class="s2">&quot;output_aliases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_output_aliases</span>
    <span class="k">return</span> <span class="n">values</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.PipelineStructure.get_step" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineStep</span></code>

<a href="#kiara.api.PipelineStructure.get_step" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/structure.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineStep</span><span class="p">:</span>
    <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No step with id: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="n">step</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.PipelineStructure.get_step_input_refs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_step_input_refs</span><span class="p">(</span><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepInputRef</span><span class="p">]</span></code>

<a href="#kiara.api.PipelineStructure.get_step_input_refs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/structure.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_step_input_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepInputRef</span><span class="p">]:</span>
    <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No step with id: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="n">inputs</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.PipelineStructure.get_step_output_refs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_step_output_refs</span><span class="p">(</span><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepOutputRef</span><span class="p">]</span></code>

<a href="#kiara.api.PipelineStructure.get_step_output_refs" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/structure.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_step_output_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepOutputRef</span><span class="p">]:</span>
    <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No step with id: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="n">outputs</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.PipelineStructure.get_step_details" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_step_details</span><span class="p">(</span><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepInfo</span></code>

<a href="#kiara.api.PipelineStructure.get_step_details" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/structure.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_step_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepInfo</span><span class="p">:</span>
    <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No step with id: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">d</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.PipelineStructure.extract_processing_stages" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">extract_processing_stages</span><span class="p">(</span><span class="n">stages_extraction_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">KIARA_DEFAULT_STAGES_EXTRACTION_TYPE</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span></code>

<a href="#kiara.api.PipelineStructure.extract_processing_stages" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Extract a list of lists of steps, representing the order of groups in which they will be executed.</p>
<p>It is possible to extract the stages in different ways, depending on the use-case you have in mind. For most cases,
'late' will be appropriate. Currently available:
- 'late': process steps as late in the process as possible
- 'early': process steps as early in the process as possible</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/structure.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">extract_processing_stages</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">stages_extraction_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">KIARA_DEFAULT_STAGES_EXTRACTION_TYPE</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extract a list of lists of steps, representing the order of groups in which they will be executed.</span>

<span class="sd">    It is possible to extract the stages in different ways, depending on the use-case you have in mind. For most cases,</span>
<span class="sd">    &#39;late&#39; will be appropriate. Currently available:</span>
<span class="sd">    - &#39;late&#39;: process steps as late in the process as possible</span>
<span class="sd">    - &#39;early&#39;: process steps as early in the process as possible</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">PipelineStage</span><span class="o">.</span><span class="n">extract_stages</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">stages_extraction_type</span><span class="o">=</span><span class="n">stages_extraction_type</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.PipelineStructure.extract_processing_stages_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">extract_processing_stages_info</span><span class="p">(</span><span class="n">stages_extraction_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">KIARA_DEFAULT_STAGES_EXTRACTION_TYPE</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PipelineStage</span><span class="p">]</span></code>

<a href="#kiara.api.PipelineStructure.extract_processing_stages_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/structure.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">extract_processing_stages_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">stages_extraction_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">KIARA_DEFAULT_STAGES_EXTRACTION_TYPE</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PipelineStage</span><span class="p">]:</span>
    <span class="n">stages</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_processing_stages</span><span class="p">(</span>
        <span class="n">stages_extraction_type</span><span class="o">=</span><span class="n">stages_extraction_type</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">PipelineStage</span><span class="o">.</span><span class="n">stages_info_from_pipeline_structure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stages</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.PipelineStructure.get_stages_graph" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_stages_graph</span><span class="p">(</span><span class="n">stages_extraction_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">KIARA_DEFAULT_STAGES_EXTRACTION_TYPE</span><span class="p">,</span> <span class="n">flatten</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span></code>

<a href="#kiara.api.PipelineStructure.get_stages_graph" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Creates a networx graph that represents the processing stages of the pipeline and how they are connecte.</p>
        <hr />
<div class="codehilite"><pre><span></span><code>stages_extraction_type: how to extract the stages
flatten: if True, the nodes representing connections between stages will be removed, leaving only the edge
</code></pre></div>
        <hr />
<div class="codehilite"><pre><span></span><code>a networkx graph object
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/structure.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_stages_graph</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">stages_extraction_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">KIARA_DEFAULT_STAGES_EXTRACTION_TYPE</span><span class="p">,</span>
    <span class="n">flatten</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a networx graph that represents the processing stages of the pipeline and how they are connecte.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    ---------</span>
<span class="sd">        stages_extraction_type: how to extract the stages</span>
<span class="sd">        flatten: if True, the nodes representing connections between stages will be removed, leaving only the edge</span>

<span class="sd">    Returns:</span>
<span class="sd">    -------</span>
<span class="sd">        a networkx graph object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">stages</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_processing_stages_info</span><span class="p">(</span>
        <span class="n">stages_extraction_type</span><span class="o">=</span><span class="n">stages_extraction_type</span>
    <span class="p">)</span>

    <span class="n">graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">stage</span> <span class="ow">in</span> <span class="n">stages</span><span class="p">:</span>
        <span class="n">fragment</span> <span class="o">=</span> <span class="n">stage</span><span class="o">.</span><span class="n">get_graph_fragment</span><span class="p">()</span>
        <span class="n">graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">fragment</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">flatten</span><span class="p">:</span>
        <span class="n">to_flatten</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_id</span><span class="p">][</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;stage_output&quot;</span><span class="p">,</span> <span class="s2">&quot;connected_output&quot;</span><span class="p">]:</span>
                <span class="n">to_flatten</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">to_flatten</span><span class="p">:</span>
            <span class="n">in_edges</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">graph</span><span class="o">.</span><span class="n">in_edges</span><span class="p">(</span><span class="n">f</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># noqa</span>
            <span class="n">out_edges</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">graph</span><span class="o">.</span><span class="n">out_edges</span><span class="p">(</span><span class="n">f</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># noqa</span>
            <span class="k">assert</span> <span class="n">in_edges</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">out_edges</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">graph</span><span class="o">.</span><span class="n">remove_edge</span><span class="p">(</span><span class="n">in_edges</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">in_edges</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">graph</span><span class="o">.</span><span class="n">remove_edge</span><span class="p">(</span><span class="n">out_edges</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">out_edges</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">graph</span><span class="o">.</span><span class="n">remove_node</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="n">graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span>
                <span class="n">in_edges</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">out_edges</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;stage_connection&quot;</span><span class="p">,</span>
                <span class="n">output_name</span><span class="o">=</span><span class="n">in_edges</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="p">)</span>

    <span class="k">return</span> <span class="n">graph</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.PipelineStructure.get_pipeline_inputs_schema_for_step" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_pipeline_inputs_schema_for_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]</span></code>

<a href="#kiara.api.PipelineStructure.get_pipeline_inputs_schema_for_step" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/structure.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_pipeline_inputs_schema_for_step</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_input_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">con</span> <span class="ow">in</span> <span class="n">ref</span><span class="o">.</span><span class="n">connected_inputs</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">con</span><span class="o">.</span><span class="n">step_id</span> <span class="o">==</span> <span class="n">step_id</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="n">ref</span><span class="o">.</span><span class="n">value_schema</span>
                <span class="k">break</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.PipelineStructure.get_pipeline_outputs_schema_for_step" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_pipeline_outputs_schema_for_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]</span></code>

<a href="#kiara.api.PipelineStructure.get_pipeline_outputs_schema_for_step" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/structure.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_pipeline_outputs_schema_for_step</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_output_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">ref</span><span class="o">.</span><span class="n">connected_output</span><span class="o">.</span><span class="n">step_id</span> <span class="o">==</span> <span class="n">step_id</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="n">ref</span><span class="o">.</span><span class="n">value_schema</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.PipelineStructure.get_processing_stage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_processing_stage</span><span class="p">(</span><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span></code>

<a href="#kiara.api.PipelineStructure.get_processing_stage" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Return the processing stage for the specified step_id.</p>
<p>Returns the stage nr (starting with '1').</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/structure.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_processing_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the processing stage for the specified step_id.</span>

<span class="sd">    Returns the stage nr (starting with &#39;1&#39;).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">processing_stages</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">index</span>

    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid step id &#39;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.PipelineStructure.step_is_required" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">step_is_required</span><span class="p">(</span><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

<a href="#kiara.api.PipelineStructure.step_is_required" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Check if the specified step is required, or can be omitted.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/structure.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">step_is_required</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the specified step is required, or can be omitted.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step_details</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span><span class="o">.</span><span class="n">required</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.PipelineStructure.export_stages" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export_stages</span><span class="p">()</span></code>

<a href="#kiara.api.PipelineStructure.export_stages" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/structure.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">export_stages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># TODO: implement different processing stages possibilities</span>
    <span class="n">processing_stages</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">processing_stages</span>

    <span class="k">for</span> <span class="n">stage</span> <span class="ow">in</span> <span class="n">processing_stages</span><span class="p">:</span>
        <span class="n">input_links</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
            <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">input_link</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">input_links</span><span class="p">:</span>
                <span class="n">input_links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input_link</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.PipelineStructure.create_renderable" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span></code>

<a href="#kiara.api.PipelineStructure.create_renderable" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/pipeline/structure.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
    <span class="n">show_pipeline_inputs_for_steps</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;show_pipeline_inputs_for_steps&quot;</span><span class="p">,</span> <span class="kc">False</span>
    <span class="p">)</span>
    <span class="n">stages_extraction_type</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;stages_extraction_type&quot;</span><span class="p">,</span> <span class="n">KIARA_DEFAULT_STAGES_EXTRACTION_TYPE</span>
    <span class="p">)</span>

    <span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="s2">&quot;pipeline&quot;</span><span class="p">)</span>
    <span class="n">inputs</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;inputs&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_inputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">inputs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[i]</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">[i] (type: </span><span class="si">{</span><span class="n">schema</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

    <span class="n">steps</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;steps&quot;</span><span class="p">)</span>
    <span class="n">processing_stages</span> <span class="o">=</span> <span class="n">PipelineStage</span><span class="o">.</span><span class="n">extract_stages</span><span class="p">(</span>
        <span class="n">structure</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">stages_extraction_type</span><span class="o">=</span><span class="n">stages_extraction_type</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">processing_stages</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">stage_node</span> <span class="o">=</span> <span class="n">steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;stage </span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
            <span class="n">step_node</span> <span class="o">=</span> <span class="n">stage_node</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;step: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">show_pipeline_inputs_for_steps</span><span class="p">:</span>
                <span class="n">pipeline_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_pipeline_inputs_schema_for_step</span><span class="p">(</span>
                    <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">pipeline_inputs</span><span class="p">:</span>
                    <span class="n">inps</span> <span class="o">=</span> <span class="n">step_node</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;pipeline inputs&quot;</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">pi</span> <span class="ow">in</span> <span class="n">pipeline_inputs</span><span class="p">:</span>
                        <span class="n">inps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[i]</span><span class="si">{</span><span class="n">pi</span><span class="si">}</span><span class="s2">[i]&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                <span class="n">step_node</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;desc: </span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">step_node</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;operation: </span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">manifest_src</span><span class="o">.</span><span class="n">module_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">outputs</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;outputs&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_outputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[i]</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">[i] (type: </span><span class="si">{</span><span class="n">schema</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">tree</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="kiara.api.Value" class="doc doc-heading">
            <code>Value</code>


<a href="#kiara.api.Value" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ValueDetails (kiara.models.values.value.ValueDetails)" href="../models/values/value/#kiara.models.values.value.ValueDetails">ValueDetails</a></code></p>








              <details class="quote">
                <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Value</span><span class="p">(</span><span class="n">ValueDetails</span><span class="p">):</span>
    <span class="n">_kiara_model_id</span><span class="p">:</span> <span class="n">ClassVar</span> <span class="o">=</span> <span class="s2">&quot;instance.value&quot;</span>

    <span class="n">_value_data</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">)</span>
    <span class="n">_serialized_data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">SerializedData</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_data_retrieved</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">_data_registry</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;DataRegistry&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="c1"># _data_type: &quot;DataType&quot; = PrivateAttr(default=None)</span>
    <span class="n">_is_stored</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">_cached_properties</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;ValueMap&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_lineage</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;ValueLineage&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="n">environment_hashes</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Hashes for the environments this value was created in.&quot;</span>
    <span class="p">)</span>
    <span class="c1"># enviroments: Union[Mapping[str, Mapping[str, Any]], None] = Field(</span>
    <span class="c1">#     description=&quot;Information about the environments this value was created in.&quot;,</span>
    <span class="c1">#     default=None,</span>
    <span class="c1"># )</span>
    <span class="n">property_links</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Links to values that are properties of this value.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">destiny_backlinks</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Backlinks to values that this value acts as destiny/or property for.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The id of the job that created this value (if applicable).&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_property</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">],</span>
        <span class="n">property_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">add_origin_to_property_value</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value_temp</span> <span class="o">=</span> <span class="n">value</span>
            <span class="n">value_id</span> <span class="o">=</span> <span class="n">value_id</span><span class="o">.</span><span class="n">value_id</span>  <span class="c1"># type: ignore</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value_temp</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="c1"># in case a Value object was provided</span>
            <span class="k">pass</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">value_temp</span>

        <span class="k">if</span> <span class="n">add_origin_to_property_value</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value_id</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">_is_stored</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t add property to value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: referenced value &#39;</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39; already locked, so it&#39;s not possible to add the property backlink (as requested).&quot;</span>
                <span class="p">)</span>

        <span class="k">assert</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_stored</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t add property to value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: value already locked.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">property_path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t add property to value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: property &#39;</span><span class="si">{</span><span class="n">property_path</span><span class="si">}</span><span class="s2">&#39; already set.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">[</span><span class="n">property_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_id</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="n">add_origin_to_property_value</span><span class="p">:</span>
            <span class="n">value</span><span class="o">.</span><span class="n">add_destiny_details</span><span class="p">(</span>
                <span class="n">value_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="p">,</span> <span class="n">destiny_alias</span><span class="o">=</span><span class="n">property_path</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_cached_properties</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_destiny_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">destiny_alias</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_stored</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t set destiny_refs to value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: value already locked.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">destiny_backlinks</span><span class="p">[</span><span class="n">value_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">destiny_alias</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_serializable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialized_data</span> <span class="o">==</span> <span class="n">NO_SERIALIZATION_MARKER</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">serialized_data</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="c1"># @property</span>
    <span class="c1"># def data_type_class(self) -&gt; &quot;PythonClass&quot;:</span>
    <span class="c1">#     &quot;&quot;&quot;Return the (Python) type of the underlying &#39;DataType&#39; subclass.&quot;&quot;&quot;</span>
    <span class="c1">#     return self.data_type_info.data_type_class</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">serialized_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SerializedData</span><span class="p">:</span>
        <span class="c1"># if not self.is_set:</span>
        <span class="c1">#     raise Exception(f&quot;Can&#39;t retrieve serialized data: value not set.&quot;)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialized_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_serialized_data</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Data type &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type_name</span><span class="si">}</span><span class="s2">&#39; does not support serializing: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_serialized_data</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialized_data</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_serialized_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">retrieve_persisted_value_details</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value_id</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialized_data</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_initialized</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t retrieve data for value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: value not initialized yet. This is most likely a bug.&quot;</span>
            <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_retrieve_data</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">DataTypeUnknownException</span> <span class="k">as</span> <span class="n">dtue</span><span class="p">:</span>
            <span class="n">dtue</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="bp">self</span>
            <span class="k">raise</span> <span class="n">dtue</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_retrieve_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value_data</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_status</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ValueStatus</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">,</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">NONE</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value_data</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value_data</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_status</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ValueStatus</span><span class="o">.</span><span class="n">SET</span><span class="p">,</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid internal state of value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">retrieved</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">retrieve_value_data</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">retrieved</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">retrieved</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t set value data, invalid data type: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">retrieved</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_value_data</span> <span class="o">=</span> <span class="n">retrieved</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_retrieved</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value_data</span>

    <span class="c1"># def retrieve_load_config(self) -&gt; Optional[LoadConfig]:</span>
    <span class="c1">#     return self._data_registry.retrieve_persisted_value_details(</span>
    <span class="c1">#         value_id=self.value_id</span>
    <span class="c1">#     )</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(id=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">, type=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type_name</span><span class="si">}</span><span class="s2">, status=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_status</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">, initialized=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">is_initialized</span><span class="si">}</span><span class="s2"> optional=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">optional</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_set_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_registry</span><span class="p">:</span> <span class="s2">&quot;DataRegistry&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span> <span class="o">=</span> <span class="n">data_registry</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_initialized</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_set</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_stored</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_stored</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">data_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;DataType&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type_info</span><span class="o">.</span><span class="n">data_type_instance</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">lineage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueLineage&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lineage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lineage</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.values.lineage</span><span class="w"> </span><span class="kn">import</span> <span class="n">ValueLineage</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lineage</span> <span class="o">=</span> <span class="n">ValueLineage</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">_kiara</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lineage</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">property_values</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMap&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a dictionary of all of this values properties.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_properties</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_properties</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cached_properties</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">load_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_properties</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">property_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_property_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_key</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Value&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">property_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39; has no property with key &#39;</span><span class="si">{</span><span class="n">property_key</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">[</span><span class="n">property_key</span><span class="p">])</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_property_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_property_value</span><span class="p">(</span><span class="n">property_key</span><span class="o">=</span><span class="n">property_key</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_property_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flatten_models</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_property_data</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_names</span><span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">flatten_models</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">result</span>

        <span class="n">flat</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;model_dump&quot;</span><span class="p">):</span>
                <span class="n">flat</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>
            <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;dict&quot;</span><span class="p">):</span>
                <span class="n">flat</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">flat</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
        <span class="k">return</span> <span class="n">flat</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">lookup_self_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t lookup aliases for value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: data registry not set (yet).&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">lookup_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueInfo&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t create info object for value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: data registry not set (yet).&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">create_value_info</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_info_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">show_pedigree</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_pedigree&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_lineage</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_lineage&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_properties</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_properties&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="c1"># show_destinies = config.get(&quot;show_destinies&quot;, False)</span>
        <span class="c1"># show_destiny_backlinks = config.get(&quot;show_destiny_backlinks&quot;, False)</span>
        <span class="c1"># show_data = config.get(&quot;show_data_preview&quot;, False)</span>
        <span class="n">show_serialized</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_serialized&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_env_data_hashes</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_environment_hashes&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_env_data</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_environment_data&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">ignore_fields</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ignore_fields&quot;</span><span class="p">,</span> <span class="p">[])</span>

        <span class="n">table</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="s2">&quot;value_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;value_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_id</span>
        <span class="k">if</span> <span class="s2">&quot;aliases&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;aliases&quot;</span><span class="p">):</span>
                <span class="n">table</span><span class="p">[</span><span class="s2">&quot;aliases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aliases</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="s2">&quot;kiara_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;kiara_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara_id</span>

        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">k</span>
                <span class="ow">in</span> <span class="p">[</span>
                    <span class="s2">&quot;serialized&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;value_id&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;aliases&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;kiara_id&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;environments&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;lineage&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;environment_hashes&quot;</span><span class="p">,</span>
                <span class="p">]</span>
                <span class="ow">or</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ignore_fields</span>
            <span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">,</span> <span class="s2">&quot;pedigree&quot;</span><span class="p">]:</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">attr</span>

            <span class="n">table</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

        <span class="k">if</span> <span class="n">show_pedigree</span><span class="p">:</span>
            <span class="n">pedigree</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;pedigree&quot;</span><span class="p">)</span>

            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;pedigree&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pedigree</span>
            <span class="k">if</span> <span class="n">pedigree</span> <span class="o">==</span> <span class="n">ORPHAN</span><span class="p">:</span>
                <span class="n">pedigree_output_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">pedigree_output_name</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">)</span>

            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pedigree_output_name</span>

        <span class="k">if</span> <span class="n">show_lineage</span><span class="p">:</span>
            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;lineage&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lineage</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">show_serialized</span><span class="p">:</span>
            <span class="n">serialized</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">retrieve_persisted_value_details</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">value_id</span>
            <span class="p">)</span>
            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;serialized&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">serialized</span>

        <span class="k">if</span> <span class="n">show_env_data_hashes</span><span class="p">:</span>
            <span class="n">env_hashes</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
                <span class="n">orjson_dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">environment_hashes</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">),</span>
                <span class="s2">&quot;json&quot;</span><span class="p">,</span>
                <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;environment_hashes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">env_hashes</span>

        <span class="k">if</span> <span class="n">show_env_data</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">show_properties</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">:</span>
                <span class="n">table</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">properties</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">load_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">)</span>
                <span class="n">table</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">properties</span>

        <span class="c1"># if hasattr(self, &quot;destiny_links&quot;) and show_destinies:</span>
        <span class="c1">#     if not self.destiny_links:  # type: ignore</span>
        <span class="c1">#         table[&quot;destinies&quot;] = {}</span>
        <span class="c1">#     else:</span>
        <span class="c1">#         destinies = self._data_registry.load_values(self.destiny_links)  # type: ignore</span>
        <span class="c1">#         table[&quot;destinies&quot;] = destinies</span>
        <span class="c1">#</span>
        <span class="c1"># if show_destiny_backlinks:</span>
        <span class="c1">#     if not self.destiny_backlinks:</span>
        <span class="c1">#         table[&quot;destiny backlinks&quot;] = {}</span>
        <span class="c1">#     else:</span>
        <span class="c1">#         destiny_items: List[Any] = []</span>
        <span class="c1">#         for v_id, alias in self.destiny_backlinks.items():</span>
        <span class="c1">#             destiny_items.append(</span>
        <span class="c1">#                 f&quot;[b]Value: [i]{v_id}[/i] (destiny alias: {alias})[/b]&quot;</span>
        <span class="c1">#             )</span>
        <span class="c1">#             rendered = self._data_registry.pretty_print_data(</span>
        <span class="c1">#                 value_id=v_id, **config</span>
        <span class="c1">#             )</span>
        <span class="c1">#             destiny_items.append(rendered)</span>
        <span class="c1">#         table[&quot;destiny backlinks&quot;] = destiny_items</span>
        <span class="c1">#</span>
        <span class="c1"># if show_data:</span>
        <span class="c1">#     rendered = self._data_registry.pretty_print_data(</span>
        <span class="c1">#         self.value_id, target_type=&quot;terminal_renderable&quot;</span>
        <span class="c1">#     )</span>
        <span class="c1">#     table[&quot;data preview&quot;] = rendered</span>

        <span class="k">return</span> <span class="n">table</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">render_config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.utils.output</span><span class="w"> </span><span class="kn">import</span> <span class="n">extract_renderable</span>

        <span class="n">show_pedigree</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_pedigree&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_lineage</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_lineage&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_properties</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_properties&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_destinies</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_destinies&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_destiny_backlinks</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_destiny_backlinks&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_data</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_data_preview&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_serialized</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_serialized&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_env_data_hashes</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_environment_hashes&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_env_data</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_environment_data&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">ignore_fields</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ignore_fields&quot;</span><span class="p">,</span> <span class="p">[])</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Key&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>

        <span class="n">info_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_info_data</span><span class="p">(</span><span class="o">**</span><span class="n">render_config</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;value_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;value_id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;value_id&quot;</span><span class="p">]))</span>
        <span class="k">if</span> <span class="s2">&quot;aliases&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">info_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;aliases&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
                <span class="n">aliases_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;aliases&quot;</span><span class="p">])</span>  <span class="c1"># type: ignore</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;aliases&quot;</span><span class="p">,</span> <span class="n">aliases_str</span><span class="p">)</span>
            <span class="c1"># else:</span>
            <span class="c1">#     aliases_str = &quot;-- n/a --&quot;</span>
            <span class="c1">#     table.add_row(&quot;aliases&quot;, aliases_str)</span>

        <span class="k">if</span> <span class="s2">&quot;kiara_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;kiara_id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;kiara_id&quot;</span><span class="p">]))</span>

        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">Rule</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">info_data</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">k</span>
                <span class="ow">in</span> <span class="p">[</span>
                    <span class="s2">&quot;serialized&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;value_id&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;aliases&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;kiara_id&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;lineage&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;properties&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;environments&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;environment_hashes&quot;</span><span class="p">,</span>
                <span class="p">]</span>
                <span class="ow">or</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ignore_fields</span>
            <span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">attr</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">,</span> <span class="s2">&quot;pedigree&quot;</span><span class="p">]:</span>
                <span class="k">continue</span>

            <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;value_status&quot;</span><span class="p">:</span>
                <span class="n">v</span><span class="p">:</span> <span class="n">RenderableType</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[i]-- </span><span class="si">{</span><span class="n">attr</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> --[/i]&quot;</span>
            <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;value_size&quot;</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">format_size</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">extract_renderable</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>

            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="n">show_pedigree</span>
            <span class="ow">or</span> <span class="n">show_lineage</span>
            <span class="ow">or</span> <span class="n">show_serialized</span>
            <span class="ow">or</span> <span class="n">show_properties</span>
            <span class="ow">or</span> <span class="n">show_destinies</span>
            <span class="ow">or</span> <span class="n">show_destiny_backlinks</span>
            <span class="ow">or</span> <span class="n">show_env_data_hashes</span>
            <span class="ow">or</span> <span class="n">show_env_data</span>
        <span class="p">):</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">Rule</span><span class="p">())</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">show_pedigree</span><span class="p">:</span>
            <span class="n">pedigree</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;pedigree&quot;</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">pedigree</span> <span class="o">==</span> <span class="n">ORPHAN</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="s2">&quot;[i]-- external data --[/i]&quot;</span>
                <span class="n">pedigree_output_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">extract_renderable</span><span class="p">(</span><span class="n">pedigree</span><span class="p">)</span>
                <span class="n">pedigree_output_name</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">]</span>

            <span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;pedigree&quot;</span><span class="p">,</span> <span class="n">v</span><span class="p">]</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">pedigree_output_name</span><span class="p">:</span>
                <span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">,</span> <span class="n">pedigree_output_name</span><span class="p">]</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">show_lineage</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                <span class="s2">&quot;lineage&quot;</span><span class="p">,</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;lineage&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="n">include_ids</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">show_serialized</span><span class="p">:</span>
            <span class="n">serialized</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;serialized&quot;</span><span class="p">]</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;serialized&quot;</span><span class="p">,</span> <span class="n">serialized</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">show_env_data_hashes</span><span class="p">:</span>
            <span class="n">env_hashes</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
                <span class="n">orjson_dumps</span><span class="p">(</span>
                    <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;environment_hashes&quot;</span><span class="p">],</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span>
                <span class="p">),</span>
                <span class="s2">&quot;json&quot;</span><span class="p">,</span>
                <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;environment_hashes&quot;</span><span class="p">,</span> <span class="n">env_hashes</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">show_env_data</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">show_properties</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">]:</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">properties</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">]</span>
                <span class="n">pr</span> <span class="o">=</span> <span class="n">properties</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="n">pr</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;destiny_links&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">show_destinies</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">destiny_links</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;destinies&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">destinies</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">load_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">destiny_links</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="n">dr</span> <span class="o">=</span> <span class="n">destinies</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;destinies&quot;</span><span class="p">,</span> <span class="n">dr</span><span class="p">)</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">show_destiny_backlinks</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">destiny_backlinks</span><span class="p">:</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;destiny backlinks&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">destiny_items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">v_id</span><span class="p">,</span> <span class="n">alias</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">destiny_backlinks</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">destiny_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Rule</span><span class="p">())</span>
                    <span class="n">destiny_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;[b]Value: [i]</span><span class="si">{</span><span class="n">v_id</span><span class="si">}</span><span class="s2">[/i] (destiny alias: </span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2">)[/b]&quot;</span>
                    <span class="p">)</span>
                    <span class="n">rendered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">pretty_print_data</span><span class="p">(</span>
                        <span class="n">value_id</span><span class="o">=</span><span class="n">v_id</span><span class="p">,</span> <span class="o">**</span><span class="n">render_config</span>
                    <span class="p">)</span>
                    <span class="n">destiny_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rendered</span><span class="p">)</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;destiny backlinks&quot;</span><span class="p">,</span> <span class="n">Group</span><span class="p">(</span><span class="o">*</span><span class="n">destiny_items</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">show_data</span><span class="p">:</span>
            <span class="n">rendered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">pretty_print_data</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="p">,</span> <span class="n">target_type</span><span class="o">=</span><span class="s2">&quot;terminal_renderable&quot;</span>
            <span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">Rule</span><span class="p">())</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;data preview&quot;</span><span class="p">,</span> <span class="n">rendered</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">





<h4 id="kiara.api.Value-attributes">Attributes<a href="#kiara.api.Value-attributes" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Value.environment_hashes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">environment_hashes</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Hashes for the environments this value was created in.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.Value.environment_hashes" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Value.property_links" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">property_links</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Links to values that are properties of this value.&#39;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.Value.property_links" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Value.destiny_backlinks" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">destiny_backlinks</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Backlinks to values that this value acts as destiny/or property for.&#39;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.Value.destiny_backlinks" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Value.job_id" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The id of the job that created this value (if applicable).&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.Value.job_id" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Value.is_serializable" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_serializable</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Value.is_serializable" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Value.serialized_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">serialized_data</span><span class="p">:</span> <span class="n">SerializedData</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Value.serialized_data" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Value.data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">data</span><span class="p">:</span> <span class="n">Any</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Value.data" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Value.is_initialized" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_initialized</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Value.is_initialized" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Value.is_stored" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_stored</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Value.is_stored" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Value.data_type" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">data_type</span><span class="p">:</span> <span class="n">DataType</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Value.data_type" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Value.lineage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lineage</span><span class="p">:</span> <span class="n">ValueLineage</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Value.lineage" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Value.property_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">property_values</span><span class="p">:</span> <span class="n">ValueMap</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Value.property_values" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Return a dictionary of all of this values properties.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.Value.property_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">property_names</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.Value.property_names" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<h4 id="kiara.api.Value-functions">Functions<a href="#kiara.api.Value-functions" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Value.add_property" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_property</span><span class="p">(</span><span class="n">value_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">],</span> <span class="n">property_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">add_origin_to_property_value</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span></code>

<a href="#kiara.api.Value.add_property" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_property</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">value_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">],</span>
    <span class="n">property_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">add_origin_to_property_value</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>
    <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">value_temp</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">value_id</span> <span class="o">=</span> <span class="n">value_id</span><span class="o">.</span><span class="n">value_id</span>  <span class="c1"># type: ignore</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value_temp</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="c1"># in case a Value object was provided</span>
        <span class="k">pass</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">del</span> <span class="n">value_temp</span>

    <span class="k">if</span> <span class="n">add_origin_to_property_value</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value_id</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">_is_stored</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t add property to value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: referenced value &#39;</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39; already locked, so it&#39;s not possible to add the property backlink (as requested).&quot;</span>
            <span class="p">)</span>

    <span class="k">assert</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_stored</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t add property to value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: value already locked.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">property_path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t add property to value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: property &#39;</span><span class="si">{</span><span class="n">property_path</span><span class="si">}</span><span class="s2">&#39; already set.&quot;</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">[</span><span class="n">property_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_id</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="n">add_origin_to_property_value</span><span class="p">:</span>
        <span class="n">value</span><span class="o">.</span><span class="n">add_destiny_details</span><span class="p">(</span>
            <span class="n">value_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="p">,</span> <span class="n">destiny_alias</span><span class="o">=</span><span class="n">property_path</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_cached_properties</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Value.add_destiny_details" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_destiny_details</span><span class="p">(</span><span class="n">value_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">destiny_alias</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span></code>

<a href="#kiara.api.Value.add_destiny_details" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_destiny_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">destiny_alias</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_stored</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t set destiny_refs to value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: value already locked.&quot;</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">destiny_backlinks</span><span class="p">[</span><span class="n">value_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">destiny_alias</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Value.get_property_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_property_value</span><span class="p">(</span><span class="n">property_key</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span></code>

<a href="#kiara.api.Value.get_property_value" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_property_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_key</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Value&quot;</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">property_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39; has no property with key &#39;</span><span class="si">{</span><span class="n">property_key</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">[</span><span class="n">property_key</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Value.get_property_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_property_data</span><span class="p">(</span><span class="n">property_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

<a href="#kiara.api.Value.get_property_data" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_property_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_property_value</span><span class="p">(</span><span class="n">property_key</span><span class="o">=</span><span class="n">property_key</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Value.get_all_property_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_property_data</span><span class="p">(</span><span class="n">flatten_models</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

<a href="#kiara.api.Value.get_all_property_data" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_property_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flatten_models</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_property_data</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_names</span><span class="p">}</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">flatten_models</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="n">flat</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;model_dump&quot;</span><span class="p">):</span>
            <span class="n">flat</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;dict&quot;</span><span class="p">):</span>
            <span class="n">flat</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">flat</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">flat</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Value.lookup_self_aliases" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lookup_self_aliases</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.api.Value.lookup_self_aliases" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">lookup_self_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t lookup aliases for value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: data registry not set (yet).&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">lookup_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Value.create_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_info</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">ValueInfo</span></code>

<a href="#kiara.api.Value.create_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueInfo&quot;</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t create info object for value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: data registry not set (yet).&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">create_value_info</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Value.create_info_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_info_data</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

<a href="#kiara.api.Value.create_info_data" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_info_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="n">show_pedigree</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_pedigree&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_lineage</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_lineage&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_properties</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_properties&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="c1"># show_destinies = config.get(&quot;show_destinies&quot;, False)</span>
    <span class="c1"># show_destiny_backlinks = config.get(&quot;show_destiny_backlinks&quot;, False)</span>
    <span class="c1"># show_data = config.get(&quot;show_data_preview&quot;, False)</span>
    <span class="n">show_serialized</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_serialized&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_env_data_hashes</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_environment_hashes&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_env_data</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_environment_data&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="n">ignore_fields</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ignore_fields&quot;</span><span class="p">,</span> <span class="p">[])</span>

    <span class="n">table</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="s2">&quot;value_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
        <span class="n">table</span><span class="p">[</span><span class="s2">&quot;value_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_id</span>
    <span class="k">if</span> <span class="s2">&quot;aliases&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;aliases&quot;</span><span class="p">):</span>
            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;aliases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aliases</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="s2">&quot;kiara_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
        <span class="n">table</span><span class="p">[</span><span class="s2">&quot;kiara_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara_id</span>

    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">k</span>
            <span class="ow">in</span> <span class="p">[</span>
                <span class="s2">&quot;serialized&quot;</span><span class="p">,</span>
                <span class="s2">&quot;value_id&quot;</span><span class="p">,</span>
                <span class="s2">&quot;aliases&quot;</span><span class="p">,</span>
                <span class="s2">&quot;kiara_id&quot;</span><span class="p">,</span>
                <span class="s2">&quot;environments&quot;</span><span class="p">,</span>
                <span class="s2">&quot;lineage&quot;</span><span class="p">,</span>
                <span class="s2">&quot;environment_hashes&quot;</span><span class="p">,</span>
            <span class="p">]</span>
            <span class="ow">or</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ignore_fields</span>
        <span class="p">):</span>
            <span class="k">continue</span>

        <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">,</span> <span class="s2">&quot;pedigree&quot;</span><span class="p">]:</span>
            <span class="k">continue</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">attr</span>

        <span class="n">table</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

    <span class="k">if</span> <span class="n">show_pedigree</span><span class="p">:</span>
        <span class="n">pedigree</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;pedigree&quot;</span><span class="p">)</span>

        <span class="n">table</span><span class="p">[</span><span class="s2">&quot;pedigree&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pedigree</span>
        <span class="k">if</span> <span class="n">pedigree</span> <span class="o">==</span> <span class="n">ORPHAN</span><span class="p">:</span>
            <span class="n">pedigree_output_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pedigree_output_name</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">)</span>

        <span class="n">table</span><span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pedigree_output_name</span>

    <span class="k">if</span> <span class="n">show_lineage</span><span class="p">:</span>
        <span class="n">table</span><span class="p">[</span><span class="s2">&quot;lineage&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lineage</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">show_serialized</span><span class="p">:</span>
        <span class="n">serialized</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">retrieve_persisted_value_details</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value_id</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="p">[</span><span class="s2">&quot;serialized&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">serialized</span>

    <span class="k">if</span> <span class="n">show_env_data_hashes</span><span class="p">:</span>
        <span class="n">env_hashes</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
            <span class="n">orjson_dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">environment_hashes</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">),</span>
            <span class="s2">&quot;json&quot;</span><span class="p">,</span>
            <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="p">[</span><span class="s2">&quot;environment_hashes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">env_hashes</span>

    <span class="k">if</span> <span class="n">show_env_data</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">show_properties</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">:</span>
            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">properties</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">load_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">)</span>
            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">properties</span>

    <span class="c1"># if hasattr(self, &quot;destiny_links&quot;) and show_destinies:</span>
    <span class="c1">#     if not self.destiny_links:  # type: ignore</span>
    <span class="c1">#         table[&quot;destinies&quot;] = {}</span>
    <span class="c1">#     else:</span>
    <span class="c1">#         destinies = self._data_registry.load_values(self.destiny_links)  # type: ignore</span>
    <span class="c1">#         table[&quot;destinies&quot;] = destinies</span>
    <span class="c1">#</span>
    <span class="c1"># if show_destiny_backlinks:</span>
    <span class="c1">#     if not self.destiny_backlinks:</span>
    <span class="c1">#         table[&quot;destiny backlinks&quot;] = {}</span>
    <span class="c1">#     else:</span>
    <span class="c1">#         destiny_items: List[Any] = []</span>
    <span class="c1">#         for v_id, alias in self.destiny_backlinks.items():</span>
    <span class="c1">#             destiny_items.append(</span>
    <span class="c1">#                 f&quot;[b]Value: [i]{v_id}[/i] (destiny alias: {alias})[/b]&quot;</span>
    <span class="c1">#             )</span>
    <span class="c1">#             rendered = self._data_registry.pretty_print_data(</span>
    <span class="c1">#                 value_id=v_id, **config</span>
    <span class="c1">#             )</span>
    <span class="c1">#             destiny_items.append(rendered)</span>
    <span class="c1">#         table[&quot;destiny backlinks&quot;] = destiny_items</span>
    <span class="c1">#</span>
    <span class="c1"># if show_data:</span>
    <span class="c1">#     rendered = self._data_registry.pretty_print_data(</span>
    <span class="c1">#         self.value_id, target_type=&quot;terminal_renderable&quot;</span>
    <span class="c1">#     )</span>
    <span class="c1">#     table[&quot;data preview&quot;] = rendered</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.Value.create_renderable" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">render_config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span></code>

<a href="#kiara.api.Value.create_renderable" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">render_config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.utils.output</span><span class="w"> </span><span class="kn">import</span> <span class="n">extract_renderable</span>

    <span class="n">show_pedigree</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_pedigree&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_lineage</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_lineage&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_properties</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_properties&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_destinies</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_destinies&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_destiny_backlinks</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_destiny_backlinks&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_data</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_data_preview&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_serialized</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_serialized&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_env_data_hashes</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_environment_hashes&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_env_data</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_environment_data&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="n">ignore_fields</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ignore_fields&quot;</span><span class="p">,</span> <span class="p">[])</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Key&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>

    <span class="n">info_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_info_data</span><span class="p">(</span><span class="o">**</span><span class="n">render_config</span><span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;value_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;value_id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;value_id&quot;</span><span class="p">]))</span>
    <span class="k">if</span> <span class="s2">&quot;aliases&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">info_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;aliases&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">aliases_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;aliases&quot;</span><span class="p">])</span>  <span class="c1"># type: ignore</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;aliases&quot;</span><span class="p">,</span> <span class="n">aliases_str</span><span class="p">)</span>
        <span class="c1"># else:</span>
        <span class="c1">#     aliases_str = &quot;-- n/a --&quot;</span>
        <span class="c1">#     table.add_row(&quot;aliases&quot;, aliases_str)</span>

    <span class="k">if</span> <span class="s2">&quot;kiara_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;kiara_id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;kiara_id&quot;</span><span class="p">]))</span>

    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">Rule</span><span class="p">())</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">info_data</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">k</span>
            <span class="ow">in</span> <span class="p">[</span>
                <span class="s2">&quot;serialized&quot;</span><span class="p">,</span>
                <span class="s2">&quot;value_id&quot;</span><span class="p">,</span>
                <span class="s2">&quot;aliases&quot;</span><span class="p">,</span>
                <span class="s2">&quot;kiara_id&quot;</span><span class="p">,</span>
                <span class="s2">&quot;lineage&quot;</span><span class="p">,</span>
                <span class="s2">&quot;properties&quot;</span><span class="p">,</span>
                <span class="s2">&quot;environments&quot;</span><span class="p">,</span>
                <span class="s2">&quot;environment_hashes&quot;</span><span class="p">,</span>
            <span class="p">]</span>
            <span class="ow">or</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ignore_fields</span>
        <span class="p">):</span>
            <span class="k">continue</span>

        <span class="n">attr</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">,</span> <span class="s2">&quot;pedigree&quot;</span><span class="p">]:</span>
            <span class="k">continue</span>

        <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;value_status&quot;</span><span class="p">:</span>
            <span class="n">v</span><span class="p">:</span> <span class="n">RenderableType</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[i]-- </span><span class="si">{</span><span class="n">attr</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> --[/i]&quot;</span>
        <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;value_size&quot;</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">format_size</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">extract_renderable</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>

        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="n">show_pedigree</span>
        <span class="ow">or</span> <span class="n">show_lineage</span>
        <span class="ow">or</span> <span class="n">show_serialized</span>
        <span class="ow">or</span> <span class="n">show_properties</span>
        <span class="ow">or</span> <span class="n">show_destinies</span>
        <span class="ow">or</span> <span class="n">show_destiny_backlinks</span>
        <span class="ow">or</span> <span class="n">show_env_data_hashes</span>
        <span class="ow">or</span> <span class="n">show_env_data</span>
    <span class="p">):</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">Rule</span><span class="p">())</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">show_pedigree</span><span class="p">:</span>
        <span class="n">pedigree</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;pedigree&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">pedigree</span> <span class="o">==</span> <span class="n">ORPHAN</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="s2">&quot;[i]-- external data --[/i]&quot;</span>
            <span class="n">pedigree_output_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">extract_renderable</span><span class="p">(</span><span class="n">pedigree</span><span class="p">)</span>
            <span class="n">pedigree_output_name</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">]</span>

        <span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;pedigree&quot;</span><span class="p">,</span> <span class="n">v</span><span class="p">]</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">pedigree_output_name</span><span class="p">:</span>
            <span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">,</span> <span class="n">pedigree_output_name</span><span class="p">]</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">show_lineage</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="s2">&quot;lineage&quot;</span><span class="p">,</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;lineage&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="n">include_ids</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">show_serialized</span><span class="p">:</span>
        <span class="n">serialized</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;serialized&quot;</span><span class="p">]</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;serialized&quot;</span><span class="p">,</span> <span class="n">serialized</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">show_env_data_hashes</span><span class="p">:</span>
        <span class="n">env_hashes</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
            <span class="n">orjson_dumps</span><span class="p">(</span>
                <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;environment_hashes&quot;</span><span class="p">],</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span>
            <span class="p">),</span>
            <span class="s2">&quot;json&quot;</span><span class="p">,</span>
            <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;environment_hashes&quot;</span><span class="p">,</span> <span class="n">env_hashes</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">show_env_data</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">show_properties</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">]:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">properties</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">]</span>
            <span class="n">pr</span> <span class="o">=</span> <span class="n">properties</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="n">pr</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;destiny_links&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">show_destinies</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">destiny_links</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;destinies&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">destinies</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">load_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">destiny_links</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="n">dr</span> <span class="o">=</span> <span class="n">destinies</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;destinies&quot;</span><span class="p">,</span> <span class="n">dr</span><span class="p">)</span>

    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">show_destiny_backlinks</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">destiny_backlinks</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;destiny backlinks&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">destiny_items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">v_id</span><span class="p">,</span> <span class="n">alias</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">destiny_backlinks</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">destiny_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Rule</span><span class="p">())</span>
                <span class="n">destiny_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;[b]Value: [i]</span><span class="si">{</span><span class="n">v_id</span><span class="si">}</span><span class="s2">[/i] (destiny alias: </span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2">)[/b]&quot;</span>
                <span class="p">)</span>
                <span class="n">rendered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">pretty_print_data</span><span class="p">(</span>
                    <span class="n">value_id</span><span class="o">=</span><span class="n">v_id</span><span class="p">,</span> <span class="o">**</span><span class="n">render_config</span>
                <span class="p">)</span>
                <span class="n">destiny_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rendered</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;destiny backlinks&quot;</span><span class="p">,</span> <span class="n">Group</span><span class="p">(</span><span class="o">*</span><span class="n">destiny_items</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">show_data</span><span class="p">:</span>
        <span class="n">rendered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">pretty_print_data</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="p">,</span> <span class="n">target_type</span><span class="o">=</span><span class="s2">&quot;terminal_renderable&quot;</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">Rule</span><span class="p">())</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;data preview&quot;</span><span class="p">,</span> <span class="n">rendered</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="kiara.api.ValueMap" class="doc doc-heading">
            <code>ValueMap</code>


<a href="#kiara.api.ValueMap" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="KiaraModel (kiara.models.KiaraModel)" href="../models/__init__/#kiara.models.KiaraModel">KiaraModel</a></code>, <code><span title="typing.MutableMapping">MutableMapping</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../models/values/value/#kiara.models.values.value.Value">Value</a>]</code></p>








              <details class="quote">
                <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ValueMap</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">,</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">]):</span>  <span class="c1"># type: ignore</span>
    <span class="n">values_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The schemas for all the values in this set.&quot;</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">field_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_value_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">all_items_valid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="o">.</span><span class="n">is_valid</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">instance_cid</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">check_invalid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check whether the value set is invalid, if it is, return a description of what&#39;s wrong.&quot;&quot;&quot;</span>
        <span class="n">invalid</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
            <span class="n">field_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">field_schema</span><span class="o">.</span><span class="n">optional</span><span class="p">:</span>
                <span class="n">msg</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="o">.</span><span class="n">value_status</span> <span class="o">==</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">SET</span><span class="p">:</span>
                    <span class="n">item_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">item_schema</span><span class="o">.</span><span class="n">is_required</span><span class="p">():</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;not set&quot;</span>
                        <span class="k">elif</span> <span class="n">item</span><span class="o">.</span><span class="n">value_status</span> <span class="o">==</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">NONE</span><span class="p">:</span>
                            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;no value&quot;</span>
                <span class="k">if</span> <span class="n">msg</span><span class="p">:</span>
                    <span class="n">invalid</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">msg</span>

        <span class="k">return</span> <span class="n">invalid</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_value_data_for_fields</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">field_names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the data for a one or several fields of this ValueMap.</span>

<span class="sd">        If a value is unset, by default &#39;None&#39; is returned for it. Unless &#39;raise_exception_when_unset&#39; is set to &#39;True&#39;,</span>
<span class="sd">        in which case an Exception will be raised (obviously).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span>
            <span class="n">unset</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">field_names</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span>
                        <span class="n">unset</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">unset</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t get data for fields, one or several of the requested fields are not set yet: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">unset</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">field_names</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">data</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_value_data</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_data_for_fields</span><span class="p">(</span>
            <span class="n">field_name</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="o">=</span><span class="n">raise_exception_when_unset</span>
        <span class="p">)[</span><span class="n">field_name</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_value_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">value_id</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_value_data</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_data_for_fields</span><span class="p">(</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">,</span>
            <span class="n">raise_exception_when_unset</span><span class="o">=</span><span class="n">raise_exception_when_unset</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">values</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The value set implementation &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; is read-only, and does not support the setting or changing of values.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
        <span class="c1"># self.set_value(key, value)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__delitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Removing items not supported: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(field_names=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_invalid_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">RenderableType</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="n">inv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">inv</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;field name&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;details&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;b red&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">err</span> <span class="ow">in</span> <span class="n">inv</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
        <span class="n">in_panel</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;in_panel&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">in_panel</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_jupyter</span><span class="p">():</span>
                <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">render_value_data</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;render_value_data&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">field_title</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;field_title&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="p">)</span>
        <span class="n">value_title</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value_title&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="n">show_header</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_header&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">show_type</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_data_type&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_lines</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="n">show_header</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">field_title</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">show_type</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;data_type&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">value_title</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">render_value_data</span><span class="p">:</span>
                <span class="k">assert</span> <span class="n">value</span><span class="o">.</span><span class="n">_data_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="n">rendered</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">pretty_print_data</span><span class="p">(</span>
                    <span class="n">value_id</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="p">,</span> <span class="n">target_type</span><span class="o">=</span><span class="s2">&quot;terminal_renderable&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">rendered</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">show_type</span><span class="p">:</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">rendered</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="n">rendered</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">in_panel</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Panel</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">table</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">





<h4 id="kiara.api.ValueMap-attributes">Attributes<a href="#kiara.api.ValueMap-attributes" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.ValueMap.values_schema" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">values_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The schemas for all the values in this set.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.ValueMap.values_schema" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.ValueMap.field_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">field_names</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.ValueMap.field_names" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.ValueMap.all_items_valid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">all_items_valid</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.ValueMap.all_items_valid" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<h4 id="kiara.api.ValueMap-functions">Functions<a href="#kiara.api.ValueMap-functions" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.ValueMap.get_value_obj" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#kiara.api.ValueMap.get_value_obj" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_value_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span><span class="p">:</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.ValueMap.check_invalid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_invalid</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.api.ValueMap.check_invalid" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Check whether the value set is invalid, if it is, return a description of what's wrong.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">check_invalid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check whether the value set is invalid, if it is, return a description of what&#39;s wrong.&quot;&quot;&quot;</span>
    <span class="n">invalid</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
        <span class="n">field_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">field_schema</span><span class="o">.</span><span class="n">optional</span><span class="p">:</span>
            <span class="n">msg</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="o">.</span><span class="n">value_status</span> <span class="o">==</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">SET</span><span class="p">:</span>
                <span class="n">item_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">item_schema</span><span class="o">.</span><span class="n">is_required</span><span class="p">():</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;not set&quot;</span>
                    <span class="k">elif</span> <span class="n">item</span><span class="o">.</span><span class="n">value_status</span> <span class="o">==</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">NONE</span><span class="p">:</span>
                        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;no value&quot;</span>
            <span class="k">if</span> <span class="n">msg</span><span class="p">:</span>
                <span class="n">invalid</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">msg</span>

    <span class="k">return</span> <span class="n">invalid</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.ValueMap.get_value_data_for_fields" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_value_data_for_fields</span><span class="p">(</span><span class="o">*</span><span class="n">field_names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

<a href="#kiara.api.ValueMap.get_value_data_for_fields" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Return the data for a one or several fields of this ValueMap.</p>
<p>If a value is unset, by default 'None' is returned for it. Unless 'raise_exception_when_unset' is set to 'True',
in which case an Exception will be raised (obviously).</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_value_data_for_fields</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">field_names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the data for a one or several fields of this ValueMap.</span>

<span class="sd">    If a value is unset, by default &#39;None&#39; is returned for it. Unless &#39;raise_exception_when_unset&#39; is set to &#39;True&#39;,</span>
<span class="sd">    in which case an Exception will be raised (obviously).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span>
        <span class="n">unset</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">field_names</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span>
                    <span class="n">unset</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">unset</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t get data for fields, one or several of the requested fields are not set yet: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">unset</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">field_names</span><span class="p">:</span>
        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">data</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.ValueMap.get_value_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_value_data</span><span class="p">(</span><span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

<a href="#kiara.api.ValueMap.get_value_data" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_value_data</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_data_for_fields</span><span class="p">(</span>
        <span class="n">field_name</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="o">=</span><span class="n">raise_exception_when_unset</span>
    <span class="p">)[</span><span class="n">field_name</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.ValueMap.get_all_value_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_value_ids</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

<a href="#kiara.api.ValueMap.get_all_value_ids" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1369</span>
<span class="normal">1370</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_value_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">value_id</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.ValueMap.get_all_value_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_value_data</span><span class="p">(</span><span class="n">raise_exception_when_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

<a href="#kiara.api.ValueMap.get_all_value_data" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_value_data</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_data_for_fields</span><span class="p">(</span>
        <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">,</span>
        <span class="n">raise_exception_when_unset</span><span class="o">=</span><span class="n">raise_exception_when_unset</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.ValueMap.set_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_values</span><span class="p">(</span><span class="o">**</span><span class="n">values</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

<a href="#kiara.api.ValueMap.set_values" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">values</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.ValueMap.set_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_value</span><span class="p">(</span><span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

<a href="#kiara.api.ValueMap.set_value" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;The value set implementation &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; is read-only, and does not support the setting or changing of values.&quot;</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.ValueMap.create_invalid_renderable" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_invalid_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">RenderableType</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span></code>

<a href="#kiara.api.ValueMap.create_invalid_renderable" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_invalid_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">RenderableType</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="n">inv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">inv</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;field name&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;details&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;b red&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">err</span> <span class="ow">in</span> <span class="n">inv</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.ValueMap.create_renderable" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span></code>

<a href="#kiara.api.ValueMap.create_renderable" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
    <span class="n">in_panel</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;in_panel&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">in_panel</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_jupyter</span><span class="p">():</span>
            <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">render_value_data</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;render_value_data&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">field_title</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;field_title&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="p">)</span>
    <span class="n">value_title</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value_title&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">)</span>
    <span class="n">show_header</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_header&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">show_type</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_data_type&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_lines</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="n">show_header</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">field_title</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">show_type</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;data_type&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">value_title</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">render_value_data</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">value</span><span class="o">.</span><span class="n">_data_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">rendered</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">pretty_print_data</span><span class="p">(</span>
                <span class="n">value_id</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="p">,</span> <span class="n">target_type</span><span class="o">=</span><span class="s2">&quot;terminal_renderable&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rendered</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">show_type</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">rendered</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="n">rendered</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">in_panel</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Panel</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">table</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="kiara.api.ValueSchema" class="doc doc-heading">
            <code>ValueSchema</code>


<a href="#kiara.api.ValueSchema" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="KiaraModel (kiara.models.KiaraModel)" href="../models/__init__/#kiara.models.KiaraModel">KiaraModel</a></code></p>


        <p>The schema of a value.</p>
<p>The schema contains the [ValueTypeOrm][kiara.data.values.ValueTypeOrm] of a value, as well as an optional default that
will be used if no user input was given (yet) for a value.</p>
<p>For more complex container data_types like array, tables, unions etc, data_types can also be configured with values from the <code>type_config</code> field.</p>







              <details class="quote">
                <summary>Source code in <code>src/kiara/models/values/value_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ValueSchema</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The schema of a value.</span>

<span class="sd">    The schema contains the [ValueTypeOrm][kiara.data.values.ValueTypeOrm] of a value, as well as an optional default that</span>
<span class="sd">    will be used if no user input was given (yet) for a value.</span>

<span class="sd">    For more complex container data_types like array, tables, unions etc, data_types can also be configured with values from the ``type_config`` field.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span><span class="p">:</span> <span class="n">ClassVar</span> <span class="o">=</span> <span class="s2">&quot;instance.value_schema&quot;</span>
    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">use_enum_values</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The type of the value.&quot;</span><span class="p">)</span>
    <span class="n">type_config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Configuration for the type, in case it&#39;s complex.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;A default value.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">)</span>

    <span class="n">optional</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this value is required (True), or whether &#39;None&#39; value is allowed (False).&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">is_constant</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether the value is a constant.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>

    <span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">DocumentationMetadataModel</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A description for the value of this input field.&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="nd">@field_serializer</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">serialize_default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">[</span><span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NO_VALUE</span><span class="p">]:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>

    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">validate_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">doc</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="s2">&quot;type_config&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_config</span><span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_required</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">optional</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NO_VALUE</span><span class="p">]:</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

    <span class="c1"># def validate_types(self, kiara: &quot;Kiara&quot;):</span>
    <span class="c1">#</span>
    <span class="c1">#     if self.type not in kiara.value_type_names:</span>
    <span class="c1">#         raise ValueError(</span>
    <span class="c1">#             f&quot;Invalid value type &#39;{self.type}&#39;, available data_types: {kiara.value_type_names}&quot;</span>
    <span class="c1">#         )</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">default</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;ValueSchema(type=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">, default=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">default</span><span class="si">}</span><span class="s2">, optional=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">optional</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">





<h4 id="kiara.api.ValueSchema-attributes">Attributes<a href="#kiara.api.ValueSchema-attributes" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.ValueSchema.model_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">use_enum_values</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.ValueSchema.model_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.ValueSchema.type" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The type of the value.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.ValueSchema.type" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.ValueSchema.type_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">type_config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Configuration for the type, in case it&#39;s complex.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.ValueSchema.type_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.ValueSchema.default" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">default</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;A default value.&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.ValueSchema.default" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.ValueSchema.optional" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">optional</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this value is required (True), or whether &#39;None&#39; value is allowed (False).&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.ValueSchema.optional" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.ValueSchema.is_constant" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_constant</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Whether the value is a constant.&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.ValueSchema.is_constant" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.ValueSchema.doc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">DocumentationMetadataModel</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;A description for the value of this input field.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.ValueSchema.doc" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<h4 id="kiara.api.ValueSchema-functions">Functions<a href="#kiara.api.ValueSchema-functions" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.ValueSchema.serialize_default" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">serialize_default</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

<a href="#kiara.api.ValueSchema.serialize_default" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@field_serializer</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">serialize_default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">[</span><span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NO_VALUE</span><span class="p">]:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">value</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">value</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.ValueSchema.validate_doc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_doc</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.ValueSchema.validate_doc" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
<span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">validate_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">doc</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.ValueSchema.is_required" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_required</span><span class="p">()</span></code>

<a href="#kiara.api.ValueSchema.is_required" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/values/value_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_required</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">optional</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NO_VALUE</span><span class="p">]:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="kiara.api.KiaraModule" class="doc doc-heading">
            <code>KiaraModule</code>


<a href="#kiara.api.KiaraModule" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="InputOutputObject (kiara.modules.InputOutputObject)" href="../modules/__init__/#kiara.modules.InputOutputObject">InputOutputObject</a></code>, <code><span title="typing.Generic">Generic</span>[<a class="autorefs autorefs-internal" title="KIARA_CONFIG = TypeVar('KIARA_CONFIG', bound=KiaraModuleConfig)

  
      module-attribute
   (kiara.modules.KIARA_CONFIG)" href="../modules/__init__/#kiara.modules.KIARA_CONFIG">KIARA_CONFIG</a>]</code></p>


        <p>The base class that every custom module in <em>Kiara</em> needs to inherit from.</p>
<p>The core of every <code>KiaraModule</code> is a <code>process</code> method, which should be a 'pure',
 idempotent function that creates one or several output values from the given input(s), and its purpose is to transfor
 a set of inputs into a set of outputs.</p>
<p>Every module can be configured. The module configuration schema can differ, but every one such configuration needs to
 subclass the [KiaraModuleConfig][kiara.module_config.KiaraModuleConfig] class and set as the value to the
 <code>_config_cls</code> attribute of the module class. This is useful, because it allows for some modules to serve a much
 larger variety of use-cases than non-configurable modules would be, which would mean more code duplication because
 of very simlilar, but slightly different module data_types.</p>
<p>Each module class (type) has a unique -- within a <em>kiara</em> context -- module type id which can be accessed via the
 <code>_module_type_name</code> class attribute.</p>


<p><span class="doc-section-title">Examples:</span></p>
    
        <hr />
<div class="codehilite"><pre><span></span><code>A simple example would be an &#39;addition&#39; module, with ``a`` and ``b`` configured as inputs, and ``z`` as the output field name.

An implementing class would look something like this:
</code></pre></div>

<h5 id="kiara.api.KiaraModule--todo">Todo:<a class="headerlink" href="#kiara.api.KiaraModule--todo" title="Permanent link">&para;</a></h5>
        <hr />
<div class="codehilite"><pre><span></span><code>module_config: the configuation for this module
</code></pre></div>







              <details class="quote">
                <summary>Source code in <code>src/kiara/modules/__init__.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">KiaraModule</span><span class="p">(</span><span class="n">InputOutputObject</span><span class="p">,</span> <span class="n">Generic</span><span class="p">[</span><span class="n">KIARA_CONFIG</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The base class that every custom module in *Kiara* needs to inherit from.</span>

<span class="sd">    The core of every ``KiaraModule`` is a ``process`` method, which should be a &#39;pure&#39;,</span>
<span class="sd">     idempotent function that creates one or several output values from the given input(s), and its purpose is to transfor</span>
<span class="sd">     a set of inputs into a set of outputs.</span>

<span class="sd">     Every module can be configured. The module configuration schema can differ, but every one such configuration needs to</span>
<span class="sd">     subclass the [KiaraModuleConfig][kiara.module_config.KiaraModuleConfig] class and set as the value to the</span>
<span class="sd">     ``_config_cls`` attribute of the module class. This is useful, because it allows for some modules to serve a much</span>
<span class="sd">     larger variety of use-cases than non-configurable modules would be, which would mean more code duplication because</span>
<span class="sd">     of very simlilar, but slightly different module data_types.</span>

<span class="sd">     Each module class (type) has a unique -- within a *kiara* context -- module type id which can be accessed via the</span>
<span class="sd">     ``_module_type_name`` class attribute.</span>

<span class="sd">    Examples:</span>
<span class="sd">    --------</span>
<span class="sd">        A simple example would be an &#39;addition&#39; module, with ``a`` and ``b`` configured as inputs, and ``z`` as the output field name.</span>

<span class="sd">        An implementing class would look something like this:</span>

<span class="sd">    Todo:</span>
<span class="sd">    ----</span>

<span class="sd">    Arguments:</span>
<span class="sd">    ---------</span>
<span class="sd">        module_config: the configuation for this module</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># TODO: not quite sure about this generic type here, mypy doesn&#39;t seem to like it</span>
    <span class="n">_config_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">KIARA_CONFIG</span><span class="p">]</span> <span class="o">=</span> <span class="n">KiaraModuleConfig</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_pipeline</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check whether this module type is a pipeline, or not.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_calculate_module_cid</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">module_type_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">KIARA_CONFIG</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CID</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_type_config</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">module_type_config</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_resolve_module_config</span><span class="p">(</span><span class="o">**</span><span class="n">module_type_config</span><span class="p">)</span>

        <span class="n">obj</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_name</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="s2">&quot;module_type_config&quot;</span><span class="p">:</span> <span class="n">module_type_config</span><span class="o">.</span><span class="n">instance_cid</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">_</span><span class="p">,</span> <span class="n">cid</span> <span class="o">=</span> <span class="n">compute_cid</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cid</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_resolve_module_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KIARA_CONFIG</span><span class="p">:</span>
        <span class="n">_config</span><span class="p">:</span> <span class="n">KIARA_CONFIG</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_config_cls</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">_config</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">module_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">KIARA_CONFIG</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_config</span><span class="p">,</span> <span class="n">KiaraModuleConfig</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">:</span> <span class="n">KIARA_CONFIG</span> <span class="o">=</span> <span class="n">module_config</span>  <span class="c1"># type: ignore</span>
        <span class="k">elif</span> <span class="n">module_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">_config_cls</span><span class="p">()</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_config</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">_config_cls</span><span class="p">(</span><span class="o">**</span><span class="n">module_config</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">KiaraModuleConfigException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Error creating module &#39;</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&#39;. </span><span class="si">{</span><span class="n">ve</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span>
                    <span class="n">module_config</span><span class="p">,</span>
                    <span class="n">ve</span><span class="p">,</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type for module config: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">module_config</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_module_cid</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_characteristics</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">ModuleCharacteristics</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_cached_doc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">DocumentationMetadataModel</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">_module_type_name</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Operation</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># self._merged_input_schemas: typing.Mapping[str, ValueSchema] = None  # type: ignore</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_manifest_cache</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Manifest</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">manifest</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Manifest&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_manifest_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.module.manifest</span><span class="w"> </span><span class="kn">import</span> <span class="n">Manifest</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_manifest_cache</span> <span class="o">=</span> <span class="n">Manifest</span><span class="p">(</span>
                <span class="n">module_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_type_name</span><span class="p">,</span>
                <span class="n">module_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
                <span class="n">is_resolved</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_manifest_cache</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">doc</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;DocumentationMetadataModel&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_doc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;get_operation_doc&quot;</span><span class="p">):</span>
                <span class="n">doc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_operation_doc</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_cached_doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_cached_doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">from_class_doc</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_doc</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">module_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The id of this module.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">module_type_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_type_name</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Module class &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; does not have a &#39;_module_type_name&#39; attribute. This is a bug.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_type_name</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KIARA_CONFIG</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve the configuration object for this module.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">            the module-class-specific config object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">module_instance_cid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CID</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_cid</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_module_cid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">_calculate_module_cid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_cid</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">characteristics</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModuleCharacteristics</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_characteristics</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_characteristics</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_characteristics</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_retrieve_module_characteristics</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_characteristics</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_retrieve_module_characteristics</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModuleCharacteristics</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">DEFAULT_IDEMPOTENT_MODULE_CHARACTERISTICS</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_config_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve the value for a specific configuration option.</span>

<span class="sd">        Arguments:</span>
<span class="sd">        ---------</span>
<span class="sd">            key: the config key</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">            the value for the provided key</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Error accessing config value &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; in module </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">_module_type_name</span><span class="si">}</span><span class="s2">.&quot;</span>  <span class="c1"># type: ignore</span>
            <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">inputs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMap&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run the module ad-hoc.</span>

<span class="sd">        This is mostly used in unit tests, you typically want to run a module via the KiaraAPI instance.</span>

<span class="sd">        Arguments:</span>
<span class="sd">        ---------</span>
<span class="sd">            kiara: the kiara context</span>
<span class="sd">            inputs: the inputs for this module</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">            the outputs of this module run as a ValueMap instance</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.values.value</span><span class="w"> </span><span class="kn">import</span> <span class="n">ValueMap</span><span class="p">,</span> <span class="n">ValueMapWritable</span><span class="p">,</span> <span class="n">ValuePedigree</span>

        <span class="n">_inputs</span><span class="p">:</span> <span class="n">ValueMap</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">create_valuemap</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">inputs_schema</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">_inputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">InvalidValuesException</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid inputs for module &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">module_type_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
                <span class="n">invalid_values</span><span class="o">=</span><span class="n">_inputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">(),</span>
            <span class="p">)</span>
        <span class="n">environments</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">env_name</span><span class="p">:</span> <span class="n">env</span><span class="o">.</span><span class="n">instance_id</span>
            <span class="k">for</span> <span class="n">env_name</span><span class="p">,</span> <span class="n">env</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">current_environments</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">result_pedigree</span> <span class="o">=</span> <span class="n">ValuePedigree</span><span class="p">(</span>
            <span class="n">kiara_id</span><span class="o">=</span><span class="n">kiara</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">module_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_type_name</span><span class="p">,</span>
            <span class="n">module_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
            <span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">value_id</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">_inputs</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span>
            <span class="n">environments</span><span class="o">=</span><span class="n">environments</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">unique_result_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">characteristics</span><span class="o">.</span><span class="n">unique_result_values</span>

        <span class="n">outputs</span> <span class="o">=</span> <span class="n">ValueMapWritable</span><span class="o">.</span><span class="n">create_from_schema</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span>
            <span class="n">schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">outputs_schema</span><span class="p">,</span>
            <span class="n">pedigree</span><span class="o">=</span><span class="n">result_pedigree</span><span class="p">,</span>
            <span class="n">unique_value_ids</span><span class="o">=</span><span class="n">unique_result_values</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">job_log</span> <span class="o">=</span> <span class="n">JobLog</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">process_step</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">_inputs</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">,</span> <span class="n">job_log</span><span class="o">=</span><span class="n">job_log</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">process_step</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="s2">&quot;ValueMap&quot;</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="s2">&quot;ValueMap&quot;</span><span class="p">,</span> <span class="n">job_log</span><span class="p">:</span> <span class="n">JobLog</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Kick off processing for a specific set of input/outputs.</span>

<span class="sd">        This method calls the implemented [process][kiara.module.KiaraModule.process] method of the inheriting class,</span>
<span class="sd">        as well as wrapping input/output-data related functionality.</span>

<span class="sd">        Arguments:</span>
<span class="sd">        ---------</span>
<span class="sd">            inputs: the input value set</span>
<span class="sd">            outputs: the output value set</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">signature</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="n">process_inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="n">inputs</span><span class="p">,</span>
            <span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="n">outputs</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="s2">&quot;job_log&quot;</span> <span class="ow">in</span> <span class="n">signature</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">process_inputs</span><span class="p">[</span><span class="s2">&quot;job_log&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_log</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="o">**</span><span class="n">process_inputs</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="n">KiaraProcessingException</span> <span class="k">as</span> <span class="n">kpe</span><span class="p">:</span>
            <span class="n">log_exception</span><span class="p">(</span><span class="n">kpe</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">kpe</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_debug</span><span class="p">()</span> <span class="ow">or</span> <span class="n">is_develop</span><span class="p">():</span>
                <span class="kn">import</span><span class="w"> </span><span class="nn">traceback</span>

                <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
            <span class="n">exc</span> <span class="o">=</span> <span class="n">KiaraProcessingException</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">module</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">)</span>
            <span class="n">log_exception</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">exc</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_instance_cid</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">module_instance_cid</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">module_instance_cid</span><span class="o">.</span><span class="n">digest</span><span class="p">,</span> <span class="s2">&quot;big&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(id=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">module_id</span><span class="si">}</span><span class="s2"> module_type=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">module_type_name</span><span class="si">}</span><span class="s2"> input_names=</span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_names</span><span class="p">)</span><span class="si">}</span><span class="s2"> output_names=</span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_names</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">operation</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Operation&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operation</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operation</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.module.operation</span><span class="w"> </span><span class="kn">import</span> <span class="n">Operation</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_operation</span> <span class="o">=</span> <span class="n">Operation</span><span class="o">.</span><span class="n">create_from_module</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operation</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">





<h4 id="kiara.api.KiaraModule-attributes">Attributes<a href="#kiara.api.KiaraModule-attributes" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraModule._config_cls" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">_config_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">KIARA_CONFIG</span><span class="p">]</span> <span class="o">=</span> <span class="n">KiaraModuleConfig</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiaraModule._config_cls" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraModule.manifest" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.KiaraModule.manifest" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraModule.doc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.KiaraModule.doc" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraModule.module_id" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">module_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.KiaraModule.module_id" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>The id of this module.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraModule.module_type_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">module_type_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.KiaraModule.module_type_name" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraModule.config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">config</span><span class="p">:</span> <span class="n">KIARA_CONFIG</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.KiaraModule.config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve the configuration object for this module.</p>
        <hr />
<div class="codehilite"><pre><span></span><code>the module-class-specific config object
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraModule.module_instance_cid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">module_instance_cid</span><span class="p">:</span> <span class="n">CID</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.KiaraModule.module_instance_cid" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraModule.characteristics" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">characteristics</span><span class="p">:</span> <span class="n">ModuleCharacteristics</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.KiaraModule.characteristics" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraModule.operation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">operation</span><span class="p">:</span> <span class="n">Operation</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.api.KiaraModule.operation" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<h4 id="kiara.api.KiaraModule-functions">Functions<a href="#kiara.api.KiaraModule-functions" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraModule.is_pipeline" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_pipeline</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.KiaraModule.is_pipeline" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Check whether this module type is a pipeline, or not.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/modules/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">is_pipeline</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check whether this module type is a pipeline, or not.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraModule.get_config_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_config_value</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

<a href="#kiara.api.KiaraModule.get_config_value" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve the value for a specific configuration option.</p>
        <hr />
<div class="codehilite"><pre><span></span><code>key: the config key
</code></pre></div>
        <hr />
<div class="codehilite"><pre><span></span><code>the value for the provided key
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>src/kiara/modules/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_config_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve the value for a specific configuration option.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    ---------</span>
<span class="sd">        key: the config key</span>

<span class="sd">    Returns:</span>
<span class="sd">    -------</span>
<span class="sd">        the value for the provided key</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error accessing config value &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; in module </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">_module_type_name</span><span class="si">}</span><span class="s2">.&quot;</span>  <span class="c1"># type: ignore</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraModule.run" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="n">kiara</span><span class="p">:</span> <span class="n">Kiara</span><span class="p">,</span> <span class="o">**</span><span class="n">inputs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMap</span></code>

<a href="#kiara.api.KiaraModule.run" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Run the module ad-hoc.</p>
<p>This is mostly used in unit tests, you typically want to run a module via the KiaraAPI instance.</p>
        <hr />
<div class="codehilite"><pre><span></span><code>kiara: the kiara context
inputs: the inputs for this module
</code></pre></div>
        <hr />
<div class="codehilite"><pre><span></span><code>the outputs of this module run as a ValueMap instance
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>src/kiara/modules/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">inputs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMap&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Run the module ad-hoc.</span>

<span class="sd">    This is mostly used in unit tests, you typically want to run a module via the KiaraAPI instance.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    ---------</span>
<span class="sd">        kiara: the kiara context</span>
<span class="sd">        inputs: the inputs for this module</span>

<span class="sd">    Returns:</span>
<span class="sd">    -------</span>
<span class="sd">        the outputs of this module run as a ValueMap instance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.values.value</span><span class="w"> </span><span class="kn">import</span> <span class="n">ValueMap</span><span class="p">,</span> <span class="n">ValueMapWritable</span><span class="p">,</span> <span class="n">ValuePedigree</span>

    <span class="n">_inputs</span><span class="p">:</span> <span class="n">ValueMap</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">create_valuemap</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">inputs_schema</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">_inputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">InvalidValuesException</span><span class="p">(</span>
            <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid inputs for module &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">module_type_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="n">invalid_values</span><span class="o">=</span><span class="n">_inputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">(),</span>
        <span class="p">)</span>
    <span class="n">environments</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">env_name</span><span class="p">:</span> <span class="n">env</span><span class="o">.</span><span class="n">instance_id</span>
        <span class="k">for</span> <span class="n">env_name</span><span class="p">,</span> <span class="n">env</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">current_environments</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="n">result_pedigree</span> <span class="o">=</span> <span class="n">ValuePedigree</span><span class="p">(</span>
        <span class="n">kiara_id</span><span class="o">=</span><span class="n">kiara</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">module_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_type_name</span><span class="p">,</span>
        <span class="n">module_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
        <span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">value_id</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">_inputs</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span>
        <span class="n">environments</span><span class="o">=</span><span class="n">environments</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">unique_result_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">characteristics</span><span class="o">.</span><span class="n">unique_result_values</span>

    <span class="n">outputs</span> <span class="o">=</span> <span class="n">ValueMapWritable</span><span class="o">.</span><span class="n">create_from_schema</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span>
        <span class="n">schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">outputs_schema</span><span class="p">,</span>
        <span class="n">pedigree</span><span class="o">=</span><span class="n">result_pedigree</span><span class="p">,</span>
        <span class="n">unique_value_ids</span><span class="o">=</span><span class="n">unique_result_values</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">job_log</span> <span class="o">=</span> <span class="n">JobLog</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">process_step</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">_inputs</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">,</span> <span class="n">job_log</span><span class="o">=</span><span class="n">job_log</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraModule.process_step" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">process_step</span><span class="p">(</span><span class="n">inputs</span><span class="p">:</span> <span class="n">ValueMap</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueMap</span><span class="p">,</span> <span class="n">job_log</span><span class="p">:</span> <span class="n">JobLog</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

<a href="#kiara.api.KiaraModule.process_step" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Kick off processing for a specific set of input/outputs.</p>
<p>This method calls the implemented [process][kiara.module.KiaraModule.process] method of the inheriting class,
as well as wrapping input/output-data related functionality.</p>
        <hr />
<div class="codehilite"><pre><span></span><code>inputs: the input value set
outputs: the output value set
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>src/kiara/modules/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">process_step</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="s2">&quot;ValueMap&quot;</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="s2">&quot;ValueMap&quot;</span><span class="p">,</span> <span class="n">job_log</span><span class="p">:</span> <span class="n">JobLog</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Kick off processing for a specific set of input/outputs.</span>

<span class="sd">    This method calls the implemented [process][kiara.module.KiaraModule.process] method of the inheriting class,</span>
<span class="sd">    as well as wrapping input/output-data related functionality.</span>

<span class="sd">    Arguments:</span>
<span class="sd">    ---------</span>
<span class="sd">        inputs: the input value set</span>
<span class="sd">        outputs: the output value set</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="n">process_inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="n">inputs</span><span class="p">,</span>
        <span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="n">outputs</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="s2">&quot;job_log&quot;</span> <span class="ow">in</span> <span class="n">signature</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">process_inputs</span><span class="p">[</span><span class="s2">&quot;job_log&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_log</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="o">**</span><span class="n">process_inputs</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">except</span> <span class="n">KiaraProcessingException</span> <span class="k">as</span> <span class="n">kpe</span><span class="p">:</span>
        <span class="n">log_exception</span><span class="p">(</span><span class="n">kpe</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">kpe</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_debug</span><span class="p">()</span> <span class="ow">or</span> <span class="n">is_develop</span><span class="p">():</span>
            <span class="kn">import</span><span class="w"> </span><span class="nn">traceback</span>

            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
        <span class="n">exc</span> <span class="o">=</span> <span class="n">KiaraProcessingException</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">module</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">)</span>
        <span class="n">log_exception</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">exc</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraModule.create_renderable" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span></code>

<a href="#kiara.api.KiaraModule.create_renderable" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/modules/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">582</span>
<span class="normal">583</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="kiara.api.KiaraModuleConfig" class="doc doc-heading">
            <code>KiaraModuleConfig</code>


<a href="#kiara.api.KiaraModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="KiaraModel (kiara.models.KiaraModel)" href="../models/__init__/#kiara.models.KiaraModel">KiaraModel</a></code></p>


        <p>Base class that describes the configuration a [<code>KiaraModule</code>][kiara.module.KiaraModule] class accepts.</p>
<p>This is stored in the <code>_config_cls</code> class attribute in each <code>KiaraModule</code> class.</p>
<p>There are two config options every <code>KiaraModule</code> supports:</p>
<ul>
<li><code>constants</code>, and</li>
<li><code>defaults</code></li>
</ul>
<p>Constants are pre-set inputs, and users can't change them and an error is thrown if they try. Defaults are default
 values that override the schema defaults, and those can be overwritten by users. If both a constant and a default
 value is set for an input field, an error is thrown.</p>







              <details class="quote">
                <summary>Source code in <code>src/kiara/models/module/__init__.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">KiaraModuleConfig</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Base class that describes the configuration a [``KiaraModule``][kiara.module.KiaraModule] class accepts.</span>

<span class="sd">    This is stored in the ``_config_cls`` class attribute in each ``KiaraModule`` class.</span>

<span class="sd">    There are two config options every ``KiaraModule`` supports:</span>

<span class="sd">     - ``constants``, and</span>
<span class="sd">     - ``defaults``</span>

<span class="sd">     Constants are pre-set inputs, and users can&#39;t change them and an error is thrown if they try. Defaults are default</span>
<span class="sd">     values that override the schema defaults, and those can be overwritten by users. If both a constant and a default</span>
<span class="sd">     value is set for an input field, an error is thrown.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span><span class="p">:</span> <span class="n">ClassVar</span> <span class="o">=</span> <span class="s2">&quot;instance.module_config&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">requires_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return whether this class can be used as-is, or requires configuration before an instance can be created.&quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">field</span><span class="o">.</span><span class="n">is_required</span><span class="p">():</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="n">field</span><span class="o">.</span><span class="n">default</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">PydanticUndefined</span><span class="p">]</span>
                <span class="ow">and</span> <span class="n">field</span><span class="o">.</span><span class="n">default_factory</span> <span class="ow">is</span> <span class="kc">None</span>
            <span class="p">):</span>
                <span class="k">if</span> <span class="n">config</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="k">return</span> <span class="kc">True</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">_config_hash</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">constants</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Value constants for this module.&quot;</span>
    <span class="p">)</span>
    <span class="n">defaults</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Value defaults for this module.&quot;</span>
    <span class="p">)</span>
    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">extra</span><span class="o">=</span><span class="s2">&quot;forbid&quot;</span><span class="p">,</span> <span class="n">validate_assignment</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the value for the specified configuation key.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">model_fields</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No config value &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; in module config class &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
        <span class="n">my_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">MINIMAL</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">my_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Field name&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">my_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_fields</span><span class="p">:</span>
            <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">attr_str</span> <span class="o">=</span> <span class="n">attr</span>
            <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="s2">&quot;create_renderable&quot;</span><span class="p">):</span>
                <span class="n">attr_str</span> <span class="o">=</span> <span class="n">attr</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">()</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
                <span class="n">attr_str</span> <span class="o">=</span> <span class="n">attr</span><span class="o">.</span><span class="n">model_dump_json</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">attr_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
            <span class="n">my_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">attr_str</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">my_table</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">





<h4 id="kiara.api.KiaraModuleConfig-attributes">Attributes<a href="#kiara.api.KiaraModuleConfig-attributes" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraModuleConfig.constants" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">constants</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Value constants for this module.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiaraModuleConfig.constants" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraModuleConfig.defaults" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">defaults</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Value defaults for this module.&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiaraModuleConfig.defaults" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.api.KiaraModuleConfig.model_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">extra</span><span class="o">=</span><span class="s1">&#39;forbid&#39;</span><span class="p">,</span> <span class="n">validate_assignment</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#kiara.api.KiaraModuleConfig.model_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<h4 id="kiara.api.KiaraModuleConfig-functions">Functions<a href="#kiara.api.KiaraModuleConfig-functions" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraModuleConfig.requires_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">requires_config</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.api.KiaraModuleConfig.requires_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Return whether this class can be used as-is, or requires configuration before an instance can be created.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">requires_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return whether this class can be used as-is, or requires configuration before an instance can be created.&quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">field</span><span class="o">.</span><span class="n">is_required</span><span class="p">():</span>
            <span class="k">continue</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="n">field</span><span class="o">.</span><span class="n">default</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">PydanticUndefined</span><span class="p">]</span>
            <span class="ow">and</span> <span class="n">field</span><span class="o">.</span><span class="n">default_factory</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="n">config</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraModuleConfig.get" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

<a href="#kiara.api.KiaraModuleConfig.get" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get the value for the specified configuation key.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the value for the specified configuation key.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">model_fields</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;No config value &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; in module config class &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.api.KiaraModuleConfig.create_renderable" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span></code>

<a href="#kiara.api.KiaraModuleConfig.create_renderable" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/models/module/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
    <span class="n">my_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">MINIMAL</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">my_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Field name&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">my_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_fields</span><span class="p">:</span>
        <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">attr_str</span> <span class="o">=</span> <span class="n">attr</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="s2">&quot;create_renderable&quot;</span><span class="p">):</span>
            <span class="n">attr_str</span> <span class="o">=</span> <span class="n">attr</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">()</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
            <span class="n">attr_str</span> <span class="o">=</span> <span class="n">attr</span><span class="o">.</span><span class="n">model_dump_json</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">attr_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
        <span class="n">my_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">attr_str</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">my_table</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      DHARPA project
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tracking"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "default": "stable", "provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>