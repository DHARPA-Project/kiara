
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the 'kiara' project">
      
      
        <meta name="author" content="Markus Binsteiner">
      
      
        <link rel="canonical" href="https://dharpa.org/kiara/latest/reference/kiara/interfaces/python_api/base_api/">
      
      
        <link rel="prev" href="../__init__/">
      
      
        <link rel="next" href="../batch/">
      
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>base_api - kiara</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../../docs/.stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#kiara.interfaces.python_api.base_api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../../../../../..">
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="kiara" class="md-header__button md-logo" aria-label="kiara" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            kiara
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              base_api
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/DHARPA-Project/kiara" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="kiara" class="md-nav__button md-logo" aria-label="kiara" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    kiara
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/DHARPA-Project/kiara" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../development/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../development/install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install development environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../development/rendering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Render an internal type
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../development/stores/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    kiara stores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../development/modules/render_value/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Included components
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Included components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../included_components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Summary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../included_components/data_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    data_types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../included_components/module_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    module_types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../included_components/kiara_model_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    kiara_model_types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../included_components/operation_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    operation_types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../included_components/operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    operations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    kiara
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            kiara
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    api
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../context/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    context
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_2" id="__nav_4_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_2">
            <span class="md-nav__icon md-icon"></span>
            context
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../context/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../context/orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    orm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../context/runtime_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    runtime_config
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../data_types/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    data_types
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_3" id="__nav_4_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_3">
            <span class="md-nav__icon md-icon"></span>
            data_types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_3_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../data_types/included_core_types/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    included_core_types
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_3_1" id="__nav_4_1_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_3_1">
            <span class="md-nav__icon md-icon"></span>
            included_core_types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_types/included_core_types/filesystem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    filesystem
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_3_1_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../data_types/included_core_types/internal/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    internal
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_3_1_2" id="__nav_4_1_3_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_3_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_3_1_2">
            <span class="md-nav__icon md-icon"></span>
            internal
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_types/included_core_types/internal/render_value/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    render_value
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_types/included_core_types/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_types/included_core_types/serialization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    serialization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../defaults/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    defaults
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../doc/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    doc
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_5" id="__nav_4_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_5">
            <span class="md-nav__icon md-icon"></span>
            doc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/gen_info_pages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    gen_info_pages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/generate_api_doc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    generate_api_doc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/mkdocs_macros_cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mkdocs_macros_cli
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/mkdocs_macros_kiara/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mkdocs_macros_kiara
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_5_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../doc/mkdocstrings/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    mkdocstrings
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_5_5" id="__nav_4_1_5_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_5_5">
            <span class="md-nav__icon md-icon"></span>
            mkdocstrings
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/mkdocstrings/collector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    collector
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/mkdocstrings/handler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    handler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doc/mkdocstrings/renderer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    renderer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    exceptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    interfaces
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7" id="__nav_4_1_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_1_7">
            <span class="md-nav__icon md-icon"></span>
            interfaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cli/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    cli
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1" id="__nav_4_1_7_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1">
            <span class="md-nav__icon md-icon"></span>
            cli
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cli/archive/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    archive
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_1" id="__nav_4_1_7_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_1">
            <span class="md-nav__icon md-icon"></span>
            archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/archive/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cli/context/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    context
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_2" id="__nav_4_1_7_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_2">
            <span class="md-nav__icon md-icon"></span>
            context
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/context/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cli/data/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    data
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_3" id="__nav_4_1_7_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_3">
            <span class="md-nav__icon md-icon"></span>
            data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/data/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cli/info/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    info
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_4" id="__nav_4_1_7_1_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_4">
            <span class="md-nav__icon md-icon"></span>
            info
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/info/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cli/module/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    module
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_5" id="__nav_4_1_7_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_5">
            <span class="md-nav__icon md-icon"></span>
            module
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/module/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cli/operation/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    operation
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_6" id="__nav_4_1_7_1_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_6">
            <span class="md-nav__icon md-icon"></span>
            operation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/operation/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cli/pipeline/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    pipeline
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_7" id="__nav_4_1_7_1_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_7">
            <span class="md-nav__icon md-icon"></span>
            pipeline
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/pipeline/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cli/plugin/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    plugin
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_8" id="__nav_4_1_7_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_8">
            <span class="md-nav__icon md-icon"></span>
            plugin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/plugin/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/proxy_cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    proxy_cli
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cli/render/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    render
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_10" id="__nav_4_1_7_1_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_10">
            <span class="md-nav__icon md-icon"></span>
            render
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/render/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/run/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    run
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_12" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cli/type/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    type
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_12" id="__nav_4_1_7_1_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_12">
            <span class="md-nav__icon md-icon"></span>
            type
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/type/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_1_13" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cli/workflow/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    workflow
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_1_13" id="__nav_4_1_7_1_13_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_1_13">
            <span class="md-nav__icon md-icon"></span>
            workflow
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/workflow/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    python_api
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_2" id="__nav_4_1_7_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_7_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_1_7_2">
            <span class="md-nav__icon md-icon"></span>
            python_api
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    base_api
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    base_api
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api" class="md-nav__link">
    <span class="md-ellipsis">
      base_api
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api.logger" class="md-nav__link">
    <span class="md-ellipsis">
      logger
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api.yaml" class="md-nav__link">
    <span class="md-ellipsis">
      yaml
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api.BaseAPI" class="md-nav__link">
    <span class="md-ellipsis">
      BaseAPI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api.tag" class="md-nav__link">
    <span class="md-ellipsis">
      tag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api.find_base_api_endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      find_base_api_endpoints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../batch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    batch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kiara_api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    kiara_api
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7_2_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../models/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    models
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_7_2_4" id="__nav_4_1_7_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_7_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7_2_4">
            <span class="md-nav__icon md-icon"></span>
            models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/archive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    archive
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/doc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    doc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/info/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    info
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/job/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    job
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    workflow
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    operation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../proxy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    proxy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../value/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    value
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    workflow
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../models/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    models
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_8" id="__nav_4_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8">
            <span class="md-nav__icon md-icon"></span>
            models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/aliases/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    aliases
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/archives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    archives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/context/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/data_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    data_types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    documentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../models/events/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    events
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_8_6" id="__nav_4_1_8_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_8_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8_6">
            <span class="md-nav__icon md-icon"></span>
            events
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/events/alias_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias_registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/events/data_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    data_registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/events/destiny_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    destiny_registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/events/job_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    job_registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/events/pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/events/workflow_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    workflow_registry
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/filesystem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    filesystem
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/metadata/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../models/module/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    module
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_8_9" id="__nav_4_1_8_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_8_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8_9">
            <span class="md-nav__icon md-icon"></span>
            module
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/module/destiny/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    destiny
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/module/jobs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    jobs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/module/manifest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    manifest
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/module/operation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    operation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/module/persistence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    persistence
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8_9_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../models/module/pipeline/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    pipeline
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_8_9_6" id="__nav_4_1_8_9_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_8_9_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8_9_6">
            <span class="md-nav__icon md-icon"></span>
            pipeline
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/module/pipeline/controller/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    controller
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/module/pipeline/pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/module/pipeline/stages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    stages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/module/pipeline/structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    structure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/module/pipeline/value_refs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    value_refs
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/python_class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    python_class
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8_11" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../models/rendering/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    rendering
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_8_11" id="__nav_4_1_8_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_8_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8_11">
            <span class="md-nav__icon md-icon"></span>
            rendering
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/rendering/values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    values
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8_12" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../models/runtime_environment/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    runtime_environment
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_8_12" id="__nav_4_1_8_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_8_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8_12">
            <span class="md-nav__icon md-icon"></span>
            runtime_environment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/runtime_environment/kiara/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    kiara
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/runtime_environment/operating_system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    operating_system
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/runtime_environment/python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    python
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8_13" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../models/values/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    values
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_8_13" id="__nav_4_1_8_13_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_8_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8_13">
            <span class="md-nav__icon md-icon"></span>
            values
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/values/data_type/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    data_type
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/values/lineage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    lineage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/values/matchers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    matchers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/values/value/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    value
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8_13_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../models/values/value_metadata/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    value_metadata
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_8_13_5" id="__nav_4_1_8_13_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_8_13_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8_13_5">
            <span class="md-nav__icon md-icon"></span>
            value_metadata
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/values/value_metadata/included_metadata_types/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    included_metadata_types
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/values/value_schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    value_schema
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    workflow
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../modules/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    modules
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_9" id="__nav_4_1_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_9">
            <span class="md-nav__icon md-icon"></span>
            modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_9_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../modules/included_core_modules/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    included_core_modules
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_9_1" id="__nav_4_1_9_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_9_1">
            <span class="md-nav__icon md-icon"></span>
            included_core_modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../modules/included_core_modules/create_from/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    create_from
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../modules/included_core_modules/export_as/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    export_as
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../modules/included_core_modules/filesystem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    filesystem
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../modules/included_core_modules/filter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    filter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../modules/included_core_modules/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../modules/included_core_modules/mock/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mock
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../modules/included_core_modules/pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../modules/included_core_modules/pretty_print/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pretty_print
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../modules/included_core_modules/render_value/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    render_value
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../modules/included_core_modules/serialization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    serialization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../operations/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    operations
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_10" id="__nav_4_1_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_10">
            <span class="md-nav__icon md-icon"></span>
            operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_10_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../operations/included_core_operations/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    included_core_operations
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_10_1" id="__nav_4_1_10_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_10_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_10_1">
            <span class="md-nav__icon md-icon"></span>
            included_core_operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/included_core_operations/create_from/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    create_from
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/included_core_operations/export_as/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    export_as
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/included_core_operations/filter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    filter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/included_core_operations/import_data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    import_data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/included_core_operations/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/included_core_operations/pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/included_core_operations/pretty_print/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pretty_print
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/included_core_operations/render_data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    render_data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/included_core_operations/render_value/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    render_value
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/included_core_operations/serialize/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    serialize
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_11" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../processing/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    processing
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_11" id="__nav_4_1_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_11">
            <span class="md-nav__icon md-icon"></span>
            processing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processing/synchronous/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    synchronous
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../registries/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    registries
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12" id="__nav_4_1_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12">
            <span class="md-nav__icon md-icon"></span>
            registries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../registries/aliases/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    aliases
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_1" id="__nav_4_1_12_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_12_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_1">
            <span class="md-nav__icon md-icon"></span>
            aliases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/aliases/archives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    archives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/aliases/sqlite_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sqlite_store
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../registries/data/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    data
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_2" id="__nav_4_1_12_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_12_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_2">
            <span class="md-nav__icon md-icon"></span>
            data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_2_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../registries/data/data_store/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    data_store
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_2_1" id="__nav_4_1_12_2_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_12_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_2_1">
            <span class="md-nav__icon md-icon"></span>
            data_store
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/data/data_store/filesystem_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    filesystem_store
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/data/data_store/sqlite_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sqlite_store
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/environment/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../registries/events/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    events
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_4" id="__nav_4_1_12_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_12_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_4">
            <span class="md-nav__icon md-icon"></span>
            events
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/events/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/events/registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    registry
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/ids/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ids
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../registries/jobs/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    jobs
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_6" id="__nav_4_1_12_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_12_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_6">
            <span class="md-nav__icon md-icon"></span>
            jobs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_6_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../registries/jobs/job_store/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    job_store
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_6_1" id="__nav_4_1_12_6_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_12_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_6_1">
            <span class="md-nav__icon md-icon"></span>
            job_store
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/jobs/job_store/filesystem_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    filesystem_store
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/jobs/job_store/sqlite_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sqlite_store
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../registries/metadata/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    metadata
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_7" id="__nav_4_1_12_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_12_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_7">
            <span class="md-nav__icon md-icon"></span>
            metadata
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_7_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../registries/metadata/metadata_store/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    metadata_store
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_7_1" id="__nav_4_1_12_7_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_12_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_7_1">
            <span class="md-nav__icon md-icon"></span>
            metadata_store
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/metadata/metadata_store/sqlite_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sqlite_store
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/models/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/modules/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/operations/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    operations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/rendering/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rendering
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/templates/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    templates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/types/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_12_14" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../registries/workflows/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    workflows
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_12_14" id="__nav_4_1_12_14_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_12_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_12_14">
            <span class="md-nav__icon md-icon"></span>
            workflows
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/workflows/archives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    archives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../registries/workflows/sqlite_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sqlite_store
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_13" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../renderers/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    renderers
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_13" id="__nav_4_1_13_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_13">
            <span class="md-nav__icon md-icon"></span>
            renderers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_13_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../renderers/included_renderers/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    included_renderers
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_13_1" id="__nav_4_1_13_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_13_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_13_1">
            <span class="md-nav__icon md-icon"></span>
            included_renderers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_13_1_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../renderers/included_renderers/api/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    api
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_13_1_1" id="__nav_4_1_13_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_13_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_13_1_1">
            <span class="md-nav__icon md-icon"></span>
            api
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../renderers/included_renderers/api/base_api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    base_api
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../renderers/included_renderers/api/kiara_api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    kiara_api
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../renderers/included_renderers/archive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    archive
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../renderers/included_renderers/job/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    job
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../renderers/included_renderers/pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../renderers/included_renderers/value/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    value
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../renderers/jinja/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    jinja
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_14" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../utils/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_14" id="__nav_4_1_14_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_14">
            <span class="md-nav__icon md-icon"></span>
            utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/archives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    archives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/class_loading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class_loading
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_14_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../utils/cli/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    cli
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_14_3" id="__nav_4_1_14_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_14_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_14_3">
            <span class="md-nav__icon md-icon"></span>
            cli
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/cli/exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    exceptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/cli/rich_click/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rich_click
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/cli/run/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    run
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/concurrency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    concurrency
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/dates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    dates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/db/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    db
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/debug/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    debug
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/develop/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    develop
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/dicts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    dicts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/doc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    doc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/downloads/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    downloads
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/global_metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    global_metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/graphs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    graphs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/hashfs/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    hashfs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/hashing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    hashing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/html/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    html
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/introspection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    introspection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/json/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    json
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    operations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/output/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    output
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/pipelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pipelines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/reflection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    reflection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/rendering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rendering
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/stores/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    stores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/string_vars/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    string_vars
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/testing/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    values
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/windows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    windows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/yaml/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    yaml
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_15" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../zmq/__init__/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    zmq
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_15" id="__nav_4_1_15_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_15">
            <span class="md-nav__icon md-icon"></span>
            zmq
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zmq/client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zmq/messages/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    messages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zmq/service/__init__/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    service
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../design_docs/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Design docs
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Design docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../design_docs/architecture/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../design_docs/architecture/assumptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assumptions &amp; considerations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../design_docs/architecture/decisions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Decisions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../design_docs/architecture/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../design_docs/architecture/data/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Data
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_1_4" id="__nav_5_1_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../design_docs/architecture/data/persistence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data persistence
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../design_docs/architecture/workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workflows
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api" class="md-nav__link">
    <span class="md-ellipsis">
      base_api
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api.logger" class="md-nav__link">
    <span class="md-ellipsis">
      logger
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api.yaml" class="md-nav__link">
    <span class="md-ellipsis">
      yaml
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api.BaseAPI" class="md-nav__link">
    <span class="md-ellipsis">
      BaseAPI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api.tag" class="md-nav__link">
    <span class="md-ellipsis">
      tag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.interfaces.python_api.base_api.find_base_api_endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      find_base_api_endpoints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>base_api</h1>

<div class="doc doc-object doc-module">



<a id="kiara.interfaces.python_api.base_api"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">





<h2 id="kiara.interfaces.python_api.base_api-attributes">Attributes<a href="#kiara.interfaces.python_api.base_api-attributes" class="headerlink" title="Permanent link">&para;</a></h2>

<div class="doc doc-object doc-attribute">



<h3 id="kiara.interfaces.python_api.base_api.logger" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">logger</span> <span class="o">=</span> <span class="n">structlog</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#kiara.interfaces.python_api.base_api.logger" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="kiara.interfaces.python_api.base_api.yaml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">yaml</span> <span class="o">=</span> <span class="n">YAML</span><span class="p">(</span><span class="n">typ</span><span class="o">=</span><span class="s1">&#39;safe&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#kiara.interfaces.python_api.base_api.yaml" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

    </div>

</div>
<h2 id="kiara.interfaces.python_api.base_api-classes">Classes<a href="#kiara.interfaces.python_api.base_api-classes" class="headerlink" title="Permanent link">&para;</a></h2>

<div class="doc doc-object doc-class">



<h3 id="kiara.interfaces.python_api.base_api.BaseAPI" class="doc doc-heading">
            <code>BaseAPI</code>


<a href="#kiara.interfaces.python_api.base_api.BaseAPI" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="object">object</span></code></p>


        <p>Kiara base API.</p>
<p>This class wraps a [Kiara][kiara.context.kiara.Kiara] instance, and allows easy a access to tasks that are
typically done by a frontend. The return types of each method are json seriable in most cases.</p>
<p>Can be extended for special scenarios and augmented with scenario-specific methdos (Jupyter, web-frontend, ...)</p>
<p>The naming of the API endpoints follows a (loose-ish) convention:
- list_<em>: return a list of ids or items, if items, filtering is supported
- get_</em>: get specific instances of a type (operation, value, etc.)
- retrieve_<em>: get augmented information about an instance or type of something. This usually implies that there is some overhead,
so before you use this, make sure that there is not 'get_</em>' or 'list_*' endpoint that could give you what you need.
.</p>







              <details class="quote">
                <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 134</span>
<span class="normal"> 135</span>
<span class="normal"> 136</span>
<span class="normal"> 137</span>
<span class="normal"> 138</span>
<span class="normal"> 139</span>
<span class="normal"> 140</span>
<span class="normal"> 141</span>
<span class="normal"> 142</span>
<span class="normal"> 143</span>
<span class="normal"> 144</span>
<span class="normal"> 145</span>
<span class="normal"> 146</span>
<span class="normal"> 147</span>
<span class="normal"> 148</span>
<span class="normal"> 149</span>
<span class="normal"> 150</span>
<span class="normal"> 151</span>
<span class="normal"> 152</span>
<span class="normal"> 153</span>
<span class="normal"> 154</span>
<span class="normal"> 155</span>
<span class="normal"> 156</span>
<span class="normal"> 157</span>
<span class="normal"> 158</span>
<span class="normal"> 159</span>
<span class="normal"> 160</span>
<span class="normal"> 161</span>
<span class="normal"> 162</span>
<span class="normal"> 163</span>
<span class="normal"> 164</span>
<span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span>
<span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span>
<span class="normal">2013</span>
<span class="normal">2014</span>
<span class="normal">2015</span>
<span class="normal">2016</span>
<span class="normal">2017</span>
<span class="normal">2018</span>
<span class="normal">2019</span>
<span class="normal">2020</span>
<span class="normal">2021</span>
<span class="normal">2022</span>
<span class="normal">2023</span>
<span class="normal">2024</span>
<span class="normal">2025</span>
<span class="normal">2026</span>
<span class="normal">2027</span>
<span class="normal">2028</span>
<span class="normal">2029</span>
<span class="normal">2030</span>
<span class="normal">2031</span>
<span class="normal">2032</span>
<span class="normal">2033</span>
<span class="normal">2034</span>
<span class="normal">2035</span>
<span class="normal">2036</span>
<span class="normal">2037</span>
<span class="normal">2038</span>
<span class="normal">2039</span>
<span class="normal">2040</span>
<span class="normal">2041</span>
<span class="normal">2042</span>
<span class="normal">2043</span>
<span class="normal">2044</span>
<span class="normal">2045</span>
<span class="normal">2046</span>
<span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span>
<span class="normal">2061</span>
<span class="normal">2062</span>
<span class="normal">2063</span>
<span class="normal">2064</span>
<span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span>
<span class="normal">2069</span>
<span class="normal">2070</span>
<span class="normal">2071</span>
<span class="normal">2072</span>
<span class="normal">2073</span>
<span class="normal">2074</span>
<span class="normal">2075</span>
<span class="normal">2076</span>
<span class="normal">2077</span>
<span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span>
<span class="normal">2085</span>
<span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span>
<span class="normal">2089</span>
<span class="normal">2090</span>
<span class="normal">2091</span>
<span class="normal">2092</span>
<span class="normal">2093</span>
<span class="normal">2094</span>
<span class="normal">2095</span>
<span class="normal">2096</span>
<span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span>
<span class="normal">2102</span>
<span class="normal">2103</span>
<span class="normal">2104</span>
<span class="normal">2105</span>
<span class="normal">2106</span>
<span class="normal">2107</span>
<span class="normal">2108</span>
<span class="normal">2109</span>
<span class="normal">2110</span>
<span class="normal">2111</span>
<span class="normal">2112</span>
<span class="normal">2113</span>
<span class="normal">2114</span>
<span class="normal">2115</span>
<span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span>
<span class="normal">2120</span>
<span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span>
<span class="normal">2127</span>
<span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span>
<span class="normal">2131</span>
<span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span>
<span class="normal">2136</span>
<span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span>
<span class="normal">2141</span>
<span class="normal">2142</span>
<span class="normal">2143</span>
<span class="normal">2144</span>
<span class="normal">2145</span>
<span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span>
<span class="normal">2151</span>
<span class="normal">2152</span>
<span class="normal">2153</span>
<span class="normal">2154</span>
<span class="normal">2155</span>
<span class="normal">2156</span>
<span class="normal">2157</span>
<span class="normal">2158</span>
<span class="normal">2159</span>
<span class="normal">2160</span>
<span class="normal">2161</span>
<span class="normal">2162</span>
<span class="normal">2163</span>
<span class="normal">2164</span>
<span class="normal">2165</span>
<span class="normal">2166</span>
<span class="normal">2167</span>
<span class="normal">2168</span>
<span class="normal">2169</span>
<span class="normal">2170</span>
<span class="normal">2171</span>
<span class="normal">2172</span>
<span class="normal">2173</span>
<span class="normal">2174</span>
<span class="normal">2175</span>
<span class="normal">2176</span>
<span class="normal">2177</span>
<span class="normal">2178</span>
<span class="normal">2179</span>
<span class="normal">2180</span>
<span class="normal">2181</span>
<span class="normal">2182</span>
<span class="normal">2183</span>
<span class="normal">2184</span>
<span class="normal">2185</span>
<span class="normal">2186</span>
<span class="normal">2187</span>
<span class="normal">2188</span>
<span class="normal">2189</span>
<span class="normal">2190</span>
<span class="normal">2191</span>
<span class="normal">2192</span>
<span class="normal">2193</span>
<span class="normal">2194</span>
<span class="normal">2195</span>
<span class="normal">2196</span>
<span class="normal">2197</span>
<span class="normal">2198</span>
<span class="normal">2199</span>
<span class="normal">2200</span>
<span class="normal">2201</span>
<span class="normal">2202</span>
<span class="normal">2203</span>
<span class="normal">2204</span>
<span class="normal">2205</span>
<span class="normal">2206</span>
<span class="normal">2207</span>
<span class="normal">2208</span>
<span class="normal">2209</span>
<span class="normal">2210</span>
<span class="normal">2211</span>
<span class="normal">2212</span>
<span class="normal">2213</span>
<span class="normal">2214</span>
<span class="normal">2215</span>
<span class="normal">2216</span>
<span class="normal">2217</span>
<span class="normal">2218</span>
<span class="normal">2219</span>
<span class="normal">2220</span>
<span class="normal">2221</span>
<span class="normal">2222</span>
<span class="normal">2223</span>
<span class="normal">2224</span>
<span class="normal">2225</span>
<span class="normal">2226</span>
<span class="normal">2227</span>
<span class="normal">2228</span>
<span class="normal">2229</span>
<span class="normal">2230</span>
<span class="normal">2231</span>
<span class="normal">2232</span>
<span class="normal">2233</span>
<span class="normal">2234</span>
<span class="normal">2235</span>
<span class="normal">2236</span>
<span class="normal">2237</span>
<span class="normal">2238</span>
<span class="normal">2239</span>
<span class="normal">2240</span>
<span class="normal">2241</span>
<span class="normal">2242</span>
<span class="normal">2243</span>
<span class="normal">2244</span>
<span class="normal">2245</span>
<span class="normal">2246</span>
<span class="normal">2247</span>
<span class="normal">2248</span>
<span class="normal">2249</span>
<span class="normal">2250</span>
<span class="normal">2251</span>
<span class="normal">2252</span>
<span class="normal">2253</span>
<span class="normal">2254</span>
<span class="normal">2255</span>
<span class="normal">2256</span>
<span class="normal">2257</span>
<span class="normal">2258</span>
<span class="normal">2259</span>
<span class="normal">2260</span>
<span class="normal">2261</span>
<span class="normal">2262</span>
<span class="normal">2263</span>
<span class="normal">2264</span>
<span class="normal">2265</span>
<span class="normal">2266</span>
<span class="normal">2267</span>
<span class="normal">2268</span>
<span class="normal">2269</span>
<span class="normal">2270</span>
<span class="normal">2271</span>
<span class="normal">2272</span>
<span class="normal">2273</span>
<span class="normal">2274</span>
<span class="normal">2275</span>
<span class="normal">2276</span>
<span class="normal">2277</span>
<span class="normal">2278</span>
<span class="normal">2279</span>
<span class="normal">2280</span>
<span class="normal">2281</span>
<span class="normal">2282</span>
<span class="normal">2283</span>
<span class="normal">2284</span>
<span class="normal">2285</span>
<span class="normal">2286</span>
<span class="normal">2287</span>
<span class="normal">2288</span>
<span class="normal">2289</span>
<span class="normal">2290</span>
<span class="normal">2291</span>
<span class="normal">2292</span>
<span class="normal">2293</span>
<span class="normal">2294</span>
<span class="normal">2295</span>
<span class="normal">2296</span>
<span class="normal">2297</span>
<span class="normal">2298</span>
<span class="normal">2299</span>
<span class="normal">2300</span>
<span class="normal">2301</span>
<span class="normal">2302</span>
<span class="normal">2303</span>
<span class="normal">2304</span>
<span class="normal">2305</span>
<span class="normal">2306</span>
<span class="normal">2307</span>
<span class="normal">2308</span>
<span class="normal">2309</span>
<span class="normal">2310</span>
<span class="normal">2311</span>
<span class="normal">2312</span>
<span class="normal">2313</span>
<span class="normal">2314</span>
<span class="normal">2315</span>
<span class="normal">2316</span>
<span class="normal">2317</span>
<span class="normal">2318</span>
<span class="normal">2319</span>
<span class="normal">2320</span>
<span class="normal">2321</span>
<span class="normal">2322</span>
<span class="normal">2323</span>
<span class="normal">2324</span>
<span class="normal">2325</span>
<span class="normal">2326</span>
<span class="normal">2327</span>
<span class="normal">2328</span>
<span class="normal">2329</span>
<span class="normal">2330</span>
<span class="normal">2331</span>
<span class="normal">2332</span>
<span class="normal">2333</span>
<span class="normal">2334</span>
<span class="normal">2335</span>
<span class="normal">2336</span>
<span class="normal">2337</span>
<span class="normal">2338</span>
<span class="normal">2339</span>
<span class="normal">2340</span>
<span class="normal">2341</span>
<span class="normal">2342</span>
<span class="normal">2343</span>
<span class="normal">2344</span>
<span class="normal">2345</span>
<span class="normal">2346</span>
<span class="normal">2347</span>
<span class="normal">2348</span>
<span class="normal">2349</span>
<span class="normal">2350</span>
<span class="normal">2351</span>
<span class="normal">2352</span>
<span class="normal">2353</span>
<span class="normal">2354</span>
<span class="normal">2355</span>
<span class="normal">2356</span>
<span class="normal">2357</span>
<span class="normal">2358</span>
<span class="normal">2359</span>
<span class="normal">2360</span>
<span class="normal">2361</span>
<span class="normal">2362</span>
<span class="normal">2363</span>
<span class="normal">2364</span>
<span class="normal">2365</span>
<span class="normal">2366</span>
<span class="normal">2367</span>
<span class="normal">2368</span>
<span class="normal">2369</span>
<span class="normal">2370</span>
<span class="normal">2371</span>
<span class="normal">2372</span>
<span class="normal">2373</span>
<span class="normal">2374</span>
<span class="normal">2375</span>
<span class="normal">2376</span>
<span class="normal">2377</span>
<span class="normal">2378</span>
<span class="normal">2379</span>
<span class="normal">2380</span>
<span class="normal">2381</span>
<span class="normal">2382</span>
<span class="normal">2383</span>
<span class="normal">2384</span>
<span class="normal">2385</span>
<span class="normal">2386</span>
<span class="normal">2387</span>
<span class="normal">2388</span>
<span class="normal">2389</span>
<span class="normal">2390</span>
<span class="normal">2391</span>
<span class="normal">2392</span>
<span class="normal">2393</span>
<span class="normal">2394</span>
<span class="normal">2395</span>
<span class="normal">2396</span>
<span class="normal">2397</span>
<span class="normal">2398</span>
<span class="normal">2399</span>
<span class="normal">2400</span>
<span class="normal">2401</span>
<span class="normal">2402</span>
<span class="normal">2403</span>
<span class="normal">2404</span>
<span class="normal">2405</span>
<span class="normal">2406</span>
<span class="normal">2407</span>
<span class="normal">2408</span>
<span class="normal">2409</span>
<span class="normal">2410</span>
<span class="normal">2411</span>
<span class="normal">2412</span>
<span class="normal">2413</span>
<span class="normal">2414</span>
<span class="normal">2415</span>
<span class="normal">2416</span>
<span class="normal">2417</span>
<span class="normal">2418</span>
<span class="normal">2419</span>
<span class="normal">2420</span>
<span class="normal">2421</span>
<span class="normal">2422</span>
<span class="normal">2423</span>
<span class="normal">2424</span>
<span class="normal">2425</span>
<span class="normal">2426</span>
<span class="normal">2427</span>
<span class="normal">2428</span>
<span class="normal">2429</span>
<span class="normal">2430</span>
<span class="normal">2431</span>
<span class="normal">2432</span>
<span class="normal">2433</span>
<span class="normal">2434</span>
<span class="normal">2435</span>
<span class="normal">2436</span>
<span class="normal">2437</span>
<span class="normal">2438</span>
<span class="normal">2439</span>
<span class="normal">2440</span>
<span class="normal">2441</span>
<span class="normal">2442</span>
<span class="normal">2443</span>
<span class="normal">2444</span>
<span class="normal">2445</span>
<span class="normal">2446</span>
<span class="normal">2447</span>
<span class="normal">2448</span>
<span class="normal">2449</span>
<span class="normal">2450</span>
<span class="normal">2451</span>
<span class="normal">2452</span>
<span class="normal">2453</span>
<span class="normal">2454</span>
<span class="normal">2455</span>
<span class="normal">2456</span>
<span class="normal">2457</span>
<span class="normal">2458</span>
<span class="normal">2459</span>
<span class="normal">2460</span>
<span class="normal">2461</span>
<span class="normal">2462</span>
<span class="normal">2463</span>
<span class="normal">2464</span>
<span class="normal">2465</span>
<span class="normal">2466</span>
<span class="normal">2467</span>
<span class="normal">2468</span>
<span class="normal">2469</span>
<span class="normal">2470</span>
<span class="normal">2471</span>
<span class="normal">2472</span>
<span class="normal">2473</span>
<span class="normal">2474</span>
<span class="normal">2475</span>
<span class="normal">2476</span>
<span class="normal">2477</span>
<span class="normal">2478</span>
<span class="normal">2479</span>
<span class="normal">2480</span>
<span class="normal">2481</span>
<span class="normal">2482</span>
<span class="normal">2483</span>
<span class="normal">2484</span>
<span class="normal">2485</span>
<span class="normal">2486</span>
<span class="normal">2487</span>
<span class="normal">2488</span>
<span class="normal">2489</span>
<span class="normal">2490</span>
<span class="normal">2491</span>
<span class="normal">2492</span>
<span class="normal">2493</span>
<span class="normal">2494</span>
<span class="normal">2495</span>
<span class="normal">2496</span>
<span class="normal">2497</span>
<span class="normal">2498</span>
<span class="normal">2499</span>
<span class="normal">2500</span>
<span class="normal">2501</span>
<span class="normal">2502</span>
<span class="normal">2503</span>
<span class="normal">2504</span>
<span class="normal">2505</span>
<span class="normal">2506</span>
<span class="normal">2507</span>
<span class="normal">2508</span>
<span class="normal">2509</span>
<span class="normal">2510</span>
<span class="normal">2511</span>
<span class="normal">2512</span>
<span class="normal">2513</span>
<span class="normal">2514</span>
<span class="normal">2515</span>
<span class="normal">2516</span>
<span class="normal">2517</span>
<span class="normal">2518</span>
<span class="normal">2519</span>
<span class="normal">2520</span>
<span class="normal">2521</span>
<span class="normal">2522</span>
<span class="normal">2523</span>
<span class="normal">2524</span>
<span class="normal">2525</span>
<span class="normal">2526</span>
<span class="normal">2527</span>
<span class="normal">2528</span>
<span class="normal">2529</span>
<span class="normal">2530</span>
<span class="normal">2531</span>
<span class="normal">2532</span>
<span class="normal">2533</span>
<span class="normal">2534</span>
<span class="normal">2535</span>
<span class="normal">2536</span>
<span class="normal">2537</span>
<span class="normal">2538</span>
<span class="normal">2539</span>
<span class="normal">2540</span>
<span class="normal">2541</span>
<span class="normal">2542</span>
<span class="normal">2543</span>
<span class="normal">2544</span>
<span class="normal">2545</span>
<span class="normal">2546</span>
<span class="normal">2547</span>
<span class="normal">2548</span>
<span class="normal">2549</span>
<span class="normal">2550</span>
<span class="normal">2551</span>
<span class="normal">2552</span>
<span class="normal">2553</span>
<span class="normal">2554</span>
<span class="normal">2555</span>
<span class="normal">2556</span>
<span class="normal">2557</span>
<span class="normal">2558</span>
<span class="normal">2559</span>
<span class="normal">2560</span>
<span class="normal">2561</span>
<span class="normal">2562</span>
<span class="normal">2563</span>
<span class="normal">2564</span>
<span class="normal">2565</span>
<span class="normal">2566</span>
<span class="normal">2567</span>
<span class="normal">2568</span>
<span class="normal">2569</span>
<span class="normal">2570</span>
<span class="normal">2571</span>
<span class="normal">2572</span>
<span class="normal">2573</span>
<span class="normal">2574</span>
<span class="normal">2575</span>
<span class="normal">2576</span>
<span class="normal">2577</span>
<span class="normal">2578</span>
<span class="normal">2579</span>
<span class="normal">2580</span>
<span class="normal">2581</span>
<span class="normal">2582</span>
<span class="normal">2583</span>
<span class="normal">2584</span>
<span class="normal">2585</span>
<span class="normal">2586</span>
<span class="normal">2587</span>
<span class="normal">2588</span>
<span class="normal">2589</span>
<span class="normal">2590</span>
<span class="normal">2591</span>
<span class="normal">2592</span>
<span class="normal">2593</span>
<span class="normal">2594</span>
<span class="normal">2595</span>
<span class="normal">2596</span>
<span class="normal">2597</span>
<span class="normal">2598</span>
<span class="normal">2599</span>
<span class="normal">2600</span>
<span class="normal">2601</span>
<span class="normal">2602</span>
<span class="normal">2603</span>
<span class="normal">2604</span>
<span class="normal">2605</span>
<span class="normal">2606</span>
<span class="normal">2607</span>
<span class="normal">2608</span>
<span class="normal">2609</span>
<span class="normal">2610</span>
<span class="normal">2611</span>
<span class="normal">2612</span>
<span class="normal">2613</span>
<span class="normal">2614</span>
<span class="normal">2615</span>
<span class="normal">2616</span>
<span class="normal">2617</span>
<span class="normal">2618</span>
<span class="normal">2619</span>
<span class="normal">2620</span>
<span class="normal">2621</span>
<span class="normal">2622</span>
<span class="normal">2623</span>
<span class="normal">2624</span>
<span class="normal">2625</span>
<span class="normal">2626</span>
<span class="normal">2627</span>
<span class="normal">2628</span>
<span class="normal">2629</span>
<span class="normal">2630</span>
<span class="normal">2631</span>
<span class="normal">2632</span>
<span class="normal">2633</span>
<span class="normal">2634</span>
<span class="normal">2635</span>
<span class="normal">2636</span>
<span class="normal">2637</span>
<span class="normal">2638</span>
<span class="normal">2639</span>
<span class="normal">2640</span>
<span class="normal">2641</span>
<span class="normal">2642</span>
<span class="normal">2643</span>
<span class="normal">2644</span>
<span class="normal">2645</span>
<span class="normal">2646</span>
<span class="normal">2647</span>
<span class="normal">2648</span>
<span class="normal">2649</span>
<span class="normal">2650</span>
<span class="normal">2651</span>
<span class="normal">2652</span>
<span class="normal">2653</span>
<span class="normal">2654</span>
<span class="normal">2655</span>
<span class="normal">2656</span>
<span class="normal">2657</span>
<span class="normal">2658</span>
<span class="normal">2659</span>
<span class="normal">2660</span>
<span class="normal">2661</span>
<span class="normal">2662</span>
<span class="normal">2663</span>
<span class="normal">2664</span>
<span class="normal">2665</span>
<span class="normal">2666</span>
<span class="normal">2667</span>
<span class="normal">2668</span>
<span class="normal">2669</span>
<span class="normal">2670</span>
<span class="normal">2671</span>
<span class="normal">2672</span>
<span class="normal">2673</span>
<span class="normal">2674</span>
<span class="normal">2675</span>
<span class="normal">2676</span>
<span class="normal">2677</span>
<span class="normal">2678</span>
<span class="normal">2679</span>
<span class="normal">2680</span>
<span class="normal">2681</span>
<span class="normal">2682</span>
<span class="normal">2683</span>
<span class="normal">2684</span>
<span class="normal">2685</span>
<span class="normal">2686</span>
<span class="normal">2687</span>
<span class="normal">2688</span>
<span class="normal">2689</span>
<span class="normal">2690</span>
<span class="normal">2691</span>
<span class="normal">2692</span>
<span class="normal">2693</span>
<span class="normal">2694</span>
<span class="normal">2695</span>
<span class="normal">2696</span>
<span class="normal">2697</span>
<span class="normal">2698</span>
<span class="normal">2699</span>
<span class="normal">2700</span>
<span class="normal">2701</span>
<span class="normal">2702</span>
<span class="normal">2703</span>
<span class="normal">2704</span>
<span class="normal">2705</span>
<span class="normal">2706</span>
<span class="normal">2707</span>
<span class="normal">2708</span>
<span class="normal">2709</span>
<span class="normal">2710</span>
<span class="normal">2711</span>
<span class="normal">2712</span>
<span class="normal">2713</span>
<span class="normal">2714</span>
<span class="normal">2715</span>
<span class="normal">2716</span>
<span class="normal">2717</span>
<span class="normal">2718</span>
<span class="normal">2719</span>
<span class="normal">2720</span>
<span class="normal">2721</span>
<span class="normal">2722</span>
<span class="normal">2723</span>
<span class="normal">2724</span>
<span class="normal">2725</span>
<span class="normal">2726</span>
<span class="normal">2727</span>
<span class="normal">2728</span>
<span class="normal">2729</span>
<span class="normal">2730</span>
<span class="normal">2731</span>
<span class="normal">2732</span>
<span class="normal">2733</span>
<span class="normal">2734</span>
<span class="normal">2735</span>
<span class="normal">2736</span>
<span class="normal">2737</span>
<span class="normal">2738</span>
<span class="normal">2739</span>
<span class="normal">2740</span>
<span class="normal">2741</span>
<span class="normal">2742</span>
<span class="normal">2743</span>
<span class="normal">2744</span>
<span class="normal">2745</span>
<span class="normal">2746</span>
<span class="normal">2747</span>
<span class="normal">2748</span>
<span class="normal">2749</span>
<span class="normal">2750</span>
<span class="normal">2751</span>
<span class="normal">2752</span>
<span class="normal">2753</span>
<span class="normal">2754</span>
<span class="normal">2755</span>
<span class="normal">2756</span>
<span class="normal">2757</span>
<span class="normal">2758</span>
<span class="normal">2759</span>
<span class="normal">2760</span>
<span class="normal">2761</span>
<span class="normal">2762</span>
<span class="normal">2763</span>
<span class="normal">2764</span>
<span class="normal">2765</span>
<span class="normal">2766</span>
<span class="normal">2767</span>
<span class="normal">2768</span>
<span class="normal">2769</span>
<span class="normal">2770</span>
<span class="normal">2771</span>
<span class="normal">2772</span>
<span class="normal">2773</span>
<span class="normal">2774</span>
<span class="normal">2775</span>
<span class="normal">2776</span>
<span class="normal">2777</span>
<span class="normal">2778</span>
<span class="normal">2779</span>
<span class="normal">2780</span>
<span class="normal">2781</span>
<span class="normal">2782</span>
<span class="normal">2783</span>
<span class="normal">2784</span>
<span class="normal">2785</span>
<span class="normal">2786</span>
<span class="normal">2787</span>
<span class="normal">2788</span>
<span class="normal">2789</span>
<span class="normal">2790</span>
<span class="normal">2791</span>
<span class="normal">2792</span>
<span class="normal">2793</span>
<span class="normal">2794</span>
<span class="normal">2795</span>
<span class="normal">2796</span>
<span class="normal">2797</span>
<span class="normal">2798</span>
<span class="normal">2799</span>
<span class="normal">2800</span>
<span class="normal">2801</span>
<span class="normal">2802</span>
<span class="normal">2803</span>
<span class="normal">2804</span>
<span class="normal">2805</span>
<span class="normal">2806</span>
<span class="normal">2807</span>
<span class="normal">2808</span>
<span class="normal">2809</span>
<span class="normal">2810</span>
<span class="normal">2811</span>
<span class="normal">2812</span>
<span class="normal">2813</span>
<span class="normal">2814</span>
<span class="normal">2815</span>
<span class="normal">2816</span>
<span class="normal">2817</span>
<span class="normal">2818</span>
<span class="normal">2819</span>
<span class="normal">2820</span>
<span class="normal">2821</span>
<span class="normal">2822</span>
<span class="normal">2823</span>
<span class="normal">2824</span>
<span class="normal">2825</span>
<span class="normal">2826</span>
<span class="normal">2827</span>
<span class="normal">2828</span>
<span class="normal">2829</span>
<span class="normal">2830</span>
<span class="normal">2831</span>
<span class="normal">2832</span>
<span class="normal">2833</span>
<span class="normal">2834</span>
<span class="normal">2835</span>
<span class="normal">2836</span>
<span class="normal">2837</span>
<span class="normal">2838</span>
<span class="normal">2839</span>
<span class="normal">2840</span>
<span class="normal">2841</span>
<span class="normal">2842</span>
<span class="normal">2843</span>
<span class="normal">2844</span>
<span class="normal">2845</span>
<span class="normal">2846</span>
<span class="normal">2847</span>
<span class="normal">2848</span>
<span class="normal">2849</span>
<span class="normal">2850</span>
<span class="normal">2851</span>
<span class="normal">2852</span>
<span class="normal">2853</span>
<span class="normal">2854</span>
<span class="normal">2855</span>
<span class="normal">2856</span>
<span class="normal">2857</span>
<span class="normal">2858</span>
<span class="normal">2859</span>
<span class="normal">2860</span>
<span class="normal">2861</span>
<span class="normal">2862</span>
<span class="normal">2863</span>
<span class="normal">2864</span>
<span class="normal">2865</span>
<span class="normal">2866</span>
<span class="normal">2867</span>
<span class="normal">2868</span>
<span class="normal">2869</span>
<span class="normal">2870</span>
<span class="normal">2871</span>
<span class="normal">2872</span>
<span class="normal">2873</span>
<span class="normal">2874</span>
<span class="normal">2875</span>
<span class="normal">2876</span>
<span class="normal">2877</span>
<span class="normal">2878</span>
<span class="normal">2879</span>
<span class="normal">2880</span>
<span class="normal">2881</span>
<span class="normal">2882</span>
<span class="normal">2883</span>
<span class="normal">2884</span>
<span class="normal">2885</span>
<span class="normal">2886</span>
<span class="normal">2887</span>
<span class="normal">2888</span>
<span class="normal">2889</span>
<span class="normal">2890</span>
<span class="normal">2891</span>
<span class="normal">2892</span>
<span class="normal">2893</span>
<span class="normal">2894</span>
<span class="normal">2895</span>
<span class="normal">2896</span>
<span class="normal">2897</span>
<span class="normal">2898</span>
<span class="normal">2899</span>
<span class="normal">2900</span>
<span class="normal">2901</span>
<span class="normal">2902</span>
<span class="normal">2903</span>
<span class="normal">2904</span>
<span class="normal">2905</span>
<span class="normal">2906</span>
<span class="normal">2907</span>
<span class="normal">2908</span>
<span class="normal">2909</span>
<span class="normal">2910</span>
<span class="normal">2911</span>
<span class="normal">2912</span>
<span class="normal">2913</span>
<span class="normal">2914</span>
<span class="normal">2915</span>
<span class="normal">2916</span>
<span class="normal">2917</span>
<span class="normal">2918</span>
<span class="normal">2919</span>
<span class="normal">2920</span>
<span class="normal">2921</span>
<span class="normal">2922</span>
<span class="normal">2923</span>
<span class="normal">2924</span>
<span class="normal">2925</span>
<span class="normal">2926</span>
<span class="normal">2927</span>
<span class="normal">2928</span>
<span class="normal">2929</span>
<span class="normal">2930</span>
<span class="normal">2931</span>
<span class="normal">2932</span>
<span class="normal">2933</span>
<span class="normal">2934</span>
<span class="normal">2935</span>
<span class="normal">2936</span>
<span class="normal">2937</span>
<span class="normal">2938</span>
<span class="normal">2939</span>
<span class="normal">2940</span>
<span class="normal">2941</span>
<span class="normal">2942</span>
<span class="normal">2943</span>
<span class="normal">2944</span>
<span class="normal">2945</span>
<span class="normal">2946</span>
<span class="normal">2947</span>
<span class="normal">2948</span>
<span class="normal">2949</span>
<span class="normal">2950</span>
<span class="normal">2951</span>
<span class="normal">2952</span>
<span class="normal">2953</span>
<span class="normal">2954</span>
<span class="normal">2955</span>
<span class="normal">2956</span>
<span class="normal">2957</span>
<span class="normal">2958</span>
<span class="normal">2959</span>
<span class="normal">2960</span>
<span class="normal">2961</span>
<span class="normal">2962</span>
<span class="normal">2963</span>
<span class="normal">2964</span>
<span class="normal">2965</span>
<span class="normal">2966</span>
<span class="normal">2967</span>
<span class="normal">2968</span>
<span class="normal">2969</span>
<span class="normal">2970</span>
<span class="normal">2971</span>
<span class="normal">2972</span>
<span class="normal">2973</span>
<span class="normal">2974</span>
<span class="normal">2975</span>
<span class="normal">2976</span>
<span class="normal">2977</span>
<span class="normal">2978</span>
<span class="normal">2979</span>
<span class="normal">2980</span>
<span class="normal">2981</span>
<span class="normal">2982</span>
<span class="normal">2983</span>
<span class="normal">2984</span>
<span class="normal">2985</span>
<span class="normal">2986</span>
<span class="normal">2987</span>
<span class="normal">2988</span>
<span class="normal">2989</span>
<span class="normal">2990</span>
<span class="normal">2991</span>
<span class="normal">2992</span>
<span class="normal">2993</span>
<span class="normal">2994</span>
<span class="normal">2995</span>
<span class="normal">2996</span>
<span class="normal">2997</span>
<span class="normal">2998</span>
<span class="normal">2999</span>
<span class="normal">3000</span>
<span class="normal">3001</span>
<span class="normal">3002</span>
<span class="normal">3003</span>
<span class="normal">3004</span>
<span class="normal">3005</span>
<span class="normal">3006</span>
<span class="normal">3007</span>
<span class="normal">3008</span>
<span class="normal">3009</span>
<span class="normal">3010</span>
<span class="normal">3011</span>
<span class="normal">3012</span>
<span class="normal">3013</span>
<span class="normal">3014</span>
<span class="normal">3015</span>
<span class="normal">3016</span>
<span class="normal">3017</span>
<span class="normal">3018</span>
<span class="normal">3019</span>
<span class="normal">3020</span>
<span class="normal">3021</span>
<span class="normal">3022</span>
<span class="normal">3023</span>
<span class="normal">3024</span>
<span class="normal">3025</span>
<span class="normal">3026</span>
<span class="normal">3027</span>
<span class="normal">3028</span>
<span class="normal">3029</span>
<span class="normal">3030</span>
<span class="normal">3031</span>
<span class="normal">3032</span>
<span class="normal">3033</span>
<span class="normal">3034</span>
<span class="normal">3035</span>
<span class="normal">3036</span>
<span class="normal">3037</span>
<span class="normal">3038</span>
<span class="normal">3039</span>
<span class="normal">3040</span>
<span class="normal">3041</span>
<span class="normal">3042</span>
<span class="normal">3043</span>
<span class="normal">3044</span>
<span class="normal">3045</span>
<span class="normal">3046</span>
<span class="normal">3047</span>
<span class="normal">3048</span>
<span class="normal">3049</span>
<span class="normal">3050</span>
<span class="normal">3051</span>
<span class="normal">3052</span>
<span class="normal">3053</span>
<span class="normal">3054</span>
<span class="normal">3055</span>
<span class="normal">3056</span>
<span class="normal">3057</span>
<span class="normal">3058</span>
<span class="normal">3059</span>
<span class="normal">3060</span>
<span class="normal">3061</span>
<span class="normal">3062</span>
<span class="normal">3063</span>
<span class="normal">3064</span>
<span class="normal">3065</span>
<span class="normal">3066</span>
<span class="normal">3067</span>
<span class="normal">3068</span>
<span class="normal">3069</span>
<span class="normal">3070</span>
<span class="normal">3071</span>
<span class="normal">3072</span>
<span class="normal">3073</span>
<span class="normal">3074</span>
<span class="normal">3075</span>
<span class="normal">3076</span>
<span class="normal">3077</span>
<span class="normal">3078</span>
<span class="normal">3079</span>
<span class="normal">3080</span>
<span class="normal">3081</span>
<span class="normal">3082</span>
<span class="normal">3083</span>
<span class="normal">3084</span>
<span class="normal">3085</span>
<span class="normal">3086</span>
<span class="normal">3087</span>
<span class="normal">3088</span>
<span class="normal">3089</span>
<span class="normal">3090</span>
<span class="normal">3091</span>
<span class="normal">3092</span>
<span class="normal">3093</span>
<span class="normal">3094</span>
<span class="normal">3095</span>
<span class="normal">3096</span>
<span class="normal">3097</span>
<span class="normal">3098</span>
<span class="normal">3099</span>
<span class="normal">3100</span>
<span class="normal">3101</span>
<span class="normal">3102</span>
<span class="normal">3103</span>
<span class="normal">3104</span>
<span class="normal">3105</span>
<span class="normal">3106</span>
<span class="normal">3107</span>
<span class="normal">3108</span>
<span class="normal">3109</span>
<span class="normal">3110</span>
<span class="normal">3111</span>
<span class="normal">3112</span>
<span class="normal">3113</span>
<span class="normal">3114</span>
<span class="normal">3115</span>
<span class="normal">3116</span>
<span class="normal">3117</span>
<span class="normal">3118</span>
<span class="normal">3119</span>
<span class="normal">3120</span>
<span class="normal">3121</span>
<span class="normal">3122</span>
<span class="normal">3123</span>
<span class="normal">3124</span>
<span class="normal">3125</span>
<span class="normal">3126</span>
<span class="normal">3127</span>
<span class="normal">3128</span>
<span class="normal">3129</span>
<span class="normal">3130</span>
<span class="normal">3131</span>
<span class="normal">3132</span>
<span class="normal">3133</span>
<span class="normal">3134</span>
<span class="normal">3135</span>
<span class="normal">3136</span>
<span class="normal">3137</span>
<span class="normal">3138</span>
<span class="normal">3139</span>
<span class="normal">3140</span>
<span class="normal">3141</span>
<span class="normal">3142</span>
<span class="normal">3143</span>
<span class="normal">3144</span>
<span class="normal">3145</span>
<span class="normal">3146</span>
<span class="normal">3147</span>
<span class="normal">3148</span>
<span class="normal">3149</span>
<span class="normal">3150</span>
<span class="normal">3151</span>
<span class="normal">3152</span>
<span class="normal">3153</span>
<span class="normal">3154</span>
<span class="normal">3155</span>
<span class="normal">3156</span>
<span class="normal">3157</span>
<span class="normal">3158</span>
<span class="normal">3159</span>
<span class="normal">3160</span>
<span class="normal">3161</span>
<span class="normal">3162</span>
<span class="normal">3163</span>
<span class="normal">3164</span>
<span class="normal">3165</span>
<span class="normal">3166</span>
<span class="normal">3167</span>
<span class="normal">3168</span>
<span class="normal">3169</span>
<span class="normal">3170</span>
<span class="normal">3171</span>
<span class="normal">3172</span>
<span class="normal">3173</span>
<span class="normal">3174</span>
<span class="normal">3175</span>
<span class="normal">3176</span>
<span class="normal">3177</span>
<span class="normal">3178</span>
<span class="normal">3179</span>
<span class="normal">3180</span>
<span class="normal">3181</span>
<span class="normal">3182</span>
<span class="normal">3183</span>
<span class="normal">3184</span>
<span class="normal">3185</span>
<span class="normal">3186</span>
<span class="normal">3187</span>
<span class="normal">3188</span>
<span class="normal">3189</span>
<span class="normal">3190</span>
<span class="normal">3191</span>
<span class="normal">3192</span>
<span class="normal">3193</span>
<span class="normal">3194</span>
<span class="normal">3195</span>
<span class="normal">3196</span>
<span class="normal">3197</span>
<span class="normal">3198</span>
<span class="normal">3199</span>
<span class="normal">3200</span>
<span class="normal">3201</span>
<span class="normal">3202</span>
<span class="normal">3203</span>
<span class="normal">3204</span>
<span class="normal">3205</span>
<span class="normal">3206</span>
<span class="normal">3207</span>
<span class="normal">3208</span>
<span class="normal">3209</span>
<span class="normal">3210</span>
<span class="normal">3211</span>
<span class="normal">3212</span>
<span class="normal">3213</span>
<span class="normal">3214</span>
<span class="normal">3215</span>
<span class="normal">3216</span>
<span class="normal">3217</span>
<span class="normal">3218</span>
<span class="normal">3219</span>
<span class="normal">3220</span>
<span class="normal">3221</span>
<span class="normal">3222</span>
<span class="normal">3223</span>
<span class="normal">3224</span>
<span class="normal">3225</span>
<span class="normal">3226</span>
<span class="normal">3227</span>
<span class="normal">3228</span>
<span class="normal">3229</span>
<span class="normal">3230</span>
<span class="normal">3231</span>
<span class="normal">3232</span>
<span class="normal">3233</span>
<span class="normal">3234</span>
<span class="normal">3235</span>
<span class="normal">3236</span>
<span class="normal">3237</span>
<span class="normal">3238</span>
<span class="normal">3239</span>
<span class="normal">3240</span>
<span class="normal">3241</span>
<span class="normal">3242</span>
<span class="normal">3243</span>
<span class="normal">3244</span>
<span class="normal">3245</span>
<span class="normal">3246</span>
<span class="normal">3247</span>
<span class="normal">3248</span>
<span class="normal">3249</span>
<span class="normal">3250</span>
<span class="normal">3251</span>
<span class="normal">3252</span>
<span class="normal">3253</span>
<span class="normal">3254</span>
<span class="normal">3255</span>
<span class="normal">3256</span>
<span class="normal">3257</span>
<span class="normal">3258</span>
<span class="normal">3259</span>
<span class="normal">3260</span>
<span class="normal">3261</span>
<span class="normal">3262</span>
<span class="normal">3263</span>
<span class="normal">3264</span>
<span class="normal">3265</span>
<span class="normal">3266</span>
<span class="normal">3267</span>
<span class="normal">3268</span>
<span class="normal">3269</span>
<span class="normal">3270</span>
<span class="normal">3271</span>
<span class="normal">3272</span>
<span class="normal">3273</span>
<span class="normal">3274</span>
<span class="normal">3275</span>
<span class="normal">3276</span>
<span class="normal">3277</span>
<span class="normal">3278</span>
<span class="normal">3279</span>
<span class="normal">3280</span>
<span class="normal">3281</span>
<span class="normal">3282</span>
<span class="normal">3283</span>
<span class="normal">3284</span>
<span class="normal">3285</span>
<span class="normal">3286</span>
<span class="normal">3287</span>
<span class="normal">3288</span>
<span class="normal">3289</span>
<span class="normal">3290</span>
<span class="normal">3291</span>
<span class="normal">3292</span>
<span class="normal">3293</span>
<span class="normal">3294</span>
<span class="normal">3295</span>
<span class="normal">3296</span>
<span class="normal">3297</span>
<span class="normal">3298</span>
<span class="normal">3299</span>
<span class="normal">3300</span>
<span class="normal">3301</span>
<span class="normal">3302</span>
<span class="normal">3303</span>
<span class="normal">3304</span>
<span class="normal">3305</span>
<span class="normal">3306</span>
<span class="normal">3307</span>
<span class="normal">3308</span>
<span class="normal">3309</span>
<span class="normal">3310</span>
<span class="normal">3311</span>
<span class="normal">3312</span>
<span class="normal">3313</span>
<span class="normal">3314</span>
<span class="normal">3315</span>
<span class="normal">3316</span>
<span class="normal">3317</span>
<span class="normal">3318</span>
<span class="normal">3319</span>
<span class="normal">3320</span>
<span class="normal">3321</span>
<span class="normal">3322</span>
<span class="normal">3323</span>
<span class="normal">3324</span>
<span class="normal">3325</span>
<span class="normal">3326</span>
<span class="normal">3327</span>
<span class="normal">3328</span>
<span class="normal">3329</span>
<span class="normal">3330</span>
<span class="normal">3331</span>
<span class="normal">3332</span>
<span class="normal">3333</span>
<span class="normal">3334</span>
<span class="normal">3335</span>
<span class="normal">3336</span>
<span class="normal">3337</span>
<span class="normal">3338</span>
<span class="normal">3339</span>
<span class="normal">3340</span>
<span class="normal">3341</span>
<span class="normal">3342</span>
<span class="normal">3343</span>
<span class="normal">3344</span>
<span class="normal">3345</span>
<span class="normal">3346</span>
<span class="normal">3347</span>
<span class="normal">3348</span>
<span class="normal">3349</span>
<span class="normal">3350</span>
<span class="normal">3351</span>
<span class="normal">3352</span>
<span class="normal">3353</span>
<span class="normal">3354</span>
<span class="normal">3355</span>
<span class="normal">3356</span>
<span class="normal">3357</span>
<span class="normal">3358</span>
<span class="normal">3359</span>
<span class="normal">3360</span>
<span class="normal">3361</span>
<span class="normal">3362</span>
<span class="normal">3363</span>
<span class="normal">3364</span>
<span class="normal">3365</span>
<span class="normal">3366</span>
<span class="normal">3367</span>
<span class="normal">3368</span>
<span class="normal">3369</span>
<span class="normal">3370</span>
<span class="normal">3371</span>
<span class="normal">3372</span>
<span class="normal">3373</span>
<span class="normal">3374</span>
<span class="normal">3375</span>
<span class="normal">3376</span>
<span class="normal">3377</span>
<span class="normal">3378</span>
<span class="normal">3379</span>
<span class="normal">3380</span>
<span class="normal">3381</span>
<span class="normal">3382</span>
<span class="normal">3383</span>
<span class="normal">3384</span>
<span class="normal">3385</span>
<span class="normal">3386</span>
<span class="normal">3387</span>
<span class="normal">3388</span>
<span class="normal">3389</span>
<span class="normal">3390</span>
<span class="normal">3391</span>
<span class="normal">3392</span>
<span class="normal">3393</span>
<span class="normal">3394</span>
<span class="normal">3395</span>
<span class="normal">3396</span>
<span class="normal">3397</span>
<span class="normal">3398</span>
<span class="normal">3399</span>
<span class="normal">3400</span>
<span class="normal">3401</span>
<span class="normal">3402</span>
<span class="normal">3403</span>
<span class="normal">3404</span>
<span class="normal">3405</span>
<span class="normal">3406</span>
<span class="normal">3407</span>
<span class="normal">3408</span>
<span class="normal">3409</span>
<span class="normal">3410</span>
<span class="normal">3411</span>
<span class="normal">3412</span>
<span class="normal">3413</span>
<span class="normal">3414</span>
<span class="normal">3415</span>
<span class="normal">3416</span>
<span class="normal">3417</span>
<span class="normal">3418</span>
<span class="normal">3419</span>
<span class="normal">3420</span>
<span class="normal">3421</span>
<span class="normal">3422</span>
<span class="normal">3423</span>
<span class="normal">3424</span>
<span class="normal">3425</span>
<span class="normal">3426</span>
<span class="normal">3427</span>
<span class="normal">3428</span>
<span class="normal">3429</span>
<span class="normal">3430</span>
<span class="normal">3431</span>
<span class="normal">3432</span>
<span class="normal">3433</span>
<span class="normal">3434</span>
<span class="normal">3435</span>
<span class="normal">3436</span>
<span class="normal">3437</span>
<span class="normal">3438</span>
<span class="normal">3439</span>
<span class="normal">3440</span>
<span class="normal">3441</span>
<span class="normal">3442</span>
<span class="normal">3443</span>
<span class="normal">3444</span>
<span class="normal">3445</span>
<span class="normal">3446</span>
<span class="normal">3447</span>
<span class="normal">3448</span>
<span class="normal">3449</span>
<span class="normal">3450</span>
<span class="normal">3451</span>
<span class="normal">3452</span>
<span class="normal">3453</span>
<span class="normal">3454</span>
<span class="normal">3455</span>
<span class="normal">3456</span>
<span class="normal">3457</span>
<span class="normal">3458</span>
<span class="normal">3459</span>
<span class="normal">3460</span>
<span class="normal">3461</span>
<span class="normal">3462</span>
<span class="normal">3463</span>
<span class="normal">3464</span>
<span class="normal">3465</span>
<span class="normal">3466</span>
<span class="normal">3467</span>
<span class="normal">3468</span>
<span class="normal">3469</span>
<span class="normal">3470</span>
<span class="normal">3471</span>
<span class="normal">3472</span>
<span class="normal">3473</span>
<span class="normal">3474</span>
<span class="normal">3475</span>
<span class="normal">3476</span>
<span class="normal">3477</span>
<span class="normal">3478</span>
<span class="normal">3479</span>
<span class="normal">3480</span>
<span class="normal">3481</span>
<span class="normal">3482</span>
<span class="normal">3483</span>
<span class="normal">3484</span>
<span class="normal">3485</span>
<span class="normal">3486</span>
<span class="normal">3487</span>
<span class="normal">3488</span>
<span class="normal">3489</span>
<span class="normal">3490</span>
<span class="normal">3491</span>
<span class="normal">3492</span>
<span class="normal">3493</span>
<span class="normal">3494</span>
<span class="normal">3495</span>
<span class="normal">3496</span>
<span class="normal">3497</span>
<span class="normal">3498</span>
<span class="normal">3499</span>
<span class="normal">3500</span>
<span class="normal">3501</span>
<span class="normal">3502</span>
<span class="normal">3503</span>
<span class="normal">3504</span>
<span class="normal">3505</span>
<span class="normal">3506</span>
<span class="normal">3507</span>
<span class="normal">3508</span>
<span class="normal">3509</span>
<span class="normal">3510</span>
<span class="normal">3511</span>
<span class="normal">3512</span>
<span class="normal">3513</span>
<span class="normal">3514</span>
<span class="normal">3515</span>
<span class="normal">3516</span>
<span class="normal">3517</span>
<span class="normal">3518</span>
<span class="normal">3519</span>
<span class="normal">3520</span>
<span class="normal">3521</span>
<span class="normal">3522</span>
<span class="normal">3523</span>
<span class="normal">3524</span>
<span class="normal">3525</span>
<span class="normal">3526</span>
<span class="normal">3527</span>
<span class="normal">3528</span>
<span class="normal">3529</span>
<span class="normal">3530</span>
<span class="normal">3531</span>
<span class="normal">3532</span>
<span class="normal">3533</span>
<span class="normal">3534</span>
<span class="normal">3535</span>
<span class="normal">3536</span>
<span class="normal">3537</span>
<span class="normal">3538</span>
<span class="normal">3539</span>
<span class="normal">3540</span>
<span class="normal">3541</span>
<span class="normal">3542</span>
<span class="normal">3543</span>
<span class="normal">3544</span>
<span class="normal">3545</span>
<span class="normal">3546</span>
<span class="normal">3547</span>
<span class="normal">3548</span>
<span class="normal">3549</span>
<span class="normal">3550</span>
<span class="normal">3551</span>
<span class="normal">3552</span>
<span class="normal">3553</span>
<span class="normal">3554</span>
<span class="normal">3555</span>
<span class="normal">3556</span>
<span class="normal">3557</span>
<span class="normal">3558</span>
<span class="normal">3559</span>
<span class="normal">3560</span>
<span class="normal">3561</span>
<span class="normal">3562</span>
<span class="normal">3563</span>
<span class="normal">3564</span>
<span class="normal">3565</span>
<span class="normal">3566</span>
<span class="normal">3567</span>
<span class="normal">3568</span>
<span class="normal">3569</span>
<span class="normal">3570</span>
<span class="normal">3571</span>
<span class="normal">3572</span>
<span class="normal">3573</span>
<span class="normal">3574</span>
<span class="normal">3575</span>
<span class="normal">3576</span>
<span class="normal">3577</span>
<span class="normal">3578</span>
<span class="normal">3579</span>
<span class="normal">3580</span>
<span class="normal">3581</span>
<span class="normal">3582</span>
<span class="normal">3583</span>
<span class="normal">3584</span>
<span class="normal">3585</span>
<span class="normal">3586</span>
<span class="normal">3587</span>
<span class="normal">3588</span>
<span class="normal">3589</span>
<span class="normal">3590</span>
<span class="normal">3591</span>
<span class="normal">3592</span>
<span class="normal">3593</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BaseAPI</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Kiara base API.</span>

<span class="sd">    This class wraps a [Kiara][kiara.context.kiara.Kiara] instance, and allows easy a access to tasks that are</span>
<span class="sd">    typically done by a frontend. The return types of each method are json seriable in most cases.</span>

<span class="sd">    Can be extended for special scenarios and augmented with scenario-specific methdos (Jupyter, web-frontend, ...)</span>

<span class="sd">    The naming of the API endpoints follows a (loose-ish) convention:</span>
<span class="sd">    - list_*: return a list of ids or items, if items, filtering is supported</span>
<span class="sd">    - get_*: get specific instances of a type (operation, value, etc.)</span>
<span class="sd">    - retrieve_*: get augmented information about an instance or type of something. This usually implies that there is some overhead,</span>
<span class="sd">    so before you use this, make sure that there is not &#39;get_*&#39; or &#39;list_*&#39; endpoint that could give you what you need.</span>
<span class="sd">    .</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;KiaraConfig&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">kiara_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.context</span><span class="w"> </span><span class="kn">import</span> <span class="n">Kiara</span><span class="p">,</span> <span class="n">KiaraConfig</span>

            <span class="n">kiara_config</span> <span class="o">=</span> <span class="n">KiaraConfig</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="p">:</span> <span class="n">KiaraConfig</span> <span class="o">=</span> <span class="n">kiara_config</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_contexts</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Kiara</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workflow_cache</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Workflow</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_current_context</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Kiara</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">doc</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the documentation for this API.&quot;&quot;&quot;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">method_name</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">method_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">method</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="n">method_name</span><span class="p">)</span>
            <span class="n">doc</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getdoc</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">doc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">doc</span> <span class="o">=</span> <span class="s2">&quot;-- n/a --&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">doc</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>

            <span class="n">result</span><span class="p">[</span><span class="n">method_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">doc</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_available_plugin_names</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">regex</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;^kiara[-_]plugin</span><span class="se">\\</span><span class="s2">..*&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a list of all available plugins.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            regex: an optional regex to indicate the plugin naming scheme (default: /$kiara[_-]plugin\..*/)</span>

<span class="sd">        Returns:</span>
<span class="sd">            a list of plugin names</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">regex</span><span class="p">:</span>
            <span class="n">regex</span> <span class="o">=</span> <span class="s2">&quot;^kiara[-_]plugin</span><span class="se">\\</span><span class="s2">..*&quot;</span>

        <span class="k">return</span> <span class="n">KiaraPluginInfos</span><span class="o">.</span><span class="n">get_available_plugin_names</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="n">regex</span>
        <span class="p">)</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_plugin_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraPluginInfo</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get information about a plugin.</span>

<span class="sd">        This contains information about included data-types, modules, operations, pipelines, as well as metadata</span>
<span class="sd">        about author(s), etc.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            plugin_name: the name of the plugin</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dictionary with information about the plugin</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">info</span> <span class="o">=</span> <span class="n">KiaraPluginInfo</span><span class="o">.</span><span class="n">create_from_instance</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">plugin_name</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">info</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_plugin_infos</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">plugin_name_regex</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;^kiara[-_]plugin</span><span class="se">\\</span><span class="s2">..*&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraPluginInfos</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get information about multiple plugins.</span>

<span class="sd">        This is just a convenience method to get information about multiple plugins at once.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">plugin_name_regex</span><span class="p">:</span>
            <span class="n">plugin_name_regex</span> <span class="o">=</span> <span class="s2">&quot;^kiara[-_]plugin</span><span class="se">\\</span><span class="s2">..*&quot;</span>

        <span class="n">plugin_infos</span> <span class="o">=</span> <span class="n">KiaraPluginInfos</span><span class="o">.</span><span class="n">create_group</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">plugin_name_regex</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">plugin_infos</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">context</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the kiara context.</span>

<span class="sd">        DON&quot;T USE THIS! This is going away in the production release.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_context</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="o">.</span><span class="n">create_context</span><span class="p">(</span>
                <span class="n">extra_pipelines</span><span class="o">=</span><span class="kc">None</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="o">.</span><span class="n">default_context</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_context</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_runtime_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraRuntimeConfig&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the current runtime configuration.</span>

<span class="sd">        Check the &#39;KiaraRuntimeConfig&#39; class for more information about the available options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">runtime_config</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_context_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextInfo</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve information about the current kiara context.</span>

<span class="sd">        This contains information about the context, like its name/alias, the values &amp; aliases it contains, and which archives are connected to it.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">context_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="o">.</span><span class="n">get_context_config</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_current_context_name</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">ContextInfo</span><span class="o">.</span><span class="n">create_from_context_config</span><span class="p">(</span>
            <span class="n">context_config</span><span class="p">,</span>
            <span class="n">context_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_current_context_name</span><span class="p">(),</span>
            <span class="n">runtime_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="o">.</span><span class="n">runtime_config</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">info</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">ensure_plugin_packages</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">package_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">update</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Ensure that the specified packages are installed.</span>


<span class="sd">        NOTE: this is not tested, and it might go away in the future, so don&#39;t rely on it being available long-term. Ideally, we&#39;ll have other, external ways to manage the environment.</span>

<span class="sd">        Arguments:</span>
<span class="sd">          package_names: The names of the packages to install.</span>
<span class="sd">          update: If True, update the packages if they are already installed</span>

<span class="sd">        Returns:</span>
<span class="sd">            &#39;None&#39; if run in jupyter, &#39;True&#39; if any packages were installed, &#39;False&#39; otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">package_names</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">package_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">package_names</span><span class="p">]</span>

        <span class="n">env_reg</span> <span class="o">=</span> <span class="n">EnvironmentRegistry</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span>
        <span class="n">python_env</span><span class="p">:</span> <span class="n">PythonRuntimeEnvironment</span> <span class="o">=</span> <span class="n">env_reg</span><span class="o">.</span><span class="n">environments</span><span class="p">[</span>  <span class="c1"># type: ignore</span>
            <span class="s2">&quot;python&quot;</span>
        <span class="p">]</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">package_names</span><span class="p">:</span>
            <span class="n">package_names</span> <span class="o">=</span> <span class="n">OFFICIAL_KIARA_PLUGINS</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">update</span><span class="p">:</span>
            <span class="n">plugin_packages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">pkgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">python_env</span><span class="o">.</span><span class="n">packages</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">package_name</span> <span class="ow">in</span> <span class="n">package_names</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">package_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;git:&quot;</span><span class="p">):</span>
                    <span class="n">package_name</span> <span class="o">=</span> <span class="n">package_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;git:&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                    <span class="n">git</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">git</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">package_name</span> <span class="o">=</span> <span class="n">package_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">package_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;kiara-plugin.&quot;</span><span class="p">):</span>
                    <span class="n">package_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;kiara-plugin.</span><span class="si">{</span><span class="n">package_name</span><span class="si">}</span><span class="s2">&quot;</span>

                <span class="k">if</span> <span class="n">git</span> <span class="ow">or</span> <span class="n">package_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pkgs</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">git</span><span class="p">:</span>
                        <span class="n">package_name</span> <span class="o">=</span> <span class="n">package_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>
                        <span class="n">plugin_packages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;git+https://x:x@github.com/DHARPA-project/</span><span class="si">{</span><span class="n">package_name</span><span class="si">}</span><span class="s2">@develop&quot;</span>
                        <span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">plugin_packages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">package_name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">plugin_packages</span> <span class="o">=</span> <span class="n">package_names</span>  <span class="c1"># type: ignore</span>

        <span class="n">in_jupyter</span> <span class="o">=</span> <span class="s2">&quot;google.colab&quot;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span> <span class="ow">or</span> <span class="s2">&quot;jupyter_client&quot;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">plugin_packages</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">in_jupyter</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># nothing to do</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">class</span><span class="w"> </span><span class="nc">DummyContext</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
            <span class="k">def</span><span class="w"> </span><span class="fm">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="s2">&quot;Currently installing plugins, no other operations are allowed.&quot;</span>
                <span class="p">)</span>

        <span class="n">current_context_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_contexts</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_contexts</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">DummyContext</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_context</span> <span class="o">=</span> <span class="n">DummyContext</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

        <span class="n">cmd</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;-q&quot;</span><span class="p">,</span> <span class="s2">&quot;--isolated&quot;</span><span class="p">,</span> <span class="s2">&quot;install&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">update</span><span class="p">:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--upgrade&quot;</span><span class="p">)</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">plugin_packages</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">in_jupyter</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">IPython</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_ipython</span>

            <span class="n">ipython</span> <span class="o">=</span> <span class="n">get_ipython</span><span class="p">()</span>
            <span class="n">cmd_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;sc -l stdout = </span><span class="si">{</span><span class="n">sys</span><span class="o">.</span><span class="n">executable</span><span class="si">}</span><span class="s2"> -m pip </span><span class="si">{</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">ipython</span><span class="o">.</span><span class="n">magic</span><span class="p">(</span><span class="n">cmd_str</span><span class="p">)</span>
            <span class="n">exit_code</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="kn">import</span><span class="w"> </span><span class="nn">pip._internal.cli.main</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pip</span>

            <span class="n">log_message</span><span class="p">(</span>
                <span class="s2">&quot;install.python_packages&quot;</span><span class="p">,</span> <span class="n">packages</span><span class="o">=</span><span class="n">plugin_packages</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="n">update</span>
            <span class="p">)</span>
            <span class="n">exit_code</span> <span class="o">=</span> <span class="n">pip</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_contexts</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_context</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">EnvironmentRegistry</span><span class="o">.</span><span class="n">_instance</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">current_context_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_active_context</span><span class="p">(</span><span class="n">context_name</span><span class="o">=</span><span class="n">current_context_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">exit_code</span> <span class="o">==</span> <span class="mi">100</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">SystemExit</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Please manually re-run all cells. Updated or newly installed plugin packages: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">plugin_packages</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">exit_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed to install plugin packages: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">plugin_packages</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="kc">True</span>

    <span class="c1"># ==================================================================================================================</span>
    <span class="c1"># context-management related functions</span>
    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_context_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;list the names of all available/registered contexts.</span>

<span class="sd">        NOTE: this functionality might be changed in the future, depending on requirements and feedback and</span>
<span class="sd">        whether we want to support single-file contexts in the future.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="o">.</span><span class="n">available_context_names</span><span class="p">)</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_context_infos</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextInfos</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve information about the available/registered contexts.</span>

<span class="sd">        NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ContextInfos</span><span class="o">.</span><span class="n">create_context_infos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="o">.</span><span class="n">context_configs</span><span class="p">)</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_current_context_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the name of the current context.</span>

<span class="sd">        NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_new_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">set_active</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new context.</span>

<span class="sd">        NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future. So if you need something like this, please let me know.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            context_name: the name of the new context</span>
<span class="sd">            set_active: set the newly created context as the active one</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">context_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_context_names</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t create context with name &#39;</span><span class="si">{</span><span class="n">context_name</span><span class="si">}</span><span class="s2">&#39;: context already exists.&quot;</span>
            <span class="p">)</span>

        <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="o">.</span><span class="n">create_context</span><span class="p">(</span><span class="n">context_name</span><span class="p">,</span> <span class="n">extra_pipelines</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">set_active</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_context</span> <span class="o">=</span> <span class="n">ctx</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span> <span class="o">=</span> <span class="n">context_name</span>

        <span class="c1"># return ctx</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">set_active_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">create</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the currently active context for this KiarAPI instance.</span>

<span class="sd">        NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">context_name</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No context name provided.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">context_name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">context_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_context_names</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">create</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_current_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="o">.</span><span class="n">create_context</span><span class="p">(</span>
                    <span class="n">context</span><span class="o">=</span><span class="n">context_name</span><span class="p">,</span> <span class="n">extra_pipelines</span><span class="o">=</span><span class="kc">None</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span> <span class="o">=</span> <span class="n">context_name</span>
                <span class="k">return</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No context with name &#39;</span><span class="si">{</span><span class="n">context_name</span><span class="si">}</span><span class="s2">&#39; available.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_current_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="o">.</span><span class="n">create_context</span><span class="p">(</span>
            <span class="n">context</span><span class="o">=</span><span class="n">context_name</span><span class="p">,</span> <span class="n">extra_pipelines</span><span class="o">=</span><span class="kc">None</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span> <span class="o">=</span> <span class="n">context_name</span>

    <span class="c1"># ==================================================================================================================</span>
    <span class="c1"># methods for data_types</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_data_type_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_profiles</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of all registered data types.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            include_profiles: if True, also include the names of all registered data type profiles</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">get_data_type_names</span><span class="p">(</span>
            <span class="n">include_profiles</span><span class="o">=</span><span class="n">include_profiles</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_internal_data_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if the data type is prepdominantly used internally by kiara, or whether it should be exposed to the user.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">is_internal_type</span><span class="p">(</span>
            <span class="n">data_type_name</span><span class="o">=</span><span class="n">data_type_name</span>
        <span class="p">)</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_data_types_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">include_data_type_profiles</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">python_package</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataTypeClassesInfo</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve information about all data types.</span>

<span class="sd">        A data type is a Python class that inherits from [DataType[kiara.data_types.DataType], and it wraps a specific</span>
<span class="sd">        Python class that holds the actual data and provides metadata and convenience methods for managing the data internally. Data types are not directly used by users, but they are exposed in the input/output schemas of moudles and other data-related features.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            filter: an optional string or (list of strings) the returned datatype ids have to match (all filters in the case of a list)</span>
<span class="sd">            include_data_type_profiles: if True, also include the names of all registered data type profiles</span>
<span class="sd">            python_package: if provided, only return data types that are defined in the given python package</span>

<span class="sd">        Returns:</span>
<span class="sd">            an object containing all information about all data types</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">kiara</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span>

        <span class="k">if</span> <span class="n">python_package</span><span class="p">:</span>
            <span class="n">data_type_info</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">get_context_metadata</span><span class="p">(</span>
                <span class="n">only_for_package</span><span class="o">=</span><span class="n">python_package</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="nb">filter</span><span class="p">:</span>
                <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Filtered data types in package &#39;</span><span class="si">{</span><span class="n">python_package</span><span class="si">}</span><span class="s2">&#39;&quot;</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="nb">filter</span> <span class="o">=</span> <span class="p">[</span><span class="nb">filter</span><span class="p">]</span>

                <span class="n">filtered_types</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DataTypeClassInfo</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

                <span class="k">for</span> <span class="n">dt</span> <span class="ow">in</span> <span class="n">data_type_info</span><span class="o">.</span><span class="n">item_infos</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dt</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                            <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
                            <span class="k">break</span>
                    <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                        <span class="n">filtered_types</span><span class="p">[</span><span class="n">dt</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_type_info</span><span class="o">.</span><span class="n">item_infos</span><span class="p">[</span><span class="n">dt</span><span class="p">]</span>

                <span class="n">data_types_info</span> <span class="o">=</span> <span class="n">DataTypeClassesInfo</span><span class="p">(</span>
                    <span class="n">group_title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">item_infos</span><span class="o">=</span><span class="n">filtered_types</span>
                <span class="p">)</span>
                <span class="c1"># data_types_info._kiara = kiara</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;All data types in package &#39;</span><span class="si">{</span><span class="n">python_package</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
                <span class="n">data_types_info</span> <span class="o">=</span> <span class="n">data_type_info</span>
                <span class="n">data_types_info</span><span class="o">.</span><span class="n">group_title</span> <span class="o">=</span> <span class="n">title</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">filter</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="nb">filter</span> <span class="o">=</span> <span class="p">[</span><span class="nb">filter</span><span class="p">]</span>

                <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Filtered data_types: </span><span class="si">{</span><span class="nb">filter</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">data_type_names</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

                <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">get_data_type_names</span><span class="p">(</span>
                    <span class="n">include_profiles</span><span class="o">=</span><span class="n">include_data_type_profiles</span>
                <span class="p">):</span>
                    <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                            <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
                            <span class="k">break</span>

                    <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                        <span class="n">data_type_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;All data types&quot;</span>
                <span class="n">data_type_names</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">get_data_type_names</span><span class="p">(</span>
                    <span class="n">include_profiles</span><span class="o">=</span><span class="n">include_data_type_profiles</span>
                <span class="p">)</span>

            <span class="n">data_types</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">d</span><span class="p">:</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">get_data_type_cls</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data_type_names</span>
            <span class="p">}</span>
            <span class="n">data_types_info</span> <span class="o">=</span> <span class="n">DataTypeClassesInfo</span><span class="o">.</span><span class="n">create_from_type_items</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
                <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">group_title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="o">**</span><span class="n">data_types</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">data_types_info</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_data_type_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataTypeClassInfo</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve information about a specific data type.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data_type: the registered name of the data type</span>

<span class="sd">        Returns:</span>
<span class="sd">            an object containing all information about a data type</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dt_cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">get_data_type_cls</span><span class="p">(</span><span class="n">data_type_name</span><span class="p">)</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">DataTypeClassInfo</span><span class="o">.</span><span class="n">create_from_type_class</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">type_cls</span><span class="o">=</span><span class="n">dt_cls</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">info</span>

    <span class="c1"># ==================================================================================================================</span>
    <span class="c1"># methods for module and operations info</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_module_type_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of all registered module types.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">module_registry</span><span class="o">.</span><span class="n">get_module_type_names</span><span class="p">())</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_module_types_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">python_package</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModuleTypesInfo</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve information for all available module types (or a filtered subset thereof).</span>

<span class="sd">        A module type is Python class that inherits from [KiaraModule][kiara.modules.KiaraModule], and is the basic</span>
<span class="sd">        building block for processing pipelines. Module types are not used directly by users, Operations are. Operations</span>
<span class="sd">         are instantiated modules (meaning: the module &amp; some (optional) configuration).</span>

<span class="sd">        Arguments:</span>
<span class="sd">            filter: an optional string (or list of string) the returned module names have to match (all filters in case of list)</span>
<span class="sd">            python_package: an optional string, if provided, only modules from the specified python package are returned</span>

<span class="sd">        Returns:</span>
<span class="sd">            a mapping object containing module names as keys, and information about the modules as values</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">python_package</span><span class="p">:</span>
            <span class="n">modules_type_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">module_registry</span><span class="o">.</span><span class="n">get_context_metadata</span><span class="p">(</span>
                <span class="n">only_for_package</span><span class="o">=</span><span class="n">python_package</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="nb">filter</span><span class="p">:</span>
                <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Filtered modules: </span><span class="si">{</span><span class="nb">filter</span><span class="si">}</span><span class="s2"> (in package &#39;</span><span class="si">{</span><span class="n">python_package</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="nb">filter</span> <span class="o">=</span> <span class="p">[</span><span class="nb">filter</span><span class="p">]</span>

                <span class="n">filtered_types</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ModuleTypeInfo</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

                <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">modules_type_info</span><span class="o">.</span><span class="n">item_infos</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                            <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
                            <span class="k">break</span>

                    <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                        <span class="n">filtered_types</span><span class="p">[</span><span class="n">m</span><span class="p">]</span> <span class="o">=</span> <span class="n">modules_type_info</span><span class="o">.</span><span class="n">item_infos</span><span class="p">[</span><span class="n">m</span><span class="p">]</span>

                <span class="n">module_types_info</span> <span class="o">=</span> <span class="n">ModuleTypesInfo</span><span class="p">(</span>
                    <span class="n">group_title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">item_infos</span><span class="o">=</span><span class="n">filtered_types</span>
                <span class="p">)</span>
                <span class="n">module_types_info</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;All modules in package &#39;</span><span class="si">{</span><span class="n">python_package</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
                <span class="n">module_types_info</span> <span class="o">=</span> <span class="n">modules_type_info</span>
                <span class="n">module_types_info</span><span class="o">.</span><span class="n">group_title</span> <span class="o">=</span> <span class="n">title</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">filter</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="nb">filter</span> <span class="o">=</span> <span class="p">[</span><span class="nb">filter</span><span class="p">]</span>
                <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Filtered modules: </span><span class="si">{</span><span class="nb">filter</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">module_types_names</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

                <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">module_registry</span><span class="o">.</span><span class="n">get_module_type_names</span><span class="p">():</span>
                    <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                            <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
                            <span class="k">break</span>

                    <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                        <span class="n">module_types_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;All modules&quot;</span>
                <span class="n">module_types_names</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">module_registry</span><span class="o">.</span><span class="n">get_module_type_names</span><span class="p">()</span>
                <span class="p">)</span>

            <span class="n">module_types</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">n</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">module_registry</span><span class="o">.</span><span class="n">get_module_class</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">module_types_names</span>
            <span class="p">}</span>

            <span class="n">module_types_info</span> <span class="o">=</span> <span class="n">ModuleTypesInfo</span><span class="o">.</span><span class="n">create_from_type_items</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
                <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">group_title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="o">**</span><span class="n">module_types</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">module_types_info</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_module_type_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModuleTypeInfo</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve information about a specific module type.</span>

<span class="sd">        This can be used to retrieve information like module documentation and configuration options.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            module_type: the registered name of the module</span>

<span class="sd">        Returns:</span>
<span class="sd">            an object containing all information about a module type</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">m_cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">module_registry</span><span class="o">.</span><span class="n">get_module_class</span><span class="p">(</span><span class="n">module_type</span><span class="p">)</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">ModuleTypeInfo</span><span class="o">.</span><span class="n">create_from_type_class</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">type_cls</span><span class="o">=</span><span class="n">m_cls</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">info</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_operation</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">module_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Operation</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an [Operation][kiara.models.module.operation.Operation] instance for the specified module type and (optional) config.</span>

<span class="sd">        An operation is defined as a specific module type, and a specific configuration.</span>

<span class="sd">        This endpoint can be used to get information about the operation itself, it&#39;s inputs &amp; outputs schemas, documentation etc.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            module_type: the registered name of the module</span>
<span class="sd">            module_config: (Optional) configuration for the module instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            an Operation instance (which contains all the available information about an instantiated module)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">module_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">module_config</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_config</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">module_config</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">module_config</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">module_config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">module_config</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Can&#39;t parse module config string: </span><span class="si">{</span><span class="n">module_config</span><span class="si">}</span><span class="s2">.&quot;</span>
                    <span class="p">)</span>

        <span class="k">if</span> <span class="n">module_type</span> <span class="o">==</span> <span class="s2">&quot;pipeline&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">module_config</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Pipeline configuration can&#39;t be empty.&quot;</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">module_config</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_config</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">)</span>
            <span class="n">operation</span> <span class="o">=</span> <span class="n">create_operation</span><span class="p">(</span>
                <span class="s2">&quot;pipeline&quot;</span><span class="p">,</span> <span class="n">operation_config</span><span class="o">=</span><span class="n">module_config</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">operation</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">mc</span> <span class="o">=</span> <span class="n">Manifest</span><span class="p">(</span><span class="n">module_type</span><span class="o">=</span><span class="n">module_type</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">module_config</span><span class="p">)</span>
            <span class="n">module_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">module_registry</span><span class="o">.</span><span class="n">create_module</span><span class="p">(</span><span class="n">mc</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">module_obj</span><span class="o">.</span><span class="n">operation</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_operation_ids</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a list of all operation ids that match the specified filter.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            filter: the (optional) filter string(s), an operation must match all of them to be included in the result</span>
<span class="sd">            input_types: each operation must have at least one input that matches one of the specified types</span>
<span class="sd">            output_types: each operation must have at least one output that matches one of the specified types</span>
<span class="sd">            operation_types: only include operations of the specified type(s)</span>
<span class="sd">            include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">            python_packages: only include operations that are contained in one of the provided python packages</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">filter</span> <span class="ow">and</span> <span class="n">include_internal</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">python_packages</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operation_ids</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">list_operations</span><span class="p">(</span>
                    <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
                    <span class="n">input_types</span><span class="o">=</span><span class="n">input_types</span><span class="p">,</span>
                    <span class="n">output_types</span><span class="o">=</span><span class="n">output_types</span><span class="p">,</span>
                    <span class="n">operation_types</span><span class="o">=</span><span class="n">operation_types</span><span class="p">,</span>
                    <span class="n">include_internal</span><span class="o">=</span><span class="n">include_internal</span><span class="p">,</span>
                    <span class="n">python_packages</span><span class="o">=</span><span class="n">python_packages</span><span class="p">,</span>
                <span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="p">)</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_operation</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
        <span class="n">allow_external</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Operation</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the operation instance with the specified id.</span>

<span class="sd">        The difference to the &#39;create_operation&#39; endpoint is slight, in most cases you could use either of them, but this one is a bit more convenient in most cases, as it tries to do the right thing with whatever &#39;operation&#39; argument you use it. The &#39;create_opearation&#39; endpoint will always create a new &#39;Operation&#39; instance, while this may or may not return a re-used one.</span>

<span class="sd">        This endpoint can be used to get information about a specific operation, like inputs/outputs scheman, documentation, etc.</span>

<span class="sd">        The order in which the operation argument is resolved:</span>
<span class="sd">        - if it&#39;s a string, and an existing, registered operation_id, the associated operation is returned</span>
<span class="sd">        - if it&#39;s a path to an existing file, the content of the file is loaded into a dict and depending on the content a pipeline module will be created, or a &#39;normal&#39; manifest (if module_type is a key in the dict)</span>

<span class="sd">        Arguments:</span>
<span class="sd">            operation: the operation id, module_type_name, path to a file, or url</span>
<span class="sd">            allow_external: if True, allow loading operations from external sources (e.g. a URL), if &#39;None&#39; is provided, the configured value in the runtime configuration is used.</span>

<span class="sd">        Returns:</span>
<span class="sd">            operation instance data</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_module_type</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_module_config</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">allow_external</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">allow_external</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_runtime_config</span><span class="p">()</span><span class="o">.</span><span class="n">allow_external</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
            <span class="n">operation</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">)</span>
            <span class="ow">and</span> <span class="s2">&quot;module_type&quot;</span> <span class="ow">in</span> <span class="n">operation</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="ow">and</span> <span class="s2">&quot;module_config&quot;</span> <span class="ow">in</span> <span class="n">operation</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="n">operation</span><span class="p">[</span><span class="s2">&quot;module_config&quot;</span><span class="p">]</span>
        <span class="p">):</span>
            <span class="n">operation</span> <span class="o">=</span> <span class="n">operation</span><span class="p">[</span><span class="s2">&quot;module_type&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">operation</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_operation_ids</span><span class="p">(</span><span class="n">include_internal</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
                <span class="n">_operation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="n">operation</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">_operation</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">allow_external</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">NoSuchExecutionTargetException</span><span class="p">(</span>
                    <span class="n">selected_target</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span>
                    <span class="n">available_targets</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operation_ids</span><span class="p">,</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t find operation with id &#39;</span><span class="si">{</span><span class="n">operation</span><span class="si">}</span><span class="s2">&#39;, and external operations are not allowed.&quot;</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">operation</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.module.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">PipelineConfig</span>

                    <span class="c1"># we use the &#39;from_file&#39; here, because that will resolve any relative paths in the pipeline</span>
                    <span class="c1"># if this doesn&#39;t work, we just assume the file is not a pipeline configuration but</span>
                    <span class="c1"># a manifest file with &#39;module_type&#39; and optional &#39;module_config&#39; keys</span>
                    <span class="n">pipeline_conf</span> <span class="o">=</span> <span class="n">PipelineConfig</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span>
                        <span class="n">path</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span>
                    <span class="p">)</span>
                    <span class="n">_module_config</span> <span class="o">=</span> <span class="n">pipeline_conf</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">log_exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                    <span class="n">_module_config</span> <span class="o">=</span> <span class="n">get_data_from_file</span><span class="p">(</span><span class="n">operation</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">operation</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">):</span>
                <span class="n">_module_config</span> <span class="o">=</span> <span class="n">get_data_from_url</span><span class="p">(</span><span class="n">operation</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">_module_config</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">operation</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">_module_config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">operation</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
                    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Can&#39;t parse configuration string: </span><span class="si">{</span><span class="n">operation</span><span class="si">}</span><span class="s2">.&quot;</span>
                        <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_module_config</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">NoSuchExecutionTargetException</span><span class="p">(</span>
                    <span class="n">selected_target</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span>
                    <span class="n">available_targets</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operation_ids</span><span class="p">,</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t find operation or execution target for string &#39;</span><span class="si">{</span><span class="n">operation</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">_module_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">operation</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="s2">&quot;module_type&quot;</span> <span class="ow">in</span> <span class="n">_module_config</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">_module_type</span> <span class="o">=</span> <span class="n">_module_config</span><span class="p">[</span><span class="s2">&quot;module_type&quot;</span><span class="p">]</span>
            <span class="n">_module_config</span> <span class="o">=</span> <span class="n">_module_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;module_config&quot;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_module_type</span> <span class="o">=</span> <span class="s2">&quot;pipeline&quot;</span>

        <span class="n">op</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_operation</span><span class="p">(</span>
            <span class="n">module_type</span><span class="o">=</span><span class="n">_module_type</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">_module_config</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">op</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_operations</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;OperationsMap&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        List all available operations, optionally filter.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            filter: the (optional) filter string(s), an operation must match all of them to be included in the result</span>
<span class="sd">            input_types: each operation must have at least one input that matches one of the specified types</span>
<span class="sd">            output_types: each operation must have at least one output that matches one of the specified types</span>
<span class="sd">            operation_types: only include operations of the specified type(s)</span>
<span class="sd">            include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">            python_packages: only include operations that are contained in one of the provided python packages</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dictionary with the operation id as key, and [kiara.models.module.operation.Operation] instance data as value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">operation_types</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">operation_types</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">operation_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">operation_types</span><span class="p">]</span>
            <span class="n">temp</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">op_type_name</span> <span class="ow">in</span> <span class="n">operation_types</span><span class="p">:</span>
                <span class="n">op_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operation_types</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                    <span class="n">op_type_name</span><span class="p">,</span> <span class="kc">None</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">op_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Operation type not registered: </span><span class="si">{</span><span class="n">op_type_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="n">temp</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">op_type</span><span class="o">.</span><span class="n">operations</span><span class="p">)</span>

            <span class="n">operations</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">operations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operations</span>

        <span class="k">if</span> <span class="nb">filter</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="nb">filter</span> <span class="o">=</span> <span class="p">[</span><span class="nb">filter</span><span class="p">]</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">op_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">f</span><span class="p">:</span>
                        <span class="k">continue</span>
                    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">op_id</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                        <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
                        <span class="k">break</span>
                <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                    <span class="n">temp</span><span class="p">[</span><span class="n">op_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span>
            <span class="n">operations</span> <span class="o">=</span> <span class="n">temp</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">include_internal</span><span class="p">:</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">op_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">op</span><span class="o">.</span><span class="n">operation_details</span><span class="o">.</span><span class="n">is_internal_operation</span><span class="p">:</span>
                    <span class="n">temp</span><span class="p">[</span><span class="n">op_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span>

            <span class="n">operations</span> <span class="o">=</span> <span class="n">temp</span>

        <span class="k">if</span> <span class="n">input_types</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_types</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">input_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">input_types</span><span class="p">]</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">op_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">input_type</span> <span class="ow">in</span> <span class="n">input_types</span><span class="p">:</span>
                    <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">for</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">inputs_schema</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                        <span class="k">if</span> <span class="n">schema</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">input_type</span><span class="p">:</span>
                            <span class="n">temp</span><span class="p">[</span><span class="n">op_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span>
                            <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>
                            <span class="k">break</span>
                    <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                        <span class="k">break</span>

            <span class="n">operations</span> <span class="o">=</span> <span class="n">temp</span>

        <span class="k">if</span> <span class="n">output_types</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">output_types</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">output_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">output_types</span><span class="p">]</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">op_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">output_type</span> <span class="ow">in</span> <span class="n">output_types</span><span class="p">:</span>
                    <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">for</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">outputs_schema</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                        <span class="k">if</span> <span class="n">schema</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">output_type</span><span class="p">:</span>
                            <span class="n">temp</span><span class="p">[</span><span class="n">op_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span>
                            <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>
                            <span class="k">break</span>
                    <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                        <span class="k">break</span>

            <span class="n">operations</span> <span class="o">=</span> <span class="n">temp</span>

        <span class="k">if</span> <span class="n">python_packages</span><span class="p">:</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">python_packages</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">python_packages</span> <span class="o">=</span> <span class="p">[</span><span class="n">python_packages</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">op_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">info</span> <span class="o">=</span> <span class="n">OperationInfo</span><span class="o">.</span><span class="n">create_from_instance</span><span class="p">(</span>
                    <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">op</span>
                <span class="p">)</span>
                <span class="n">pkg</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">labels</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;package&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">pkg</span> <span class="ow">in</span> <span class="n">python_packages</span><span class="p">:</span>
                    <span class="n">temp</span><span class="p">[</span><span class="n">op_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span>
            <span class="n">operations</span> <span class="o">=</span> <span class="n">temp</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.models.doc</span><span class="w"> </span><span class="kn">import</span> <span class="n">OperationsMap</span>

        <span class="k">return</span> <span class="n">OperationsMap</span><span class="o">.</span><span class="n">model_construct</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="n">operations</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_operation_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">operation</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">allow_external</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationInfo</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the full information for the specified operation id.</span>

<span class="sd">        This is similar to the &#39;get_operation&#39; method, but returns additional information. Only use this instead of</span>
<span class="sd">        &#39;get_operation&#39; if you need the additional info, as it&#39;s more expensive to get.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            operation: the operation id</span>

<span class="sd">        Returns:</span>
<span class="sd">            augmented operation instance data</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">allow_external</span><span class="p">:</span>
            <span class="n">op</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="n">operation_id</span><span class="o">=</span><span class="n">operation</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">op</span> <span class="o">=</span> <span class="n">create_operation</span><span class="p">(</span><span class="n">module_or_operation</span><span class="o">=</span><span class="n">operation</span><span class="p">)</span>
        <span class="n">op_info</span> <span class="o">=</span> <span class="n">OperationInfo</span><span class="o">.</span><span class="n">create_from_operation</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">operation</span><span class="o">=</span><span class="n">op</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">op_info</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_operations_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="n">filters</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationGroupInfo</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve information about the matching operations.</span>

<span class="sd">        This retrieves the same list of operations as [list_operations][kiara.interfaces.python_api.KiaraAPI.list_operations],</span>
<span class="sd">        but augments each result instance with additional information that might be useful in frontends.</span>

<span class="sd">        &#39;OperationInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [Operation][kiara.models.module.operation.Operation] objects</span>
<span class="sd">        hold, but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">        of the augmented information, just use the [list_operations][kiara.interfaces.python_api.KiaraAPI.list_operations] method</span>
<span class="sd">        instead.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            filters: the (optional) filter strings, an operation must match all of them to be included in the result</span>
<span class="sd">            include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">            input_types: each operation must have at least one input that matches one of the specified types</span>
<span class="sd">            output_types: each operation must have at least one output that matches one of the specified types</span>
<span class="sd">            operation_types: only include operations of the specified type(s)</span>
<span class="sd">            include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">            python_packages: only include operations that are contained in one of the provided python packages</span>
<span class="sd">        Returns:</span>
<span class="sd">            a wrapper object containing a dictionary of items with value_id as key, and [kiara.interfaces.python_api.models.info.OperationInfo] as value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Available operations&quot;</span>
        <span class="k">if</span> <span class="n">filters</span><span class="p">:</span>
            <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Filtered operations&quot;</span>

        <span class="n">operations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_operations</span><span class="p">(</span>
            <span class="n">filters</span><span class="p">,</span>
            <span class="n">input_types</span><span class="o">=</span><span class="n">input_types</span><span class="p">,</span>
            <span class="n">output_types</span><span class="o">=</span><span class="n">output_types</span><span class="p">,</span>
            <span class="n">include_internal</span><span class="o">=</span><span class="n">include_internal</span><span class="p">,</span>
            <span class="n">operation_types</span><span class="o">=</span><span class="n">operation_types</span><span class="p">,</span>
            <span class="n">python_packages</span><span class="o">=</span><span class="n">python_packages</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">ops_info</span> <span class="o">=</span> <span class="n">OperationGroupInfo</span><span class="o">.</span><span class="n">create_from_operations</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">group_title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="o">**</span><span class="n">operations</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">ops_info</span>

    <span class="c1"># ==================================================================================================================</span>
    <span class="c1"># methods relating to pipelines</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_pipeline_ids</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a list of all pipeline (operation) ids that match the specified filter.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            filter: an optional single or list of filters (all filters must match the operation id for the operation to be included)</span>
<span class="sd">            include_internal: also return internal pipelines</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_operation_ids</span><span class="p">(</span>
            <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
            <span class="n">input_types</span><span class="o">=</span><span class="n">input_types</span><span class="p">,</span>
            <span class="n">output_types</span><span class="o">=</span><span class="n">output_types</span><span class="p">,</span>
            <span class="n">operation_types</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;pipeline&quot;</span><span class="p">],</span>
            <span class="n">include_internal</span><span class="o">=</span><span class="n">include_internal</span><span class="p">,</span>
            <span class="n">python_packages</span><span class="o">=</span><span class="n">python_packages</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_pipelines</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelinesMap&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available pipelines, optionally filter.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            filter: the (optional) filter string(s), an operation must match all of them to be included in the result</span>
<span class="sd">            input_types: each operation must have at least one input that matches one of the specified types</span>
<span class="sd">            output_types: each operation must have at least one output that matches one of the specified types</span>
<span class="sd">            operation_types: only include operations of the specified type(s)</span>
<span class="sd">            include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">            python_packages: only include operations that are contained in one of the provided python packages</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dictionary with the operation id as key, and [kiara.models.module.operation.Operation] instance data as value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.models.doc</span><span class="w"> </span><span class="kn">import</span> <span class="n">PipelinesMap</span>

        <span class="n">ops</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_operations</span><span class="p">(</span>
            <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
            <span class="n">input_types</span><span class="o">=</span><span class="n">input_types</span><span class="p">,</span>
            <span class="n">output_types</span><span class="o">=</span><span class="n">output_types</span><span class="p">,</span>
            <span class="n">operation_types</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;pipeline&quot;</span><span class="p">],</span>
            <span class="n">python_packages</span><span class="o">=</span><span class="n">python_packages</span><span class="p">,</span>
            <span class="n">include_internal</span><span class="o">=</span><span class="n">include_internal</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineStructure</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">ops</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">details</span><span class="p">:</span> <span class="n">PipelineOperationDetails</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">operation_details</span>
            <span class="n">config</span><span class="p">:</span> <span class="s2">&quot;PipelineConfig&quot;</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">pipeline_config</span>
            <span class="n">structure</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">structure</span>
            <span class="n">result</span><span class="p">[</span><span class="n">op</span><span class="o">.</span><span class="n">operation_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">structure</span>

        <span class="k">return</span> <span class="n">PipelinesMap</span><span class="o">.</span><span class="n">model_construct</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="n">result</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_pipeline_structure</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
        <span class="n">allow_external</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineStructure&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the pipeline (Structure) instance with the specified id.</span>

<span class="sd">        This can be used to get information about a pipeline, like inputs/outputs scheman, documentation, included steps, stages, etc.</span>

<span class="sd">        The order in which the operation argument is resolved:</span>
<span class="sd">        - if it&#39;s a string, and an existing, registered operation_id, the associated operation is returned</span>
<span class="sd">        - if it&#39;s a path to an existing file, the content of the file is loaded into a dict and a pipeline operation will be created</span>

<span class="sd">        Arguments:</span>
<span class="sd">            pipeline: the pipeline id, module_type_name, path to a file, or url</span>
<span class="sd">            allow_external: if True, allow loading operations from external sources (e.g. a URL), if &#39;None&#39; is provided, the configured value in the runtime configuration is used.</span>

<span class="sd">        Returns:</span>
<span class="sd">            pipeline structure data</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">op</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="n">operation</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">allow_external</span><span class="o">=</span><span class="n">allow_external</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">op</span><span class="o">.</span><span class="n">module_type</span> <span class="o">!=</span> <span class="s2">&quot;pipeline&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Operation &#39;</span><span class="si">{</span><span class="n">op</span><span class="o">.</span><span class="n">operation_id</span><span class="si">}</span><span class="s2">&#39; is not a pipeline, but a &#39;</span><span class="si">{</span><span class="n">op</span><span class="o">.</span><span class="n">module_type</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="p">)</span>
        <span class="n">details</span><span class="p">:</span> <span class="n">PipelineOperationDetails</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">operation_details</span>  <span class="c1"># type: ignore</span>
        <span class="n">config</span><span class="p">:</span> <span class="s2">&quot;PipelineConfig&quot;</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">pipeline_config</span>

        <span class="k">return</span> <span class="n">config</span><span class="o">.</span><span class="n">structure</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_pipeline_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">allow_external</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the full information for the specified pipeline id.</span>

<span class="sd">        This is similar to the &#39;get_pipeline&#39; method, but returns additional information. Only use this instead of</span>
<span class="sd">        &#39;get_pipeline&#39; if you need the additional info, as it&#39;s more expensive to get.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            pipeline: the pipeline (operation) id</span>

<span class="sd">        Returns:</span>
<span class="sd">            augmented pipeline instance data</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">allow_external</span><span class="p">:</span>
            <span class="n">op</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="n">operation_id</span><span class="o">=</span><span class="n">pipeline</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">op</span> <span class="o">=</span> <span class="n">create_operation</span><span class="p">(</span><span class="n">module_or_operation</span><span class="o">=</span><span class="n">pipeline</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">op</span><span class="o">.</span><span class="n">module_type</span> <span class="o">!=</span> <span class="s2">&quot;pipeline&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Operation &#39;</span><span class="si">{</span><span class="n">op</span><span class="o">.</span><span class="n">operation_id</span><span class="si">}</span><span class="s2">&#39; is not a pipeline, but a &#39;</span><span class="si">{</span><span class="n">op</span><span class="o">.</span><span class="n">module_type</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="p">)</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.module.pipeline.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span><span class="p">,</span> <span class="n">PipelineInfo</span>

        <span class="n">details</span><span class="p">:</span> <span class="n">PipelineOperationDetails</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">operation_details</span>  <span class="c1"># type: ignore</span>
        <span class="n">config</span><span class="p">:</span> <span class="s2">&quot;PipelineConfig&quot;</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">pipeline_config</span>
        <span class="n">pipeline_instance</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">structure</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">structure</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">)</span>

        <span class="n">p_info</span><span class="p">:</span> <span class="n">PipelineInfo</span> <span class="o">=</span> <span class="n">PipelineInfo</span><span class="o">.</span><span class="n">create_from_instance</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">pipeline_instance</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">p_info</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_pipelines_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="n">filters</span><span class="p">,</span>
        <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineGroupInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve information about the matching pipelines.</span>

<span class="sd">        This retrieves the same list of pipelines as [list_pipelines][kiara.interfaces.python_api.KiaraAPI.list_pipelines],</span>
<span class="sd">        but augments each result instance with additional information that might be useful in frontends.</span>

<span class="sd">        &#39;PipelineInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [PipelineStructure][kiara.models.module.pipeline.PipelineStructure] objects</span>
<span class="sd">        hold, but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">        of the augmented information, just use the [list_pipelines][kiara.interfaces.python_api.KiaraAPI.list_pipelines] method</span>
<span class="sd">        instead.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            filters: the (optional) filter strings, an operation must match all of them to be included in the result</span>
<span class="sd">            include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">            input_types: each operation must have at least one input that matches one of the specified types</span>
<span class="sd">            output_types: each operation must have at least one output that matches one of the specified types</span>
<span class="sd">            include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">            python_packages: only include operations that are contained in one of the provided python packages</span>
<span class="sd">        Returns:</span>
<span class="sd">            a wrapper object containing a dictionary of items with value_id as key, and [kiara.interfaces.python_api.models.info.OperationInfo] as value</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Available pipelines&quot;</span>
        <span class="k">if</span> <span class="n">filters</span><span class="p">:</span>
            <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Filtered pipelines&quot;</span>

        <span class="n">operations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_operations</span><span class="p">(</span>
            <span class="n">filters</span><span class="p">,</span>
            <span class="n">input_types</span><span class="o">=</span><span class="n">input_types</span><span class="p">,</span>
            <span class="n">output_types</span><span class="o">=</span><span class="n">output_types</span><span class="p">,</span>
            <span class="n">include_internal</span><span class="o">=</span><span class="n">include_internal</span><span class="p">,</span>
            <span class="n">operation_types</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;pipeline&quot;</span><span class="p">],</span>
            <span class="n">python_packages</span><span class="o">=</span><span class="n">python_packages</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.module.pipeline.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span><span class="p">,</span> <span class="n">PipelineGroupInfo</span>

        <span class="n">pipelines</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">op_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">details</span><span class="p">:</span> <span class="n">PipelineOperationDetails</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">operation_details</span>  <span class="c1"># type: ignore</span>
            <span class="n">config</span><span class="p">:</span> <span class="s2">&quot;PipelineConfig&quot;</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">pipeline_config</span>
            <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">structure</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">structure</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">)</span>
            <span class="n">pipelines</span><span class="p">[</span><span class="n">op_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">pipeline</span>

        <span class="n">ps_info</span> <span class="o">=</span> <span class="n">PipelineGroupInfo</span><span class="o">.</span><span class="n">create_from_pipelines</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">group_title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="o">**</span><span class="n">pipelines</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">ps_info</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">register_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
        <span class="n">operation_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Operation</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Register a pipelne as new operation into this context.</span>

<span class="sd">        If &#39;operation_id&#39; is not provided, the id will be auto-determined (in most cases using the pipeline name).</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data: a dict or a path to a json/yaml file containing the definition</span>
<span class="sd">            operation_id: the id to use for the operation (if not specified, the id will be auto-determined)</span>

<span class="sd">        Returns:</span>
<span class="sd">            the assembled operation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">register_pipeline</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">operation_id</span><span class="o">=</span><span class="n">operation_id</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">register_pipelines</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">pipeline_paths</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register all pipelines found in the specified paths.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">register_pipelines</span><span class="p">(</span><span class="o">*</span><span class="n">pipeline_paths</span><span class="p">)</span>

    <span class="c1"># ==================================================================================================================</span>
    <span class="c1"># methods relating to values and data</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">register_data</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">data_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">reuse_existing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Register data with kiara.</span>

<span class="sd">        This will create a new value instance from the data and return it. The data/value itself won&#39;t be stored</span>
<span class="sd">        in a store, you have to use the &#39;store_value&#39; function for that.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data: the data to register</span>
<span class="sd">            data_type: (optional) the data type of the data. If not provided, kiara will try to infer the data type.</span>
<span class="sd">            reuse_existing: whether to re-use an existing value that is already registered and has the same hash.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [kiara.models.values.value.Value] instance</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">data_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                <span class="s2">&quot;Infering data types not implemented yet. Please provide one manually.&quot;</span>
            <span class="p">)</span>

        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">register_data</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span> <span class="n">reuse_existing</span><span class="o">=</span><span class="n">reuse_existing</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_all_value_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all value ids in the current context.</span>

<span class="sd">        This returns everything, even internal values. It should be faster than using</span>
<span class="sd">        `list_value_ids` with equivalent parameters, because no filtering has to happen.</span>

<span class="sd">        Returns:</span>
<span class="sd">            all value_ids in the current context, using every registered store</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">retrieve_all_available_value_ids</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">_values</span><span class="p">)</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_value_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        List all available value ids for this kiara context.</span>

<span class="sd">        By default, this also includes internal values.</span>

<span class="sd">        This method exists mainly so frontends can retrieve a list of all value_ids that exists on the backend without</span>
<span class="sd">        having to look up the details of each value (like [list_values][kiara.interfaces.python_api.KiaraAPI.list_values]</span>
<span class="sd">        does). This method can also be used with a matcher, but in this case the [list_values][kiara.interfaces.python_api.KiaraAPI.list_values]</span>
<span class="sd">        would be preferable in most cases, because it is called under the hood, and the performance advantage of not</span>
<span class="sd">        having to look up value details is gone.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters and defaults</span>

<span class="sd">        Returns:</span>
<span class="sd">            a list of value ids</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_values</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">((</span><span class="n">v</span><span class="o">.</span><span class="n">value_id</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_all_values</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all values in the current context, incl. internal ones.</span>

<span class="sd">        This should be faster than `list_values` with equivalent matcher params, because no</span>
<span class="sd">        filtering has to happen.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># TODO: make that parallel?</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">retrieve_all_available_value_ids</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">ValueMapReadOnly</span><span class="o">.</span><span class="n">create_from_values</span><span class="p">(</span>
            <span class="o">**</span><span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        List all available (relevant) values, optionally filter.</span>

<span class="sd">        Retrieve information about all values that are available in the current kiara context session (both stored and non-stored).</span>

<span class="sd">        Check the `ValueMatcher` class for available parameters and defaults, for example this excludes</span>
<span class="sd">        internal values by default.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dictionary with value_id as key, and [kiara.models.values.value.Value] as value</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">matcher</span> <span class="o">=</span> <span class="n">ValueMatcher</span><span class="o">.</span><span class="n">create_matcher</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">find_values</span><span class="p">(</span><span class="n">matcher</span><span class="o">=</span><span class="n">matcher</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">ValueMapReadOnly</span><span class="o">.</span><span class="n">create_from_values</span><span class="p">(</span>
            <span class="o">**</span><span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Value</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve a value instance with the specified id or alias.</span>

<span class="sd">        Basically a convenience method to convert any possible Python type into</span>
<span class="sd">        a &#39;Value&#39; instance. Raises an exception if no value could be found.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            value: a value id, alias or object that has a &#39;value_id&#39; attribute.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the Value instance</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve Value instances for the specified value ids or aliases.</span>

<span class="sd">        This is a convenience method to get fully &#39;hydrated&#39; `Value` objects from references to them.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            values: a dictionary with value ids or aliases as keys, and value instances as values</span>

<span class="sd">        Returns:</span>
<span class="sd">            a mapping with value_id as key, and [kiara.models.values.value.Value] as value</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">load_values</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">query_value</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value_or_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span>
        <span class="n">query_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve a value attribute with the specified id or alias.</span>

<span class="sd">        NOTE: This is a provisional endpoint, don&#39;t use for now, if you have a requirement that would</span>
<span class="sd">        be covered by this, please let me know.</span>

<span class="sd">        A query path is delimited by &quot;::&quot;, and has the following format:</span>

<span class="sd">        ```</span>
<span class="sd">        &lt;value_id_or_alias&gt;::[&lt;category_name&gt;]::[&lt;attribute_name&gt;]::[...]</span>
<span class="sd">        ```</span>

<span class="sd">        Currently supported categories:</span>
<span class="sd">        - &quot;data&quot;: the data of the value</span>
<span class="sd">        - &quot;properties: the properties of the value</span>

<span class="sd">        If no category is specified, the value instance itself is returned.</span>

<span class="sd">        Raises an exception if no value could be found.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            value_or_path: a value or value reference, or a query path containing the value id or alias as first token</span>
<span class="sd">            query_path: a query path which will be appended a potential query path computed from the first argument</span>

<span class="sd">        Returns:</span>
<span class="sd">            the attribute value</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value_or_path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">tokens</span> <span class="o">=</span> <span class="n">value_or_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">VALUE_ATTR_DELIMITER</span><span class="p">)</span>
            <span class="n">value_id</span> <span class="o">=</span> <span class="n">tokens</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value_id</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">tokens</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value_or_path</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">query_path</span><span class="p">:</span>
            <span class="n">tokens</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">query_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">VALUE_ATTR_DELIMITER</span><span class="p">))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">tokens</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_value</span>

        <span class="n">current_result</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">_value</span>
        <span class="n">category</span> <span class="o">=</span> <span class="n">tokens</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">category</span> <span class="o">==</span> <span class="s2">&quot;properties&quot;</span><span class="p">:</span>
            <span class="n">current_result</span> <span class="o">=</span> <span class="n">current_result</span><span class="o">.</span><span class="n">get_all_property_data</span><span class="p">(</span><span class="n">flatten_models</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">category</span> <span class="o">==</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span>
            <span class="n">current_result</span> <span class="o">=</span> <span class="n">current_result</span><span class="o">.</span><span class="n">data</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid query path category: </span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s2">. Valid categories are: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">VALID_VALUE_QUERY_CATEGORIES</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">tokens</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">path</span> <span class="o">=</span> <span class="n">VALUE_ATTR_DELIMITER</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
                <span class="n">current_result</span> <span class="o">=</span> <span class="n">dpath</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                    <span class="n">current_result</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="n">VALUE_ATTR_DELIMITER</span>
                <span class="p">)</span>

            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>

                <span class="k">def</span><span class="w"> </span><span class="nf">dict_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">my_dict</span><span class="p">,</span> <span class="n">all_paths</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">my_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                            <span class="n">dict_path</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s2">&quot;::&quot;</span> <span class="o">+</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">all_paths</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">all_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="o">+</span> <span class="s2">&quot;::&quot;</span> <span class="o">+</span> <span class="n">k</span><span class="p">)</span>

                <span class="n">valid_base_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">current_result</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
                <span class="n">details</span> <span class="o">=</span> <span class="s2">&quot;Valid (base) sub-keys are:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">valid_base_keys</span><span class="p">:</span>
                    <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>

                <span class="n">all_paths</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">dict_path</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">current_result</span><span class="p">,</span> <span class="n">all_paths</span><span class="p">)</span>

                <span class="n">details</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Valid (full) sub-paths are:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">all_paths</span><span class="p">:</span>
                    <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>

                <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to retrieve value attribute using query sub-path: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="n">details</span><span class="o">=</span><span class="n">details</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">current_result</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_value_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">Path</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueInfo</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve an info object for a value.</span>

<span class="sd">        Companion method to &#39;get_value&#39;, &#39;ValueInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [Value][kiara.models.values.value.Value] objects</span>
<span class="sd">        hold (like resolved properties for example), but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">        of the augmented information, just use the [get_value][kiara.interfaces.python_api.KiaraAPI.get_value] method</span>
<span class="sd">        instead.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            value: a value id, alias or object that has a &#39;value_id&#39; attribute.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the ValueInfo instance</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ValueInfo</span><span class="o">.</span><span class="n">create_from_instance</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">_value</span><span class="p">)</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_values_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValuesInfo</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve information about the matching values.</span>

<span class="sd">        This retrieves the same list of values as [list_values][kiara.interfaces.python_api.KiaraAPI.list_values],</span>
<span class="sd">        but augments each result value instance with additional information that might be useful in frontends.</span>

<span class="sd">        &#39;ValueInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [Value][kiara.models.values.value.Value] objects</span>
<span class="sd">        hold (like resolved properties for example), but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">        of the augmented information, just use the [list_values][kiara.interfaces.python_api.KiaraAPI.list_values] method</span>
<span class="sd">        instead.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">        Returns:</span>
<span class="sd">            a wrapper object containing the items as dictionary with value_id as key, and [kiara.interfaces.python_api.models.values.ValueInfo] as value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">values</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_values</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>

        <span class="n">infos</span> <span class="o">=</span> <span class="n">ValuesInfo</span><span class="o">.</span><span class="n">create_from_instances</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instances</span><span class="o">=</span><span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">infos</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_alias_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        List all available alias keys.</span>

<span class="sd">        This method exists mainly so frontend can retrieve a list of all value_ids that exists on the backend without</span>
<span class="sd">        having to look up the details of each value (like [list_aliases][kiara.interfaces.python_api.KiaraAPI.list_aliases]</span>
<span class="sd">        does). This method can also be used with a matcher, but in this case the [list_aliases][kiara.interfaces.python_api.KiaraAPI.list_aliases]</span>
<span class="sd">        would be preferrable in most cases, because it is called under the hood, and the performance advantage of not</span>
<span class="sd">        having to look up value details is gone.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">        Returns:</span>
<span class="sd">            a list of value ids</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">matcher_params</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_aliases</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">all_aliases</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">_values</span><span class="p">)</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        List all available values that have an alias assigned, optionally filter.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dictionary with value_id as key, and [kiara.models.values.value.Value] as value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">matcher_params</span><span class="p">:</span>
            <span class="n">matcher_params</span><span class="p">[</span><span class="s2">&quot;has_alias&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">all_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_values</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>

            <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">all_values</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">aliases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">find_aliases_for_value_id</span><span class="p">(</span>
                    <span class="n">value_id</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">aliases</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Duplicate value alias &#39;</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">&#39;: this is most likely a bug.&quot;</span>
                        <span class="p">)</span>
                    <span class="n">result</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

            <span class="n">result</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">())}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># faster if not other matcher params</span>
            <span class="n">all_aliases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">all_aliases</span>
            <span class="n">result</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;alias:</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">all_aliases</span>
            <span class="p">}</span>

        <span class="k">return</span> <span class="n">ValueMapReadOnly</span><span class="o">.</span><span class="n">create_from_values</span><span class="p">(</span><span class="o">**</span><span class="n">result</span><span class="p">)</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_aliases_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValuesInfo</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve information about the matching values.</span>

<span class="sd">        This retrieves the same list of values as [list_values][kiara.interfaces.python_api.KiaraAPI.list_values],</span>
<span class="sd">        but augments each result value instance with additional information that might be useful in frontends.</span>

<span class="sd">        &#39;ValueInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [Value][kiara.models.values.value.Value] objects</span>
<span class="sd">        hold (like resolved properties for example), but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">        of the augmented information, just use the [get_value][kiara.interfaces.python_api.KiaraAPI.list_aliases] method</span>
<span class="sd">        instead.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dictionary with a value alias as key, and [kiara.interfaces.python_api.models.values.ValueInfo] as value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_aliases</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>

        <span class="n">infos</span> <span class="o">=</span> <span class="n">ValuesInfo</span><span class="o">.</span><span class="n">create_from_instances</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instances</span><span class="o">=</span><span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">infos</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">register_value_alias</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span>
        <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
        <span class="n">allow_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">alias_store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">register_aliases</span><span class="p">(</span>
            <span class="n">value_id</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
            <span class="n">aliases</span><span class="o">=</span><span class="n">alias</span><span class="p">,</span>
            <span class="n">allow_overwrite</span><span class="o">=</span><span class="n">allow_overwrite</span><span class="p">,</span>
            <span class="n">alias_store</span><span class="o">=</span><span class="n">alias_store</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">assemble_value_map</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">values</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
        <span class="n">values_schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">register_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">reuse_existing_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrive a [ValueMap][kiara.models.values.value.ValueMap] object from the provided value ids or value links.</span>

<span class="sd">        In most cases, this endpoint won&#39;t be used by front-ends, it&#39;s a fairly low-level method that is</span>
<span class="sd">        mainly used for internal purposes. If you have a use-case, let me know and I&#39;ll improve the docs</span>
<span class="sd">        if insufficient.</span>

<span class="sd">        By default, this method can only use values/datasets that are already registered in *kiara*. If you want to</span>
<span class="sd">        auto-register &#39;raw&#39; data, you need to set the &#39;register_data&#39; flag to &#39;True&#39;, and provide a schema for each of the fields that are not yet registered.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            values: a dictionary with the values in question</span>
<span class="sd">            values_schema: an optional dictionary with the schema for each of the values that are not yet registered</span>
<span class="sd">            register_data: whether to allow auto-registration of &#39;raw&#39; data</span>
<span class="sd">            reuse_existing_data: whether to reuse existing data with the same hash as the &#39;raw&#39; data that is being registered</span>

<span class="sd">        Returns:</span>
<span class="sd">            a value map instance</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">register_data</span><span class="p">:</span>
            <span class="n">temp</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="p">(</span><span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">)):</span>
                    <span class="n">temp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                    <span class="k">continue</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">values_schema</span><span class="p">:</span>
                    <span class="n">details</span> <span class="o">=</span> <span class="s2">&quot;No schema provided.&quot;</span>
                    <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Invalid field name: &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39; (value: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">,</span> <span class="n">details</span><span class="o">=</span><span class="n">details</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">details</span> <span class="o">=</span> <span class="s2">&quot;Valid field names: &quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
                    <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Invalid field name: &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39; (value: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">,</span> <span class="n">details</span><span class="o">=</span><span class="n">details</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;alias:&quot;</span><span class="p">):</span>
                        <span class="n">temp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                        <span class="k">continue</span>
                    <span class="k">elif</span> <span class="n">v</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;archive:&quot;</span><span class="p">):</span>
                        <span class="n">temp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                        <span class="k">continue</span>

                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">v</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
                        <span class="n">temp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                        <span class="k">continue</span>
                    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;alias:&quot;</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
                            <span class="n">_v</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;alias:&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">_v</span> <span class="o">=</span> <span class="n">v</span>

                        <span class="n">data_type</span> <span class="o">=</span> <span class="n">values_schema</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">type</span>
                        <span class="k">if</span> <span class="n">data_type</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span> <span class="ow">and</span> <span class="n">_v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_aliases</span><span class="p">():</span>
                            <span class="n">temp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;alias:</span><span class="si">{</span><span class="n">_v</span><span class="si">}</span><span class="s2">&quot;</span>
                            <span class="k">continue</span>

                <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">temp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">_v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">register_data</span><span class="p">(</span>
                        <span class="n">data</span><span class="o">=</span><span class="n">v</span><span class="p">,</span>
                        <span class="c1"># data_type=values_schema[k].type,</span>
                        <span class="n">data_type</span><span class="o">=</span><span class="n">values_schema</span><span class="p">[</span><span class="n">k</span><span class="p">],</span>
                        <span class="n">reuse_existing</span><span class="o">=</span><span class="n">reuse_existing_data</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="n">temp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">_v</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">temp</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">load_values</span><span class="p">(</span>
            <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">values_schema</span><span class="o">=</span><span class="n">values_schema</span>
        <span class="p">)</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">store_value</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">],</span>
        <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span>
        <span class="n">allow_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">store_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">set_as_store_default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValueResult</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Store the specified value in a value store.</span>

<span class="sd">        If you provide values for the &#39;data_store&#39; and/or &#39;alias_store&#39; other than &#39;default&#39;, you need</span>
<span class="sd">        to make sure those stores are registered with the current context. In most cases, the &#39;export&#39; endpoint (to be done) will probably be an easier way to export values, which I suspect will</span>
<span class="sd">        be the main use-case for this endpoint if any of the &#39;store&#39; arguments where needed. Otherwise, this endpoint is useful to persist values for use in later seperate sessions.</span>

<span class="sd">        This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">        &#39;StoreValueResult&#39; instance that is returned to see if the storing was successful.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            value: the value (or a reference to it)</span>
<span class="sd">            alias: (Optional) one or several aliases for the value</span>
<span class="sd">            allow_overwrite: whether to allow overwriting existing aliases</span>
<span class="sd">            store: in case data and alias store names are the same, you can use this, if you specify one or both of the others, this will be overwritten</span>
<span class="sd">            store_related_metadata: whether to store related metadata (comments, etc.) in the same store as the data</span>
<span class="sd">            set_as_store_default: whether to set the specified store as the default store for the value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># if isinstance(alias, str):</span>
        <span class="c1">#     alias = [alias]</span>

        <span class="n">value_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="n">persisted_data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">PersistedData</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">persisted_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">store_value</span><span class="p">(</span>
                <span class="n">value</span><span class="o">=</span><span class="n">value_obj</span><span class="p">,</span> <span class="n">data_store</span><span class="o">=</span><span class="n">store</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">alias</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">register_aliases</span><span class="p">(</span>
                    <span class="n">value_obj</span><span class="p">,</span>
                    <span class="n">alias</span><span class="p">,</span>
                    <span class="n">allow_overwrite</span><span class="o">=</span><span class="n">allow_overwrite</span><span class="p">,</span>
                    <span class="n">alias_store</span><span class="o">=</span><span class="n">store</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">store_related_metadata</span><span class="p">:</span>
                <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.registries.metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">MetadataMatcher</span>

                <span class="n">matcher</span> <span class="o">=</span> <span class="n">MetadataMatcher</span><span class="o">.</span><span class="n">create_matcher</span><span class="p">(</span>
                    <span class="n">reference_item_ids</span><span class="o">=</span><span class="p">[</span><span class="n">value_obj</span><span class="o">.</span><span class="n">job_id</span><span class="p">,</span> <span class="n">value_obj</span><span class="o">.</span><span class="n">value_id</span><span class="p">]</span>
                <span class="p">)</span>

                <span class="n">target_store</span><span class="p">:</span> <span class="n">MetadataStore</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">get_archive</span><span class="p">(</span><span class="n">store</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="n">matching_metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">find_metadata_items</span><span class="p">(</span>
                    <span class="n">matcher</span><span class="o">=</span><span class="n">matcher</span>
                <span class="p">)</span>
                <span class="n">target_store</span><span class="o">.</span><span class="n">store_metadata_and_ref_items</span><span class="p">(</span><span class="n">matching_metadata</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">set_as_store_default</span><span class="p">:</span>
                <span class="n">store_instance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_archive</span><span class="p">(</span><span class="n">store</span><span class="p">)</span>
                <span class="n">store_instance</span><span class="o">.</span><span class="n">set_archive_metadata_value</span><span class="p">(</span>
                    <span class="n">DATA_ARCHIVE_DEFAULT_VALUE_MARKER</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value_obj</span><span class="o">.</span><span class="n">value_id</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">alias</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">alias</span> <span class="o">=</span> <span class="p">[</span><span class="n">alias</span><span class="p">]</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">StoreValueResult</span><span class="p">(</span>
                <span class="n">value</span><span class="o">=</span><span class="n">value_obj</span><span class="p">,</span>
                <span class="n">aliases</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span> <span class="k">if</span> <span class="n">alias</span> <span class="k">else</span> <span class="p">[],</span>
                <span class="n">error</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">persisted_data</span><span class="o">=</span><span class="n">persisted_data</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">StoreValueResult</span><span class="p">(</span>
                <span class="n">value</span><span class="o">=</span><span class="n">value_obj</span><span class="p">,</span>
                <span class="n">aliases</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span> <span class="k">if</span> <span class="n">alias</span> <span class="k">else</span> <span class="p">[],</span>
                <span class="n">error</span><span class="o">=</span><span class="p">(</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">else</span> <span class="sa">f</span><span class="s2">&quot;Unknown error (type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;).&quot;</span>
                <span class="p">),</span>
                <span class="n">persisted_data</span><span class="o">=</span><span class="n">persisted_data</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">store_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span>
            <span class="n">Value</span><span class="p">,</span>
            <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span>
            <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span>
            <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span>
        <span class="p">],</span>
        <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">store_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Store multiple values into the (default) kiara value store.</span>

<span class="sd">        Convenience method to store multiple values. In a lot of cases you can be more flexible if you</span>
<span class="sd">        loop over the values on the frontend side, and call the &#39;store_value&#39; method for each value. But this might be meaningfully slower. This method has the potential to be optimized in the future.</span>

<span class="sd">        You have several options to provide the values and aliases you want to store:</span>

<span class="sd">        - as a string, in which case the item will be wrapped in a list (see non-mapping iterable below)</span>

<span class="sd">        - as a (non-mapping) iterable of value items, those can either be:</span>

<span class="sd">          - a value id (as string or uuid)</span>
<span class="sd">          - a value alias (as string)</span>
<span class="sd">          - a value instance</span>

<span class="sd">        If you do that, then the &#39;alias_map&#39; argument can either be:</span>

<span class="sd">          - &#39;False&#39;, in which case no aliases will be registered</span>
<span class="sd">          - &#39;True&#39;, in which case all items in the &#39;values&#39; iterable must be a valid alias, and the alias will be copied without change to the new store</span>
<span class="sd">          - a &#39;string&#39;, in which case all items in the &#39;values&#39; iterable also must be a valid alias, and the alias that will be registered in the new store will use the string value as prefix (e.g. &#39;alias_map&#39; = &#39;experiment1&#39; and &#39;values&#39; = [&#39;a&#39;, &#39;b&#39;] will result in the aliases &#39;experiment1.a&#39; and &#39;experiment1.b&#39;)</span>
<span class="sd">          - a map that uses the stringi-fied uuid of the value that should get one or several aliases as key, and a list of aliases as values</span>

<span class="sd">        You can also use a mapping type (like a dict) for the &#39;values&#39; argument. In this case, the key is a string, and the value can be:</span>

<span class="sd">          - a value id (as string or uuid)</span>
<span class="sd">          - a value alias (as string)</span>
<span class="sd">          - a value instance</span>

<span class="sd">        In this case, the meaning of the &#39;alias_map&#39; is as follows:</span>

<span class="sd">          - &#39;False&#39;: no aliases will be registered</span>
<span class="sd">          - &#39;True&#39;: the key in the &#39;values&#39; argument will be used as alias</span>
<span class="sd">          - a string: all keys from the &#39;values&#39; map will be used as alias, prefixed with the value of &#39;alias_map&#39;</span>
<span class="sd">          - another map, with a string referring to the key in the &#39;values&#39; argument as key, and a list of aliases (strings) as value</span>

<span class="sd">        Sorry, this is all a bit convoluted, but it&#39;s the only way I could think of to make this work for all the requirements I had. In most keases, you&#39;ll only have to use &#39;True&#39; or &#39;False&#39; here, hopefully.</span>

<span class="sd">        This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">        &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            values: an iterable/map of value keys/values</span>
<span class="sd">            alias_map: a map of value keys aliases</span>
<span class="sd">            allow_alias_overwrite: whether to allow overwriting existing aliases</span>
<span class="sd">            store: in case data and alias store names are the same, you can use this, if you specify one or both of the others, this will be overwritten</span>
<span class="sd">            data_store: the registered name (or archive id as string) of the store to write the data</span>
<span class="sd">            alias_store: the registered name (or archive id as string) of the store to persist the alias(es)/value_id mapping</span>

<span class="sd">        Returns:</span>
<span class="sd">            an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">)):</span>
            <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">values</span><span class="p">]</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">alias_map</span><span class="p">:</span>
                <span class="n">use_aliases</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">elif</span> <span class="n">alias_map</span> <span class="ow">and</span> <span class="p">(</span><span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">True</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">alias_map</span><span class="p">,</span> <span class="nb">str</span><span class="p">)):</span>
                <span class="n">invalid</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">valid</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                        <span class="n">invalid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                        <span class="k">continue</span>
                    <span class="n">value_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">find_value_id_for_alias</span><span class="p">(</span>
                        <span class="n">alias</span><span class="o">=</span><span class="n">value</span>
                    <span class="p">)</span>
                    <span class="k">if</span> <span class="n">value_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">invalid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                            <span class="k">if</span> <span class="s2">&quot;#&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                                <span class="n">new_alias</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">new_alias</span> <span class="o">=</span> <span class="n">value</span>
                            <span class="n">valid</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value_id</span><span class="p">),</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_alias</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="s2">&quot;#&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                                <span class="n">new_alias</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">new_alias</span> <span class="o">=</span> <span class="n">value</span>
                            <span class="n">new_alias</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias_map</span><span class="si">}{</span><span class="n">new_alias</span><span class="si">}</span><span class="s2">&quot;</span>
                            <span class="n">valid</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value_id</span><span class="p">),</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_alias</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">invalid</span><span class="p">:</span>
                    <span class="n">invalid_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">invalid</span><span class="p">))</span>
                    <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                        <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Cannot use auto-aliases with non-mapping iterable, some items are not valid aliases: </span><span class="si">{</span><span class="n">invalid_str</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">alias_map</span> <span class="o">=</span> <span class="n">valid</span>
                    <span class="n">use_aliases</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">use_aliases</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
                <span class="n">aliases</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

                <span class="n">value_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">use_aliases</span><span class="p">:</span>
                    <span class="n">alias_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value_obj</span><span class="o">.</span><span class="n">value_id</span><span class="p">)</span>
                    <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">alias_key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
                    <span class="k">if</span> <span class="n">alias</span><span class="p">:</span>
                        <span class="n">aliases</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>

                <span class="n">store_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">store_value</span><span class="p">(</span>
                    <span class="n">value</span><span class="o">=</span><span class="n">value_obj</span><span class="p">,</span>
                    <span class="n">alias</span><span class="o">=</span><span class="n">aliases</span><span class="p">,</span>
                    <span class="n">allow_overwrite</span><span class="o">=</span><span class="n">allow_alias_overwrite</span><span class="p">,</span>
                    <span class="n">store</span><span class="o">=</span><span class="n">store</span><span class="p">,</span>
                    <span class="n">store_related_metadata</span><span class="o">=</span><span class="n">store_related_metadata</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">result</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">value_obj</span><span class="o">.</span><span class="n">value_id</span><span class="p">)]</span> <span class="o">=</span> <span class="n">store_result</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                    <span class="n">aliases_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">elif</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="n">aliases_map</span> <span class="o">=</span> <span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">alias_map</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">aliases_map</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias_map</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># means it&#39;s a mapping</span>
                    <span class="n">_aliases</span> <span class="o">=</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">_aliases</span><span class="p">:</span>
                        <span class="n">aliases_map</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">_aliases</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">aliases_map</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="n">value_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="n">store_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">store_value</span><span class="p">(</span>
                    <span class="n">value</span><span class="o">=</span><span class="n">value_obj</span><span class="p">,</span>
                    <span class="n">alias</span><span class="o">=</span><span class="n">aliases_map</span><span class="p">,</span>
                    <span class="n">allow_overwrite</span><span class="o">=</span><span class="n">allow_alias_overwrite</span><span class="p">,</span>
                    <span class="n">store</span><span class="o">=</span><span class="n">store</span><span class="p">,</span>
                    <span class="n">store_related_metadata</span><span class="o">=</span><span class="n">store_related_metadata</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">result</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">store_result</span>

        <span class="k">return</span> <span class="n">StoreValuesResult</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="n">result</span><span class="p">)</span>

    <span class="c1"># ------------------------------------------------------------------------------------------------------------------</span>
    <span class="c1"># archive-related methods</span>
    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">import_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">source_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
        <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span>
            <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span>
            <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span>
        <span class="p">],</span>
        <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">source_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Import one or several values from an external kiara archive, along with their aliases (optional).</span>

<span class="sd">        For the &#39;values&#39; &amp; &#39;alias_map&#39; arguments, see the &#39;store_values&#39; endpoint, as they will be forwarded to that endpoint as is,</span>
<span class="sd">        and there are several ways to use them which is information I don&#39;t want to duplicate.</span>

<span class="sd">        If you provide aliases in the &#39;values&#39; parameter, the aliases must be available in the external archive.</span>

<span class="sd">        Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">        This will probably be added later on, let me know if there is demand, then I&#39;ll prioritize.</span>

<span class="sd">        This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">        &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful.</span>

<span class="sd">        # NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            source_archive: the name of the archive to store the values into</span>
<span class="sd">            values: an iterable/map of value keys/values</span>
<span class="sd">            alias_map: a map of value keys aliases</span>
<span class="sd">            allow_alias_overwrite: whether to allow overwriting existing aliases</span>
<span class="sd">            source_registered_name: the name to register the archive under in the context</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">source_archive</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">DEFAULT_STORE_MARKER</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                <span class="s2">&quot;You cannot use the default store as source for this operation.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">alias_map</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">alias_map</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid type for &#39;alias_map&#39; argument: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">alias_map</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="n">source_archive_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">register_archive</span><span class="p">(</span>
            <span class="n">archive</span><span class="o">=</span><span class="n">source_archive</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="n">registered_name</span><span class="o">=</span><span class="n">source_registered_name</span><span class="p">,</span>
            <span class="n">create_if_not_exists</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">allow_write_access</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">existing_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">value_ids</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">aliases</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">values</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="c1"># means we have a list of value ids/aliases</span>
            <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">):</span>
                    <span class="n">value_ids</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">_value</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                        <span class="n">value_ids</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">_value</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                        <span class="n">aliases</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Not implemented yet.&quot;</span><span class="p">)</span>

        <span class="n">new_values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">value_id</span> <span class="ow">in</span> <span class="n">value_ids</span><span class="p">:</span>
            <span class="n">field</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;field_</span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">idx</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">new_values</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_id</span>

        <span class="n">new_alias_map</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">alias</span> <span class="ow">in</span> <span class="n">aliases</span><span class="p">:</span>
            <span class="n">field</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;field_</span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">idx</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">new_values</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">source_archive_ref</span><span class="si">}</span><span class="s2">#</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">elif</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">new_alias_map</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">alias_map</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">new_alias_map</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias_map</span><span class="si">}{</span><span class="n">alias</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># means its a dict</span>
                <span class="k">if</span> <span class="n">alias</span> <span class="ow">in</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">alias_map</span><span class="p">[</span><span class="n">alias</span><span class="p">]:</span>
                        <span class="n">new_alias_map</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">StoreValuesResult</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">store_values</span><span class="p">(</span>
            <span class="n">values</span><span class="o">=</span><span class="n">new_values</span><span class="p">,</span>
            <span class="n">alias_map</span><span class="o">=</span><span class="n">new_alias_map</span><span class="p">,</span>
            <span class="n">allow_alias_overwrite</span><span class="o">=</span><span class="n">allow_alias_overwrite</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">export_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">target_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
        <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span>
            <span class="n">Value</span><span class="p">,</span>
            <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span>
            <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span>
            <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span>
        <span class="p">],</span>
        <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">target_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">append</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">target_store_params</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">export_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">additional_archive_metadata</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Store one or several values along with (optional) aliases into a kiara archive.</span>

<span class="sd">        For the &#39;values&#39; &amp; &#39;alias_map&#39; arguments, see the &#39;store_values&#39; endpoint, as they will be forwarded to that endpoint as is,</span>
<span class="sd">        and there are several ways to use them which is information I don&#39;t want to duplicate.</span>

<span class="sd">        Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">        This will probably be added later on, let me know if there is demand, then I&#39;ll prioritize.</span>

<span class="sd">        &#39;target_store_params&#39; is used if the archive does not exist yet. The one supported value for the &#39;target_store_params&#39; argument currently is &#39;compression&#39;, which can be one of:</span>

<span class="sd">        - zstd: zstd compression (default) -- fairly fast, and good compression</span>
<span class="sd">        - none: no compression</span>
<span class="sd">        - LZMA: LZMA compression -- very slow, but very good compression</span>
<span class="sd">        - LZ4: LZ4 compression -- very fast, but not as good compression as zstd</span>

<span class="sd">        This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">        &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful.</span>

<span class="sd">        # NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            target_store: the name of the archive to store the values into</span>
<span class="sd">            values: an iterable/map of value keys/values</span>
<span class="sd">            alias_map: a map of value keys aliases</span>
<span class="sd">            allow_alias_overwrite: whether to allow overwriting existing aliases</span>
<span class="sd">            target_registered_name: the name to register the archive under in the context</span>
<span class="sd">            append: whether to append to an existing archive</span>
<span class="sd">            target_store_params: additional parameters to pass to the &#39;create_kiarchive&#39; method if the file does not exist yet</span>
<span class="sd">            export_related_metadata: whether to export related metadata (e.g. job info, comments, ..) to the new archive or not</span>
<span class="sd">            additional_archive_metadata: (optional) additional metadata to add to the archive</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">target_archive</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">DEFAULT_STORE_MARKER</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                <span class="s2">&quot;You cannot use the default store as target for this operation.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">target_store_params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">target_store_params</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">target_archive_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">register_archive</span><span class="p">(</span>
            <span class="n">archive</span><span class="o">=</span><span class="n">target_archive</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="n">registered_name</span><span class="o">=</span><span class="n">target_registered_name</span><span class="p">,</span>
            <span class="n">create_if_not_exists</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">allow_write_access</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">existing_ok</span><span class="o">=</span><span class="kc">True</span> <span class="k">if</span> <span class="n">append</span> <span class="k">else</span> <span class="kc">False</span><span class="p">,</span>
            <span class="o">**</span><span class="n">target_store_params</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">StoreValuesResult</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">store_values</span><span class="p">(</span>
            <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span>
            <span class="n">alias_map</span><span class="o">=</span><span class="n">alias_map</span><span class="p">,</span>
            <span class="n">allow_alias_overwrite</span><span class="o">=</span><span class="n">allow_alias_overwrite</span><span class="p">,</span>
            <span class="n">store</span><span class="o">=</span><span class="n">target_archive_ref</span><span class="p">,</span>
            <span class="n">store_related_metadata</span><span class="o">=</span><span class="n">export_related_metadata</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">additional_archive_metadata</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">additional_archive_metadata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_archive_metadata_value</span><span class="p">(</span><span class="n">target_archive_ref</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">register_archive</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="s2">&quot;KiArchive&quot;</span><span class="p">],</span>
        <span class="n">allow_write_access</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">create_if_not_exists</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">existing_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="o">**</span><span class="n">create_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register a kiarchive with the current context.</span>

<span class="sd">        In most cases, this will be used to &#39;load&#39; an existing kiarchive file and attach it to the current context.</span>
<span class="sd">        If the file does not exist, one will be created, with the filename (without &#39;.kiarchive&#39; suffix) as the archive name if not specified.</span>

<span class="sd">        In the future this might also take a URL, but for now only local files are supported.</span>

<span class="sd">        # NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            archive: the uri of the archive (file path), or a [Kiarchive][kiara.interfaces.python_api.models.archive.Kiarchive] instance</span>
<span class="sd">            allow_write_access: whether to allow write access to the archive</span>
<span class="sd">            registered_name: the name/alias that the archive is registered in the context, and which can be used in the &#39;store_value(s)&#39; endpoint, if not provided, it will be auto-determined from the file name</span>
<span class="sd">            create_if_not_exists: if the file does not exist, create it. If this is &#39;False&#39;, an exception will be raised if the file does not exist.</span>
<span class="sd">            existing_ok: whether the file is allowed to exist already, if &#39;False&#39;, an exception will be raised if the file exists</span>
<span class="sd">            create_params: additional parameters to pass to the &#39;create_kiarchive&#39; method if the file does not exist yet</span>

<span class="sd">        Returns:</span>
<span class="sd">            the name/alias that the archive is registered in the context, and which can be used in the &#39;store_value(s)&#39; endpoint</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.models.archive</span><span class="w"> </span><span class="kn">import</span> <span class="n">KiArchive</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_ok</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">create_if_not_exists</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                <span class="s2">&quot;Both &#39;existing_ok&#39; and &#39;create_if_not_exists&#39; cannot be &#39;False&#39; at the same time.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">archive</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">archive</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">archive</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.kiarchive&quot;</span><span class="p">):</span>
                <span class="n">archive</span> <span class="o">=</span> <span class="n">archive</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">archive</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.kiarchive&quot;</span>

            <span class="k">if</span> <span class="n">archive</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_ok</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Archive file &#39;</span><span class="si">{</span><span class="n">archive</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&#39; already exists.&quot;</span>
                    <span class="p">)</span>
                <span class="n">archive</span> <span class="o">=</span> <span class="n">KiArchive</span><span class="o">.</span><span class="n">load_kiarchive</span><span class="p">(</span>
                    <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span>
                    <span class="n">path</span><span class="o">=</span><span class="n">archive</span><span class="p">,</span>
                    <span class="n">archive_name</span><span class="o">=</span><span class="n">registered_name</span><span class="p">,</span>
                    <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">log_message</span><span class="p">(</span><span class="s2">&quot;archive.loaded&quot;</span><span class="p">,</span> <span class="n">archive_name</span><span class="o">=</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">create_if_not_exists</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Archive file &#39;</span><span class="si">{</span><span class="n">archive</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span>
                    <span class="p">)</span>
                <span class="n">kiarchive_alias</span> <span class="o">=</span> <span class="n">archive</span><span class="o">.</span><span class="n">name</span>
                <span class="k">if</span> <span class="n">kiarchive_alias</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.kiarchive&quot;</span><span class="p">):</span>
                    <span class="n">kiarchive_alias</span> <span class="o">=</span> <span class="n">kiarchive_alias</span><span class="p">[:</span><span class="o">-</span><span class="mi">10</span><span class="p">]</span>

                <span class="n">compression</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">CHUNK_COMPRESSION_TYPE</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">create_params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;compression&quot;</span><span class="p">:</span>
                        <span class="n">compression</span> <span class="o">=</span> <span class="n">v</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                            <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid archive creation parameter: &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                        <span class="p">)</span>

                <span class="n">archive</span> <span class="o">=</span> <span class="n">KiArchive</span><span class="o">.</span><span class="n">create_kiarchive</span><span class="p">(</span>
                    <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span>
                    <span class="n">kiarchive_uri</span><span class="o">=</span><span class="n">archive</span><span class="o">.</span><span class="n">as_posix</span><span class="p">(),</span>
                    <span class="n">allow_existing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                    <span class="n">archive_name</span><span class="o">=</span><span class="n">kiarchive_alias</span><span class="p">,</span>
                    <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
                    <span class="n">compression</span><span class="o">=</span><span class="n">compression</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">log_message</span><span class="p">(</span><span class="s2">&quot;archive.created&quot;</span><span class="p">,</span> <span class="n">archive_name</span><span class="o">=</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_name</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Only local files are supported for now.&quot;</span><span class="p">)</span>

        <span class="n">data_archive</span> <span class="o">=</span> <span class="n">archive</span><span class="o">.</span><span class="n">data_archive</span>
        <span class="k">assert</span> <span class="n">data_archive</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">data_alias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">register_external_archive</span><span class="p">(</span>
            <span class="n">data_archive</span><span class="p">,</span>
            <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">alias_archive</span> <span class="o">=</span> <span class="n">archive</span><span class="o">.</span><span class="n">alias_archive</span>
        <span class="k">assert</span> <span class="n">alias_archive</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">alias_alias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">register_external_archive</span><span class="p">(</span>
            <span class="n">alias_archive</span><span class="p">,</span> <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span>
        <span class="p">)</span>

        <span class="n">job_archive</span> <span class="o">=</span> <span class="n">archive</span><span class="o">.</span><span class="n">job_archive</span>
        <span class="k">assert</span> <span class="n">job_archive</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">job_alias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">register_external_archive</span><span class="p">(</span>
            <span class="n">job_archive</span><span class="p">,</span> <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span>
        <span class="p">)</span>

        <span class="n">metadata_archive</span> <span class="o">=</span> <span class="n">archive</span><span class="o">.</span><span class="n">metadata_archive</span>
        <span class="k">assert</span> <span class="n">metadata_archive</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">metadata_alias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">register_external_archive</span><span class="p">(</span>
            <span class="n">metadata_archive</span><span class="p">,</span> <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="n">data_alias</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">alias_alias</span><span class="p">[</span><span class="s2">&quot;alias&quot;</span><span class="p">]</span>
        <span class="k">assert</span> <span class="n">data_alias</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">job_alias</span><span class="p">[</span><span class="s2">&quot;job_record&quot;</span><span class="p">]</span>
        <span class="k">assert</span> <span class="n">data_alias</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">metadata_alias</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">]</span>
        <span class="k">assert</span> <span class="n">archive</span><span class="o">.</span><span class="n">archive_name</span> <span class="o">==</span> <span class="n">data_alias</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">archive</span><span class="o">.</span><span class="n">archive_name</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_archive_metadata_value</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">archive_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="s2">&quot;alias&quot;</span><span class="p">,</span> <span class="s2">&quot;job_record&quot;</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;data&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add metadata to an archive.</span>

<span class="sd">        Note that this is different to adding metadata to a context, since it is attached directly</span>
<span class="sd">        to a special section of the archive itself.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span>
            <span class="n">_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">KiaraArchive</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_archive</span><span class="p">(</span><span class="n">archive</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">_archive</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Archive &#39;</span><span class="si">{</span><span class="n">archive</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">)</span>
            <span class="n">_archive</span><span class="o">.</span><span class="n">set_archive_metadata_value</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;alias&quot;</span><span class="p">:</span>
            <span class="n">_archive</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">get_archive</span><span class="p">(</span><span class="n">archive</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">_archive</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Archive &#39;</span><span class="si">{</span><span class="n">archive</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">)</span>
            <span class="n">_archive</span><span class="o">.</span><span class="n">set_archive_metadata_value</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;metadata&quot;</span><span class="p">:</span>
            <span class="n">_archive</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">get_archive</span><span class="p">(</span><span class="n">archive</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">_archive</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Archive &#39;</span><span class="si">{</span><span class="n">archive</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">)</span>
            <span class="n">_archive</span><span class="o">.</span><span class="n">set_archive_metadata_value</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;job_record&quot;</span><span class="p">:</span>
            <span class="n">_archive</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">get_archive</span><span class="p">(</span><span class="n">archive</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">_archive</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Archive &#39;</span><span class="si">{</span><span class="n">archive</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">)</span>
            <span class="n">_archive</span><span class="o">.</span><span class="n">set_archive_metadata_value</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid archive type: </span><span class="si">{</span><span class="n">archive_type</span><span class="si">}</span><span class="s2">. Valid types are: &#39;data&#39;, &#39;alias&#39;.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_archive_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;KiArchive&quot;</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiArchiveInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve information about an archive at the specified local path</span>

<span class="sd">        Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">        This will probably be added later on, let me know if there is demand, then I&#39;ll prioritize.</span>

<span class="sd">        # NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            archive: the uri of the archive (file path)</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [KiarchiveInfo][kiara.interfaces.python_api.models.archive.KiarchiveInfo] instance, containing details about the archive</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.models.archive</span><span class="w"> </span><span class="kn">import</span> <span class="n">KiArchive</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.archives</span><span class="w"> </span><span class="kn">import</span> <span class="n">KiArchiveInfo</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="n">KiArchive</span><span class="p">):</span>
            <span class="n">archive</span> <span class="o">=</span> <span class="n">KiArchive</span><span class="o">.</span><span class="n">load_kiarchive</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">archive</span><span class="p">)</span>

        <span class="n">kiarchive_info</span> <span class="o">=</span> <span class="n">KiArchiveInfo</span><span class="o">.</span><span class="n">create_from_instance</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">archive</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">kiarchive_info</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">export_archive</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">target_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
        <span class="n">target_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">append</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">no_aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">target_store_params</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Export all data from the default store in your context into the specfied archive path.</span>

<span class="sd">        The target archives will be registered into the context, either using the provided registered_name, or the name</span>
<span class="sd">        will be auto-determined from the archive metadata.</span>

<span class="sd">        Currently, this only works with an external archive file, not with an archive that is already registered into the context.</span>
<span class="sd">        This will be added later on.</span>

<span class="sd">        Also, currently you can only export all data from the default store, there is no way to select only a sub-set. This will</span>
<span class="sd">        also be supported later on.</span>

<span class="sd">        The one supported value for the &#39;target_store_params&#39; argument currently is &#39;compression&#39;, which can be one of:</span>

<span class="sd">        - zstd: zstd compression (default) -- fairly fast, and good compression</span>
<span class="sd">        - none: no compression</span>
<span class="sd">        - LZMA: LZMA compression -- very slow, but very good compression</span>
<span class="sd">        - LZ4: LZ4 compression -- very fast, but not as good compression as zstd</span>

<span class="sd">        This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">        &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful</span>

<span class="sd">        Arguments:</span>
<span class="sd">            target_archive: the registered_name or uri of the target archive</span>
<span class="sd">            target_registered_name: the name/alias that the archive should be registered in the context (if necessary)</span>
<span class="sd">            append: whether to append to an existing archive or error out if the target already exists</span>
<span class="sd">            no_aliases: whether to skip importing aliases</span>
<span class="sd">            target_store_params: additional parameters to pass to the &#39;create_kiarchive&#39; method if the target file does not exist yet</span>

<span class="sd">        Returns:</span>
<span class="sd">            an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy_archive</span><span class="p">(</span>
            <span class="n">source_archive</span><span class="o">=</span><span class="n">DEFAULT_STORE_MARKER</span><span class="p">,</span>
            <span class="n">target_archive</span><span class="o">=</span><span class="n">target_archive</span><span class="p">,</span>
            <span class="n">target_registered_name</span><span class="o">=</span><span class="n">target_registered_name</span><span class="p">,</span>
            <span class="n">append</span><span class="o">=</span><span class="n">append</span><span class="p">,</span>
            <span class="n">target_store_params</span><span class="o">=</span><span class="n">target_store_params</span><span class="p">,</span>
            <span class="n">no_aliases</span><span class="o">=</span><span class="n">no_aliases</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">import_archive</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">source_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
        <span class="n">source_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">no_aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Import all data from the specified archive into the current contexts default data &amp; alias store.</span>

<span class="sd">        The source target will be registered into the context, either using the provided registered_name, otherwise the name</span>
<span class="sd">        will be auto-determined from the archive metadata.</span>

<span class="sd">        Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">        This will be added later on.</span>

<span class="sd">        Also, currently you can only import all data into the default store, there is no way to select only a sub-set. This will</span>
<span class="sd">        also be supported later on.</span>

<span class="sd">        This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">        &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful</span>

<span class="sd">        Arguments:</span>
<span class="sd">            source_archive: the registered_name or uri of the source archive</span>
<span class="sd">            source_registered_name: the name/alias that the archive should be registered in the context (if necessary)</span>
<span class="sd">            no_aliases: whether to skip importing aliases</span>

<span class="sd">        Returns:</span>
<span class="sd">            an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy_archive</span><span class="p">(</span>
            <span class="n">source_archive</span><span class="o">=</span><span class="n">source_archive</span><span class="p">,</span>
            <span class="n">target_archive</span><span class="o">=</span><span class="n">DEFAULT_STORE_MARKER</span><span class="p">,</span>
            <span class="n">source_registered_name</span><span class="o">=</span><span class="n">source_registered_name</span><span class="p">,</span>
            <span class="n">no_aliases</span><span class="o">=</span><span class="n">no_aliases</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">copy_archive</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">source_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
        <span class="n">target_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">source_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">target_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">append</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">no_aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">target_store_params</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Import all data from the specified archive into the current context.</span>

<span class="sd">        The archives will be registered into the context, either using the provided registered_name, otherwise the name</span>
<span class="sd">        will be auto-determined from the archive metadata.</span>

<span class="sd">        Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">        This will be added later on.</span>

<span class="sd">        The one supported value for the &#39;target_store_params&#39; argument currently is &#39;compression&#39;, which can be one of:</span>

<span class="sd">        - zstd: zstd compression (default) -- fairly fast, and good compression</span>
<span class="sd">        - none: no compression</span>
<span class="sd">        - LZMA: LZMA compression -- very slow, but very good compression</span>
<span class="sd">        - LZ4: LZ4 compression -- very fast, but not as good compression as zstd</span>

<span class="sd">        This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">        &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful</span>

<span class="sd">        Arguments:</span>
<span class="sd">            source_archive: the registered_name or uri of the source archive, if None, the context default data/alias store will be used</span>
<span class="sd">            target_archive: the registered_name or uri of the target archive, defaults to the context default data/alias store</span>
<span class="sd">            source_registered_name: the name/alias that the archive should be registered in the context (if necessary)</span>
<span class="sd">            target_registered_name: the name/alias that the archive should be registered in the context (if necessary)</span>
<span class="sd">            append: whether to append to an existing archive or error out if the target already exists</span>
<span class="sd">            no_aliases: whether to skip importing aliases</span>
<span class="sd">            target_store_params: additional parameters to pass to the &#39;create_kiarchive&#39; method if the target file does not exist yet</span>

<span class="sd">        Returns:</span>
<span class="sd">            an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">source_archive</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">DEFAULT_STORE_MARKER</span><span class="p">]:</span>
            <span class="n">source_archive_ref</span> <span class="o">=</span> <span class="n">DEFAULT_STORE_MARKER</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">source_archive_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">register_archive</span><span class="p">(</span>
                <span class="n">archive</span><span class="o">=</span><span class="n">source_archive</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                <span class="n">registered_name</span><span class="o">=</span><span class="n">source_registered_name</span><span class="p">,</span>
                <span class="n">create_if_not_exists</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">existing_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">target_archive</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">DEFAULT_STORE_MARKER</span><span class="p">]:</span>
            <span class="n">target_archive_ref</span> <span class="o">=</span> <span class="n">DEFAULT_STORE_MARKER</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">target_store_params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">target_store_params</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">target_archive_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">register_archive</span><span class="p">(</span>
                <span class="n">archive</span><span class="o">=</span><span class="n">target_archive</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                <span class="n">registered_name</span><span class="o">=</span><span class="n">target_registered_name</span><span class="p">,</span>
                <span class="n">create_if_not_exists</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">allow_write_access</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">existing_ok</span><span class="o">=</span><span class="kc">True</span> <span class="k">if</span> <span class="n">append</span> <span class="k">else</span> <span class="kc">False</span><span class="p">,</span>
                <span class="o">**</span><span class="n">target_store_params</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">source_archive_ref</span> <span class="o">==</span> <span class="n">target_archive_ref</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Source and target archive cannot be the same: </span><span class="si">{</span><span class="n">source_archive_ref</span><span class="si">}</span><span class="s2"> != </span><span class="si">{</span><span class="n">target_archive_ref</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">source_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_values</span><span class="p">(</span>
            <span class="n">in_data_archives</span><span class="o">=</span><span class="p">[</span><span class="n">source_archive_ref</span><span class="p">],</span> <span class="n">allow_internal</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">has_alias</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">no_aliases</span><span class="p">:</span>
            <span class="n">aliases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_aliases</span><span class="p">(</span><span class="n">in_data_archives</span><span class="o">=</span><span class="p">[</span><span class="n">source_archive_ref</span><span class="p">])</span>
            <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">aliases</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">source_archive_ref</span> <span class="o">!=</span> <span class="n">DEFAULT_STORE_MARKER</span><span class="p">:</span>
                    <span class="c1"># TODO: maybe add a matcher arg to the list_aliases endpoint</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">alias</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">source_archive_ref</span><span class="si">}</span><span class="s2">#&quot;</span><span class="p">):</span>
                        <span class="k">continue</span>
                    <span class="n">alias_map</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="p">),</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
                        <span class="n">alias</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">source_archive_ref</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="s2">&quot;#&quot;</span> <span class="ow">in</span> <span class="n">alias</span><span class="p">:</span>
                        <span class="k">continue</span>
                    <span class="n">alias_map</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="p">),</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">alias_map</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">StoreValuesResult</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">store_values</span><span class="p">(</span>
            <span class="n">source_values</span><span class="p">,</span> <span class="n">alias_map</span><span class="o">=</span><span class="n">alias_map</span><span class="p">,</span> <span class="n">store</span><span class="o">=</span><span class="n">target_archive_ref</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="c1"># ------------------------------------------------------------------------------------------------------------------</span>
    <span class="c1"># operation-related methods</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_operation_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">op_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">OperationType</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationType</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the management object for the specified operation type.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation_type</span><span class="p">(</span><span class="n">op_type</span><span class="o">=</span><span class="n">op_type</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_operation_type_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">op_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">OperationType</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationTypeInfo</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get an info object for the specified operation type.&quot;&quot;&quot;</span>
        <span class="n">_op_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_operation_type</span><span class="p">(</span><span class="n">op_type</span><span class="o">=</span><span class="n">op_type</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">OperationTypeInfo</span><span class="o">.</span><span class="n">create_from_type_class</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">type_cls</span><span class="o">=</span><span class="n">_op_type</span><span class="o">.</span><span class="vm">__class__</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">find_operation_id</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">module_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Try to find the registered operation id for the specified module type and configuration.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            module_type: the module type</span>
<span class="sd">            module_config: the module configuration</span>

<span class="sd">        Returns:</span>
<span class="sd">            the registered operation id, if found, or None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">manifest</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">create_manifest</span><span class="p">(</span>
            <span class="n">module_or_operation</span><span class="o">=</span><span class="n">module_type</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">module_config</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">find_operation_id</span><span class="p">(</span><span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">assemble_filter_pipeline_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">filters</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span>
        <span class="n">endpoint</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Manifest</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">endpoint_input_field</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">endpoint_step_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">extra_input_aliases</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">extra_output_aliases</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineConfig&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Assemble a (pipeline) module config to filter values of a specific data type.</span>

<span class="sd">        NOTE: this is a preliminary endpoint, and might go away in the future. If you have a need for this</span>
<span class="sd">        functionality, please let me know your requirements and we can work on fleshing this out.</span>

<span class="sd">        Optionally, a module that uses the filtered dataset as input can be specified.</span>

<span class="sd">        # TODO: document filter names</span>
<span class="sd">        For the &#39;filters&#39; argument, the accepted inputs are:</span>
<span class="sd">        - a string, in which case a single-step pipeline will be created, with the string referencing the operation id or filter</span>
<span class="sd">        - a list of strings: in which case a multi-step pipeline will be created, the step_ids will be calculated automatically</span>
<span class="sd">        - a map of string pairs: the keys are step ids, the values operation ids or filter names</span>

<span class="sd">        Arguments:</span>
<span class="sd">            data_type: the type of the data to filter</span>
<span class="sd">            filters: a list of operation ids or filter names (and potentiall step_ids if type is a mapping)</span>
<span class="sd">            endpoint: optional module to put as last step in the created pipeline</span>
<span class="sd">            endpoing_input_field: field name of the input that will receive the filtered value</span>
<span class="sd">            endpoint_step_id: id to use for the endpoint step (module type name will be used if not provided)</span>
<span class="sd">            extra_input_aliases: extra output aliases to add to the pipeline config</span>
<span class="sd">            extra_output_aliases: extra output aliases to add to the pipeline config</span>

<span class="sd">        Returns:</span>
<span class="sd">            the (pipeline) module configuration of the filter pipeline</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">filter_op_type</span><span class="p">:</span> <span class="n">FilterOperationType</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation_type</span><span class="p">(</span><span class="s2">&quot;filter&quot;</span><span class="p">)</span>
        <span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="n">pipeline_config</span> <span class="o">=</span> <span class="n">filter_op_type</span><span class="o">.</span><span class="n">assemble_filter_pipeline_config</span><span class="p">(</span>
            <span class="n">data_type</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span>
            <span class="n">filters</span><span class="o">=</span><span class="n">filters</span><span class="p">,</span>
            <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span>
            <span class="n">endpoint_input_field</span><span class="o">=</span><span class="n">endpoint_input_field</span><span class="p">,</span>
            <span class="n">endpoint_step_id</span><span class="o">=</span><span class="n">endpoint_step_id</span><span class="p">,</span>
            <span class="n">extra_input_aliases</span><span class="o">=</span><span class="n">extra_input_aliases</span><span class="p">,</span>
            <span class="n">extra_output_aliases</span><span class="o">=</span><span class="n">extra_output_aliases</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">pipeline_config</span>

    <span class="c1"># ------------------------------------------------------------------------------------------------------------------</span>
    <span class="c1"># metadata-related methods</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">register_metadata_item</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register a metadata item into the specified metadata store.</span>

<span class="sd">        Currently, this allows you to store comments within the default kiara context. You can use any string,</span>
<span class="sd">        as key, for example a stringified `job_id`, or `value_id`, or any other string that makes sense in</span>
<span class="sd">        the context you are using this in.</span>

<span class="sd">        If you use the store argument, the store needs to be mounted into the current *kiara* context. For now,</span>
<span class="sd">        you can ignore this and not provide any value here, since this area is still in flux. If you need</span>
<span class="sd">        to store a metadata item into an external context, and you can&#39;t figure out how to do it,</span>
<span class="sd">        let me know.</span>

<span class="sd">        Note: this is preliminary and subject to change based on your input, so please provide your thoughts</span>

<span class="sd">        Arguments:</span>
<span class="sd">            key: the key under which to store the metadata (can be anything you can think of)</span>
<span class="sd">            value: the comment you want to store</span>
<span class="sd">            store: the store to use, by default the context default is used</span>

<span class="sd">        Returns:</span>
<span class="sd">            a globally unique identifier for the metadata item</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="s2">&quot;Cannot store empty metadata item.&quot;</span><span class="p">)</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">CommentMetadata</span>

        <span class="n">item</span> <span class="o">=</span> <span class="n">CommentMetadata</span><span class="p">(</span><span class="n">comment</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">register_metadata_item</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">item</span><span class="o">=</span><span class="n">item</span><span class="p">,</span> <span class="n">store</span><span class="o">=</span><span class="n">store</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">find_metadata_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.registries.metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">MetadataMatcher</span>

        <span class="n">matcher</span> <span class="o">=</span> <span class="n">MetadataMatcher</span><span class="o">.</span><span class="n">create_matcher</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">find_metadata_items</span><span class="p">(</span><span class="n">matcher</span><span class="o">=</span><span class="n">matcher</span><span class="p">)</span>

    <span class="c1"># ------------------------------------------------------------------------------------------------------------------</span>
    <span class="c1"># render-related methods</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_renderer_infos</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">source_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">target_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RendererInfos</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve information about the available renderers.</span>

<span class="sd">        Note: this is preliminary and mainly used in the cli, if another use-case comes up let me know and I&#39;ll make this more generic, and an &#39;official&#39; endpoint.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            source_type: the type of the item to render (optional filter)</span>
<span class="sd">            target_type: the type/profile of the rendered result (optional filter)</span>

<span class="sd">        Returns:</span>
<span class="sd">            a wrapper object containing the items as dictionary with renderer alias as key, and [kiara.interfaces.python_api.models.info.RendererInfo] as value</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">source_type</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">target_type</span><span class="p">:</span>
            <span class="n">renderers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">render_registry</span><span class="o">.</span><span class="n">registered_renderers</span>
        <span class="k">elif</span> <span class="n">source_type</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">target_type</span><span class="p">:</span>
            <span class="n">renderers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">render_registry</span><span class="o">.</span><span class="n">retrieve_renderers_for_source_type</span><span class="p">(</span>
                <span class="n">source_type</span><span class="o">=</span><span class="n">source_type</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">target_type</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">source_type</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Cannot retrieve renderers for target type only.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">renderers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">render_registry</span><span class="o">.</span><span class="n">retrieve_renderers_for_source_target_combination</span><span class="p">(</span>
                <span class="n">source_type</span><span class="o">=</span><span class="n">source_type</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                <span class="n">target_type</span><span class="o">=</span><span class="n">target_type</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="p">)</span>

        <span class="n">group</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="o">.</span><span class="n">get_renderer_alias</span><span class="p">():</span> <span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">renderers</span><span class="p">}</span>
        <span class="n">infos</span> <span class="o">=</span> <span class="n">RendererInfos</span><span class="o">.</span><span class="n">create_from_instances</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instances</span><span class="o">=</span><span class="n">group</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">infos</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_renderers_for</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">KiaraRenderer</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve available renderer instances for a specific data type.</span>

<span class="sd">        Note: this is not preliminary, and, mainly used in the cli, if another use-case comes up let me know and I&#39;ll make this more generic, and an &#39;official&#39; endpoint.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">render_registry</span><span class="o">.</span><span class="n">retrieve_renderers_for_source_type</span><span class="p">(</span>
            <span class="n">source_type</span><span class="o">=</span><span class="n">source_type</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">render</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">item</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">source_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">target_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">render_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Render an internal instance of a supported source type into one of the supported target types.</span>

<span class="sd">        Note: this is not preliminary, and, mainly used in the cli, if another use-case comes up let me know and I&#39;ll make this more generic, and an &#39;official&#39; endpoint.</span>

<span class="sd">        To find out the supported source/target combinations, you can use the kiara cli:</span>

<span class="sd">        ```</span>
<span class="sd">        kiara render list-renderers</span>
<span class="sd">        ```</span>
<span class="sd">        or, for a filtered list:</span>
<span class="sd">        ````</span>
<span class="sd">        kiara render --source-type pipeline list-renderers</span>
<span class="sd">        ```</span>

<span class="sd">        What Python types are actually supported for the &#39;item&#39; argument depends on the source_type of the renderer you are calling, for example if that is a pipeline, most of the ways to specify a pipeline would be supported (operation_id, pipeline file, etc.). This might need more documentation, let me know what exactly is needed in a support ticket and I&#39;ll add that information.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            item: the item to render</span>
<span class="sd">            source_type: the type of the item to render</span>
<span class="sd">            target_type: the type/profile of the rendered result</span>
<span class="sd">            render_config: optional configuration, depends on the renderer that is called</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">registry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">render_registry</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">registry</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
            <span class="n">item</span><span class="o">=</span><span class="n">item</span><span class="p">,</span>
            <span class="n">source_type</span><span class="o">=</span><span class="n">source_type</span><span class="p">,</span>
            <span class="n">target_type</span><span class="o">=</span><span class="n">target_type</span><span class="p">,</span>
            <span class="n">render_config</span><span class="o">=</span><span class="n">render_config</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">assemble_render_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">target_format</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="n">filters</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">use_pretty_print</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Operation</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a manifest describing a transformation that renders a value of the specified data type in the target format.</span>

<span class="sd">        NOTE: this is a preliminary endpoint, don&#39;t use in anger yet.</span>

<span class="sd">        If a list is provided as value for &#39;target_format&#39;, all items are tried until a &#39;render_value&#39; operation is found that matches</span>
<span class="sd">        the value type of the source value, and the provided target format.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            value: the value (or value id)</span>
<span class="sd">            target_format: the format into which to render the value</span>
<span class="sd">            filters: a list of filters to apply to the value before rendering it</span>
<span class="sd">            use_pretty_print: if True, use a &#39;pretty_print&#39; operation instead of &#39;render_value&#39;</span>

<span class="sd">        Returns:</span>
<span class="sd">            the manifest for the transformation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">data_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_type_names</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">DataTypeUnknownException</span><span class="p">(</span><span class="n">data_type</span><span class="o">=</span><span class="n">data_type</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">use_pretty_print</span><span class="p">:</span>
            <span class="n">pretty_print_op_type</span><span class="p">:</span> <span class="n">PrettyPrintOperationType</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation_type</span><span class="p">(</span><span class="s2">&quot;pretty_print&quot;</span><span class="p">)</span>
            <span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="n">ops</span> <span class="o">=</span> <span class="n">pretty_print_op_type</span><span class="o">.</span><span class="n">get_target_types_for</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">render_op_type</span><span class="p">:</span> <span class="n">RenderValueOperationType</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation_type</span><span class="p">(</span>
                    <span class="c1"># type: ignore</span>
                    <span class="s2">&quot;render_value&quot;</span>
                <span class="p">)</span>
            <span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="n">ops</span> <span class="o">=</span> <span class="n">render_op_type</span><span class="o">.</span><span class="n">get_render_operations_for_source_type</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target_format</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">target_format</span> <span class="o">=</span> <span class="p">[</span><span class="n">target_format</span><span class="p">]</span>

        <span class="n">match</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">_target_type</span> <span class="ow">in</span> <span class="n">target_format</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">_target_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ops</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">continue</span>
            <span class="n">match</span> <span class="o">=</span> <span class="n">ops</span><span class="p">[</span><span class="n">_target_type</span><span class="p">]</span>
            <span class="k">break</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">match</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ops</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;No render operations registered for source type &#39;</span><span class="si">{</span><span class="n">data_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Registered target types for source type &#39;</span><span class="si">{</span><span class="n">data_type</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ops</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No render operation for source type &#39;</span><span class="si">{</span><span class="n">data_type</span><span class="si">}</span><span class="s2">&#39; to target type(s) registered: &#39;</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">target_format</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;. </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">filters</span><span class="p">:</span>
            <span class="c1"># filter_op_type: FilterOperationType = self._kiara.operation_registry.get_operation_type(&quot;filter&quot;)  # type: ignore</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="n">Manifest</span><span class="p">(</span>
                <span class="n">module_type</span><span class="o">=</span><span class="n">match</span><span class="o">.</span><span class="n">module_type</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">match</span><span class="o">.</span><span class="n">module_config</span>
            <span class="p">)</span>
            <span class="n">extra_input_aliases</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;render_value.render_config&quot;</span><span class="p">:</span> <span class="s2">&quot;render_config&quot;</span><span class="p">}</span>
            <span class="n">extra_output_aliases</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;render_value.render_value_result&quot;</span><span class="p">:</span> <span class="s2">&quot;render_value_result&quot;</span>
            <span class="p">}</span>
            <span class="n">pipeline_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assemble_filter_pipeline_config</span><span class="p">(</span>
                <span class="n">data_type</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span>
                <span class="n">filters</span><span class="o">=</span><span class="n">filters</span><span class="p">,</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span>
                <span class="n">endpoint_input_field</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">,</span>
                <span class="n">endpoint_step_id</span><span class="o">=</span><span class="s2">&quot;render_value&quot;</span><span class="p">,</span>
                <span class="n">extra_input_aliases</span><span class="o">=</span><span class="n">extra_input_aliases</span><span class="p">,</span>
                <span class="n">extra_output_aliases</span><span class="o">=</span><span class="n">extra_output_aliases</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">manifest</span> <span class="o">=</span> <span class="n">Manifest</span><span class="p">(</span>
                <span class="n">module_type</span><span class="o">=</span><span class="s2">&quot;pipeline&quot;</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>
            <span class="p">)</span>
            <span class="n">module</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">module_registry</span><span class="o">.</span><span class="n">create_module</span><span class="p">(</span><span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">)</span>
            <span class="n">operation</span> <span class="o">=</span> <span class="n">Operation</span><span class="o">.</span><span class="n">create_from_module</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">doc</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">operation</span> <span class="o">=</span> <span class="n">match</span>

        <span class="k">return</span> <span class="n">operation</span>

    <span class="c1"># ------------------------------------------------------------------------------------------------------------------</span>
    <span class="c1"># job-related methods</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">queue_manifest</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span><span class="p">,</span>
        <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">job_metadata</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Queue a job using the provided manifest to describe the module and config that should be executed.</span>

<span class="sd">        You probably want to use &#39;queue_job&#39; instead.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            manifest: the manifest</span>
<span class="sd">            inputs: the job inputs (can be either references to values, or raw inputs</span>

<span class="sd">        Returns:</span>
<span class="sd">            a result value map instance</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">runtime_config</span><span class="o">.</span><span class="n">runtime_profile</span> <span class="o">==</span> <span class="s2">&quot;dharpa&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">job_metadata</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="s2">&quot;No job metadata provided. You need to provide a &#39;comment&#39; argument when running your job.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="s2">&quot;comment&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">job_metadata</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s2">&quot;You need to provide a &#39;comment&#39; for the job.&quot;</span><span class="p">)</span>

            <span class="n">save_values</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">save_values</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="s2">&quot;comment&quot;</span> <span class="ow">in</span> <span class="n">job_metadata</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">and</span> <span class="n">job_metadata</span><span class="p">[</span><span class="s2">&quot;comment&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">job_metadata</span><span class="p">[</span><span class="s2">&quot;comment&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">inputs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">inputs</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">job_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">prepare_job_config</span><span class="p">(</span>
            <span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span>
        <span class="p">)</span>

        <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">execute_job</span><span class="p">(</span>
            <span class="n">job_config</span><span class="o">=</span><span class="n">job_config</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">auto_save_result</span><span class="o">=</span><span class="n">save_values</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">job_metadata</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">register_job_metadata_items</span><span class="p">(</span>
                <span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">job_metadata</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">job_id</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run_manifest</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span><span class="p">,</span>
        <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">job_metadata</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run a job using the provided manifest to describe the module and config that should be executed.</span>

<span class="sd">        You probably want to use &#39;run_job&#39; instead.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            manifest: the manifest</span>
<span class="sd">            inputs: the job inputs (can be either references to values, or raw inputs</span>
<span class="sd">            job_metadata: additional metadata to store with the job</span>

<span class="sd">        Returns:</span>
<span class="sd">            a result value map instance</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">queue_manifest</span><span class="p">(</span><span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span> <span class="o">**</span><span class="n">job_metadata</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">retrieve_result</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">queue_job</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="n">Manifest</span><span class="p">,</span> <span class="n">OperationInfo</span><span class="p">,</span> <span class="n">JobDesc</span><span class="p">],</span>
        <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span>
        <span class="n">operation_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">job_metadata</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Queue a job from a operation id, module_name (and config), or pipeline file, wait for the job to finish and retrieve the result.</span>

<span class="sd">        This is a convenience method that auto-detects what is meant by the &#39;operation&#39; string input argument.</span>

<span class="sd">        If the &#39;operation&#39; is a JobDesc instance, and that JobDesc instance has the &#39;save&#39; attribute</span>
<span class="sd">        set, it will be ignored, so you&#39;ll have to store any results manually.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            operation: a module name, operation id, or a path to a pipeline file (resolved in this order, until a match is found)..</span>
<span class="sd">            inputs: the operation inputs</span>
<span class="sd">            operation_config: the (optional) module config in case &#39;operation&#39; is a module name</span>
<span class="sd">            job_metadata: additional metadata to store with the job</span>

<span class="sd">        Returns:</span>
<span class="sd">            the queued job id</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">inputs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">inputs</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">operation</span><span class="p">):</span>
                <span class="n">job_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">operation</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">job_path</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Can&#39;t queue job from file &#39;</span><span class="si">{</span><span class="n">job_path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&#39;: file does not exist/not a file.&quot;</span>
                    <span class="p">)</span>

                <span class="n">op_data</span> <span class="o">=</span> <span class="n">get_data_from_file</span><span class="p">(</span><span class="n">job_path</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">op_data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">)</span> <span class="ow">and</span> <span class="s2">&quot;operation&quot;</span> <span class="ow">in</span> <span class="n">op_data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">repl_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                            <span class="s2">&quot;this_dir&quot;</span><span class="p">:</span> <span class="n">job_path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>
                        <span class="p">}</span>
                        <span class="n">job_data</span> <span class="o">=</span> <span class="n">replace_var_names_in_obj</span><span class="p">(</span>
                            <span class="n">op_data</span><span class="p">,</span> <span class="n">repl_dict</span><span class="o">=</span><span class="n">repl_dict</span>
                        <span class="p">)</span>
                        <span class="n">job_data</span><span class="p">[</span><span class="s2">&quot;job_alias&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_path</span><span class="o">.</span><span class="n">stem</span>
                        <span class="n">job_desc</span> <span class="o">=</span> <span class="n">JobDesc</span><span class="p">(</span><span class="o">**</span><span class="n">job_data</span><span class="p">)</span>
                        <span class="n">_operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Manifest</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_desc</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span>
                            <span class="n">kiara_api</span><span class="o">=</span><span class="bp">self</span>
                        <span class="p">)</span>
                        <span class="k">if</span> <span class="n">job_desc</span><span class="o">.</span><span class="n">inputs</span><span class="p">:</span>
                            <span class="n">_inputs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">job_desc</span><span class="o">.</span><span class="n">inputs</span><span class="p">)</span>
                            <span class="n">_inputs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>
                            <span class="n">inputs</span> <span class="o">=</span> <span class="n">_inputs</span>
                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Failed to parse job description file: </span><span class="si">{</span><span class="n">operation</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                            <span class="n">parent</span><span class="o">=</span><span class="n">e</span><span class="p">,</span>
                        <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">_operation</span> <span class="o">=</span> <span class="n">job_path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">_operation</span> <span class="o">=</span> <span class="n">operation</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">operation</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t queue job from file &#39;</span><span class="si">{</span><span class="n">operation</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&#39;: file does not exist/not a file.&quot;</span>
                <span class="p">)</span>
            <span class="n">_operation</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">OperationInfo</span><span class="p">):</span>
            <span class="n">_operation</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="n">operation</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">JobDesc</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">operation_config</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                    <span class="s2">&quot;Specifying &#39;operation_config&#39; when operation is a job_desc is invalid.&quot;</span>
                <span class="p">)</span>
            <span class="n">_operation</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="n">kiara_api</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">operation</span><span class="o">.</span><span class="n">inputs</span><span class="p">:</span>
                <span class="n">_inputs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">operation</span><span class="o">.</span><span class="n">inputs</span><span class="p">)</span>
                <span class="n">_inputs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>
                <span class="n">inputs</span> <span class="o">=</span> <span class="n">_inputs</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_operation</span> <span class="o">=</span> <span class="n">operation</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_operation</span><span class="p">,</span> <span class="n">Manifest</span><span class="p">):</span>
            <span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span> <span class="o">=</span> <span class="n">create_operation</span><span class="p">(</span>
                <span class="n">module_or_operation</span><span class="o">=</span><span class="n">_operation</span><span class="p">,</span>
                <span class="n">operation_config</span><span class="o">=</span><span class="n">operation_config</span><span class="p">,</span>
                <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">manifest</span> <span class="o">=</span> <span class="n">_operation</span>

        <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">queue_manifest</span><span class="p">(</span><span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span> <span class="o">**</span><span class="n">job_metadata</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">job_id</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run_job</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="n">Manifest</span><span class="p">,</span> <span class="n">OperationInfo</span><span class="p">,</span> <span class="n">JobDesc</span><span class="p">],</span>
        <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">operation_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">job_metadata</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run a job from a operation id, module_name (and config), or pipeline file, wait for the job to finish and retrieve the result.</span>

<span class="sd">        This is a convenience method that auto-detects what is meant by the &#39;operation&#39; string input argument.</span>

<span class="sd">        In general, try to avoid this method and use &#39;queue_job&#39;, &#39;get_job&#39; and &#39;retrieve_job_result&#39; manually instead,</span>
<span class="sd">        since this is a blocking operation.</span>

<span class="sd">        If the &#39;operation&#39; is a JobDesc instance, and that JobDesc instance has the &#39;save&#39; attribute</span>
<span class="sd">        set, it will be ignored, so you&#39;ll have to store any results manually.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            operation: a module name, operation id, or a path to a pipeline file (resolved in this order, until a match is found)..</span>
<span class="sd">            inputs: the operation inputs</span>
<span class="sd">            operation_config: the (optional) module config in case &#39;operation&#39; is a module name</span>
<span class="sd">            **job_metadata: additional metadata to store with the job</span>

<span class="sd">        Returns:</span>
<span class="sd">            the job result value map</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">inputs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">inputs</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">queue_job</span><span class="p">(</span>
            <span class="n">operation</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span>
            <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
            <span class="n">operation_config</span><span class="o">=</span><span class="n">operation_config</span><span class="p">,</span>
            <span class="o">**</span><span class="n">job_metadata</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">retrieve_result</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_job</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;ActiveJob&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the status of the job with the provided id.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">job_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">job_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">job_id</span><span class="p">)</span>

        <span class="n">job_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">get_job</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">job_status</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_job_result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the result(s) of the specified job.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">job_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">job_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">job_id</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">retrieve_result</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_all_job_record_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available job ids in this kiara context, ordered from newest to oldest, including internal jobs.</span>

<span class="sd">        This should be faster than `list_job_record_ids` with equivalent parameters, because no filtering</span>
<span class="sd">        needs to be done.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">job_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">retrieve_all_job_record_ids</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">job_ids</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_job_record_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available job ids in this kiara context, ordered from newest to oldest.</span>

<span class="sd">        You can look up the supported matcher parameter arguments via the [JobMatcher][kiara.models.module.jobs.JobMatcher] class. By default, this method for example</span>
<span class="sd">        does not return jobs marked as &#39;internal&#39;.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            matcher_params: additional parameters to pass to the job matcher</span>

<span class="sd">        Returns:</span>
<span class="sd">            a list of job ids, ordered from latest to earliest</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">job_ids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">list_job_records</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">job_ids</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_all_job_records</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="s2">&quot;JobRecord&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available job records in this kiara context, ordered from newest to oldest, including internal jobs.</span>

<span class="sd">        This should be faster than `list_job_records` with equivalent parameters, because no filtering</span>
<span class="sd">        needs to be done.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">job_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">retrieve_all_job_records</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">job_records</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_job_records</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="s2">&quot;JobRecord&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available job ids in this kiara context, ordered from newest to oldest.</span>

<span class="sd">        You can look up the supported matcher parameter arguments via the [JobMatcher][kiara.models.module.jobs.JobMatcher] class. By default, this method for example</span>
<span class="sd">        does not return jobs marked as &#39;internal&#39;.</span>

<span class="sd">        You can look up the supported matcher parameter arguments via the [JobMatcher][kiara.models.module.jobs.JobMatcher] class.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            matcher_params: additional parameters to pass to the job matcher</span>

<span class="sd">        Returns:</span>
<span class="sd">            a list of job details, ordered from latest to earliest</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.module.jobs</span><span class="w"> </span><span class="kn">import</span> <span class="n">JobMatcher</span>

        <span class="n">matcher</span> <span class="o">=</span> <span class="n">JobMatcher</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
        <span class="n">job_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">find_job_records</span><span class="p">(</span><span class="n">matcher</span><span class="o">=</span><span class="n">matcher</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">job_records</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_job_record</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;JobRecord&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the detailed job record for the specified job id.</span>

<span class="sd">        If no job can be found, &#39;None&#39; is returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">job_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">job_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">job_id</span><span class="p">)</span>

        <span class="n">job_record</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">get_job_record</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">job_record</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_job_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">JobInfo</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the detailed job record for the specified job id.</span>

<span class="sd">        If no job can be found, &#39;None&#39; is returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">job_record</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_job_record</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">job_record</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">job_info</span> <span class="o">=</span> <span class="n">JobInfo</span><span class="o">.</span><span class="n">create_from_instance</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">job_record</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">job_info</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_jobs_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JobsInfo</span><span class="p">:</span>
        <span class="n">job_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_job_records</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>

        <span class="n">infos</span><span class="p">:</span> <span class="n">JobsInfo</span> <span class="o">=</span> <span class="n">JobsInfo</span><span class="o">.</span><span class="n">create_from_instances</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span>
            <span class="n">instances</span><span class="o">=</span><span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">j_id</span><span class="p">):</span> <span class="n">j</span> <span class="k">for</span> <span class="n">j_id</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">job_records</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span>
        <span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">return</span> <span class="n">infos</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">render_value</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">],</span>
        <span class="n">target_format</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="n">filters</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">render_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">add_root_scenes</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">use_pretty_print</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderValueResult</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Render a value in the specified target format.</span>

<span class="sd">        NOTE: this is a preliminary endpoint, don&#39;t use in anger yet.</span>

<span class="sd">        If a list is provided as value for &#39;target_format&#39;, all items are tried until a &#39;render_value&#39; operation is found that matches</span>
<span class="sd">        the value type of the source value, and the provided target format.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            value: the value (or value id)</span>
<span class="sd">            target_format: the format into which to render the value</span>
<span class="sd">            filters: an (optional) list of filters</span>
<span class="sd">            render_config: manifest specific render configuration</span>
<span class="sd">            add_root_scenes: add root scenes to the result</span>
<span class="sd">            use_pretty_print: use &#39;pretty_print&#39; operation instead of &#39;render_value&#39;</span>

<span class="sd">        Returns:</span>
<span class="sd">            the rendered value data, and any related scenes, if applicable</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">render_operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assemble_render_pipeline</span><span class="p">(</span>
                <span class="n">data_type</span><span class="o">=</span><span class="n">_value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">,</span>
                <span class="n">target_format</span><span class="o">=</span><span class="n">target_format</span><span class="p">,</span>
                <span class="n">filters</span><span class="o">=</span><span class="n">filters</span><span class="p">,</span>
                <span class="n">use_pretty_print</span><span class="o">=</span><span class="n">use_pretty_print</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_message</span><span class="p">(</span>
                <span class="s2">&quot;create_render_pipeline.failure&quot;</span><span class="p">,</span>
                <span class="n">source_type</span><span class="o">=</span><span class="n">_value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">,</span>
                <span class="n">target_format</span><span class="o">=</span><span class="n">target_format</span><span class="p">,</span>
                <span class="n">error</span><span class="o">=</span><span class="n">e</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">use_pretty_print</span><span class="p">:</span>
                <span class="n">pretty_print_ops</span><span class="p">:</span> <span class="n">PrettyPrintOperationType</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation_type</span><span class="p">(</span><span class="s2">&quot;pretty_print&quot;</span><span class="p">)</span>
                <span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target_format</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                        <span class="s2">&quot;Can&#39;t handle multiple target formats for &#39;render_value&#39; yet.&quot;</span>
                    <span class="p">)</span>
                <span class="n">render_operation</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">pretty_print_ops</span><span class="o">.</span><span class="n">get_operation_for_render_combination</span><span class="p">(</span>
                        <span class="n">source_type</span><span class="o">=</span><span class="s2">&quot;any&quot;</span><span class="p">,</span> <span class="n">target_type</span><span class="o">=</span><span class="n">target_format</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">render_ops</span><span class="p">:</span> <span class="n">RenderValueOperationType</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation_type</span><span class="p">(</span><span class="s2">&quot;render_value&quot;</span><span class="p">)</span>
                <span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target_format</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                        <span class="s2">&quot;Can&#39;t handle multiple target formats for &#39;render_value&#39; yet.&quot;</span>
                    <span class="p">)</span>
                <span class="n">render_operation</span> <span class="o">=</span> <span class="n">render_ops</span><span class="o">.</span><span class="n">get_render_operation</span><span class="p">(</span>
                    <span class="n">source_type</span><span class="o">=</span><span class="s2">&quot;any&quot;</span><span class="p">,</span> <span class="n">target_type</span><span class="o">=</span><span class="n">target_format</span>
                <span class="p">)</span>

        <span class="k">if</span> <span class="n">render_operation</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Could not find render operation for value &#39;</span><span class="si">{</span><span class="n">_value</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;, type: </span><span class="si">{</span><span class="n">_value</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">render_config</span> <span class="ow">and</span> <span class="s2">&quot;render_config&quot;</span> <span class="ow">in</span> <span class="n">render_config</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="c1"># raise NotImplementedError()</span>
            <span class="c1"># TODO: is this necessary?</span>
            <span class="n">render_config</span> <span class="o">=</span> <span class="n">render_config</span><span class="p">[</span><span class="s2">&quot;render_config&quot;</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
            <span class="c1"># manifest_hash = render_config[&quot;manifest_hash&quot;]</span>
            <span class="c1"># if manifest_hash != render_operation.manifest_hash:</span>
            <span class="c1">#     raise NotImplementedError(</span>
            <span class="c1">#         &quot;Using a non-default render operation is not supported (yet).&quot;</span>
            <span class="c1">#     )</span>
            <span class="c1"># render_config = render_config[&quot;render_config&quot;]</span>

        <span class="k">if</span> <span class="n">render_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">render_config</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">render_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">render_config</span><span class="p">)</span>

        <span class="c1"># render_type = render_config.pop(&quot;render_type&quot;, None)</span>
        <span class="c1"># if not render_type or render_type == &quot;data&quot;:</span>
        <span class="c1">#     pass</span>
        <span class="c1"># elif render_type == &quot;metadata&quot;:</span>
        <span class="c1">#     pass</span>
        <span class="c1"># elif render_type == &quot;properties&quot;:</span>
        <span class="c1">#     pass</span>
        <span class="c1"># elif render_type == &quot;lineage&quot;:</span>
        <span class="c1">#     pass</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">render_operation</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span>
            <span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">_value</span><span class="p">,</span> <span class="s2">&quot;render_config&quot;</span><span class="p">:</span> <span class="n">render_config</span><span class="p">},</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">use_pretty_print</span><span class="p">:</span>
            <span class="n">render_result</span><span class="p">:</span> <span class="n">Value</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;rendered_value&quot;</span><span class="p">]</span>
            <span class="n">value_render_data</span><span class="p">:</span> <span class="n">RenderValueResult</span> <span class="o">=</span> <span class="n">render_result</span><span class="o">.</span><span class="n">data</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">render_result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;render_value_result&quot;</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">render_result</span><span class="o">.</span><span class="n">data_type_name</span> <span class="o">!=</span> <span class="s2">&quot;render_value_result&quot;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid result type for render operation: </span><span class="si">{</span><span class="n">render_result</span><span class="o">.</span><span class="n">data_type_name</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

            <span class="n">value_render_data</span> <span class="o">=</span> <span class="n">render_result</span><span class="o">.</span><span class="n">data</span>  <span class="c1"># type: ignore</span>

        <span class="k">return</span> <span class="n">value_render_data</span>

    <span class="c1"># ------------------------------------------------------------------------------------------------------------------</span>
    <span class="c1"># workflow-related methods</span>
    <span class="c1"># all of the workflow-related methods are provisional experiments, so don&#39;t rely on them to be availale long term</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_workflow_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available workflow ids.</span>

<span class="sd">        NOTE: this is a provisional endpoint, don&#39;t use in anger yet</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">all_workflow_ids</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_workflow_alias_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; &quot;List all available workflow aliases.</span>

<span class="sd">        NOTE: this is a provisional endpoint, don&#39;t use in anger yet</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">workflow_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_workflow</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workflow</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span> <span class="n">create_if_necessary</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Workflow&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the workflow instance with the specified id or alias.</span>

<span class="sd">        NOTE: this is a provisional endpoint, don&#39;t use in anger yet</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">no_such_alias</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">workflow_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">workflow_alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">workflow</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">workflow_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">workflow</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="n">workflow_alias</span> <span class="o">=</span> <span class="n">workflow</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">workflow_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">get_workflow_id</span><span class="p">(</span>
                        <span class="n">workflow_alias</span><span class="o">=</span><span class="n">workflow</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="n">NoSuchWorkflowException</span><span class="p">:</span>
                    <span class="n">no_such_alias</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">workflow_id</span> <span class="o">=</span> <span class="n">workflow</span>

        <span class="k">if</span> <span class="n">workflow_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t retrieve workflow for: </span><span class="si">{</span><span class="n">workflow</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">workflow_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workflow_cache</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workflow_cache</span><span class="p">[</span><span class="n">workflow_id</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">workflow_id</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">create_if_necessary</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">no_such_alias</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;No workflow with id &#39;</span><span class="si">{</span><span class="n">workflow</span><span class="si">}</span><span class="s2">&#39; registered.&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;No workflow with alias &#39;</span><span class="si">{</span><span class="n">workflow</span><span class="si">}</span><span class="s2">&#39; registered.&quot;</span>

            <span class="k">raise</span> <span class="n">NoSuchWorkflowException</span><span class="p">(</span><span class="n">workflow</span><span class="o">=</span><span class="n">workflow</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">workflow_id</span><span class="p">:</span>
            <span class="c1"># workflow_metadata = self.context.workflow_registry.get_workflow_metadata(</span>
            <span class="c1">#     workflow=workflow_id</span>
            <span class="c1"># )</span>
            <span class="n">workflow_obj</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">workflow</span><span class="o">=</span><span class="n">workflow_id</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workflow_cache</span><span class="p">[</span><span class="n">workflow_obj</span><span class="o">.</span><span class="n">workflow_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">workflow_obj</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># means we need to create it</span>
            <span class="n">workflow_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_workflow</span><span class="p">(</span><span class="n">workflow_alias</span><span class="o">=</span><span class="n">workflow_alias</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">workflow_obj</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_workflow_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workflow</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="s2">&quot;Workflow&quot;</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkflowInfo</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve information about the specified workflow.</span>

<span class="sd">        NOTE: this is a provisional endpoint, don&#39;t use in anger yet</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.workflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">Workflow</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">workflow</span><span class="p">,</span> <span class="n">Workflow</span><span class="p">):</span>
            <span class="n">_workflow</span><span class="p">:</span> <span class="n">Workflow</span> <span class="o">=</span> <span class="n">workflow</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_workflow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">WorkflowInfo</span><span class="o">.</span><span class="n">create_from_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="o">=</span><span class="n">_workflow</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_workflows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;WorkflowsMap&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available workflow sessions, indexed by their unique id.&quot;&quot;&quot;</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.models.doc</span><span class="w"> </span><span class="kn">import</span> <span class="n">WorkflowsMap</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.models.workflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">WorkflowMatcher</span>

        <span class="n">workflows</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">matcher</span> <span class="o">=</span> <span class="n">WorkflowMatcher</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">matcher</span><span class="o">.</span><span class="n">has_alias</span><span class="p">:</span>
            <span class="k">for</span> <span class="p">(</span>
                <span class="n">alias</span><span class="p">,</span>
                <span class="n">workflow_id</span><span class="p">,</span>
            <span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">workflow_aliases</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">workflow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="o">=</span><span class="n">workflow_id</span><span class="p">)</span>
                <span class="n">workflows</span><span class="p">[</span><span class="n">workflow</span><span class="o">.</span><span class="n">workflow_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">workflow</span>
            <span class="k">return</span> <span class="n">WorkflowsMap</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">workflows</span><span class="o">.</span><span class="n">items</span><span class="p">()})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">workflow_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">all_workflow_ids</span><span class="p">:</span>
                <span class="n">workflow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="o">=</span><span class="n">workflow_id</span><span class="p">)</span>
                <span class="n">workflows</span><span class="p">[</span><span class="n">workflow_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">workflow</span>
            <span class="k">return</span> <span class="n">WorkflowsMap</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">workflows</span><span class="o">.</span><span class="n">items</span><span class="p">()})</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_workflow_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;WorkflowsMap&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all available workflow sessions that have an alias, indexed by alias.</span>

<span class="sd">        NOTE: this is a provisional endpoint, don&#39;t use in anger yet</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.models.doc</span><span class="w"> </span><span class="kn">import</span> <span class="n">WorkflowsMap</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.workflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">Workflow</span>

        <span class="k">if</span> <span class="n">matcher_params</span><span class="p">:</span>
            <span class="n">matcher_params</span><span class="p">[</span><span class="s2">&quot;has_alias&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">workflows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_workflows</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
            <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Workflow</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">workflow</span> <span class="ow">in</span> <span class="n">workflows</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">aliases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">get_aliases</span><span class="p">(</span>
                    <span class="n">workflow_id</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">workflow_id</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">aliases</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Duplicate workflow alias &#39;</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">&#39;: this is most likely a bug.&quot;</span>
                        <span class="p">)</span>
                    <span class="n">result</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">workflow</span>
            <span class="n">result</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">())}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># faster if not other matcher params</span>
            <span class="n">all_aliases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">workflow_aliases</span>
            <span class="n">result</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">a</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="o">=</span><span class="n">all_aliases</span><span class="p">[</span><span class="n">a</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">all_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="p">}</span>

        <span class="k">return</span> <span class="n">WorkflowsMap</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="n">result</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_workflows_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkflowGroupInfo</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a map info instances for all available workflows, indexed by (stringified) workflow-id.</span>

<span class="sd">        NOTE: this is a provisional endpoint, don&#39;t use in anger yet</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">workflows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_workflows</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>

        <span class="n">workflow_infos</span> <span class="o">=</span> <span class="n">WorkflowGroupInfo</span><span class="o">.</span><span class="n">create_from_workflows</span><span class="p">(</span>
            <span class="o">*</span><span class="n">workflows</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span>
            <span class="n">group_title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">alias_map</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">workflow_aliases</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">workflow_infos</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">retrieve_workflow_aliases_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkflowGroupInfo</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a map info instances for all available workflows, indexed by alias.</span>

<span class="sd">        NOTE: this is a provisional endpoint, don&#39;t use in anger yet</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">workflows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_workflow_aliases</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
        <span class="n">workflow_infos</span> <span class="o">=</span> <span class="n">WorkflowGroupInfo</span><span class="o">.</span><span class="n">create_from_workflows</span><span class="p">(</span>
            <span class="o">*</span><span class="n">workflows</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span>
            <span class="n">group_title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">alias_map</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">workflow_aliases</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">workflow_infos</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_workflow</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">workflow_alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">initial_pipeline</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">initial_inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">documentation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">force_alias</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Workflow&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a workflow instance.</span>

<span class="sd">        NOTE: this is a provisional endpoint, don&#39;t use in anger yet</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.workflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">Workflow</span>

        <span class="k">if</span> <span class="n">workflow_alias</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">workflow_alias</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t create workflow, provided alias can&#39;t be a uuid: </span><span class="si">{</span><span class="n">workflow_alias</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="n">workflow_id</span> <span class="o">=</span> <span class="n">ID_REGISTRY</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">WorkflowMetadata</span><span class="p">(</span>
            <span class="n">workflow_id</span><span class="o">=</span><span class="n">workflow_id</span><span class="p">,</span> <span class="n">documentation</span><span class="o">=</span><span class="n">documentation</span>
        <span class="p">)</span>

        <span class="n">workflow_obj</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">workflow</span><span class="o">=</span><span class="n">metadata</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">workflow_alias</span><span class="p">:</span>
            <span class="n">workflow_obj</span><span class="o">.</span><span class="n">_pending_aliases</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">workflow_alias</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">initial_pipeline</span><span class="p">:</span>
            <span class="n">operation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="n">operation</span><span class="o">=</span><span class="n">initial_pipeline</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">operation</span><span class="o">.</span><span class="n">module_type</span> <span class="o">==</span> <span class="s2">&quot;pipeline&quot;</span><span class="p">:</span>
                <span class="n">pipeline_details</span><span class="p">:</span> <span class="n">PipelineOperationDetails</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="n">operation_details</span>  <span class="c1"># type: ignore</span>
                <span class="n">workflow_obj</span><span class="o">.</span><span class="n">add_steps</span><span class="p">(</span><span class="o">*</span><span class="n">pipeline_details</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">steps</span><span class="p">)</span>
                <span class="n">input_aliases</span> <span class="o">=</span> <span class="n">pipeline_details</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">input_aliases</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">input_aliases</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">workflow_obj</span><span class="o">.</span><span class="n">set_input_alias</span><span class="p">(</span><span class="n">input_field</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="n">v</span><span class="p">)</span>
                <span class="n">output_aliases</span> <span class="o">=</span> <span class="n">pipeline_details</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">output_aliases</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">output_aliases</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">workflow_obj</span><span class="o">.</span><span class="n">set_output_alias</span><span class="p">(</span><span class="n">output_field</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="n">v</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

            <span class="n">workflow_obj</span><span class="o">.</span><span class="n">set_inputs</span><span class="p">(</span><span class="o">**</span><span class="n">operation</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">defaults</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">initial_inputs</span><span class="p">:</span>
            <span class="n">workflow_obj</span><span class="o">.</span><span class="n">set_inputs</span><span class="p">(</span><span class="o">**</span><span class="n">initial_inputs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_workflow_cache</span><span class="p">[</span><span class="n">workflow_obj</span><span class="o">.</span><span class="n">workflow_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">workflow_obj</span>

        <span class="k">if</span> <span class="n">save</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">force_alias</span> <span class="ow">and</span> <span class="n">workflow_alias</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">unregister_alias</span><span class="p">(</span><span class="n">workflow_alias</span><span class="p">)</span>
            <span class="n">workflow_obj</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">workflow_obj</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_repr_html_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_context_info</span><span class="p">()</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">()</span>
        <span class="n">mime_bundle</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">_repr_mimebundle_</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[],</span> <span class="n">exclude</span><span class="o">=</span><span class="p">[])</span>  <span class="c1"># type: ignore</span>
        <span class="k">return</span> <span class="n">mime_bundle</span><span class="p">[</span><span class="s2">&quot;text/html&quot;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">





<h4 id="kiara.interfaces.python_api.base_api.BaseAPI-attributes">Attributes<a href="#kiara.interfaces.python_api.base_api.BaseAPI-attributes" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.doc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">doc</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.doc" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get the documentation for this API.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.context" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">context</span><span class="p">:</span> <span class="n">Kiara</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.context" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Return the kiara context.</p>
<p>DON"T USE THIS! This is going away in the production release.</p>

    </div>

</div>

<h4 id="kiara.interfaces.python_api.base_api.BaseAPI-functions">Functions<a href="#kiara.interfaces.python_api.base_api.BaseAPI-functions" class="headerlink" title="Permanent link">&para;</a></h4>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_available_plugin_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_available_plugin_names</span><span class="p">(</span><span class="n">regex</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;^kiara[-_]plugin</span><span class="se">\\</span><span class="s1">..*&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_available_plugin_names" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get a list of all available plugins.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>regex</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an optional regex to indicate the plugin naming scheme (default: /$kiara[_-]plugin..*/)</p>
              </div>
            </td>
            <td>
                  <code>&#39;^kiara[-_]plugin\\..*&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of plugin names</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_available_plugin_names</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">regex</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;^kiara[-_]plugin</span><span class="se">\\</span><span class="s2">..*&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a list of all available plugins.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        regex: an optional regex to indicate the plugin naming scheme (default: /$kiara[_-]plugin\..*/)</span>

<span class="sd">    Returns:</span>
<span class="sd">        a list of plugin names</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">regex</span><span class="p">:</span>
        <span class="n">regex</span> <span class="o">=</span> <span class="s2">&quot;^kiara[-_]plugin</span><span class="se">\\</span><span class="s2">..*&quot;</span>

    <span class="k">return</span> <span class="n">KiaraPluginInfos</span><span class="o">.</span><span class="n">get_available_plugin_names</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="n">regex</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_plugin_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_plugin_info</span><span class="p">(</span><span class="n">plugin_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraPluginInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_plugin_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get information about a plugin.</p>
<p>This contains information about included data-types, modules, operations, pipelines, as well as metadata
about author(s), etc.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>plugin_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name of the plugin</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="KiaraPluginInfo (kiara.interfaces.python_api.models.info.KiaraPluginInfo)" href="../models/info/#kiara.interfaces.python_api.models.info.KiaraPluginInfo">KiaraPluginInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary with information about the plugin</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retrieve_plugin_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plugin_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraPluginInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get information about a plugin.</span>

<span class="sd">    This contains information about included data-types, modules, operations, pipelines, as well as metadata</span>
<span class="sd">    about author(s), etc.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        plugin_name: the name of the plugin</span>

<span class="sd">    Returns:</span>
<span class="sd">        a dictionary with information about the plugin</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">info</span> <span class="o">=</span> <span class="n">KiaraPluginInfo</span><span class="o">.</span><span class="n">create_from_instance</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">plugin_name</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">info</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_plugin_infos" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_plugin_infos</span><span class="p">(</span><span class="n">plugin_name_regex</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;^kiara[-_]plugin</span><span class="se">\\</span><span class="s1">..*&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraPluginInfos</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_plugin_infos" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get information about multiple plugins.</p>
<p>This is just a convenience method to get information about multiple plugins at once.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retrieve_plugin_infos</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">plugin_name_regex</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;^kiara[-_]plugin</span><span class="se">\\</span><span class="s2">..*&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraPluginInfos</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get information about multiple plugins.</span>

<span class="sd">    This is just a convenience method to get information about multiple plugins at once.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">plugin_name_regex</span><span class="p">:</span>
        <span class="n">plugin_name_regex</span> <span class="o">=</span> <span class="s2">&quot;^kiara[-_]plugin</span><span class="se">\\</span><span class="s2">..*&quot;</span>

    <span class="n">plugin_infos</span> <span class="o">=</span> <span class="n">KiaraPluginInfos</span><span class="o">.</span><span class="n">create_group</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">plugin_name_regex</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">plugin_infos</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.get_runtime_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_runtime_config</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">KiaraRuntimeConfig</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.get_runtime_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve the current runtime configuration.</p>
<p>Check the 'KiaraRuntimeConfig' class for more information about the available options.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_runtime_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraRuntimeConfig&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the current runtime configuration.</span>

<span class="sd">    Check the &#39;KiaraRuntimeConfig&#39; class for more information about the available options.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">runtime_config</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.get_context_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_context_info</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">ContextInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.get_context_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about the current kiara context.</p>
<p>This contains information about the context, like its name/alias, the values &amp; aliases it contains, and which archives are connected to it.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_context_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve information about the current kiara context.</span>

<span class="sd">    This contains information about the context, like its name/alias, the values &amp; aliases it contains, and which archives are connected to it.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">context_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="o">.</span><span class="n">get_context_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_current_context_name</span><span class="p">()</span>
    <span class="p">)</span>
    <span class="n">info</span> <span class="o">=</span> <span class="n">ContextInfo</span><span class="o">.</span><span class="n">create_from_context_config</span><span class="p">(</span>
        <span class="n">context_config</span><span class="p">,</span>
        <span class="n">context_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_current_context_name</span><span class="p">(),</span>
        <span class="n">runtime_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="o">.</span><span class="n">runtime_config</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">info</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.ensure_plugin_packages" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ensure_plugin_packages</span><span class="p">(</span><span class="n">package_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">update</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.ensure_plugin_packages" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Ensure that the specified packages are installed.</p>
<p>NOTE: this is not tested, and it might go away in the future, so don't rely on it being available long-term. Ideally, we'll have other, external ways to manage the environment.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>package_names</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The names of the packages to install.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>update</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, update the packages if they are already installed</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="bool">bool</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>'None' if run in jupyter, 'True' if any packages were installed, 'False' otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ensure_plugin_packages</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">package_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">update</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Ensure that the specified packages are installed.</span>


<span class="sd">    NOTE: this is not tested, and it might go away in the future, so don&#39;t rely on it being available long-term. Ideally, we&#39;ll have other, external ways to manage the environment.</span>

<span class="sd">    Arguments:</span>
<span class="sd">      package_names: The names of the packages to install.</span>
<span class="sd">      update: If True, update the packages if they are already installed</span>

<span class="sd">    Returns:</span>
<span class="sd">        &#39;None&#39; if run in jupyter, &#39;True&#39; if any packages were installed, &#39;False&#39; otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">package_names</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">package_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">package_names</span><span class="p">]</span>

    <span class="n">env_reg</span> <span class="o">=</span> <span class="n">EnvironmentRegistry</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span>
    <span class="n">python_env</span><span class="p">:</span> <span class="n">PythonRuntimeEnvironment</span> <span class="o">=</span> <span class="n">env_reg</span><span class="o">.</span><span class="n">environments</span><span class="p">[</span>  <span class="c1"># type: ignore</span>
        <span class="s2">&quot;python&quot;</span>
    <span class="p">]</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">package_names</span><span class="p">:</span>
        <span class="n">package_names</span> <span class="o">=</span> <span class="n">OFFICIAL_KIARA_PLUGINS</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">update</span><span class="p">:</span>
        <span class="n">plugin_packages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">pkgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">python_env</span><span class="o">.</span><span class="n">packages</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">package_name</span> <span class="ow">in</span> <span class="n">package_names</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">package_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;git:&quot;</span><span class="p">):</span>
                <span class="n">package_name</span> <span class="o">=</span> <span class="n">package_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;git:&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="n">git</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">git</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">package_name</span> <span class="o">=</span> <span class="n">package_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">package_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;kiara-plugin.&quot;</span><span class="p">):</span>
                <span class="n">package_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;kiara-plugin.</span><span class="si">{</span><span class="n">package_name</span><span class="si">}</span><span class="s2">&quot;</span>

            <span class="k">if</span> <span class="n">git</span> <span class="ow">or</span> <span class="n">package_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pkgs</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">git</span><span class="p">:</span>
                    <span class="n">package_name</span> <span class="o">=</span> <span class="n">package_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>
                    <span class="n">plugin_packages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;git+https://x:x@github.com/DHARPA-project/</span><span class="si">{</span><span class="n">package_name</span><span class="si">}</span><span class="s2">@develop&quot;</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">plugin_packages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">package_name</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">plugin_packages</span> <span class="o">=</span> <span class="n">package_names</span>  <span class="c1"># type: ignore</span>

    <span class="n">in_jupyter</span> <span class="o">=</span> <span class="s2">&quot;google.colab&quot;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span> <span class="ow">or</span> <span class="s2">&quot;jupyter_client&quot;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">plugin_packages</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">in_jupyter</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># nothing to do</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">DummyContext</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span><span class="w"> </span><span class="fm">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;Currently installing plugins, no other operations are allowed.&quot;</span>
            <span class="p">)</span>

    <span class="n">current_context_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_contexts</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_contexts</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">DummyContext</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_current_context</span> <span class="o">=</span> <span class="n">DummyContext</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

    <span class="n">cmd</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;-q&quot;</span><span class="p">,</span> <span class="s2">&quot;--isolated&quot;</span><span class="p">,</span> <span class="s2">&quot;install&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">update</span><span class="p">:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--upgrade&quot;</span><span class="p">)</span>
    <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">plugin_packages</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">in_jupyter</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">IPython</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_ipython</span>

        <span class="n">ipython</span> <span class="o">=</span> <span class="n">get_ipython</span><span class="p">()</span>
        <span class="n">cmd_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;sc -l stdout = </span><span class="si">{</span><span class="n">sys</span><span class="o">.</span><span class="n">executable</span><span class="si">}</span><span class="s2"> -m pip </span><span class="si">{</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">ipython</span><span class="o">.</span><span class="n">magic</span><span class="p">(</span><span class="n">cmd_str</span><span class="p">)</span>
        <span class="n">exit_code</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">import</span><span class="w"> </span><span class="nn">pip._internal.cli.main</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pip</span>

        <span class="n">log_message</span><span class="p">(</span>
            <span class="s2">&quot;install.python_packages&quot;</span><span class="p">,</span> <span class="n">packages</span><span class="o">=</span><span class="n">plugin_packages</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="n">update</span>
        <span class="p">)</span>
        <span class="n">exit_code</span> <span class="o">=</span> <span class="n">pip</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_contexts</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_current_context</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">EnvironmentRegistry</span><span class="o">.</span><span class="n">_instance</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">current_context_name</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_active_context</span><span class="p">(</span><span class="n">context_name</span><span class="o">=</span><span class="n">current_context_name</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">exit_code</span> <span class="o">==</span> <span class="mi">100</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">SystemExit</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Please manually re-run all cells. Updated or newly installed plugin packages: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">plugin_packages</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">exit_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Failed to install plugin packages: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">plugin_packages</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_context_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_context_names</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_context_names" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>list the names of all available/registered contexts.</p>
<p>NOTE: this functionality might be changed in the future, depending on requirements and feedback and
whether we want to support single-file contexts in the future.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_context_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;list the names of all available/registered contexts.</span>

<span class="sd">    NOTE: this functionality might be changed in the future, depending on requirements and feedback and</span>
<span class="sd">    whether we want to support single-file contexts in the future.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="o">.</span><span class="n">available_context_names</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_context_infos" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_context_infos</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">ContextInfos</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_context_infos" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about the available/registered contexts.</p>
<p>NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retrieve_context_infos</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextInfos</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve information about the available/registered contexts.</span>

<span class="sd">    NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">ContextInfos</span><span class="o">.</span><span class="n">create_context_infos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="o">.</span><span class="n">context_configs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.get_current_context_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_current_context_name</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.get_current_context_name" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve the name of the current context.</p>
<p>NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_current_context_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the name of the current context.</span>

<span class="sd">    NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.create_new_context" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_new_context</span><span class="p">(</span><span class="n">context_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">set_active</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.create_new_context" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Create a new context.</p>
<p>NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future. So if you need something like this, please let me know.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>context_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name of the new context</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>set_active</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>set the newly created context as the active one</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_new_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">set_active</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new context.</span>

<span class="sd">    NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future. So if you need something like this, please let me know.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        context_name: the name of the new context</span>
<span class="sd">        set_active: set the newly created context as the active one</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">context_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_context_names</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t create context with name &#39;</span><span class="si">{</span><span class="n">context_name</span><span class="si">}</span><span class="s2">&#39;: context already exists.&quot;</span>
        <span class="p">)</span>

    <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="o">.</span><span class="n">create_context</span><span class="p">(</span><span class="n">context_name</span><span class="p">,</span> <span class="n">extra_pipelines</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">set_active</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_context</span> <span class="o">=</span> <span class="n">ctx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span> <span class="o">=</span> <span class="n">context_name</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.set_active_context" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_active_context</span><span class="p">(</span><span class="n">context_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">create</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.set_active_context" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Set the currently active context for this KiarAPI instance.</p>
<p>NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">set_active_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">create</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set the currently active context for this KiarAPI instance.</span>

<span class="sd">    NOTE: this functionality might be changed in the future, depending on requirements and feedback and whether we want to support single-file contexts in the future.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">context_name</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No context name provided.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">context_name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">context_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_context_names</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">create</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="o">.</span><span class="n">create_context</span><span class="p">(</span>
                <span class="n">context</span><span class="o">=</span><span class="n">context_name</span><span class="p">,</span> <span class="n">extra_pipelines</span><span class="o">=</span><span class="kc">None</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span> <span class="o">=</span> <span class="n">context_name</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No context with name &#39;</span><span class="si">{</span><span class="n">context_name</span><span class="si">}</span><span class="s2">&#39; available.&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_current_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara_config</span><span class="o">.</span><span class="n">create_context</span><span class="p">(</span>
        <span class="n">context</span><span class="o">=</span><span class="n">context_name</span><span class="p">,</span> <span class="n">extra_pipelines</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_current_context_alias</span> <span class="o">=</span> <span class="n">context_name</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_data_type_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_data_type_names</span><span class="p">(</span><span class="n">include_profiles</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_data_type_names" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get a list of all registered data types.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>include_profiles</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True, also include the names of all registered data type profiles</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_data_type_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_profiles</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a list of all registered data types.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        include_profiles: if True, also include the names of all registered data type profiles</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">get_data_type_names</span><span class="p">(</span>
        <span class="n">include_profiles</span><span class="o">=</span><span class="n">include_profiles</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.is_internal_data_type" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_internal_data_type</span><span class="p">(</span><span class="n">data_type_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.is_internal_data_type" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Checks if the data type is prepdominantly used internally by kiara, or whether it should be exposed to the user.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_internal_data_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if the data type is prepdominantly used internally by kiara, or whether it should be exposed to the user.&quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">is_internal_type</span><span class="p">(</span>
        <span class="n">data_type_name</span><span class="o">=</span><span class="n">data_type_name</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_data_types_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_data_types_info</span><span class="p">(</span><span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">include_data_type_profiles</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">python_package</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataTypeClassesInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_data_types_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about all data types.</p>
<p>A data type is a Python class that inherits from [DataType[kiara.data_types.DataType], and it wraps a specific
Python class that holds the actual data and provides metadata and convenience methods for managing the data internally. Data types are not directly used by users, but they are exposed in the input/output schemas of moudles and other data-related features.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filter</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an optional string or (list of strings) the returned datatype ids have to match (all filters in the case of a list)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_data_type_profiles</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True, also include the names of all registered data type profiles</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>python_package</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if provided, only return data types that are defined in the given python package</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="DataTypeClassesInfo (kiara.interfaces.python_api.models.info.DataTypeClassesInfo)" href="../models/info/#kiara.interfaces.python_api.models.info.DataTypeClassesInfo">DataTypeClassesInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an object containing all information about all data types</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retrieve_data_types_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include_data_type_profiles</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">python_package</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataTypeClassesInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve information about all data types.</span>

<span class="sd">    A data type is a Python class that inherits from [DataType[kiara.data_types.DataType], and it wraps a specific</span>
<span class="sd">    Python class that holds the actual data and provides metadata and convenience methods for managing the data internally. Data types are not directly used by users, but they are exposed in the input/output schemas of moudles and other data-related features.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        filter: an optional string or (list of strings) the returned datatype ids have to match (all filters in the case of a list)</span>
<span class="sd">        include_data_type_profiles: if True, also include the names of all registered data type profiles</span>
<span class="sd">        python_package: if provided, only return data types that are defined in the given python package</span>

<span class="sd">    Returns:</span>
<span class="sd">        an object containing all information about all data types</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">kiara</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span>

    <span class="k">if</span> <span class="n">python_package</span><span class="p">:</span>
        <span class="n">data_type_info</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">get_context_metadata</span><span class="p">(</span>
            <span class="n">only_for_package</span><span class="o">=</span><span class="n">python_package</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="nb">filter</span><span class="p">:</span>
            <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Filtered data types in package &#39;</span><span class="si">{</span><span class="n">python_package</span><span class="si">}</span><span class="s2">&#39;&quot;</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="nb">filter</span> <span class="o">=</span> <span class="p">[</span><span class="nb">filter</span><span class="p">]</span>

            <span class="n">filtered_types</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DataTypeClassInfo</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="k">for</span> <span class="n">dt</span> <span class="ow">in</span> <span class="n">data_type_info</span><span class="o">.</span><span class="n">item_infos</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dt</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                        <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
                        <span class="k">break</span>
                <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                    <span class="n">filtered_types</span><span class="p">[</span><span class="n">dt</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_type_info</span><span class="o">.</span><span class="n">item_infos</span><span class="p">[</span><span class="n">dt</span><span class="p">]</span>

            <span class="n">data_types_info</span> <span class="o">=</span> <span class="n">DataTypeClassesInfo</span><span class="p">(</span>
                <span class="n">group_title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">item_infos</span><span class="o">=</span><span class="n">filtered_types</span>
            <span class="p">)</span>
            <span class="c1"># data_types_info._kiara = kiara</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;All data types in package &#39;</span><span class="si">{</span><span class="n">python_package</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="n">data_types_info</span> <span class="o">=</span> <span class="n">data_type_info</span>
            <span class="n">data_types_info</span><span class="o">.</span><span class="n">group_title</span> <span class="o">=</span> <span class="n">title</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">filter</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="nb">filter</span> <span class="o">=</span> <span class="p">[</span><span class="nb">filter</span><span class="p">]</span>

            <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Filtered data_types: </span><span class="si">{</span><span class="nb">filter</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">data_type_names</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">get_data_type_names</span><span class="p">(</span>
                <span class="n">include_profiles</span><span class="o">=</span><span class="n">include_data_type_profiles</span>
            <span class="p">):</span>
                <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                        <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
                        <span class="k">break</span>

                <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                    <span class="n">data_type_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;All data types&quot;</span>
            <span class="n">data_type_names</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">get_data_type_names</span><span class="p">(</span>
                <span class="n">include_profiles</span><span class="o">=</span><span class="n">include_data_type_profiles</span>
            <span class="p">)</span>

        <span class="n">data_types</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">d</span><span class="p">:</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">get_data_type_cls</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data_type_names</span>
        <span class="p">}</span>
        <span class="n">data_types_info</span> <span class="o">=</span> <span class="n">DataTypeClassesInfo</span><span class="o">.</span><span class="n">create_from_type_items</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
            <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">group_title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="o">**</span><span class="n">data_types</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">data_types_info</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_data_type_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_data_type_info</span><span class="p">(</span><span class="n">data_type_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataTypeClassInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_data_type_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about a specific data type.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data_type</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the registered name of the data type</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="DataTypeClassInfo (kiara.interfaces.python_api.models.info.DataTypeClassInfo)" href="../models/info/#kiara.interfaces.python_api.models.info.DataTypeClassInfo">DataTypeClassInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an object containing all information about a data type</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retrieve_data_type_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataTypeClassInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve information about a specific data type.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data_type: the registered name of the data type</span>

<span class="sd">    Returns:</span>
<span class="sd">        an object containing all information about a data type</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dt_cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">get_data_type_cls</span><span class="p">(</span><span class="n">data_type_name</span><span class="p">)</span>
    <span class="n">info</span> <span class="o">=</span> <span class="n">DataTypeClassInfo</span><span class="o">.</span><span class="n">create_from_type_class</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">type_cls</span><span class="o">=</span><span class="n">dt_cls</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">info</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_module_type_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_module_type_names</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_module_type_names" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get a list of all registered module types.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_module_type_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a list of all registered module types.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">module_registry</span><span class="o">.</span><span class="n">get_module_type_names</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_module_types_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_module_types_info</span><span class="p">(</span><span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">python_package</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModuleTypesInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_module_types_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information for all available module types (or a filtered subset thereof).</p>
<p>A module type is Python class that inherits from <a class="autorefs autorefs-internal" href="../../../modules/__init__/#kiara.modules.KiaraModule">KiaraModule</a>, and is the basic
building block for processing pipelines. Module types are not used directly by users, Operations are. Operations
 are instantiated modules (meaning: the module &amp; some (optional) configuration).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filter</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an optional string (or list of string) the returned module names have to match (all filters in case of list)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>python_package</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an optional string, if provided, only modules from the specified python package are returned</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ModuleTypesInfo (kiara.interfaces.python_api.models.info.ModuleTypesInfo)" href="../models/info/#kiara.interfaces.python_api.models.info.ModuleTypesInfo">ModuleTypesInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a mapping object containing module names as keys, and information about the modules as values</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retrieve_module_types_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">python_package</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModuleTypesInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve information for all available module types (or a filtered subset thereof).</span>

<span class="sd">    A module type is Python class that inherits from [KiaraModule][kiara.modules.KiaraModule], and is the basic</span>
<span class="sd">    building block for processing pipelines. Module types are not used directly by users, Operations are. Operations</span>
<span class="sd">     are instantiated modules (meaning: the module &amp; some (optional) configuration).</span>

<span class="sd">    Arguments:</span>
<span class="sd">        filter: an optional string (or list of string) the returned module names have to match (all filters in case of list)</span>
<span class="sd">        python_package: an optional string, if provided, only modules from the specified python package are returned</span>

<span class="sd">    Returns:</span>
<span class="sd">        a mapping object containing module names as keys, and information about the modules as values</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">python_package</span><span class="p">:</span>
        <span class="n">modules_type_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">module_registry</span><span class="o">.</span><span class="n">get_context_metadata</span><span class="p">(</span>
            <span class="n">only_for_package</span><span class="o">=</span><span class="n">python_package</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="nb">filter</span><span class="p">:</span>
            <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Filtered modules: </span><span class="si">{</span><span class="nb">filter</span><span class="si">}</span><span class="s2"> (in package &#39;</span><span class="si">{</span><span class="n">python_package</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="nb">filter</span> <span class="o">=</span> <span class="p">[</span><span class="nb">filter</span><span class="p">]</span>

            <span class="n">filtered_types</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ModuleTypeInfo</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">modules_type_info</span><span class="o">.</span><span class="n">item_infos</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                        <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
                        <span class="k">break</span>

                <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                    <span class="n">filtered_types</span><span class="p">[</span><span class="n">m</span><span class="p">]</span> <span class="o">=</span> <span class="n">modules_type_info</span><span class="o">.</span><span class="n">item_infos</span><span class="p">[</span><span class="n">m</span><span class="p">]</span>

            <span class="n">module_types_info</span> <span class="o">=</span> <span class="n">ModuleTypesInfo</span><span class="p">(</span>
                <span class="n">group_title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">item_infos</span><span class="o">=</span><span class="n">filtered_types</span>
            <span class="p">)</span>
            <span class="n">module_types_info</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;All modules in package &#39;</span><span class="si">{</span><span class="n">python_package</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="n">module_types_info</span> <span class="o">=</span> <span class="n">modules_type_info</span>
            <span class="n">module_types_info</span><span class="o">.</span><span class="n">group_title</span> <span class="o">=</span> <span class="n">title</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">filter</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="nb">filter</span> <span class="o">=</span> <span class="p">[</span><span class="nb">filter</span><span class="p">]</span>
            <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Filtered modules: </span><span class="si">{</span><span class="nb">filter</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">module_types_names</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">module_registry</span><span class="o">.</span><span class="n">get_module_type_names</span><span class="p">():</span>
                <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                        <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
                        <span class="k">break</span>

                <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                    <span class="n">module_types_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;All modules&quot;</span>
            <span class="n">module_types_names</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">module_registry</span><span class="o">.</span><span class="n">get_module_type_names</span><span class="p">()</span>
            <span class="p">)</span>

        <span class="n">module_types</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">n</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">module_registry</span><span class="o">.</span><span class="n">get_module_class</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">module_types_names</span>
        <span class="p">}</span>

        <span class="n">module_types_info</span> <span class="o">=</span> <span class="n">ModuleTypesInfo</span><span class="o">.</span><span class="n">create_from_type_items</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">group_title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="o">**</span><span class="n">module_types</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">module_types_info</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_module_type_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_module_type_info</span><span class="p">(</span><span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModuleTypeInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_module_type_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about a specific module type.</p>
<p>This can be used to retrieve information like module documentation and configuration options.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>module_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the registered name of the module</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ModuleTypeInfo (kiara.interfaces.python_api.models.info.ModuleTypeInfo)" href="../models/info/#kiara.interfaces.python_api.models.info.ModuleTypeInfo">ModuleTypeInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an object containing all information about a module type</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retrieve_module_type_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModuleTypeInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve information about a specific module type.</span>

<span class="sd">    This can be used to retrieve information like module documentation and configuration options.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        module_type: the registered name of the module</span>

<span class="sd">    Returns:</span>
<span class="sd">        an object containing all information about a module type</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">m_cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">module_registry</span><span class="o">.</span><span class="n">get_module_class</span><span class="p">(</span><span class="n">module_type</span><span class="p">)</span>
    <span class="n">info</span> <span class="o">=</span> <span class="n">ModuleTypeInfo</span><span class="o">.</span><span class="n">create_from_type_class</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">type_cls</span><span class="o">=</span><span class="n">m_cls</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">info</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.create_operation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_operation</span><span class="p">(</span><span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">module_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Operation</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.create_operation" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Create an <a class="autorefs autorefs-internal" href="../../../models/module/operation/#kiara.models.module.operation.Operation">Operation</a> instance for the specified module type and (optional) config.</p>
<p>An operation is defined as a specific module type, and a specific configuration.</p>
<p>This endpoint can be used to get information about the operation itself, it's inputs &amp; outputs schemas, documentation etc.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>module_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the registered name of the module</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>module_config</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>], <span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(Optional) configuration for the module instance.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="Operation (kiara.models.module.operation.Operation)" href="../../../models/module/operation/#kiara.models.module.operation.Operation">Operation</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an Operation instance (which contains all the available information about an instantiated module)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_operation</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">module_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Operation</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create an [Operation][kiara.models.module.operation.Operation] instance for the specified module type and (optional) config.</span>

<span class="sd">    An operation is defined as a specific module type, and a specific configuration.</span>

<span class="sd">    This endpoint can be used to get information about the operation itself, it&#39;s inputs &amp; outputs schemas, documentation etc.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        module_type: the registered name of the module</span>
<span class="sd">        module_config: (Optional) configuration for the module instance.</span>

<span class="sd">    Returns:</span>
<span class="sd">        an Operation instance (which contains all the available information about an instantiated module)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">module_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">module_config</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_config</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">module_config</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">module_config</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">module_config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">module_config</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t parse module config string: </span><span class="si">{</span><span class="n">module_config</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>

    <span class="k">if</span> <span class="n">module_type</span> <span class="o">==</span> <span class="s2">&quot;pipeline&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">module_config</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Pipeline configuration can&#39;t be empty.&quot;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">module_config</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module_config</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">)</span>
        <span class="n">operation</span> <span class="o">=</span> <span class="n">create_operation</span><span class="p">(</span>
            <span class="s2">&quot;pipeline&quot;</span><span class="p">,</span> <span class="n">operation_config</span><span class="o">=</span><span class="n">module_config</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">operation</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">mc</span> <span class="o">=</span> <span class="n">Manifest</span><span class="p">(</span><span class="n">module_type</span><span class="o">=</span><span class="n">module_type</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">module_config</span><span class="p">)</span>
        <span class="n">module_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">module_registry</span><span class="o">.</span><span class="n">create_module</span><span class="p">(</span><span class="n">mc</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">module_obj</span><span class="o">.</span><span class="n">operation</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_operation_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_operation_ids</span><span class="p">(</span><span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_operation_ids" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get a list of all operation ids that match the specified filter.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filter</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter string(s), an operation must match all of them to be included in the result</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>each operation must have at least one input that matches one of the specified types</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>each operation must have at least one output that matches one of the specified types</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>operation_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>only include operations of the specified type(s)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_internal</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to include operations that are predominantly used internally in kiara.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>python_packages</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>only include operations that are contained in one of the provided python packages</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_operation_ids</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a list of all operation ids that match the specified filter.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        filter: the (optional) filter string(s), an operation must match all of them to be included in the result</span>
<span class="sd">        input_types: each operation must have at least one input that matches one of the specified types</span>
<span class="sd">        output_types: each operation must have at least one output that matches one of the specified types</span>
<span class="sd">        operation_types: only include operations of the specified type(s)</span>
<span class="sd">        include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">        python_packages: only include operations that are contained in one of the provided python packages</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">filter</span> <span class="ow">and</span> <span class="n">include_internal</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">python_packages</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operation_ids</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">list_operations</span><span class="p">(</span>
                <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
                <span class="n">input_types</span><span class="o">=</span><span class="n">input_types</span><span class="p">,</span>
                <span class="n">output_types</span><span class="o">=</span><span class="n">output_types</span><span class="p">,</span>
                <span class="n">operation_types</span><span class="o">=</span><span class="n">operation_types</span><span class="p">,</span>
                <span class="n">include_internal</span><span class="o">=</span><span class="n">include_internal</span><span class="p">,</span>
                <span class="n">python_packages</span><span class="o">=</span><span class="n">python_packages</span><span class="p">,</span>
            <span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.get_operation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_operation</span><span class="p">(</span><span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="n">allow_external</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Operation</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.get_operation" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Return the operation instance with the specified id.</p>
<p>The difference to the 'create_operation' endpoint is slight, in most cases you could use either of them, but this one is a bit more convenient in most cases, as it tries to do the right thing with whatever 'operation' argument you use it. The 'create_opearation' endpoint will always create a new 'Operation' instance, while this may or may not return a re-used one.</p>
<p>This endpoint can be used to get information about a specific operation, like inputs/outputs scheman, documentation, etc.</p>
<p>The order in which the operation argument is resolved:
- if it's a string, and an existing, registered operation_id, the associated operation is returned
- if it's a path to an existing file, the content of the file is loaded into a dict and depending on the content a pipeline module will be created, or a 'normal' manifest (if module_type is a key in the dict)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>operation</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>], <span title="str">str</span>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the operation id, module_type_name, path to a file, or url</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>allow_external</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="bool">bool</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True, allow loading operations from external sources (e.g. a URL), if 'None' is provided, the configured value in the runtime configuration is used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="Operation (kiara.models.module.operation.Operation)" href="../../../models/module/operation/#kiara.models.module.operation.Operation">Operation</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>operation instance data</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_operation</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
    <span class="n">allow_external</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Operation</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the operation instance with the specified id.</span>

<span class="sd">    The difference to the &#39;create_operation&#39; endpoint is slight, in most cases you could use either of them, but this one is a bit more convenient in most cases, as it tries to do the right thing with whatever &#39;operation&#39; argument you use it. The &#39;create_opearation&#39; endpoint will always create a new &#39;Operation&#39; instance, while this may or may not return a re-used one.</span>

<span class="sd">    This endpoint can be used to get information about a specific operation, like inputs/outputs scheman, documentation, etc.</span>

<span class="sd">    The order in which the operation argument is resolved:</span>
<span class="sd">    - if it&#39;s a string, and an existing, registered operation_id, the associated operation is returned</span>
<span class="sd">    - if it&#39;s a path to an existing file, the content of the file is loaded into a dict and depending on the content a pipeline module will be created, or a &#39;normal&#39; manifest (if module_type is a key in the dict)</span>

<span class="sd">    Arguments:</span>
<span class="sd">        operation: the operation id, module_type_name, path to a file, or url</span>
<span class="sd">        allow_external: if True, allow loading operations from external sources (e.g. a URL), if &#39;None&#39; is provided, the configured value in the runtime configuration is used.</span>

<span class="sd">    Returns:</span>
<span class="sd">        operation instance data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_module_type</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_module_config</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">allow_external</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">allow_external</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_runtime_config</span><span class="p">()</span><span class="o">.</span><span class="n">allow_external</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
        <span class="n">operation</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="nb">isinstance</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">)</span>
        <span class="ow">and</span> <span class="s2">&quot;module_type&quot;</span> <span class="ow">in</span> <span class="n">operation</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="ow">and</span> <span class="s2">&quot;module_config&quot;</span> <span class="ow">in</span> <span class="n">operation</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">operation</span><span class="p">[</span><span class="s2">&quot;module_config&quot;</span><span class="p">]</span>
    <span class="p">):</span>
        <span class="n">operation</span> <span class="o">=</span> <span class="n">operation</span><span class="p">[</span><span class="s2">&quot;module_type&quot;</span><span class="p">]</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">operation</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_operation_ids</span><span class="p">(</span><span class="n">include_internal</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
            <span class="n">_operation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="n">operation</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">_operation</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">allow_external</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">NoSuchExecutionTargetException</span><span class="p">(</span>
                <span class="n">selected_target</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span>
                <span class="n">available_targets</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operation_ids</span><span class="p">,</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t find operation with id &#39;</span><span class="si">{</span><span class="n">operation</span><span class="si">}</span><span class="s2">&#39;, and external operations are not allowed.&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">operation</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.module.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">PipelineConfig</span>

                <span class="c1"># we use the &#39;from_file&#39; here, because that will resolve any relative paths in the pipeline</span>
                <span class="c1"># if this doesn&#39;t work, we just assume the file is not a pipeline configuration but</span>
                <span class="c1"># a manifest file with &#39;module_type&#39; and optional &#39;module_config&#39; keys</span>
                <span class="n">pipeline_conf</span> <span class="o">=</span> <span class="n">PipelineConfig</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span>
                    <span class="n">path</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span>
                <span class="p">)</span>
                <span class="n">_module_config</span> <span class="o">=</span> <span class="n">pipeline_conf</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">log_exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="n">_module_config</span> <span class="o">=</span> <span class="n">get_data_from_file</span><span class="p">(</span><span class="n">operation</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">operation</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">):</span>
            <span class="n">_module_config</span> <span class="o">=</span> <span class="n">get_data_from_url</span><span class="p">(</span><span class="n">operation</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">_module_config</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">operation</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">_module_config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">operation</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Can&#39;t parse configuration string: </span><span class="si">{</span><span class="n">operation</span><span class="si">}</span><span class="s2">.&quot;</span>
                    <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_module_config</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">NoSuchExecutionTargetException</span><span class="p">(</span>
                <span class="n">selected_target</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span>
                <span class="n">available_targets</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operation_ids</span><span class="p">,</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t find operation or execution target for string &#39;</span><span class="si">{</span><span class="n">operation</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">_module_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">operation</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="s2">&quot;module_type&quot;</span> <span class="ow">in</span> <span class="n">_module_config</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">_module_type</span> <span class="o">=</span> <span class="n">_module_config</span><span class="p">[</span><span class="s2">&quot;module_type&quot;</span><span class="p">]</span>
        <span class="n">_module_config</span> <span class="o">=</span> <span class="n">_module_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;module_config&quot;</span><span class="p">,</span> <span class="p">{})</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_module_type</span> <span class="o">=</span> <span class="s2">&quot;pipeline&quot;</span>

    <span class="n">op</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_operation</span><span class="p">(</span>
        <span class="n">module_type</span><span class="o">=</span><span class="n">_module_type</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">_module_config</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">op</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_operations" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_operations</span><span class="p">(</span><span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationsMap</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_operations" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available operations, optionally filter.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filter</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter string(s), an operation must match all of them to be included in the result</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>each operation must have at least one input that matches one of the specified types</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>each operation must have at least one output that matches one of the specified types</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>operation_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>only include operations of the specified type(s)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_internal</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to include operations that are predominantly used internally in kiara.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>python_packages</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>only include operations that are contained in one of the provided python packages</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="OperationsMap (kiara.interfaces.python_api.models.doc.OperationsMap)" href="../models/doc/#kiara.interfaces.python_api.models.doc.OperationsMap">OperationsMap</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary with the operation id as key, and [kiara.models.module.operation.Operation] instance data as value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_operations</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;OperationsMap&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    List all available operations, optionally filter.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        filter: the (optional) filter string(s), an operation must match all of them to be included in the result</span>
<span class="sd">        input_types: each operation must have at least one input that matches one of the specified types</span>
<span class="sd">        output_types: each operation must have at least one output that matches one of the specified types</span>
<span class="sd">        operation_types: only include operations of the specified type(s)</span>
<span class="sd">        include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">        python_packages: only include operations that are contained in one of the provided python packages</span>

<span class="sd">    Returns:</span>
<span class="sd">        a dictionary with the operation id as key, and [kiara.models.module.operation.Operation] instance data as value</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">operation_types</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">operation_types</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">operation_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">operation_types</span><span class="p">]</span>
        <span class="n">temp</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">op_type_name</span> <span class="ow">in</span> <span class="n">operation_types</span><span class="p">:</span>
            <span class="n">op_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operation_types</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">op_type_name</span><span class="p">,</span> <span class="kc">None</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">op_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Operation type not registered: </span><span class="si">{</span><span class="n">op_type_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">temp</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">op_type</span><span class="o">.</span><span class="n">operations</span><span class="p">)</span>

        <span class="n">operations</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">operations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operations</span>

    <span class="k">if</span> <span class="nb">filter</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="nb">filter</span> <span class="o">=</span> <span class="p">[</span><span class="nb">filter</span><span class="p">]</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">op_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">f</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">op_id</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                    <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">break</span>
            <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                <span class="n">temp</span><span class="p">[</span><span class="n">op_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span>
        <span class="n">operations</span> <span class="o">=</span> <span class="n">temp</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">include_internal</span><span class="p">:</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">op_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">op</span><span class="o">.</span><span class="n">operation_details</span><span class="o">.</span><span class="n">is_internal_operation</span><span class="p">:</span>
                <span class="n">temp</span><span class="p">[</span><span class="n">op_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span>

        <span class="n">operations</span> <span class="o">=</span> <span class="n">temp</span>

    <span class="k">if</span> <span class="n">input_types</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_types</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">input_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">input_types</span><span class="p">]</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">op_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">input_type</span> <span class="ow">in</span> <span class="n">input_types</span><span class="p">:</span>
                <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">for</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">inputs_schema</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">schema</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">input_type</span><span class="p">:</span>
                        <span class="n">temp</span><span class="p">[</span><span class="n">op_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span>
                        <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">break</span>
                <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                    <span class="k">break</span>

        <span class="n">operations</span> <span class="o">=</span> <span class="n">temp</span>

    <span class="k">if</span> <span class="n">output_types</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">output_types</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">output_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">output_types</span><span class="p">]</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">op_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">output_type</span> <span class="ow">in</span> <span class="n">output_types</span><span class="p">:</span>
                <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">for</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">outputs_schema</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">schema</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">output_type</span><span class="p">:</span>
                        <span class="n">temp</span><span class="p">[</span><span class="n">op_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span>
                        <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">break</span>
                <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                    <span class="k">break</span>

        <span class="n">operations</span> <span class="o">=</span> <span class="n">temp</span>

    <span class="k">if</span> <span class="n">python_packages</span><span class="p">:</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">python_packages</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">python_packages</span> <span class="o">=</span> <span class="p">[</span><span class="n">python_packages</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">op_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">info</span> <span class="o">=</span> <span class="n">OperationInfo</span><span class="o">.</span><span class="n">create_from_instance</span><span class="p">(</span>
                <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">op</span>
            <span class="p">)</span>
            <span class="n">pkg</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">labels</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;package&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">pkg</span> <span class="ow">in</span> <span class="n">python_packages</span><span class="p">:</span>
                <span class="n">temp</span><span class="p">[</span><span class="n">op_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span>
        <span class="n">operations</span> <span class="o">=</span> <span class="n">temp</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.models.doc</span><span class="w"> </span><span class="kn">import</span> <span class="n">OperationsMap</span>

    <span class="k">return</span> <span class="n">OperationsMap</span><span class="o">.</span><span class="n">model_construct</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="n">operations</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_operation_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_operation_info</span><span class="p">(</span><span class="n">operation</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">allow_external</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_operation_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Return the full information for the specified operation id.</p>
<p>This is similar to the 'get_operation' method, but returns additional information. Only use this instead of
'get_operation' if you need the additional info, as it's more expensive to get.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>operation</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the operation id</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="OperationInfo (kiara.interfaces.python_api.models.info.OperationInfo)" href="../models/info/#kiara.interfaces.python_api.models.info.OperationInfo">OperationInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>augmented operation instance data</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retrieve_operation_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">operation</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">allow_external</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the full information for the specified operation id.</span>

<span class="sd">    This is similar to the &#39;get_operation&#39; method, but returns additional information. Only use this instead of</span>
<span class="sd">    &#39;get_operation&#39; if you need the additional info, as it&#39;s more expensive to get.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        operation: the operation id</span>

<span class="sd">    Returns:</span>
<span class="sd">        augmented operation instance data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">allow_external</span><span class="p">:</span>
        <span class="n">op</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="n">operation_id</span><span class="o">=</span><span class="n">operation</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">op</span> <span class="o">=</span> <span class="n">create_operation</span><span class="p">(</span><span class="n">module_or_operation</span><span class="o">=</span><span class="n">operation</span><span class="p">)</span>
    <span class="n">op_info</span> <span class="o">=</span> <span class="n">OperationInfo</span><span class="o">.</span><span class="n">create_from_operation</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">operation</span><span class="o">=</span><span class="n">op</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">op_info</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_operations_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_operations_info</span><span class="p">(</span><span class="o">*</span><span class="n">filters</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationGroupInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_operations_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about the matching operations.</p>
<p>This retrieves the same list of operations as [list_operations][kiara.interfaces.python_api.KiaraAPI.list_operations],
but augments each result instance with additional information that might be useful in frontends.</p>
<p>'OperationInfo' objects contains augmented information on top of what 'normal' <a class="autorefs autorefs-internal" href="../../../models/module/operation/#kiara.models.module.operation.Operation">Operation</a> objects
hold, but they can take longer to create/resolve. If you don't need any
of the augmented information, just use the [list_operations][kiara.interfaces.python_api.KiaraAPI.list_operations] method
instead.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filters</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter strings, an operation must match all of them to be included in the result</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_internal</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to include operations that are predominantly used internally in kiara.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>each operation must have at least one input that matches one of the specified types</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>each operation must have at least one output that matches one of the specified types</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>operation_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>only include operations of the specified type(s)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_internal</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to include operations that are predominantly used internally in kiara.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>python_packages</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>only include operations that are contained in one of the provided python packages</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    a wrapper object containing a dictionary of items with value_id as key, and [kiara.interfaces.python_api.models.info.OperationInfo] as value</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retrieve_operations_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="n">filters</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">operation_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationGroupInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve information about the matching operations.</span>

<span class="sd">    This retrieves the same list of operations as [list_operations][kiara.interfaces.python_api.KiaraAPI.list_operations],</span>
<span class="sd">    but augments each result instance with additional information that might be useful in frontends.</span>

<span class="sd">    &#39;OperationInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [Operation][kiara.models.module.operation.Operation] objects</span>
<span class="sd">    hold, but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">    of the augmented information, just use the [list_operations][kiara.interfaces.python_api.KiaraAPI.list_operations] method</span>
<span class="sd">    instead.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        filters: the (optional) filter strings, an operation must match all of them to be included in the result</span>
<span class="sd">        include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">        input_types: each operation must have at least one input that matches one of the specified types</span>
<span class="sd">        output_types: each operation must have at least one output that matches one of the specified types</span>
<span class="sd">        operation_types: only include operations of the specified type(s)</span>
<span class="sd">        include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">        python_packages: only include operations that are contained in one of the provided python packages</span>
<span class="sd">    Returns:</span>
<span class="sd">        a wrapper object containing a dictionary of items with value_id as key, and [kiara.interfaces.python_api.models.info.OperationInfo] as value</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Available operations&quot;</span>
    <span class="k">if</span> <span class="n">filters</span><span class="p">:</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Filtered operations&quot;</span>

    <span class="n">operations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_operations</span><span class="p">(</span>
        <span class="n">filters</span><span class="p">,</span>
        <span class="n">input_types</span><span class="o">=</span><span class="n">input_types</span><span class="p">,</span>
        <span class="n">output_types</span><span class="o">=</span><span class="n">output_types</span><span class="p">,</span>
        <span class="n">include_internal</span><span class="o">=</span><span class="n">include_internal</span><span class="p">,</span>
        <span class="n">operation_types</span><span class="o">=</span><span class="n">operation_types</span><span class="p">,</span>
        <span class="n">python_packages</span><span class="o">=</span><span class="n">python_packages</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">ops_info</span> <span class="o">=</span> <span class="n">OperationGroupInfo</span><span class="o">.</span><span class="n">create_from_operations</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">group_title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="o">**</span><span class="n">operations</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">ops_info</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_pipeline_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_pipeline_ids</span><span class="p">(</span><span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_pipeline_ids" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get a list of all pipeline (operation) ids that match the specified filter.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filter</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an optional single or list of filters (all filters must match the operation id for the operation to be included)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_internal</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>also return internal pipelines</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_pipeline_ids</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a list of all pipeline (operation) ids that match the specified filter.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        filter: an optional single or list of filters (all filters must match the operation id for the operation to be included)</span>
<span class="sd">        include_internal: also return internal pipelines</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_operation_ids</span><span class="p">(</span>
        <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
        <span class="n">input_types</span><span class="o">=</span><span class="n">input_types</span><span class="p">,</span>
        <span class="n">output_types</span><span class="o">=</span><span class="n">output_types</span><span class="p">,</span>
        <span class="n">operation_types</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;pipeline&quot;</span><span class="p">],</span>
        <span class="n">include_internal</span><span class="o">=</span><span class="n">include_internal</span><span class="p">,</span>
        <span class="n">python_packages</span><span class="o">=</span><span class="n">python_packages</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_pipelines" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_pipelines</span><span class="p">(</span><span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelinesMap</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_pipelines" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available pipelines, optionally filter.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filter</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter string(s), an operation must match all of them to be included in the result</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>each operation must have at least one input that matches one of the specified types</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>each operation must have at least one output that matches one of the specified types</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>operation_types</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>only include operations of the specified type(s)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_internal</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to include operations that are predominantly used internally in kiara.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>python_packages</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>only include operations that are contained in one of the provided python packages</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelinesMap (kiara.interfaces.python_api.models.doc.PipelinesMap)" href="../models/doc/#kiara.interfaces.python_api.models.doc.PipelinesMap">PipelinesMap</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary with the operation id as key, and [kiara.models.module.operation.Operation] instance data as value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_pipelines</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="nb">filter</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelinesMap&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available pipelines, optionally filter.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        filter: the (optional) filter string(s), an operation must match all of them to be included in the result</span>
<span class="sd">        input_types: each operation must have at least one input that matches one of the specified types</span>
<span class="sd">        output_types: each operation must have at least one output that matches one of the specified types</span>
<span class="sd">        operation_types: only include operations of the specified type(s)</span>
<span class="sd">        include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">        python_packages: only include operations that are contained in one of the provided python packages</span>

<span class="sd">    Returns:</span>
<span class="sd">        a dictionary with the operation id as key, and [kiara.models.module.operation.Operation] instance data as value</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.models.doc</span><span class="w"> </span><span class="kn">import</span> <span class="n">PipelinesMap</span>

    <span class="n">ops</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_operations</span><span class="p">(</span>
        <span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span>
        <span class="n">input_types</span><span class="o">=</span><span class="n">input_types</span><span class="p">,</span>
        <span class="n">output_types</span><span class="o">=</span><span class="n">output_types</span><span class="p">,</span>
        <span class="n">operation_types</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;pipeline&quot;</span><span class="p">],</span>
        <span class="n">python_packages</span><span class="o">=</span><span class="n">python_packages</span><span class="p">,</span>
        <span class="n">include_internal</span><span class="o">=</span><span class="n">include_internal</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineStructure</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">ops</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">details</span><span class="p">:</span> <span class="n">PipelineOperationDetails</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">operation_details</span>
        <span class="n">config</span><span class="p">:</span> <span class="s2">&quot;PipelineConfig&quot;</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">pipeline_config</span>
        <span class="n">structure</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">structure</span>
        <span class="n">result</span><span class="p">[</span><span class="n">op</span><span class="o">.</span><span class="n">operation_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">structure</span>

    <span class="k">return</span> <span class="n">PipelinesMap</span><span class="o">.</span><span class="n">model_construct</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="n">result</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.get_pipeline_structure" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_pipeline_structure</span><span class="p">(</span><span class="n">pipeline</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="n">allow_external</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineStructure</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.get_pipeline_structure" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Return the pipeline (Structure) instance with the specified id.</p>
<p>This can be used to get information about a pipeline, like inputs/outputs scheman, documentation, included steps, stages, etc.</p>
<p>The order in which the operation argument is resolved:
- if it's a string, and an existing, registered operation_id, the associated operation is returned
- if it's a path to an existing file, the content of the file is loaded into a dict and a pipeline operation will be created</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pipeline</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>], <span title="str">str</span>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the pipeline id, module_type_name, path to a file, or url</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>allow_external</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="bool">bool</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True, allow loading operations from external sources (e.g. a URL), if 'None' is provided, the configured value in the runtime configuration is used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineStructure (kiara.models.module.pipeline.PipelineStructure)" href="../../../models/module/pipeline/structure/#kiara.models.module.pipeline.structure.PipelineStructure">PipelineStructure</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pipeline structure data</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_pipeline_structure</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
    <span class="n">allow_external</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineStructure&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the pipeline (Structure) instance with the specified id.</span>

<span class="sd">    This can be used to get information about a pipeline, like inputs/outputs scheman, documentation, included steps, stages, etc.</span>

<span class="sd">    The order in which the operation argument is resolved:</span>
<span class="sd">    - if it&#39;s a string, and an existing, registered operation_id, the associated operation is returned</span>
<span class="sd">    - if it&#39;s a path to an existing file, the content of the file is loaded into a dict and a pipeline operation will be created</span>

<span class="sd">    Arguments:</span>
<span class="sd">        pipeline: the pipeline id, module_type_name, path to a file, or url</span>
<span class="sd">        allow_external: if True, allow loading operations from external sources (e.g. a URL), if &#39;None&#39; is provided, the configured value in the runtime configuration is used.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pipeline structure data</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">op</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="n">operation</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">allow_external</span><span class="o">=</span><span class="n">allow_external</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">op</span><span class="o">.</span><span class="n">module_type</span> <span class="o">!=</span> <span class="s2">&quot;pipeline&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Operation &#39;</span><span class="si">{</span><span class="n">op</span><span class="o">.</span><span class="n">operation_id</span><span class="si">}</span><span class="s2">&#39; is not a pipeline, but a &#39;</span><span class="si">{</span><span class="n">op</span><span class="o">.</span><span class="n">module_type</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="p">)</span>
    <span class="n">details</span><span class="p">:</span> <span class="n">PipelineOperationDetails</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">operation_details</span>  <span class="c1"># type: ignore</span>
    <span class="n">config</span><span class="p">:</span> <span class="s2">&quot;PipelineConfig&quot;</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">pipeline_config</span>

    <span class="k">return</span> <span class="n">config</span><span class="o">.</span><span class="n">structure</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_pipeline_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_pipeline_info</span><span class="p">(</span><span class="n">pipeline</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">allow_external</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_pipeline_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Return the full information for the specified pipeline id.</p>
<p>This is similar to the 'get_pipeline' method, but returns additional information. Only use this instead of
'get_pipeline' if you need the additional info, as it's more expensive to get.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pipeline</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the pipeline (operation) id</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineInfo (kiara.models.module.pipeline.pipeline.PipelineInfo)" href="../../../models/module/pipeline/pipeline/#kiara.models.module.pipeline.pipeline.PipelineInfo">PipelineInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>augmented pipeline instance data</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_pipeline_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">allow_external</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineInfo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the full information for the specified pipeline id.</span>

<span class="sd">    This is similar to the &#39;get_pipeline&#39; method, but returns additional information. Only use this instead of</span>
<span class="sd">    &#39;get_pipeline&#39; if you need the additional info, as it&#39;s more expensive to get.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        pipeline: the pipeline (operation) id</span>

<span class="sd">    Returns:</span>
<span class="sd">        augmented pipeline instance data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">allow_external</span><span class="p">:</span>
        <span class="n">op</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="n">operation_id</span><span class="o">=</span><span class="n">pipeline</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">op</span> <span class="o">=</span> <span class="n">create_operation</span><span class="p">(</span><span class="n">module_or_operation</span><span class="o">=</span><span class="n">pipeline</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">op</span><span class="o">.</span><span class="n">module_type</span> <span class="o">!=</span> <span class="s2">&quot;pipeline&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Operation &#39;</span><span class="si">{</span><span class="n">op</span><span class="o">.</span><span class="n">operation_id</span><span class="si">}</span><span class="s2">&#39; is not a pipeline, but a &#39;</span><span class="si">{</span><span class="n">op</span><span class="o">.</span><span class="n">module_type</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="p">)</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.module.pipeline.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span><span class="p">,</span> <span class="n">PipelineInfo</span>

    <span class="n">details</span><span class="p">:</span> <span class="n">PipelineOperationDetails</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">operation_details</span>  <span class="c1"># type: ignore</span>
    <span class="n">config</span><span class="p">:</span> <span class="s2">&quot;PipelineConfig&quot;</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">pipeline_config</span>
    <span class="n">pipeline_instance</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">structure</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">structure</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">)</span>

    <span class="n">p_info</span><span class="p">:</span> <span class="n">PipelineInfo</span> <span class="o">=</span> <span class="n">PipelineInfo</span><span class="o">.</span><span class="n">create_from_instance</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">pipeline_instance</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">p_info</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_pipelines_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_pipelines_info</span><span class="p">(</span><span class="o">*</span><span class="n">filters</span><span class="p">,</span> <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineGroupInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_pipelines_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about the matching pipelines.</p>
<p>This retrieves the same list of pipelines as [list_pipelines][kiara.interfaces.python_api.KiaraAPI.list_pipelines],
but augments each result instance with additional information that might be useful in frontends.</p>
<p>'PipelineInfo' objects contains augmented information on top of what 'normal' <a class="autorefs autorefs-internal" href="../../../models/module/pipeline/structure/#kiara.models.module.pipeline.structure.PipelineStructure">PipelineStructure</a> objects
hold, but they can take longer to create/resolve. If you don't need any
of the augmented information, just use the [list_pipelines][kiara.interfaces.python_api.KiaraAPI.list_pipelines] method
instead.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filters</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter strings, an operation must match all of them to be included in the result</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_internal</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to include operations that are predominantly used internally in kiara.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>each operation must have at least one input that matches one of the specified types</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_types</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>each operation must have at least one output that matches one of the specified types</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_internal</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to include operations that are predominantly used internally in kiara.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>python_packages</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>only include operations that are contained in one of the provided python packages</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    a wrapper object containing a dictionary of items with value_id as key, and [kiara.interfaces.python_api.models.info.OperationInfo] as value</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_pipelines_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="n">filters</span><span class="p">,</span>
    <span class="n">input_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">output_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">python_packages</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineGroupInfo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve information about the matching pipelines.</span>

<span class="sd">    This retrieves the same list of pipelines as [list_pipelines][kiara.interfaces.python_api.KiaraAPI.list_pipelines],</span>
<span class="sd">    but augments each result instance with additional information that might be useful in frontends.</span>

<span class="sd">    &#39;PipelineInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [PipelineStructure][kiara.models.module.pipeline.PipelineStructure] objects</span>
<span class="sd">    hold, but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">    of the augmented information, just use the [list_pipelines][kiara.interfaces.python_api.KiaraAPI.list_pipelines] method</span>
<span class="sd">    instead.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        filters: the (optional) filter strings, an operation must match all of them to be included in the result</span>
<span class="sd">        include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">        input_types: each operation must have at least one input that matches one of the specified types</span>
<span class="sd">        output_types: each operation must have at least one output that matches one of the specified types</span>
<span class="sd">        include_internal: whether to include operations that are predominantly used internally in kiara.</span>
<span class="sd">        python_packages: only include operations that are contained in one of the provided python packages</span>
<span class="sd">    Returns:</span>
<span class="sd">        a wrapper object containing a dictionary of items with value_id as key, and [kiara.interfaces.python_api.models.info.OperationInfo] as value</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Available pipelines&quot;</span>
    <span class="k">if</span> <span class="n">filters</span><span class="p">:</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Filtered pipelines&quot;</span>

    <span class="n">operations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_operations</span><span class="p">(</span>
        <span class="n">filters</span><span class="p">,</span>
        <span class="n">input_types</span><span class="o">=</span><span class="n">input_types</span><span class="p">,</span>
        <span class="n">output_types</span><span class="o">=</span><span class="n">output_types</span><span class="p">,</span>
        <span class="n">include_internal</span><span class="o">=</span><span class="n">include_internal</span><span class="p">,</span>
        <span class="n">operation_types</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;pipeline&quot;</span><span class="p">],</span>
        <span class="n">python_packages</span><span class="o">=</span><span class="n">python_packages</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.module.pipeline.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span><span class="p">,</span> <span class="n">PipelineGroupInfo</span>

    <span class="n">pipelines</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">op_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">details</span><span class="p">:</span> <span class="n">PipelineOperationDetails</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">operation_details</span>  <span class="c1"># type: ignore</span>
        <span class="n">config</span><span class="p">:</span> <span class="s2">&quot;PipelineConfig&quot;</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">pipeline_config</span>
        <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">structure</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">structure</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">)</span>
        <span class="n">pipelines</span><span class="p">[</span><span class="n">op_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">pipeline</span>

    <span class="n">ps_info</span> <span class="o">=</span> <span class="n">PipelineGroupInfo</span><span class="o">.</span><span class="n">create_from_pipelines</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">group_title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="o">**</span><span class="n">pipelines</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">ps_info</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.register_pipeline" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">register_pipeline</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="n">operation_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Operation</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.register_pipeline" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Register a pipelne as new operation into this context.</p>
<p>If 'operation_id' is not provided, the id will be auto-determined (in most cases using the pipeline name).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="pathlib.Path">Path</span>, <span title="str">str</span>, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dict or a path to a json/yaml file containing the definition</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>operation_id</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the id to use for the operation (if not specified, the id will be auto-determined)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="Operation (kiara.models.module.operation.Operation)" href="../../../models/module/operation/#kiara.models.module.operation.Operation">Operation</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the assembled operation</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">register_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="n">operation_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Operation</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Register a pipelne as new operation into this context.</span>

<span class="sd">    If &#39;operation_id&#39; is not provided, the id will be auto-determined (in most cases using the pipeline name).</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data: a dict or a path to a json/yaml file containing the definition</span>
<span class="sd">        operation_id: the id to use for the operation (if not specified, the id will be auto-determined)</span>

<span class="sd">    Returns:</span>
<span class="sd">        the assembled operation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">register_pipeline</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">operation_id</span><span class="o">=</span><span class="n">operation_id</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.register_pipelines" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">register_pipelines</span><span class="p">(</span><span class="o">*</span><span class="n">pipeline_paths</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.register_pipelines" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Register all pipelines found in the specified paths.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">register_pipelines</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">pipeline_paths</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Register all pipelines found in the specified paths.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">register_pipelines</span><span class="p">(</span><span class="o">*</span><span class="n">pipeline_paths</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.register_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">register_data</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">reuse_existing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.register_data" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Register data with kiara.</p>
<p>This will create a new value instance from the data and return it. The data/value itself won't be stored
in a store, you have to use the 'store_value' function for that.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the data to register</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data_type</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="str">str</span>, <a class="autorefs autorefs-internal" title="ValueSchema (kiara.models.values.value.ValueSchema)" href="../../../models/values/value_schema/#kiara.models.values.value_schema.ValueSchema">ValueSchema</a>, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(optional) the data type of the data. If not provided, kiara will try to infer the data type.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>reuse_existing</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to re-use an existing value that is already registered and has the same hash.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a [kiara.models.values.value.Value] instance</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">register_data</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">data_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">reuse_existing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Register data with kiara.</span>

<span class="sd">    This will create a new value instance from the data and return it. The data/value itself won&#39;t be stored</span>
<span class="sd">    in a store, you have to use the &#39;store_value&#39; function for that.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data: the data to register</span>
<span class="sd">        data_type: (optional) the data type of the data. If not provided, kiara will try to infer the data type.</span>
<span class="sd">        reuse_existing: whether to re-use an existing value that is already registered and has the same hash.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a [kiara.models.values.value.Value] instance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">data_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="s2">&quot;Infering data types not implemented yet. Please provide one manually.&quot;</span>
        <span class="p">)</span>

    <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">register_data</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span> <span class="n">reuse_existing</span><span class="o">=</span><span class="n">reuse_existing</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_all_value_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_all_value_ids</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_all_value_ids" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all value ids in the current context.</p>
<p>This returns everything, even internal values. It should be faster than using
<code>list_value_ids</code> with equivalent parameters, because no filtering has to happen.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>all value_ids in the current context, using every registered store</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_all_value_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all value ids in the current context.</span>

<span class="sd">    This returns everything, even internal values. It should be faster than using</span>
<span class="sd">    `list_value_ids` with equivalent parameters, because no filtering has to happen.</span>

<span class="sd">    Returns:</span>
<span class="sd">        all value_ids in the current context, using every registered store</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">retrieve_all_available_value_ids</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">_values</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_value_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_value_ids</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_value_ids" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available value ids for this kiara context.</p>
<p>By default, this also includes internal values.</p>
<p>This method exists mainly so frontends can retrieve a list of all value_ids that exists on the backend without
having to look up the details of each value (like [list_values][kiara.interfaces.python_api.KiaraAPI.list_values]
does). This method can also be used with a matcher, but in this case the [list_values][kiara.interfaces.python_api.KiaraAPI.list_values]
would be preferable in most cases, because it is called under the hood, and the performance advantage of not
having to look up value details is gone.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>matcher_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter parameters, check the <a class="autorefs autorefs-internal" href="../../../models/values/matchers/#kiara.models.values.matchers.ValueMatcher">ValueMatcher</a> class for available parameters and defaults</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of value ids</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_value_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    List all available value ids for this kiara context.</span>

<span class="sd">    By default, this also includes internal values.</span>

<span class="sd">    This method exists mainly so frontends can retrieve a list of all value_ids that exists on the backend without</span>
<span class="sd">    having to look up the details of each value (like [list_values][kiara.interfaces.python_api.KiaraAPI.list_values]</span>
<span class="sd">    does). This method can also be used with a matcher, but in this case the [list_values][kiara.interfaces.python_api.KiaraAPI.list_values]</span>
<span class="sd">    would be preferable in most cases, because it is called under the hood, and the performance advantage of not</span>
<span class="sd">    having to look up value details is gone.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters and defaults</span>

<span class="sd">    Returns:</span>
<span class="sd">        a list of value ids</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_values</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">((</span><span class="n">v</span><span class="o">.</span><span class="n">value_id</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_all_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_all_values</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_all_values" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all values in the current context, incl. internal ones.</p>
<p>This should be faster than <code>list_values</code> with equivalent matcher params, because no
filtering has to happen.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_all_values</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all values in the current context, incl. internal ones.</span>

<span class="sd">    This should be faster than `list_values` with equivalent matcher params, because no</span>
<span class="sd">    filtering has to happen.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># TODO: make that parallel?</span>
    <span class="n">values</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">retrieve_all_available_value_ids</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">ValueMapReadOnly</span><span class="o">.</span><span class="n">create_from_values</span><span class="p">(</span>
        <span class="o">**</span><span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_values</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_values" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available (relevant) values, optionally filter.</p>
<p>Retrieve information about all values that are available in the current kiara context session (both stored and non-stored).</p>
<p>Check the <code>ValueMatcher</code> class for available parameters and defaults, for example this excludes
internal values by default.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>matcher_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter parameters, check the <a class="autorefs autorefs-internal" href="../../../models/values/matchers/#kiara.models.values.matchers.ValueMatcher">ValueMatcher</a> class for available parameters</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValueMapReadOnly (kiara.models.values.value.ValueMapReadOnly)" href="../../../models/values/value/#kiara.models.values.value.ValueMapReadOnly">ValueMapReadOnly</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary with value_id as key, and [kiara.models.values.value.Value] as value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    List all available (relevant) values, optionally filter.</span>

<span class="sd">    Retrieve information about all values that are available in the current kiara context session (both stored and non-stored).</span>

<span class="sd">    Check the `ValueMatcher` class for available parameters and defaults, for example this excludes</span>
<span class="sd">    internal values by default.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">    Returns:</span>
<span class="sd">        a dictionary with value_id as key, and [kiara.models.values.value.Value] as value</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">matcher</span> <span class="o">=</span> <span class="n">ValueMatcher</span><span class="o">.</span><span class="n">create_matcher</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
    <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">find_values</span><span class="p">(</span><span class="n">matcher</span><span class="o">=</span><span class="n">matcher</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">ValueMapReadOnly</span><span class="o">.</span><span class="n">create_from_values</span><span class="p">(</span>
        <span class="o">**</span><span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.get_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Value</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.get_value" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve a value instance with the specified id or alias.</p>
<p>Basically a convenience method to convert any possible Python type into
a 'Value' instance. Raises an exception if no value could be found.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a>, <span title="uuid.UUID">UUID</span>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a value id, alias or object that has a 'value_id' attribute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the Value instance</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Value</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve a value instance with the specified id or alias.</span>

<span class="sd">    Basically a convenience method to convert any possible Python type into</span>
<span class="sd">    a &#39;Value&#39; instance. Raises an exception if no value could be found.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        value: a value id, alias or object that has a &#39;value_id&#39; attribute.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the Value instance</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.get_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_values</span><span class="p">(</span><span class="o">**</span><span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.get_values" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve Value instances for the specified value ids or aliases.</p>
<p>This is a convenience method to get fully 'hydrated' <code>Value</code> objects from references to them.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>values</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a>, <span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary with value ids or aliases as keys, and value instances as values</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValueMapReadOnly (kiara.models.values.value.ValueMapReadOnly)" href="../../../models/values/value/#kiara.models.values.value.ValueMapReadOnly">ValueMapReadOnly</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a mapping with value_id as key, and [kiara.models.values.value.Value] as value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve Value instances for the specified value ids or aliases.</span>

<span class="sd">    This is a convenience method to get fully &#39;hydrated&#39; `Value` objects from references to them.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        values: a dictionary with value ids or aliases as keys, and value instances as values</span>

<span class="sd">    Returns:</span>
<span class="sd">        a mapping with value_id as key, and [kiara.models.values.value.Value] as value</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">load_values</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.query_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">query_value</span><span class="p">(</span><span class="n">value_or_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span> <span class="n">query_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.query_value" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve a value attribute with the specified id or alias.</p>
<p>NOTE: This is a provisional endpoint, don't use for now, if you have a requirement that would
be covered by this, please let me know.</p>
<p>A query path is delimited by "::", and has the following format:</p>
<div class="highlight"><pre><span></span><code>&lt;value_id_or_alias&gt;::[&lt;category_name&gt;]::[&lt;attribute_name&gt;]::[...]
</code></pre></div>
<p>Currently supported categories:
- "data": the data of the value
- "properties: the properties of the value</p>
<p>If no category is specified, the value instance itself is returned.</p>
<p>Raises an exception if no value could be found.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value_or_path</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a>, <span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a value or value reference, or a query path containing the value id or alias as first token</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>query_path</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a query path which will be appended a potential query path computed from the first argument</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the attribute value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">query_value</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">value_or_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span>
    <span class="n">query_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve a value attribute with the specified id or alias.</span>

<span class="sd">    NOTE: This is a provisional endpoint, don&#39;t use for now, if you have a requirement that would</span>
<span class="sd">    be covered by this, please let me know.</span>

<span class="sd">    A query path is delimited by &quot;::&quot;, and has the following format:</span>

<span class="sd">    ```</span>
<span class="sd">    &lt;value_id_or_alias&gt;::[&lt;category_name&gt;]::[&lt;attribute_name&gt;]::[...]</span>
<span class="sd">    ```</span>

<span class="sd">    Currently supported categories:</span>
<span class="sd">    - &quot;data&quot;: the data of the value</span>
<span class="sd">    - &quot;properties: the properties of the value</span>

<span class="sd">    If no category is specified, the value instance itself is returned.</span>

<span class="sd">    Raises an exception if no value could be found.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        value_or_path: a value or value reference, or a query path containing the value id or alias as first token</span>
<span class="sd">        query_path: a query path which will be appended a potential query path computed from the first argument</span>

<span class="sd">    Returns:</span>
<span class="sd">        the attribute value</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value_or_path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="n">value_or_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">VALUE_ATTR_DELIMITER</span><span class="p">)</span>
        <span class="n">value_id</span> <span class="o">=</span> <span class="n">tokens</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value_id</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value_or_path</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">query_path</span><span class="p">:</span>
        <span class="n">tokens</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">query_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">VALUE_ATTR_DELIMITER</span><span class="p">))</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">tokens</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_value</span>

    <span class="n">current_result</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">_value</span>
    <span class="n">category</span> <span class="o">=</span> <span class="n">tokens</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">category</span> <span class="o">==</span> <span class="s2">&quot;properties&quot;</span><span class="p">:</span>
        <span class="n">current_result</span> <span class="o">=</span> <span class="n">current_result</span><span class="o">.</span><span class="n">get_all_property_data</span><span class="p">(</span><span class="n">flatten_models</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">category</span> <span class="o">==</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span>
        <span class="n">current_result</span> <span class="o">=</span> <span class="n">current_result</span><span class="o">.</span><span class="n">data</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid query path category: </span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s2">. Valid categories are: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">VALID_VALUE_QUERY_CATEGORIES</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">tokens</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">VALUE_ATTR_DELIMITER</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
            <span class="n">current_result</span> <span class="o">=</span> <span class="n">dpath</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">current_result</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="n">VALUE_ATTR_DELIMITER</span>
            <span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">dict_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">my_dict</span><span class="p">,</span> <span class="n">all_paths</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">my_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                        <span class="n">dict_path</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s2">&quot;::&quot;</span> <span class="o">+</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">all_paths</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">all_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="o">+</span> <span class="s2">&quot;::&quot;</span> <span class="o">+</span> <span class="n">k</span><span class="p">)</span>

            <span class="n">valid_base_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">current_result</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="n">details</span> <span class="o">=</span> <span class="s2">&quot;Valid (base) sub-keys are:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">valid_base_keys</span><span class="p">:</span>
                <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>

            <span class="n">all_paths</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">dict_path</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">current_result</span><span class="p">,</span> <span class="n">all_paths</span><span class="p">)</span>

            <span class="n">details</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Valid (full) sub-paths are:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">all_paths</span><span class="p">:</span>
                <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>

            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to retrieve value attribute using query sub-path: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">details</span><span class="o">=</span><span class="n">details</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">return</span> <span class="n">current_result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_value_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_value_info</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ValueInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_value_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve an info object for a value.</p>
<p>Companion method to 'get_value', 'ValueInfo' objects contains augmented information on top of what 'normal' <a class="autorefs autorefs-internal" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a> objects
hold (like resolved properties for example), but they can take longer to create/resolve. If you don't need any
of the augmented information, just use the [get_value][kiara.interfaces.python_api.KiaraAPI.get_value] method
instead.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a value id, alias or object that has a 'value_id' attribute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValueInfo (kiara.interfaces.python_api.models.info.ValueInfo)" href="../models/info/#kiara.interfaces.python_api.models.info.ValueInfo">ValueInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the ValueInfo instance</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retrieve_value_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">Path</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve an info object for a value.</span>

<span class="sd">    Companion method to &#39;get_value&#39;, &#39;ValueInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [Value][kiara.models.values.value.Value] objects</span>
<span class="sd">    hold (like resolved properties for example), but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">    of the augmented information, just use the [get_value][kiara.interfaces.python_api.KiaraAPI.get_value] method</span>
<span class="sd">    instead.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        value: a value id, alias or object that has a &#39;value_id&#39; attribute.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the ValueInfo instance</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ValueInfo</span><span class="o">.</span><span class="n">create_from_instance</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">_value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_values_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_values_info</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValuesInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_values_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about the matching values.</p>
<p>This retrieves the same list of values as [list_values][kiara.interfaces.python_api.KiaraAPI.list_values],
but augments each result value instance with additional information that might be useful in frontends.</p>
<p>'ValueInfo' objects contains augmented information on top of what 'normal' <a class="autorefs autorefs-internal" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a> objects
hold (like resolved properties for example), but they can take longer to create/resolve. If you don't need any
of the augmented information, just use the [list_values][kiara.interfaces.python_api.KiaraAPI.list_values] method
instead.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>matcher_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter parameters, check the <a class="autorefs autorefs-internal" href="../../../models/values/matchers/#kiara.models.values.matchers.ValueMatcher">ValueMatcher</a> class for available parameters</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValuesInfo (kiara.interfaces.python_api.models.info.ValuesInfo)" href="../models/info/#kiara.interfaces.python_api.models.info.ValuesInfo">ValuesInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a wrapper object containing the items as dictionary with value_id as key, and [kiara.interfaces.python_api.models.values.ValueInfo] as value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retrieve_values_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValuesInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve information about the matching values.</span>

<span class="sd">    This retrieves the same list of values as [list_values][kiara.interfaces.python_api.KiaraAPI.list_values],</span>
<span class="sd">    but augments each result value instance with additional information that might be useful in frontends.</span>

<span class="sd">    &#39;ValueInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [Value][kiara.models.values.value.Value] objects</span>
<span class="sd">    hold (like resolved properties for example), but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">    of the augmented information, just use the [list_values][kiara.interfaces.python_api.KiaraAPI.list_values] method</span>
<span class="sd">    instead.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">    Returns:</span>
<span class="sd">        a wrapper object containing the items as dictionary with value_id as key, and [kiara.interfaces.python_api.models.values.ValueInfo] as value</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">values</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_values</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>

    <span class="n">infos</span> <span class="o">=</span> <span class="n">ValuesInfo</span><span class="o">.</span><span class="n">create_from_instances</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instances</span><span class="o">=</span><span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">infos</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_alias_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_alias_names</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_alias_names" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available alias keys.</p>
<p>This method exists mainly so frontend can retrieve a list of all value_ids that exists on the backend without
having to look up the details of each value (like [list_aliases][kiara.interfaces.python_api.KiaraAPI.list_aliases]
does). This method can also be used with a matcher, but in this case the [list_aliases][kiara.interfaces.python_api.KiaraAPI.list_aliases]
would be preferrable in most cases, because it is called under the hood, and the performance advantage of not
having to look up value details is gone.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>matcher_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter parameters, check the <a class="autorefs autorefs-internal" href="../../../models/values/matchers/#kiara.models.values.matchers.ValueMatcher">ValueMatcher</a> class for available parameters</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of value ids</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_alias_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    List all available alias keys.</span>

<span class="sd">    This method exists mainly so frontend can retrieve a list of all value_ids that exists on the backend without</span>
<span class="sd">    having to look up the details of each value (like [list_aliases][kiara.interfaces.python_api.KiaraAPI.list_aliases]</span>
<span class="sd">    does). This method can also be used with a matcher, but in this case the [list_aliases][kiara.interfaces.python_api.KiaraAPI.list_aliases]</span>
<span class="sd">    would be preferrable in most cases, because it is called under the hood, and the performance advantage of not</span>
<span class="sd">    having to look up value details is gone.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">    Returns:</span>
<span class="sd">        a list of value ids</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">matcher_params</span><span class="p">:</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_aliases</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">all_aliases</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">_values</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_aliases" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_aliases</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_aliases" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available values that have an alias assigned, optionally filter.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>matcher_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter parameters, check the <a class="autorefs autorefs-internal" href="../../../models/values/matchers/#kiara.models.values.matchers.ValueMatcher">ValueMatcher</a> class for available parameters</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValueMapReadOnly (kiara.models.values.value.ValueMapReadOnly)" href="../../../models/values/value/#kiara.models.values.value.ValueMapReadOnly">ValueMapReadOnly</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary with value_id as key, and [kiara.models.values.value.Value] as value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    List all available values that have an alias assigned, optionally filter.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">    Returns:</span>
<span class="sd">        a dictionary with value_id as key, and [kiara.models.values.value.Value] as value</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">matcher_params</span><span class="p">:</span>
        <span class="n">matcher_params</span><span class="p">[</span><span class="s2">&quot;has_alias&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">all_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_values</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">all_values</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">aliases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">find_aliases_for_value_id</span><span class="p">(</span>
                <span class="n">value_id</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">aliases</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Duplicate value alias &#39;</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">&#39;: this is most likely a bug.&quot;</span>
                    <span class="p">)</span>
                <span class="n">result</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">())}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># faster if not other matcher params</span>
        <span class="n">all_aliases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">all_aliases</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;alias:</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">all_aliases</span>
        <span class="p">}</span>

    <span class="k">return</span> <span class="n">ValueMapReadOnly</span><span class="o">.</span><span class="n">create_from_values</span><span class="p">(</span><span class="o">**</span><span class="n">result</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_aliases_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_aliases_info</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValuesInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_aliases_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about the matching values.</p>
<p>This retrieves the same list of values as [list_values][kiara.interfaces.python_api.KiaraAPI.list_values],
but augments each result value instance with additional information that might be useful in frontends.</p>
<p>'ValueInfo' objects contains augmented information on top of what 'normal' <a class="autorefs autorefs-internal" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a> objects
hold (like resolved properties for example), but they can take longer to create/resolve. If you don't need any
of the augmented information, just use the [get_value][kiara.interfaces.python_api.KiaraAPI.list_aliases] method
instead.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>matcher_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) filter parameters, check the <a class="autorefs autorefs-internal" href="../../../models/values/matchers/#kiara.models.values.matchers.ValueMatcher">ValueMatcher</a> class for available parameters</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValuesInfo (kiara.interfaces.python_api.models.info.ValuesInfo)" href="../models/info/#kiara.interfaces.python_api.models.info.ValuesInfo">ValuesInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary with a value alias as key, and [kiara.interfaces.python_api.models.values.ValueInfo] as value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retrieve_aliases_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValuesInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve information about the matching values.</span>

<span class="sd">    This retrieves the same list of values as [list_values][kiara.interfaces.python_api.KiaraAPI.list_values],</span>
<span class="sd">    but augments each result value instance with additional information that might be useful in frontends.</span>

<span class="sd">    &#39;ValueInfo&#39; objects contains augmented information on top of what &#39;normal&#39; [Value][kiara.models.values.value.Value] objects</span>
<span class="sd">    hold (like resolved properties for example), but they can take longer to create/resolve. If you don&#39;t need any</span>
<span class="sd">    of the augmented information, just use the [get_value][kiara.interfaces.python_api.KiaraAPI.list_aliases] method</span>
<span class="sd">    instead.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        matcher_params: the (optional) filter parameters, check the [ValueMatcher][kiara.models.values.matchers.ValueMatcher] class for available parameters</span>

<span class="sd">    Returns:</span>
<span class="sd">        a dictionary with a value alias as key, and [kiara.interfaces.python_api.models.values.ValueInfo] as value</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_aliases</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>

    <span class="n">infos</span> <span class="o">=</span> <span class="n">ValuesInfo</span><span class="o">.</span><span class="n">create_from_instances</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instances</span><span class="o">=</span><span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">infos</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.register_value_alias" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">register_value_alias</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span> <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">allow_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">alias_store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.register_value_alias" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">register_value_alias</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span>
    <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="n">allow_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">alias_store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">register_aliases</span><span class="p">(</span>
        <span class="n">value_id</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
        <span class="n">aliases</span><span class="o">=</span><span class="n">alias</span><span class="p">,</span>
        <span class="n">allow_overwrite</span><span class="o">=</span><span class="n">allow_overwrite</span><span class="p">,</span>
        <span class="n">alias_store</span><span class="o">=</span><span class="n">alias_store</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.assemble_value_map" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">assemble_value_map</span><span class="p">(</span><span class="n">values</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="n">values_schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">register_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">reuse_existing_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.assemble_value_map" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrive a <a class="autorefs autorefs-internal" href="../../../models/values/value/#kiara.models.values.value.ValueMap">ValueMap</a> object from the provided value ids or value links.</p>
<p>In most cases, this endpoint won't be used by front-ends, it's a fairly low-level method that is
mainly used for internal purposes. If you have a use-case, let me know and I'll improve the docs
if insufficient.</p>
<p>By default, this method can only use values/datasets that are already registered in <em>kiara</em>. If you want to
auto-register 'raw' data, you need to set the 'register_data' flag to 'True', and provide a schema for each of the fields that are not yet registered.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>values</code>
            </td>
            <td>
                  <code><span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Union">Union</span>[<span title="uuid.UUID">UUID</span>, None, <span title="str">str</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary with the values in question</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>values_schema</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="ValueSchema (kiara.models.values.value.ValueSchema)" href="../../../models/values/value_schema/#kiara.models.values.value_schema.ValueSchema">ValueSchema</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an optional dictionary with the schema for each of the values that are not yet registered</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>register_data</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to allow auto-registration of 'raw' data</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>reuse_existing_data</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to reuse existing data with the same hash as the 'raw' data that is being registered</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValueMapReadOnly (kiara.models.values.value.ValueMapReadOnly)" href="../../../models/values/value/#kiara.models.values.value.ValueMapReadOnly">ValueMapReadOnly</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a value map instance</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">assemble_value_map</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">values</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="n">values_schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">register_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">reuse_existing_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrive a [ValueMap][kiara.models.values.value.ValueMap] object from the provided value ids or value links.</span>

<span class="sd">    In most cases, this endpoint won&#39;t be used by front-ends, it&#39;s a fairly low-level method that is</span>
<span class="sd">    mainly used for internal purposes. If you have a use-case, let me know and I&#39;ll improve the docs</span>
<span class="sd">    if insufficient.</span>

<span class="sd">    By default, this method can only use values/datasets that are already registered in *kiara*. If you want to</span>
<span class="sd">    auto-register &#39;raw&#39; data, you need to set the &#39;register_data&#39; flag to &#39;True&#39;, and provide a schema for each of the fields that are not yet registered.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        values: a dictionary with the values in question</span>
<span class="sd">        values_schema: an optional dictionary with the schema for each of the values that are not yet registered</span>
<span class="sd">        register_data: whether to allow auto-registration of &#39;raw&#39; data</span>
<span class="sd">        reuse_existing_data: whether to reuse existing data with the same hash as the &#39;raw&#39; data that is being registered</span>

<span class="sd">    Returns:</span>
<span class="sd">        a value map instance</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">register_data</span><span class="p">:</span>
        <span class="n">temp</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="p">(</span><span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">)):</span>
                <span class="n">temp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">values_schema</span><span class="p">:</span>
                <span class="n">details</span> <span class="o">=</span> <span class="s2">&quot;No schema provided.&quot;</span>
                <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid field name: &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39; (value: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">,</span> <span class="n">details</span><span class="o">=</span><span class="n">details</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">details</span> <span class="o">=</span> <span class="s2">&quot;Valid field names: &quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
                <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid field name: &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39; (value: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">,</span> <span class="n">details</span><span class="o">=</span><span class="n">details</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;alias:&quot;</span><span class="p">):</span>
                    <span class="n">temp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                    <span class="k">continue</span>
                <span class="k">elif</span> <span class="n">v</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;archive:&quot;</span><span class="p">):</span>
                    <span class="n">temp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                    <span class="k">continue</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">v</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
                    <span class="n">temp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                    <span class="k">continue</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;alias:&quot;</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
                        <span class="n">_v</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;alias:&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">_v</span> <span class="o">=</span> <span class="n">v</span>

                    <span class="n">data_type</span> <span class="o">=</span> <span class="n">values_schema</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">type</span>
                    <span class="k">if</span> <span class="n">data_type</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span> <span class="ow">and</span> <span class="n">_v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_aliases</span><span class="p">():</span>
                        <span class="n">temp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;alias:</span><span class="si">{</span><span class="n">_v</span><span class="si">}</span><span class="s2">&quot;</span>
                        <span class="k">continue</span>

            <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">temp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">_v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">register_data</span><span class="p">(</span>
                    <span class="n">data</span><span class="o">=</span><span class="n">v</span><span class="p">,</span>
                    <span class="c1"># data_type=values_schema[k].type,</span>
                    <span class="n">data_type</span><span class="o">=</span><span class="n">values_schema</span><span class="p">[</span><span class="n">k</span><span class="p">],</span>
                    <span class="n">reuse_existing</span><span class="o">=</span><span class="n">reuse_existing_data</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">temp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">_v</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">temp</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">load_values</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">values_schema</span><span class="o">=</span><span class="n">values_schema</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.store_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">store_value</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">],</span> <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span> <span class="n">allow_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">store_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">set_as_store_default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValueResult</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.store_value" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Store the specified value in a value store.</p>
<p>If you provide values for the 'data_store' and/or 'alias_store' other than 'default', you need
to make sure those stores are registered with the current context. In most cases, the 'export' endpoint (to be done) will probably be an easier way to export values, which I suspect will
be the main use-case for this endpoint if any of the 'store' arguments where needed. Otherwise, this endpoint is useful to persist values for use in later seperate sessions.</p>
<p>This method does not raise an error if the storing of the value fails, so you have to investigate the
'StoreValueResult' instance that is returned to see if the storing was successful.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the value (or a reference to it)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>alias</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(Optional) one or several aliases for the value</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>allow_overwrite</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to allow overwriting existing aliases</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>store</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>in case data and alias store names are the same, you can use this, if you specify one or both of the others, this will be overwritten</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>store_related_metadata</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to store related metadata (comments, etc.) in the same store as the data</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>set_as_store_default</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to set the specified store as the default store for the value</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">store_value</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">],</span>
    <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span>
    <span class="n">allow_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">store_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">set_as_store_default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValueResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Store the specified value in a value store.</span>

<span class="sd">    If you provide values for the &#39;data_store&#39; and/or &#39;alias_store&#39; other than &#39;default&#39;, you need</span>
<span class="sd">    to make sure those stores are registered with the current context. In most cases, the &#39;export&#39; endpoint (to be done) will probably be an easier way to export values, which I suspect will</span>
<span class="sd">    be the main use-case for this endpoint if any of the &#39;store&#39; arguments where needed. Otherwise, this endpoint is useful to persist values for use in later seperate sessions.</span>

<span class="sd">    This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">    &#39;StoreValueResult&#39; instance that is returned to see if the storing was successful.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        value: the value (or a reference to it)</span>
<span class="sd">        alias: (Optional) one or several aliases for the value</span>
<span class="sd">        allow_overwrite: whether to allow overwriting existing aliases</span>
<span class="sd">        store: in case data and alias store names are the same, you can use this, if you specify one or both of the others, this will be overwritten</span>
<span class="sd">        store_related_metadata: whether to store related metadata (comments, etc.) in the same store as the data</span>
<span class="sd">        set_as_store_default: whether to set the specified store as the default store for the value</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># if isinstance(alias, str):</span>
    <span class="c1">#     alias = [alias]</span>

    <span class="n">value_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="n">persisted_data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">PersistedData</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">persisted_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">store_value</span><span class="p">(</span>
            <span class="n">value</span><span class="o">=</span><span class="n">value_obj</span><span class="p">,</span> <span class="n">data_store</span><span class="o">=</span><span class="n">store</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">alias</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">register_aliases</span><span class="p">(</span>
                <span class="n">value_obj</span><span class="p">,</span>
                <span class="n">alias</span><span class="p">,</span>
                <span class="n">allow_overwrite</span><span class="o">=</span><span class="n">allow_overwrite</span><span class="p">,</span>
                <span class="n">alias_store</span><span class="o">=</span><span class="n">store</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">store_related_metadata</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.registries.metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">MetadataMatcher</span>

            <span class="n">matcher</span> <span class="o">=</span> <span class="n">MetadataMatcher</span><span class="o">.</span><span class="n">create_matcher</span><span class="p">(</span>
                <span class="n">reference_item_ids</span><span class="o">=</span><span class="p">[</span><span class="n">value_obj</span><span class="o">.</span><span class="n">job_id</span><span class="p">,</span> <span class="n">value_obj</span><span class="o">.</span><span class="n">value_id</span><span class="p">]</span>
            <span class="p">)</span>

            <span class="n">target_store</span><span class="p">:</span> <span class="n">MetadataStore</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">get_archive</span><span class="p">(</span><span class="n">store</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="n">matching_metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">find_metadata_items</span><span class="p">(</span>
                <span class="n">matcher</span><span class="o">=</span><span class="n">matcher</span>
            <span class="p">)</span>
            <span class="n">target_store</span><span class="o">.</span><span class="n">store_metadata_and_ref_items</span><span class="p">(</span><span class="n">matching_metadata</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">set_as_store_default</span><span class="p">:</span>
            <span class="n">store_instance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_archive</span><span class="p">(</span><span class="n">store</span><span class="p">)</span>
            <span class="n">store_instance</span><span class="o">.</span><span class="n">set_archive_metadata_value</span><span class="p">(</span>
                <span class="n">DATA_ARCHIVE_DEFAULT_VALUE_MARKER</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value_obj</span><span class="o">.</span><span class="n">value_id</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">alias</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">alias</span> <span class="o">=</span> <span class="p">[</span><span class="n">alias</span><span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">StoreValueResult</span><span class="p">(</span>
            <span class="n">value</span><span class="o">=</span><span class="n">value_obj</span><span class="p">,</span>
            <span class="n">aliases</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span> <span class="k">if</span> <span class="n">alias</span> <span class="k">else</span> <span class="p">[],</span>
            <span class="n">error</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">persisted_data</span><span class="o">=</span><span class="n">persisted_data</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">StoreValueResult</span><span class="p">(</span>
            <span class="n">value</span><span class="o">=</span><span class="n">value_obj</span><span class="p">,</span>
            <span class="n">aliases</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span> <span class="k">if</span> <span class="n">alias</span> <span class="k">else</span> <span class="p">[],</span>
            <span class="n">error</span><span class="o">=</span><span class="p">(</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">else</span> <span class="sa">f</span><span class="s2">&quot;Unknown error (type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;).&quot;</span>
            <span class="p">),</span>
            <span class="n">persisted_data</span><span class="o">=</span><span class="n">persisted_data</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.store_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">store_values</span><span class="p">(</span><span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]]],</span> <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">store_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.store_values" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Store multiple values into the (default) kiara value store.</p>
<p>Convenience method to store multiple values. In a lot of cases you can be more flexible if you
loop over the values on the frontend side, and call the 'store_value' method for each value. But this might be meaningfully slower. This method has the potential to be optimized in the future.</p>
<p>You have several options to provide the values and aliases you want to store:</p>
<ul>
<li>
<p>as a string, in which case the item will be wrapped in a list (see non-mapping iterable below)</p>
</li>
<li>
<p>as a (non-mapping) iterable of value items, those can either be:</p>
</li>
<li>
<p>a value id (as string or uuid)</p>
</li>
<li>a value alias (as string)</li>
<li>a value instance</li>
</ul>
<p>If you do that, then the 'alias_map' argument can either be:</p>
<ul>
<li>'False', in which case no aliases will be registered</li>
<li>'True', in which case all items in the 'values' iterable must be a valid alias, and the alias will be copied without change to the new store</li>
<li>a 'string', in which case all items in the 'values' iterable also must be a valid alias, and the alias that will be registered in the new store will use the string value as prefix (e.g. 'alias_map' = 'experiment1' and 'values' = ['a', 'b'] will result in the aliases 'experiment1.a' and 'experiment1.b')</li>
<li>a map that uses the stringi-fied uuid of the value that should get one or several aliases as key, and a list of aliases as values</li>
</ul>
<p>You can also use a mapping type (like a dict) for the 'values' argument. In this case, the key is a string, and the value can be:</p>
<ul>
<li>a value id (as string or uuid)</li>
<li>a value alias (as string)</li>
<li>a value instance</li>
</ul>
<p>In this case, the meaning of the 'alias_map' is as follows:</p>
<ul>
<li>'False': no aliases will be registered</li>
<li>'True': the key in the 'values' argument will be used as alias</li>
<li>a string: all keys from the 'values' map will be used as alias, prefixed with the value of 'alias_map'</li>
<li>another map, with a string referring to the key in the 'values' argument as key, and a list of aliases (strings) as value</li>
</ul>
<p>Sorry, this is all a bit convoluted, but it's the only way I could think of to make this work for all the requirements I had. In most keases, you'll only have to use 'True' or 'False' here, hopefully.</p>
<p>This method does not raise an error if the storing of the value fails, so you have to investigate the
'StoreValuesResult' instance that is returned to see if the storing was successful.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>values</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a>, <span title="uuid.UUID">UUID</span>, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a>]], <span title="typing.Iterable">Iterable</span>[<span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an iterable/map of value keys/values</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>alias_map</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]], <span title="bool">bool</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a map of value keys aliases</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>allow_alias_overwrite</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to allow overwriting existing aliases</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>store</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>in case data and alias store names are the same, you can use this, if you specify one or both of the others, this will be overwritten</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data_store</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the registered name (or archive id as string) of the store to write the data</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>alias_store</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the registered name (or archive id as string) of the store to persist the alias(es)/value_id mapping</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="StoreValuesResult (kiara.interfaces.python_api.value.StoreValuesResult)" href="../value/#kiara.interfaces.python_api.value.StoreValuesResult">StoreValuesResult</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span>
<span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span>
<span class="normal">2013</span>
<span class="normal">2014</span>
<span class="normal">2015</span>
<span class="normal">2016</span>
<span class="normal">2017</span>
<span class="normal">2018</span>
<span class="normal">2019</span>
<span class="normal">2020</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">store_values</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span>
        <span class="n">Value</span><span class="p">,</span>
        <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span>
        <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span>
        <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span>
    <span class="p">],</span>
    <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">store_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Store multiple values into the (default) kiara value store.</span>

<span class="sd">    Convenience method to store multiple values. In a lot of cases you can be more flexible if you</span>
<span class="sd">    loop over the values on the frontend side, and call the &#39;store_value&#39; method for each value. But this might be meaningfully slower. This method has the potential to be optimized in the future.</span>

<span class="sd">    You have several options to provide the values and aliases you want to store:</span>

<span class="sd">    - as a string, in which case the item will be wrapped in a list (see non-mapping iterable below)</span>

<span class="sd">    - as a (non-mapping) iterable of value items, those can either be:</span>

<span class="sd">      - a value id (as string or uuid)</span>
<span class="sd">      - a value alias (as string)</span>
<span class="sd">      - a value instance</span>

<span class="sd">    If you do that, then the &#39;alias_map&#39; argument can either be:</span>

<span class="sd">      - &#39;False&#39;, in which case no aliases will be registered</span>
<span class="sd">      - &#39;True&#39;, in which case all items in the &#39;values&#39; iterable must be a valid alias, and the alias will be copied without change to the new store</span>
<span class="sd">      - a &#39;string&#39;, in which case all items in the &#39;values&#39; iterable also must be a valid alias, and the alias that will be registered in the new store will use the string value as prefix (e.g. &#39;alias_map&#39; = &#39;experiment1&#39; and &#39;values&#39; = [&#39;a&#39;, &#39;b&#39;] will result in the aliases &#39;experiment1.a&#39; and &#39;experiment1.b&#39;)</span>
<span class="sd">      - a map that uses the stringi-fied uuid of the value that should get one or several aliases as key, and a list of aliases as values</span>

<span class="sd">    You can also use a mapping type (like a dict) for the &#39;values&#39; argument. In this case, the key is a string, and the value can be:</span>

<span class="sd">      - a value id (as string or uuid)</span>
<span class="sd">      - a value alias (as string)</span>
<span class="sd">      - a value instance</span>

<span class="sd">    In this case, the meaning of the &#39;alias_map&#39; is as follows:</span>

<span class="sd">      - &#39;False&#39;: no aliases will be registered</span>
<span class="sd">      - &#39;True&#39;: the key in the &#39;values&#39; argument will be used as alias</span>
<span class="sd">      - a string: all keys from the &#39;values&#39; map will be used as alias, prefixed with the value of &#39;alias_map&#39;</span>
<span class="sd">      - another map, with a string referring to the key in the &#39;values&#39; argument as key, and a list of aliases (strings) as value</span>

<span class="sd">    Sorry, this is all a bit convoluted, but it&#39;s the only way I could think of to make this work for all the requirements I had. In most keases, you&#39;ll only have to use &#39;True&#39; or &#39;False&#39; here, hopefully.</span>

<span class="sd">    This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">    &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        values: an iterable/map of value keys/values</span>
<span class="sd">        alias_map: a map of value keys aliases</span>
<span class="sd">        allow_alias_overwrite: whether to allow overwriting existing aliases</span>
<span class="sd">        store: in case data and alias store names are the same, you can use this, if you specify one or both of the others, this will be overwritten</span>
<span class="sd">        data_store: the registered name (or archive id as string) of the store to write the data</span>
<span class="sd">        alias_store: the registered name (or archive id as string) of the store to persist the alias(es)/value_id mapping</span>

<span class="sd">    Returns:</span>
<span class="sd">        an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">)):</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">values</span><span class="p">]</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">alias_map</span><span class="p">:</span>
            <span class="n">use_aliases</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="n">alias_map</span> <span class="ow">and</span> <span class="p">(</span><span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">True</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">alias_map</span><span class="p">,</span> <span class="nb">str</span><span class="p">)):</span>
            <span class="n">invalid</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">valid</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">invalid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                    <span class="k">continue</span>
                <span class="n">value_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">find_value_id_for_alias</span><span class="p">(</span>
                    <span class="n">alias</span><span class="o">=</span><span class="n">value</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">value_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">invalid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s2">&quot;#&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                            <span class="n">new_alias</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">new_alias</span> <span class="o">=</span> <span class="n">value</span>
                        <span class="n">valid</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value_id</span><span class="p">),</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_alias</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s2">&quot;#&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                            <span class="n">new_alias</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">new_alias</span> <span class="o">=</span> <span class="n">value</span>
                        <span class="n">new_alias</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias_map</span><span class="si">}{</span><span class="n">new_alias</span><span class="si">}</span><span class="s2">&quot;</span>
                        <span class="n">valid</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value_id</span><span class="p">),</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_alias</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">invalid</span><span class="p">:</span>
                <span class="n">invalid_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">invalid</span><span class="p">))</span>
                <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Cannot use auto-aliases with non-mapping iterable, some items are not valid aliases: </span><span class="si">{</span><span class="n">invalid_str</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">alias_map</span> <span class="o">=</span> <span class="n">valid</span>
                <span class="n">use_aliases</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">use_aliases</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
            <span class="n">aliases</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

            <span class="n">value_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">use_aliases</span><span class="p">:</span>
                <span class="n">alias_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value_obj</span><span class="o">.</span><span class="n">value_id</span><span class="p">)</span>
                <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">alias_key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="k">if</span> <span class="n">alias</span><span class="p">:</span>
                    <span class="n">aliases</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>

            <span class="n">store_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">store_value</span><span class="p">(</span>
                <span class="n">value</span><span class="o">=</span><span class="n">value_obj</span><span class="p">,</span>
                <span class="n">alias</span><span class="o">=</span><span class="n">aliases</span><span class="p">,</span>
                <span class="n">allow_overwrite</span><span class="o">=</span><span class="n">allow_alias_overwrite</span><span class="p">,</span>
                <span class="n">store</span><span class="o">=</span><span class="n">store</span><span class="p">,</span>
                <span class="n">store_related_metadata</span><span class="o">=</span><span class="n">store_related_metadata</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">value_obj</span><span class="o">.</span><span class="n">value_id</span><span class="p">)]</span> <span class="o">=</span> <span class="n">store_result</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                <span class="n">aliases_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">elif</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">aliases_map</span> <span class="o">=</span> <span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">alias_map</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">aliases_map</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias_map</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># means it&#39;s a mapping</span>
                <span class="n">_aliases</span> <span class="o">=</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">_aliases</span><span class="p">:</span>
                    <span class="n">aliases_map</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">_aliases</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">aliases_map</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="n">value_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="n">store_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">store_value</span><span class="p">(</span>
                <span class="n">value</span><span class="o">=</span><span class="n">value_obj</span><span class="p">,</span>
                <span class="n">alias</span><span class="o">=</span><span class="n">aliases_map</span><span class="p">,</span>
                <span class="n">allow_overwrite</span><span class="o">=</span><span class="n">allow_alias_overwrite</span><span class="p">,</span>
                <span class="n">store</span><span class="o">=</span><span class="n">store</span><span class="p">,</span>
                <span class="n">store_related_metadata</span><span class="o">=</span><span class="n">store_related_metadata</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">store_result</span>

    <span class="k">return</span> <span class="n">StoreValuesResult</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="n">result</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.import_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">import_values</span><span class="p">(</span><span class="n">source_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]]],</span> <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">source_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.import_values" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Import one or several values from an external kiara archive, along with their aliases (optional).</p>
<p>For the 'values' &amp; 'alias_map' arguments, see the 'store_values' endpoint, as they will be forwarded to that endpoint as is,
and there are several ways to use them which is information I don't want to duplicate.</p>
<p>If you provide aliases in the 'values' parameter, the aliases must be available in the external archive.</p>
<p>Currently, this only works with an external archive file, not with an archive that is registered into the context.
This will probably be added later on, let me know if there is demand, then I'll prioritize.</p>
<p>This method does not raise an error if the storing of the value fails, so you have to investigate the
'StoreValuesResult' instance that is returned to see if the storing was successful.</p>
<h6 id="kiara.interfaces.python_api.base_api.BaseAPI.import_values--note-this-is-a-preliminary-endpoint-and-might-be-changed-in-the-future-if-you-have-a-use-case-for-this-please-let-me-know">NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.<a class="headerlink" href="#kiara.interfaces.python_api.base_api.BaseAPI.import_values--note-this-is-a-preliminary-endpoint-and-might-be-changed-in-the-future-if-you-have-a-use-case-for-this-please-let-me-know" title="Permanent link">&para;</a></h6>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source_archive</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name of the archive to store the values into</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>values</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a>]], <span title="typing.Iterable">Iterable</span>[<span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an iterable/map of value keys/values</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>alias_map</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]], <span title="bool">bool</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a map of value keys aliases</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>allow_alias_overwrite</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to allow overwriting existing aliases</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>source_registered_name</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name to register the archive under in the context</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2024</span>
<span class="normal">2025</span>
<span class="normal">2026</span>
<span class="normal">2027</span>
<span class="normal">2028</span>
<span class="normal">2029</span>
<span class="normal">2030</span>
<span class="normal">2031</span>
<span class="normal">2032</span>
<span class="normal">2033</span>
<span class="normal">2034</span>
<span class="normal">2035</span>
<span class="normal">2036</span>
<span class="normal">2037</span>
<span class="normal">2038</span>
<span class="normal">2039</span>
<span class="normal">2040</span>
<span class="normal">2041</span>
<span class="normal">2042</span>
<span class="normal">2043</span>
<span class="normal">2044</span>
<span class="normal">2045</span>
<span class="normal">2046</span>
<span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span>
<span class="normal">2061</span>
<span class="normal">2062</span>
<span class="normal">2063</span>
<span class="normal">2064</span>
<span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span>
<span class="normal">2069</span>
<span class="normal">2070</span>
<span class="normal">2071</span>
<span class="normal">2072</span>
<span class="normal">2073</span>
<span class="normal">2074</span>
<span class="normal">2075</span>
<span class="normal">2076</span>
<span class="normal">2077</span>
<span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span>
<span class="normal">2085</span>
<span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span>
<span class="normal">2089</span>
<span class="normal">2090</span>
<span class="normal">2091</span>
<span class="normal">2092</span>
<span class="normal">2093</span>
<span class="normal">2094</span>
<span class="normal">2095</span>
<span class="normal">2096</span>
<span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span>
<span class="normal">2102</span>
<span class="normal">2103</span>
<span class="normal">2104</span>
<span class="normal">2105</span>
<span class="normal">2106</span>
<span class="normal">2107</span>
<span class="normal">2108</span>
<span class="normal">2109</span>
<span class="normal">2110</span>
<span class="normal">2111</span>
<span class="normal">2112</span>
<span class="normal">2113</span>
<span class="normal">2114</span>
<span class="normal">2115</span>
<span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span>
<span class="normal">2120</span>
<span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span>
<span class="normal">2127</span>
<span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span>
<span class="normal">2131</span>
<span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">import_values</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">source_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
    <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span>
        <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span>
        <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span>
    <span class="p">],</span>
    <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">source_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Import one or several values from an external kiara archive, along with their aliases (optional).</span>

<span class="sd">    For the &#39;values&#39; &amp; &#39;alias_map&#39; arguments, see the &#39;store_values&#39; endpoint, as they will be forwarded to that endpoint as is,</span>
<span class="sd">    and there are several ways to use them which is information I don&#39;t want to duplicate.</span>

<span class="sd">    If you provide aliases in the &#39;values&#39; parameter, the aliases must be available in the external archive.</span>

<span class="sd">    Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">    This will probably be added later on, let me know if there is demand, then I&#39;ll prioritize.</span>

<span class="sd">    This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">    &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful.</span>

<span class="sd">    # NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        source_archive: the name of the archive to store the values into</span>
<span class="sd">        values: an iterable/map of value keys/values</span>
<span class="sd">        alias_map: a map of value keys aliases</span>
<span class="sd">        allow_alias_overwrite: whether to allow overwriting existing aliases</span>
<span class="sd">        source_registered_name: the name to register the archive under in the context</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">source_archive</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">DEFAULT_STORE_MARKER</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
            <span class="s2">&quot;You cannot use the default store as source for this operation.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">elif</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">alias_map</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">pass</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">alias_map</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid type for &#39;alias_map&#39; argument: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">alias_map</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="n">source_archive_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">register_archive</span><span class="p">(</span>
        <span class="n">archive</span><span class="o">=</span><span class="n">source_archive</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
        <span class="n">registered_name</span><span class="o">=</span><span class="n">source_registered_name</span><span class="p">,</span>
        <span class="n">create_if_not_exists</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">allow_write_access</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">existing_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">value_ids</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">aliases</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">values</span><span class="p">]</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
        <span class="c1"># means we have a list of value ids/aliases</span>
        <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">):</span>
                <span class="n">value_ids</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">_value</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                    <span class="n">value_ids</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">_value</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="n">aliases</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Not implemented yet.&quot;</span><span class="p">)</span>

    <span class="n">new_values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">value_id</span> <span class="ow">in</span> <span class="n">value_ids</span><span class="p">:</span>
        <span class="n">field</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;field_</span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">idx</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">new_values</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_id</span>

    <span class="n">new_alias_map</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">alias</span> <span class="ow">in</span> <span class="n">aliases</span><span class="p">:</span>
        <span class="n">field</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;field_</span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">idx</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">new_values</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">source_archive_ref</span><span class="si">}</span><span class="s2">#</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">new_alias_map</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">alias_map</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">new_alias_map</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias_map</span><span class="si">}{</span><span class="n">alias</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># means its a dict</span>
            <span class="k">if</span> <span class="n">alias</span> <span class="ow">in</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">alias_map</span><span class="p">[</span><span class="n">alias</span><span class="p">]:</span>
                    <span class="n">new_alias_map</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">StoreValuesResult</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">store_values</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">new_values</span><span class="p">,</span>
        <span class="n">alias_map</span><span class="o">=</span><span class="n">new_alias_map</span><span class="p">,</span>
        <span class="n">allow_alias_overwrite</span><span class="o">=</span><span class="n">allow_alias_overwrite</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.export_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export_values</span><span class="p">(</span><span class="n">target_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]]],</span> <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">target_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">append</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">target_store_params</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">export_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">additional_archive_metadata</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.export_values" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Store one or several values along with (optional) aliases into a kiara archive.</p>
<p>For the 'values' &amp; 'alias_map' arguments, see the 'store_values' endpoint, as they will be forwarded to that endpoint as is,
and there are several ways to use them which is information I don't want to duplicate.</p>
<p>Currently, this only works with an external archive file, not with an archive that is registered into the context.
This will probably be added later on, let me know if there is demand, then I'll prioritize.</p>
<p>'target_store_params' is used if the archive does not exist yet. The one supported value for the 'target_store_params' argument currently is 'compression', which can be one of:</p>
<ul>
<li>zstd: zstd compression (default) -- fairly fast, and good compression</li>
<li>none: no compression</li>
<li>LZMA: LZMA compression -- very slow, but very good compression</li>
<li>LZ4: LZ4 compression -- very fast, but not as good compression as zstd</li>
</ul>
<p>This method does not raise an error if the storing of the value fails, so you have to investigate the
'StoreValuesResult' instance that is returned to see if the storing was successful.</p>
<h6 id="kiara.interfaces.python_api.base_api.BaseAPI.export_values--note-this-is-a-preliminary-endpoint-and-might-be-changed-in-the-future-if-you-have-a-use-case-for-this-please-let-me-know">NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.<a class="headerlink" href="#kiara.interfaces.python_api.base_api.BaseAPI.export_values--note-this-is-a-preliminary-endpoint-and-might-be-changed-in-the-future-if-you-have-a-use-case-for-this-please-let-me-know" title="Permanent link">&para;</a></h6>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>target_store</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name of the archive to store the values into</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>values</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a>, <span title="uuid.UUID">UUID</span>, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a>]], <span title="typing.Iterable">Iterable</span>[<span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an iterable/map of value keys/values</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>alias_map</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]], <span title="bool">bool</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a map of value keys aliases</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>allow_alias_overwrite</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to allow overwriting existing aliases</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_registered_name</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name to register the archive under in the context</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>append</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to append to an existing archive</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_store_params</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional parameters to pass to the 'create_kiarchive' method if the file does not exist yet</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>export_related_metadata</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to export related metadata (e.g. job info, comments, ..) to the new archive or not</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>additional_archive_metadata</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(optional) additional metadata to add to the archive</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span>
<span class="normal">2141</span>
<span class="normal">2142</span>
<span class="normal">2143</span>
<span class="normal">2144</span>
<span class="normal">2145</span>
<span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span>
<span class="normal">2151</span>
<span class="normal">2152</span>
<span class="normal">2153</span>
<span class="normal">2154</span>
<span class="normal">2155</span>
<span class="normal">2156</span>
<span class="normal">2157</span>
<span class="normal">2158</span>
<span class="normal">2159</span>
<span class="normal">2160</span>
<span class="normal">2161</span>
<span class="normal">2162</span>
<span class="normal">2163</span>
<span class="normal">2164</span>
<span class="normal">2165</span>
<span class="normal">2166</span>
<span class="normal">2167</span>
<span class="normal">2168</span>
<span class="normal">2169</span>
<span class="normal">2170</span>
<span class="normal">2171</span>
<span class="normal">2172</span>
<span class="normal">2173</span>
<span class="normal">2174</span>
<span class="normal">2175</span>
<span class="normal">2176</span>
<span class="normal">2177</span>
<span class="normal">2178</span>
<span class="normal">2179</span>
<span class="normal">2180</span>
<span class="normal">2181</span>
<span class="normal">2182</span>
<span class="normal">2183</span>
<span class="normal">2184</span>
<span class="normal">2185</span>
<span class="normal">2186</span>
<span class="normal">2187</span>
<span class="normal">2188</span>
<span class="normal">2189</span>
<span class="normal">2190</span>
<span class="normal">2191</span>
<span class="normal">2192</span>
<span class="normal">2193</span>
<span class="normal">2194</span>
<span class="normal">2195</span>
<span class="normal">2196</span>
<span class="normal">2197</span>
<span class="normal">2198</span>
<span class="normal">2199</span>
<span class="normal">2200</span>
<span class="normal">2201</span>
<span class="normal">2202</span>
<span class="normal">2203</span>
<span class="normal">2204</span>
<span class="normal">2205</span>
<span class="normal">2206</span>
<span class="normal">2207</span>
<span class="normal">2208</span>
<span class="normal">2209</span>
<span class="normal">2210</span>
<span class="normal">2211</span>
<span class="normal">2212</span>
<span class="normal">2213</span>
<span class="normal">2214</span>
<span class="normal">2215</span>
<span class="normal">2216</span>
<span class="normal">2217</span>
<span class="normal">2218</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">export_values</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">target_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
    <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span>
        <span class="n">Value</span><span class="p">,</span>
        <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span>
        <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span>
        <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">]],</span>
    <span class="p">],</span>
    <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">allow_alias_overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">target_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">append</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">target_store_params</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">export_related_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">additional_archive_metadata</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Store one or several values along with (optional) aliases into a kiara archive.</span>

<span class="sd">    For the &#39;values&#39; &amp; &#39;alias_map&#39; arguments, see the &#39;store_values&#39; endpoint, as they will be forwarded to that endpoint as is,</span>
<span class="sd">    and there are several ways to use them which is information I don&#39;t want to duplicate.</span>

<span class="sd">    Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">    This will probably be added later on, let me know if there is demand, then I&#39;ll prioritize.</span>

<span class="sd">    &#39;target_store_params&#39; is used if the archive does not exist yet. The one supported value for the &#39;target_store_params&#39; argument currently is &#39;compression&#39;, which can be one of:</span>

<span class="sd">    - zstd: zstd compression (default) -- fairly fast, and good compression</span>
<span class="sd">    - none: no compression</span>
<span class="sd">    - LZMA: LZMA compression -- very slow, but very good compression</span>
<span class="sd">    - LZ4: LZ4 compression -- very fast, but not as good compression as zstd</span>

<span class="sd">    This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">    &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful.</span>

<span class="sd">    # NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        target_store: the name of the archive to store the values into</span>
<span class="sd">        values: an iterable/map of value keys/values</span>
<span class="sd">        alias_map: a map of value keys aliases</span>
<span class="sd">        allow_alias_overwrite: whether to allow overwriting existing aliases</span>
<span class="sd">        target_registered_name: the name to register the archive under in the context</span>
<span class="sd">        append: whether to append to an existing archive</span>
<span class="sd">        target_store_params: additional parameters to pass to the &#39;create_kiarchive&#39; method if the file does not exist yet</span>
<span class="sd">        export_related_metadata: whether to export related metadata (e.g. job info, comments, ..) to the new archive or not</span>
<span class="sd">        additional_archive_metadata: (optional) additional metadata to add to the archive</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">target_archive</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">DEFAULT_STORE_MARKER</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
            <span class="s2">&quot;You cannot use the default store as target for this operation.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">target_store_params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">target_store_params</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">target_archive_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">register_archive</span><span class="p">(</span>
        <span class="n">archive</span><span class="o">=</span><span class="n">target_archive</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
        <span class="n">registered_name</span><span class="o">=</span><span class="n">target_registered_name</span><span class="p">,</span>
        <span class="n">create_if_not_exists</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">allow_write_access</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">existing_ok</span><span class="o">=</span><span class="kc">True</span> <span class="k">if</span> <span class="n">append</span> <span class="k">else</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">target_store_params</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">StoreValuesResult</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">store_values</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span>
        <span class="n">alias_map</span><span class="o">=</span><span class="n">alias_map</span><span class="p">,</span>
        <span class="n">allow_alias_overwrite</span><span class="o">=</span><span class="n">allow_alias_overwrite</span><span class="p">,</span>
        <span class="n">store</span><span class="o">=</span><span class="n">target_archive_ref</span><span class="p">,</span>
        <span class="n">store_related_metadata</span><span class="o">=</span><span class="n">export_related_metadata</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">additional_archive_metadata</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">additional_archive_metadata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_archive_metadata_value</span><span class="p">(</span><span class="n">target_archive_ref</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.register_archive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">register_archive</span><span class="p">(</span><span class="n">archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="n">KiArchive</span><span class="p">],</span> <span class="n">allow_write_access</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">create_if_not_exists</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">existing_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">create_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.register_archive" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Register a kiarchive with the current context.</p>
<p>In most cases, this will be used to 'load' an existing kiarchive file and attach it to the current context.
If the file does not exist, one will be created, with the filename (without '.kiarchive' suffix) as the archive name if not specified.</p>
<p>In the future this might also take a URL, but for now only local files are supported.</p>
<h6 id="kiara.interfaces.python_api.base_api.BaseAPI.register_archive--note-this-is-a-preliminary-endpoint-and-might-be-changed-in-the-future-if-you-have-a-use-case-for-this-please-let-me-know">NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.<a class="headerlink" href="#kiara.interfaces.python_api.base_api.BaseAPI.register_archive--note-this-is-a-preliminary-endpoint-and-might-be-changed-in-the-future-if-you-have-a-use-case-for-this-please-let-me-know" title="Permanent link">&para;</a></h6>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>archive</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="pathlib.Path">Path</span>, <a class="autorefs autorefs-internal" title="KiArchive (kiara.interfaces.python_api.models.archive.KiArchive)" href="../models/archive/#kiara.interfaces.python_api.models.archive.KiArchive">KiArchive</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the uri of the archive (file path), or a [Kiarchive][kiara.interfaces.python_api.models.archive.Kiarchive] instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>allow_write_access</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to allow write access to the archive</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>registered_name</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name/alias that the archive is registered in the context, and which can be used in the 'store_value(s)' endpoint, if not provided, it will be auto-determined from the file name</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>create_if_not_exists</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the file does not exist, create it. If this is 'False', an exception will be raised if the file does not exist.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>existing_ok</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the file is allowed to exist already, if 'False', an exception will be raised if the file exists</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>create_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional parameters to pass to the 'create_kiarchive' method if the file does not exist yet</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name/alias that the archive is registered in the context, and which can be used in the 'store_value(s)' endpoint</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2220</span>
<span class="normal">2221</span>
<span class="normal">2222</span>
<span class="normal">2223</span>
<span class="normal">2224</span>
<span class="normal">2225</span>
<span class="normal">2226</span>
<span class="normal">2227</span>
<span class="normal">2228</span>
<span class="normal">2229</span>
<span class="normal">2230</span>
<span class="normal">2231</span>
<span class="normal">2232</span>
<span class="normal">2233</span>
<span class="normal">2234</span>
<span class="normal">2235</span>
<span class="normal">2236</span>
<span class="normal">2237</span>
<span class="normal">2238</span>
<span class="normal">2239</span>
<span class="normal">2240</span>
<span class="normal">2241</span>
<span class="normal">2242</span>
<span class="normal">2243</span>
<span class="normal">2244</span>
<span class="normal">2245</span>
<span class="normal">2246</span>
<span class="normal">2247</span>
<span class="normal">2248</span>
<span class="normal">2249</span>
<span class="normal">2250</span>
<span class="normal">2251</span>
<span class="normal">2252</span>
<span class="normal">2253</span>
<span class="normal">2254</span>
<span class="normal">2255</span>
<span class="normal">2256</span>
<span class="normal">2257</span>
<span class="normal">2258</span>
<span class="normal">2259</span>
<span class="normal">2260</span>
<span class="normal">2261</span>
<span class="normal">2262</span>
<span class="normal">2263</span>
<span class="normal">2264</span>
<span class="normal">2265</span>
<span class="normal">2266</span>
<span class="normal">2267</span>
<span class="normal">2268</span>
<span class="normal">2269</span>
<span class="normal">2270</span>
<span class="normal">2271</span>
<span class="normal">2272</span>
<span class="normal">2273</span>
<span class="normal">2274</span>
<span class="normal">2275</span>
<span class="normal">2276</span>
<span class="normal">2277</span>
<span class="normal">2278</span>
<span class="normal">2279</span>
<span class="normal">2280</span>
<span class="normal">2281</span>
<span class="normal">2282</span>
<span class="normal">2283</span>
<span class="normal">2284</span>
<span class="normal">2285</span>
<span class="normal">2286</span>
<span class="normal">2287</span>
<span class="normal">2288</span>
<span class="normal">2289</span>
<span class="normal">2290</span>
<span class="normal">2291</span>
<span class="normal">2292</span>
<span class="normal">2293</span>
<span class="normal">2294</span>
<span class="normal">2295</span>
<span class="normal">2296</span>
<span class="normal">2297</span>
<span class="normal">2298</span>
<span class="normal">2299</span>
<span class="normal">2300</span>
<span class="normal">2301</span>
<span class="normal">2302</span>
<span class="normal">2303</span>
<span class="normal">2304</span>
<span class="normal">2305</span>
<span class="normal">2306</span>
<span class="normal">2307</span>
<span class="normal">2308</span>
<span class="normal">2309</span>
<span class="normal">2310</span>
<span class="normal">2311</span>
<span class="normal">2312</span>
<span class="normal">2313</span>
<span class="normal">2314</span>
<span class="normal">2315</span>
<span class="normal">2316</span>
<span class="normal">2317</span>
<span class="normal">2318</span>
<span class="normal">2319</span>
<span class="normal">2320</span>
<span class="normal">2321</span>
<span class="normal">2322</span>
<span class="normal">2323</span>
<span class="normal">2324</span>
<span class="normal">2325</span>
<span class="normal">2326</span>
<span class="normal">2327</span>
<span class="normal">2328</span>
<span class="normal">2329</span>
<span class="normal">2330</span>
<span class="normal">2331</span>
<span class="normal">2332</span>
<span class="normal">2333</span>
<span class="normal">2334</span>
<span class="normal">2335</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">register_archive</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="s2">&quot;KiArchive&quot;</span><span class="p">],</span>
    <span class="n">allow_write_access</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">create_if_not_exists</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">existing_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">create_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Register a kiarchive with the current context.</span>

<span class="sd">    In most cases, this will be used to &#39;load&#39; an existing kiarchive file and attach it to the current context.</span>
<span class="sd">    If the file does not exist, one will be created, with the filename (without &#39;.kiarchive&#39; suffix) as the archive name if not specified.</span>

<span class="sd">    In the future this might also take a URL, but for now only local files are supported.</span>

<span class="sd">    # NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        archive: the uri of the archive (file path), or a [Kiarchive][kiara.interfaces.python_api.models.archive.Kiarchive] instance</span>
<span class="sd">        allow_write_access: whether to allow write access to the archive</span>
<span class="sd">        registered_name: the name/alias that the archive is registered in the context, and which can be used in the &#39;store_value(s)&#39; endpoint, if not provided, it will be auto-determined from the file name</span>
<span class="sd">        create_if_not_exists: if the file does not exist, create it. If this is &#39;False&#39;, an exception will be raised if the file does not exist.</span>
<span class="sd">        existing_ok: whether the file is allowed to exist already, if &#39;False&#39;, an exception will be raised if the file exists</span>
<span class="sd">        create_params: additional parameters to pass to the &#39;create_kiarchive&#39; method if the file does not exist yet</span>

<span class="sd">    Returns:</span>
<span class="sd">        the name/alias that the archive is registered in the context, and which can be used in the &#39;store_value(s)&#39; endpoint</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.models.archive</span><span class="w"> </span><span class="kn">import</span> <span class="n">KiArchive</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_ok</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">create_if_not_exists</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
            <span class="s2">&quot;Both &#39;existing_ok&#39; and &#39;create_if_not_exists&#39; cannot be &#39;False&#39; at the same time.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">archive</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">archive</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">archive</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.kiarchive&quot;</span><span class="p">):</span>
            <span class="n">archive</span> <span class="o">=</span> <span class="n">archive</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">archive</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.kiarchive&quot;</span>

        <span class="k">if</span> <span class="n">archive</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_ok</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Archive file &#39;</span><span class="si">{</span><span class="n">archive</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&#39; already exists.&quot;</span>
                <span class="p">)</span>
            <span class="n">archive</span> <span class="o">=</span> <span class="n">KiArchive</span><span class="o">.</span><span class="n">load_kiarchive</span><span class="p">(</span>
                <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span>
                <span class="n">path</span><span class="o">=</span><span class="n">archive</span><span class="p">,</span>
                <span class="n">archive_name</span><span class="o">=</span><span class="n">registered_name</span><span class="p">,</span>
                <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">log_message</span><span class="p">(</span><span class="s2">&quot;archive.loaded&quot;</span><span class="p">,</span> <span class="n">archive_name</span><span class="o">=</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">create_if_not_exists</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Archive file &#39;</span><span class="si">{</span><span class="n">archive</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span>
                <span class="p">)</span>
            <span class="n">kiarchive_alias</span> <span class="o">=</span> <span class="n">archive</span><span class="o">.</span><span class="n">name</span>
            <span class="k">if</span> <span class="n">kiarchive_alias</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.kiarchive&quot;</span><span class="p">):</span>
                <span class="n">kiarchive_alias</span> <span class="o">=</span> <span class="n">kiarchive_alias</span><span class="p">[:</span><span class="o">-</span><span class="mi">10</span><span class="p">]</span>

            <span class="n">compression</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">CHUNK_COMPRESSION_TYPE</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">create_params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;compression&quot;</span><span class="p">:</span>
                    <span class="n">compression</span> <span class="o">=</span> <span class="n">v</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                        <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid archive creation parameter: &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                    <span class="p">)</span>

            <span class="n">archive</span> <span class="o">=</span> <span class="n">KiArchive</span><span class="o">.</span><span class="n">create_kiarchive</span><span class="p">(</span>
                <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span>
                <span class="n">kiarchive_uri</span><span class="o">=</span><span class="n">archive</span><span class="o">.</span><span class="n">as_posix</span><span class="p">(),</span>
                <span class="n">allow_existing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">archive_name</span><span class="o">=</span><span class="n">kiarchive_alias</span><span class="p">,</span>
                <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
                <span class="n">compression</span><span class="o">=</span><span class="n">compression</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">log_message</span><span class="p">(</span><span class="s2">&quot;archive.created&quot;</span><span class="p">,</span> <span class="n">archive_name</span><span class="o">=</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_name</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Only local files are supported for now.&quot;</span><span class="p">)</span>

    <span class="n">data_archive</span> <span class="o">=</span> <span class="n">archive</span><span class="o">.</span><span class="n">data_archive</span>
    <span class="k">assert</span> <span class="n">data_archive</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="n">data_alias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">register_external_archive</span><span class="p">(</span>
        <span class="n">data_archive</span><span class="p">,</span>
        <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">alias_archive</span> <span class="o">=</span> <span class="n">archive</span><span class="o">.</span><span class="n">alias_archive</span>
    <span class="k">assert</span> <span class="n">alias_archive</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="n">alias_alias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">register_external_archive</span><span class="p">(</span>
        <span class="n">alias_archive</span><span class="p">,</span> <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span>
    <span class="p">)</span>

    <span class="n">job_archive</span> <span class="o">=</span> <span class="n">archive</span><span class="o">.</span><span class="n">job_archive</span>
    <span class="k">assert</span> <span class="n">job_archive</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="n">job_alias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">register_external_archive</span><span class="p">(</span>
        <span class="n">job_archive</span><span class="p">,</span> <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span>
    <span class="p">)</span>

    <span class="n">metadata_archive</span> <span class="o">=</span> <span class="n">archive</span><span class="o">.</span><span class="n">metadata_archive</span>
    <span class="k">assert</span> <span class="n">metadata_archive</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="n">metadata_alias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">register_external_archive</span><span class="p">(</span>
        <span class="n">metadata_archive</span><span class="p">,</span> <span class="n">allow_write_access</span><span class="o">=</span><span class="n">allow_write_access</span>
    <span class="p">)</span>
    <span class="k">assert</span> <span class="n">data_alias</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">alias_alias</span><span class="p">[</span><span class="s2">&quot;alias&quot;</span><span class="p">]</span>
    <span class="k">assert</span> <span class="n">data_alias</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">job_alias</span><span class="p">[</span><span class="s2">&quot;job_record&quot;</span><span class="p">]</span>
    <span class="k">assert</span> <span class="n">data_alias</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">metadata_alias</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">]</span>
    <span class="k">assert</span> <span class="n">archive</span><span class="o">.</span><span class="n">archive_name</span> <span class="o">==</span> <span class="n">data_alias</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">archive</span><span class="o">.</span><span class="n">archive_name</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.set_archive_metadata_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_archive_metadata_value</span><span class="p">(</span><span class="n">archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">archive_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;alias&#39;</span><span class="p">,</span> <span class="s1">&#39;job_record&#39;</span><span class="p">,</span> <span class="s1">&#39;metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;data&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.set_archive_metadata_value" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Add metadata to an archive.</p>
<p>Note that this is different to adding metadata to a context, since it is attached directly
to a special section of the archive itself.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2337</span>
<span class="normal">2338</span>
<span class="normal">2339</span>
<span class="normal">2340</span>
<span class="normal">2341</span>
<span class="normal">2342</span>
<span class="normal">2343</span>
<span class="normal">2344</span>
<span class="normal">2345</span>
<span class="normal">2346</span>
<span class="normal">2347</span>
<span class="normal">2348</span>
<span class="normal">2349</span>
<span class="normal">2350</span>
<span class="normal">2351</span>
<span class="normal">2352</span>
<span class="normal">2353</span>
<span class="normal">2354</span>
<span class="normal">2355</span>
<span class="normal">2356</span>
<span class="normal">2357</span>
<span class="normal">2358</span>
<span class="normal">2359</span>
<span class="normal">2360</span>
<span class="normal">2361</span>
<span class="normal">2362</span>
<span class="normal">2363</span>
<span class="normal">2364</span>
<span class="normal">2365</span>
<span class="normal">2366</span>
<span class="normal">2367</span>
<span class="normal">2368</span>
<span class="normal">2369</span>
<span class="normal">2370</span>
<span class="normal">2371</span>
<span class="normal">2372</span>
<span class="normal">2373</span>
<span class="normal">2374</span>
<span class="normal">2375</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_archive_metadata_value</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">archive_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="s2">&quot;alias&quot;</span><span class="p">,</span> <span class="s2">&quot;job_record&quot;</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;data&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add metadata to an archive.</span>

<span class="sd">    Note that this is different to adding metadata to a context, since it is attached directly</span>
<span class="sd">    to a special section of the archive itself.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span>
        <span class="n">_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">KiaraArchive</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_archive</span><span class="p">(</span><span class="n">archive</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">_archive</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Archive &#39;</span><span class="si">{</span><span class="n">archive</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">)</span>
        <span class="n">_archive</span><span class="o">.</span><span class="n">set_archive_metadata_value</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;alias&quot;</span><span class="p">:</span>
        <span class="n">_archive</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">get_archive</span><span class="p">(</span><span class="n">archive</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">_archive</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Archive &#39;</span><span class="si">{</span><span class="n">archive</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">)</span>
        <span class="n">_archive</span><span class="o">.</span><span class="n">set_archive_metadata_value</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;metadata&quot;</span><span class="p">:</span>
        <span class="n">_archive</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">get_archive</span><span class="p">(</span><span class="n">archive</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">_archive</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Archive &#39;</span><span class="si">{</span><span class="n">archive</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">)</span>
        <span class="n">_archive</span><span class="o">.</span><span class="n">set_archive_metadata_value</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="s2">&quot;job_record&quot;</span><span class="p">:</span>
        <span class="n">_archive</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">get_archive</span><span class="p">(</span><span class="n">archive</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">_archive</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Archive &#39;</span><span class="si">{</span><span class="n">archive</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">)</span>
        <span class="n">_archive</span><span class="o">.</span><span class="n">set_archive_metadata_value</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid archive type: </span><span class="si">{</span><span class="n">archive_type</span><span class="si">}</span><span class="s2">. Valid types are: &#39;data&#39;, &#39;alias&#39;.&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_archive_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_archive_info</span><span class="p">(</span><span class="n">archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">KiArchive</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">KiArchiveInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_archive_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about an archive at the specified local path</p>
<p>Currently, this only works with an external archive file, not with an archive that is registered into the context.
This will probably be added later on, let me know if there is demand, then I'll prioritize.</p>
<h6 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_archive_info--note-this-is-a-preliminary-endpoint-and-might-be-changed-in-the-future-if-you-have-a-use-case-for-this-please-let-me-know">NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.<a class="headerlink" href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_archive_info--note-this-is-a-preliminary-endpoint-and-might-be-changed-in-the-future-if-you-have-a-use-case-for-this-please-let-me-know" title="Permanent link">&para;</a></h6>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>archive</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="KiArchive (kiara.interfaces.python_api.models.archive.KiArchive)" href="../models/archive/#kiara.interfaces.python_api.models.archive.KiArchive">KiArchive</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the uri of the archive (file path)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="KiArchiveInfo (kiara.models.archives.KiArchiveInfo)" href="../../../models/archives/#kiara.models.archives.KiArchiveInfo">KiArchiveInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a [KiarchiveInfo][kiara.interfaces.python_api.models.archive.KiarchiveInfo] instance, containing details about the archive</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2377</span>
<span class="normal">2378</span>
<span class="normal">2379</span>
<span class="normal">2380</span>
<span class="normal">2381</span>
<span class="normal">2382</span>
<span class="normal">2383</span>
<span class="normal">2384</span>
<span class="normal">2385</span>
<span class="normal">2386</span>
<span class="normal">2387</span>
<span class="normal">2388</span>
<span class="normal">2389</span>
<span class="normal">2390</span>
<span class="normal">2391</span>
<span class="normal">2392</span>
<span class="normal">2393</span>
<span class="normal">2394</span>
<span class="normal">2395</span>
<span class="normal">2396</span>
<span class="normal">2397</span>
<span class="normal">2398</span>
<span class="normal">2399</span>
<span class="normal">2400</span>
<span class="normal">2401</span>
<span class="normal">2402</span>
<span class="normal">2403</span>
<span class="normal">2404</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retrieve_archive_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;KiArchive&quot;</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiArchiveInfo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve information about an archive at the specified local path</span>

<span class="sd">    Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">    This will probably be added later on, let me know if there is demand, then I&#39;ll prioritize.</span>

<span class="sd">    # NOTE: this is a preliminary endpoint, and might be changed in the future. If you have a use-case for this, please let me know.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        archive: the uri of the archive (file path)</span>

<span class="sd">    Returns:</span>
<span class="sd">        a [KiarchiveInfo][kiara.interfaces.python_api.models.archive.KiarchiveInfo] instance, containing details about the archive</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.models.archive</span><span class="w"> </span><span class="kn">import</span> <span class="n">KiArchive</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.archives</span><span class="w"> </span><span class="kn">import</span> <span class="n">KiArchiveInfo</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="n">KiArchive</span><span class="p">):</span>
        <span class="n">archive</span> <span class="o">=</span> <span class="n">KiArchive</span><span class="o">.</span><span class="n">load_kiarchive</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">archive</span><span class="p">)</span>

    <span class="n">kiarchive_info</span> <span class="o">=</span> <span class="n">KiArchiveInfo</span><span class="o">.</span><span class="n">create_from_instance</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">archive</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">kiarchive_info</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.export_archive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export_archive</span><span class="p">(</span><span class="n">target_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="n">target_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">append</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">no_aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">target_store_params</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.export_archive" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Export all data from the default store in your context into the specfied archive path.</p>
<p>The target archives will be registered into the context, either using the provided registered_name, or the name
will be auto-determined from the archive metadata.</p>
<p>Currently, this only works with an external archive file, not with an archive that is already registered into the context.
This will be added later on.</p>
<p>Also, currently you can only export all data from the default store, there is no way to select only a sub-set. This will
also be supported later on.</p>
<p>The one supported value for the 'target_store_params' argument currently is 'compression', which can be one of:</p>
<ul>
<li>zstd: zstd compression (default) -- fairly fast, and good compression</li>
<li>none: no compression</li>
<li>LZMA: LZMA compression -- very slow, but very good compression</li>
<li>LZ4: LZ4 compression -- very fast, but not as good compression as zstd</li>
</ul>
<p>This method does not raise an error if the storing of the value fails, so you have to investigate the
'StoreValuesResult' instance that is returned to see if the storing was successful</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>target_archive</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the registered_name or uri of the target archive</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_registered_name</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name/alias that the archive should be registered in the context (if necessary)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>append</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to append to an existing archive or error out if the target already exists</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>no_aliases</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to skip importing aliases</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_store_params</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional parameters to pass to the 'create_kiarchive' method if the target file does not exist yet</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="StoreValuesResult (kiara.interfaces.python_api.value.StoreValuesResult)" href="../value/#kiara.interfaces.python_api.value.StoreValuesResult">StoreValuesResult</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2406</span>
<span class="normal">2407</span>
<span class="normal">2408</span>
<span class="normal">2409</span>
<span class="normal">2410</span>
<span class="normal">2411</span>
<span class="normal">2412</span>
<span class="normal">2413</span>
<span class="normal">2414</span>
<span class="normal">2415</span>
<span class="normal">2416</span>
<span class="normal">2417</span>
<span class="normal">2418</span>
<span class="normal">2419</span>
<span class="normal">2420</span>
<span class="normal">2421</span>
<span class="normal">2422</span>
<span class="normal">2423</span>
<span class="normal">2424</span>
<span class="normal">2425</span>
<span class="normal">2426</span>
<span class="normal">2427</span>
<span class="normal">2428</span>
<span class="normal">2429</span>
<span class="normal">2430</span>
<span class="normal">2431</span>
<span class="normal">2432</span>
<span class="normal">2433</span>
<span class="normal">2434</span>
<span class="normal">2435</span>
<span class="normal">2436</span>
<span class="normal">2437</span>
<span class="normal">2438</span>
<span class="normal">2439</span>
<span class="normal">2440</span>
<span class="normal">2441</span>
<span class="normal">2442</span>
<span class="normal">2443</span>
<span class="normal">2444</span>
<span class="normal">2445</span>
<span class="normal">2446</span>
<span class="normal">2447</span>
<span class="normal">2448</span>
<span class="normal">2449</span>
<span class="normal">2450</span>
<span class="normal">2451</span>
<span class="normal">2452</span>
<span class="normal">2453</span>
<span class="normal">2454</span>
<span class="normal">2455</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">export_archive</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">target_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
    <span class="n">target_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">append</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">no_aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">target_store_params</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Export all data from the default store in your context into the specfied archive path.</span>

<span class="sd">    The target archives will be registered into the context, either using the provided registered_name, or the name</span>
<span class="sd">    will be auto-determined from the archive metadata.</span>

<span class="sd">    Currently, this only works with an external archive file, not with an archive that is already registered into the context.</span>
<span class="sd">    This will be added later on.</span>

<span class="sd">    Also, currently you can only export all data from the default store, there is no way to select only a sub-set. This will</span>
<span class="sd">    also be supported later on.</span>

<span class="sd">    The one supported value for the &#39;target_store_params&#39; argument currently is &#39;compression&#39;, which can be one of:</span>

<span class="sd">    - zstd: zstd compression (default) -- fairly fast, and good compression</span>
<span class="sd">    - none: no compression</span>
<span class="sd">    - LZMA: LZMA compression -- very slow, but very good compression</span>
<span class="sd">    - LZ4: LZ4 compression -- very fast, but not as good compression as zstd</span>

<span class="sd">    This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">    &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful</span>

<span class="sd">    Arguments:</span>
<span class="sd">        target_archive: the registered_name or uri of the target archive</span>
<span class="sd">        target_registered_name: the name/alias that the archive should be registered in the context (if necessary)</span>
<span class="sd">        append: whether to append to an existing archive or error out if the target already exists</span>
<span class="sd">        no_aliases: whether to skip importing aliases</span>
<span class="sd">        target_store_params: additional parameters to pass to the &#39;create_kiarchive&#39; method if the target file does not exist yet</span>

<span class="sd">    Returns:</span>
<span class="sd">        an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy_archive</span><span class="p">(</span>
        <span class="n">source_archive</span><span class="o">=</span><span class="n">DEFAULT_STORE_MARKER</span><span class="p">,</span>
        <span class="n">target_archive</span><span class="o">=</span><span class="n">target_archive</span><span class="p">,</span>
        <span class="n">target_registered_name</span><span class="o">=</span><span class="n">target_registered_name</span><span class="p">,</span>
        <span class="n">append</span><span class="o">=</span><span class="n">append</span><span class="p">,</span>
        <span class="n">target_store_params</span><span class="o">=</span><span class="n">target_store_params</span><span class="p">,</span>
        <span class="n">no_aliases</span><span class="o">=</span><span class="n">no_aliases</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.import_archive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">import_archive</span><span class="p">(</span><span class="n">source_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="n">source_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">no_aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.import_archive" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Import all data from the specified archive into the current contexts default data &amp; alias store.</p>
<p>The source target will be registered into the context, either using the provided registered_name, otherwise the name
will be auto-determined from the archive metadata.</p>
<p>Currently, this only works with an external archive file, not with an archive that is registered into the context.
This will be added later on.</p>
<p>Also, currently you can only import all data into the default store, there is no way to select only a sub-set. This will
also be supported later on.</p>
<p>This method does not raise an error if the storing of the value fails, so you have to investigate the
'StoreValuesResult' instance that is returned to see if the storing was successful</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source_archive</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the registered_name or uri of the source archive</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>source_registered_name</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name/alias that the archive should be registered in the context (if necessary)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>no_aliases</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to skip importing aliases</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="StoreValuesResult (kiara.interfaces.python_api.value.StoreValuesResult)" href="../value/#kiara.interfaces.python_api.value.StoreValuesResult">StoreValuesResult</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2457</span>
<span class="normal">2458</span>
<span class="normal">2459</span>
<span class="normal">2460</span>
<span class="normal">2461</span>
<span class="normal">2462</span>
<span class="normal">2463</span>
<span class="normal">2464</span>
<span class="normal">2465</span>
<span class="normal">2466</span>
<span class="normal">2467</span>
<span class="normal">2468</span>
<span class="normal">2469</span>
<span class="normal">2470</span>
<span class="normal">2471</span>
<span class="normal">2472</span>
<span class="normal">2473</span>
<span class="normal">2474</span>
<span class="normal">2475</span>
<span class="normal">2476</span>
<span class="normal">2477</span>
<span class="normal">2478</span>
<span class="normal">2479</span>
<span class="normal">2480</span>
<span class="normal">2481</span>
<span class="normal">2482</span>
<span class="normal">2483</span>
<span class="normal">2484</span>
<span class="normal">2485</span>
<span class="normal">2486</span>
<span class="normal">2487</span>
<span class="normal">2488</span>
<span class="normal">2489</span>
<span class="normal">2490</span>
<span class="normal">2491</span>
<span class="normal">2492</span>
<span class="normal">2493</span>
<span class="normal">2494</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">import_archive</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">source_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
    <span class="n">source_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">no_aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Import all data from the specified archive into the current contexts default data &amp; alias store.</span>

<span class="sd">    The source target will be registered into the context, either using the provided registered_name, otherwise the name</span>
<span class="sd">    will be auto-determined from the archive metadata.</span>

<span class="sd">    Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">    This will be added later on.</span>

<span class="sd">    Also, currently you can only import all data into the default store, there is no way to select only a sub-set. This will</span>
<span class="sd">    also be supported later on.</span>

<span class="sd">    This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">    &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful</span>

<span class="sd">    Arguments:</span>
<span class="sd">        source_archive: the registered_name or uri of the source archive</span>
<span class="sd">        source_registered_name: the name/alias that the archive should be registered in the context (if necessary)</span>
<span class="sd">        no_aliases: whether to skip importing aliases</span>

<span class="sd">    Returns:</span>
<span class="sd">        an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy_archive</span><span class="p">(</span>
        <span class="n">source_archive</span><span class="o">=</span><span class="n">source_archive</span><span class="p">,</span>
        <span class="n">target_archive</span><span class="o">=</span><span class="n">DEFAULT_STORE_MARKER</span><span class="p">,</span>
        <span class="n">source_registered_name</span><span class="o">=</span><span class="n">source_registered_name</span><span class="p">,</span>
        <span class="n">no_aliases</span><span class="o">=</span><span class="n">no_aliases</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.copy_archive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">copy_archive</span><span class="p">(</span><span class="n">source_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="n">target_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">source_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">target_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">append</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">no_aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">target_store_params</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.copy_archive" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Import all data from the specified archive into the current context.</p>
<p>The archives will be registered into the context, either using the provided registered_name, otherwise the name
will be auto-determined from the archive metadata.</p>
<p>Currently, this only works with an external archive file, not with an archive that is registered into the context.
This will be added later on.</p>
<p>The one supported value for the 'target_store_params' argument currently is 'compression', which can be one of:</p>
<ul>
<li>zstd: zstd compression (default) -- fairly fast, and good compression</li>
<li>none: no compression</li>
<li>LZMA: LZMA compression -- very slow, but very good compression</li>
<li>LZ4: LZ4 compression -- very fast, but not as good compression as zstd</li>
</ul>
<p>This method does not raise an error if the storing of the value fails, so you have to investigate the
'StoreValuesResult' instance that is returned to see if the storing was successful</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source_archive</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="str">str</span>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the registered_name or uri of the source archive, if None, the context default data/alias store will be used</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_archive</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="str">str</span>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the registered_name or uri of the target archive, defaults to the context default data/alias store</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>source_registered_name</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name/alias that the archive should be registered in the context (if necessary)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_registered_name</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name/alias that the archive should be registered in the context (if necessary)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>append</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to append to an existing archive or error out if the target already exists</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>no_aliases</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to skip importing aliases</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_store_params</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional parameters to pass to the 'create_kiarchive' method if the target file does not exist yet</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="StoreValuesResult (kiara.interfaces.python_api.value.StoreValuesResult)" href="../value/#kiara.interfaces.python_api.value.StoreValuesResult">StoreValuesResult</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2496</span>
<span class="normal">2497</span>
<span class="normal">2498</span>
<span class="normal">2499</span>
<span class="normal">2500</span>
<span class="normal">2501</span>
<span class="normal">2502</span>
<span class="normal">2503</span>
<span class="normal">2504</span>
<span class="normal">2505</span>
<span class="normal">2506</span>
<span class="normal">2507</span>
<span class="normal">2508</span>
<span class="normal">2509</span>
<span class="normal">2510</span>
<span class="normal">2511</span>
<span class="normal">2512</span>
<span class="normal">2513</span>
<span class="normal">2514</span>
<span class="normal">2515</span>
<span class="normal">2516</span>
<span class="normal">2517</span>
<span class="normal">2518</span>
<span class="normal">2519</span>
<span class="normal">2520</span>
<span class="normal">2521</span>
<span class="normal">2522</span>
<span class="normal">2523</span>
<span class="normal">2524</span>
<span class="normal">2525</span>
<span class="normal">2526</span>
<span class="normal">2527</span>
<span class="normal">2528</span>
<span class="normal">2529</span>
<span class="normal">2530</span>
<span class="normal">2531</span>
<span class="normal">2532</span>
<span class="normal">2533</span>
<span class="normal">2534</span>
<span class="normal">2535</span>
<span class="normal">2536</span>
<span class="normal">2537</span>
<span class="normal">2538</span>
<span class="normal">2539</span>
<span class="normal">2540</span>
<span class="normal">2541</span>
<span class="normal">2542</span>
<span class="normal">2543</span>
<span class="normal">2544</span>
<span class="normal">2545</span>
<span class="normal">2546</span>
<span class="normal">2547</span>
<span class="normal">2548</span>
<span class="normal">2549</span>
<span class="normal">2550</span>
<span class="normal">2551</span>
<span class="normal">2552</span>
<span class="normal">2553</span>
<span class="normal">2554</span>
<span class="normal">2555</span>
<span class="normal">2556</span>
<span class="normal">2557</span>
<span class="normal">2558</span>
<span class="normal">2559</span>
<span class="normal">2560</span>
<span class="normal">2561</span>
<span class="normal">2562</span>
<span class="normal">2563</span>
<span class="normal">2564</span>
<span class="normal">2565</span>
<span class="normal">2566</span>
<span class="normal">2567</span>
<span class="normal">2568</span>
<span class="normal">2569</span>
<span class="normal">2570</span>
<span class="normal">2571</span>
<span class="normal">2572</span>
<span class="normal">2573</span>
<span class="normal">2574</span>
<span class="normal">2575</span>
<span class="normal">2576</span>
<span class="normal">2577</span>
<span class="normal">2578</span>
<span class="normal">2579</span>
<span class="normal">2580</span>
<span class="normal">2581</span>
<span class="normal">2582</span>
<span class="normal">2583</span>
<span class="normal">2584</span>
<span class="normal">2585</span>
<span class="normal">2586</span>
<span class="normal">2587</span>
<span class="normal">2588</span>
<span class="normal">2589</span>
<span class="normal">2590</span>
<span class="normal">2591</span>
<span class="normal">2592</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">copy_archive</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">source_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
    <span class="n">target_archive</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">source_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">target_registered_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">append</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">no_aliases</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">target_store_params</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreValuesResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Import all data from the specified archive into the current context.</span>

<span class="sd">    The archives will be registered into the context, either using the provided registered_name, otherwise the name</span>
<span class="sd">    will be auto-determined from the archive metadata.</span>

<span class="sd">    Currently, this only works with an external archive file, not with an archive that is registered into the context.</span>
<span class="sd">    This will be added later on.</span>

<span class="sd">    The one supported value for the &#39;target_store_params&#39; argument currently is &#39;compression&#39;, which can be one of:</span>

<span class="sd">    - zstd: zstd compression (default) -- fairly fast, and good compression</span>
<span class="sd">    - none: no compression</span>
<span class="sd">    - LZMA: LZMA compression -- very slow, but very good compression</span>
<span class="sd">    - LZ4: LZ4 compression -- very fast, but not as good compression as zstd</span>

<span class="sd">    This method does not raise an error if the storing of the value fails, so you have to investigate the</span>
<span class="sd">    &#39;StoreValuesResult&#39; instance that is returned to see if the storing was successful</span>

<span class="sd">    Arguments:</span>
<span class="sd">        source_archive: the registered_name or uri of the source archive, if None, the context default data/alias store will be used</span>
<span class="sd">        target_archive: the registered_name or uri of the target archive, defaults to the context default data/alias store</span>
<span class="sd">        source_registered_name: the name/alias that the archive should be registered in the context (if necessary)</span>
<span class="sd">        target_registered_name: the name/alias that the archive should be registered in the context (if necessary)</span>
<span class="sd">        append: whether to append to an existing archive or error out if the target already exists</span>
<span class="sd">        no_aliases: whether to skip importing aliases</span>
<span class="sd">        target_store_params: additional parameters to pass to the &#39;create_kiarchive&#39; method if the target file does not exist yet</span>

<span class="sd">    Returns:</span>
<span class="sd">        an object outlining which values (identified by the specified value key or an enumerated index) where stored and how</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">source_archive</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">DEFAULT_STORE_MARKER</span><span class="p">]:</span>
        <span class="n">source_archive_ref</span> <span class="o">=</span> <span class="n">DEFAULT_STORE_MARKER</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">source_archive_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">register_archive</span><span class="p">(</span>
            <span class="n">archive</span><span class="o">=</span><span class="n">source_archive</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="n">registered_name</span><span class="o">=</span><span class="n">source_registered_name</span><span class="p">,</span>
            <span class="n">create_if_not_exists</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">existing_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">target_archive</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">DEFAULT_STORE_MARKER</span><span class="p">]:</span>
        <span class="n">target_archive_ref</span> <span class="o">=</span> <span class="n">DEFAULT_STORE_MARKER</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">target_store_params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">target_store_params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">target_archive_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">register_archive</span><span class="p">(</span>
            <span class="n">archive</span><span class="o">=</span><span class="n">target_archive</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="n">registered_name</span><span class="o">=</span><span class="n">target_registered_name</span><span class="p">,</span>
            <span class="n">create_if_not_exists</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">allow_write_access</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">existing_ok</span><span class="o">=</span><span class="kc">True</span> <span class="k">if</span> <span class="n">append</span> <span class="k">else</span> <span class="kc">False</span><span class="p">,</span>
            <span class="o">**</span><span class="n">target_store_params</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">source_archive_ref</span> <span class="o">==</span> <span class="n">target_archive_ref</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Source and target archive cannot be the same: </span><span class="si">{</span><span class="n">source_archive_ref</span><span class="si">}</span><span class="s2"> != </span><span class="si">{</span><span class="n">target_archive_ref</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">source_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_values</span><span class="p">(</span>
        <span class="n">in_data_archives</span><span class="o">=</span><span class="p">[</span><span class="n">source_archive_ref</span><span class="p">],</span> <span class="n">allow_internal</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">has_alias</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">no_aliases</span><span class="p">:</span>
        <span class="n">aliases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_aliases</span><span class="p">(</span><span class="n">in_data_archives</span><span class="o">=</span><span class="p">[</span><span class="n">source_archive_ref</span><span class="p">])</span>
        <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">aliases</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">source_archive_ref</span> <span class="o">!=</span> <span class="n">DEFAULT_STORE_MARKER</span><span class="p">:</span>
                <span class="c1"># TODO: maybe add a matcher arg to the list_aliases endpoint</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">alias</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">source_archive_ref</span><span class="si">}</span><span class="s2">#&quot;</span><span class="p">):</span>
                    <span class="k">continue</span>
                <span class="n">alias_map</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="p">),</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
                    <span class="n">alias</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">source_archive_ref</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="s2">&quot;#&quot;</span> <span class="ow">in</span> <span class="n">alias</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="n">alias_map</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="p">),</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">alias_map</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">StoreValuesResult</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">store_values</span><span class="p">(</span>
        <span class="n">source_values</span><span class="p">,</span> <span class="n">alias_map</span><span class="o">=</span><span class="n">alias_map</span><span class="p">,</span> <span class="n">store</span><span class="o">=</span><span class="n">target_archive_ref</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.get_operation_type" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_operation_type</span><span class="p">(</span><span class="n">op_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">OperationType</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">OperationType</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.get_operation_type" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get the management object for the specified operation type.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2597</span>
<span class="normal">2598</span>
<span class="normal">2599</span>
<span class="normal">2600</span>
<span class="normal">2601</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_operation_type</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">op_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">OperationType</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationType</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the management object for the specified operation type.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation_type</span><span class="p">(</span><span class="n">op_type</span><span class="o">=</span><span class="n">op_type</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_operation_type_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_operation_type_info</span><span class="p">(</span><span class="n">op_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">OperationType</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">OperationTypeInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_operation_type_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get an info object for the specified operation type.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2603</span>
<span class="normal">2604</span>
<span class="normal">2605</span>
<span class="normal">2606</span>
<span class="normal">2607</span>
<span class="normal">2608</span>
<span class="normal">2609</span>
<span class="normal">2610</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_operation_type_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">op_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">OperationType</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationTypeInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get an info object for the specified operation type.&quot;&quot;&quot;</span>
    <span class="n">_op_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_operation_type</span><span class="p">(</span><span class="n">op_type</span><span class="o">=</span><span class="n">op_type</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">OperationTypeInfo</span><span class="o">.</span><span class="n">create_from_type_class</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">type_cls</span><span class="o">=</span><span class="n">_op_type</span><span class="o">.</span><span class="vm">__class__</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.find_operation_id" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_operation_id</span><span class="p">(</span><span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">module_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.find_operation_id" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Try to find the registered operation id for the specified module type and configuration.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>module_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the module type</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>module_config</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the module configuration</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the registered operation id, if found, or None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2612</span>
<span class="normal">2613</span>
<span class="normal">2614</span>
<span class="normal">2615</span>
<span class="normal">2616</span>
<span class="normal">2617</span>
<span class="normal">2618</span>
<span class="normal">2619</span>
<span class="normal">2620</span>
<span class="normal">2621</span>
<span class="normal">2622</span>
<span class="normal">2623</span>
<span class="normal">2624</span>
<span class="normal">2625</span>
<span class="normal">2626</span>
<span class="normal">2627</span>
<span class="normal">2628</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">find_operation_id</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">module_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Try to find the registered operation id for the specified module type and configuration.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        module_type: the module type</span>
<span class="sd">        module_config: the module configuration</span>

<span class="sd">    Returns:</span>
<span class="sd">        the registered operation id, if found, or None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">manifest</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">create_manifest</span><span class="p">(</span>
        <span class="n">module_or_operation</span><span class="o">=</span><span class="n">module_type</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">module_config</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">find_operation_id</span><span class="p">(</span><span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.assemble_filter_pipeline_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">assemble_filter_pipeline_config</span><span class="p">(</span><span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">filters</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="n">endpoint</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Manifest</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">endpoint_input_field</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">endpoint_step_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">extra_input_aliases</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">extra_output_aliases</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineConfig</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.assemble_filter_pipeline_config" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Assemble a (pipeline) module config to filter values of a specific data type.</p>
<p>NOTE: this is a preliminary endpoint, and might go away in the future. If you have a need for this
functionality, please let me know your requirements and we can work on fleshing this out.</p>
<p>Optionally, a module that uses the filtered dataset as input can be specified.</p>
<h6 id="kiara.interfaces.python_api.base_api.BaseAPI.assemble_filter_pipeline_config--todo-document-filter-names">TODO: document filter names<a class="headerlink" href="#kiara.interfaces.python_api.base_api.BaseAPI.assemble_filter_pipeline_config--todo-document-filter-names" title="Permanent link">&para;</a></h6>
<p>For the 'filters' argument, the accepted inputs are:
- a string, in which case a single-step pipeline will be created, with the string referencing the operation id or filter
- a list of strings: in which case a multi-step pipeline will be created, the step_ids will be calculated automatically
- a map of string pairs: the keys are step ids, the values operation ids or filter names</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the type of the data to filter</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filters</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of operation ids or filter names (and potentiall step_ids if type is a mapping)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>endpoint</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <a class="autorefs autorefs-internal" title="Manifest (kiara.models.module.manifest.Manifest)" href="../../../models/module/manifest/#kiara.models.module.manifest.Manifest">Manifest</a>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional module to put as last step in the created pipeline</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>endpoing_input_field</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>field name of the input that will receive the filtered value</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>endpoint_step_id</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>id to use for the endpoint step (module type name will be used if not provided)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>extra_input_aliases</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>extra output aliases to add to the pipeline config</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>extra_output_aliases</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>extra output aliases to add to the pipeline config</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineConfig (kiara.models.module.pipeline.PipelineConfig)" href="../../../models/module/pipeline/__init__/#kiara.models.module.pipeline.PipelineConfig">PipelineConfig</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (pipeline) module configuration of the filter pipeline</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2630</span>
<span class="normal">2631</span>
<span class="normal">2632</span>
<span class="normal">2633</span>
<span class="normal">2634</span>
<span class="normal">2635</span>
<span class="normal">2636</span>
<span class="normal">2637</span>
<span class="normal">2638</span>
<span class="normal">2639</span>
<span class="normal">2640</span>
<span class="normal">2641</span>
<span class="normal">2642</span>
<span class="normal">2643</span>
<span class="normal">2644</span>
<span class="normal">2645</span>
<span class="normal">2646</span>
<span class="normal">2647</span>
<span class="normal">2648</span>
<span class="normal">2649</span>
<span class="normal">2650</span>
<span class="normal">2651</span>
<span class="normal">2652</span>
<span class="normal">2653</span>
<span class="normal">2654</span>
<span class="normal">2655</span>
<span class="normal">2656</span>
<span class="normal">2657</span>
<span class="normal">2658</span>
<span class="normal">2659</span>
<span class="normal">2660</span>
<span class="normal">2661</span>
<span class="normal">2662</span>
<span class="normal">2663</span>
<span class="normal">2664</span>
<span class="normal">2665</span>
<span class="normal">2666</span>
<span class="normal">2667</span>
<span class="normal">2668</span>
<span class="normal">2669</span>
<span class="normal">2670</span>
<span class="normal">2671</span>
<span class="normal">2672</span>
<span class="normal">2673</span>
<span class="normal">2674</span>
<span class="normal">2675</span>
<span class="normal">2676</span>
<span class="normal">2677</span>
<span class="normal">2678</span>
<span class="normal">2679</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">assemble_filter_pipeline_config</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">filters</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span>
    <span class="n">endpoint</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Manifest</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">endpoint_input_field</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">endpoint_step_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">extra_input_aliases</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">extra_output_aliases</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineConfig&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Assemble a (pipeline) module config to filter values of a specific data type.</span>

<span class="sd">    NOTE: this is a preliminary endpoint, and might go away in the future. If you have a need for this</span>
<span class="sd">    functionality, please let me know your requirements and we can work on fleshing this out.</span>

<span class="sd">    Optionally, a module that uses the filtered dataset as input can be specified.</span>

<span class="sd">    # TODO: document filter names</span>
<span class="sd">    For the &#39;filters&#39; argument, the accepted inputs are:</span>
<span class="sd">    - a string, in which case a single-step pipeline will be created, with the string referencing the operation id or filter</span>
<span class="sd">    - a list of strings: in which case a multi-step pipeline will be created, the step_ids will be calculated automatically</span>
<span class="sd">    - a map of string pairs: the keys are step ids, the values operation ids or filter names</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data_type: the type of the data to filter</span>
<span class="sd">        filters: a list of operation ids or filter names (and potentiall step_ids if type is a mapping)</span>
<span class="sd">        endpoint: optional module to put as last step in the created pipeline</span>
<span class="sd">        endpoing_input_field: field name of the input that will receive the filtered value</span>
<span class="sd">        endpoint_step_id: id to use for the endpoint step (module type name will be used if not provided)</span>
<span class="sd">        extra_input_aliases: extra output aliases to add to the pipeline config</span>
<span class="sd">        extra_output_aliases: extra output aliases to add to the pipeline config</span>

<span class="sd">    Returns:</span>
<span class="sd">        the (pipeline) module configuration of the filter pipeline</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filter_op_type</span><span class="p">:</span> <span class="n">FilterOperationType</span> <span class="o">=</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation_type</span><span class="p">(</span><span class="s2">&quot;filter&quot;</span><span class="p">)</span>
    <span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="n">pipeline_config</span> <span class="o">=</span> <span class="n">filter_op_type</span><span class="o">.</span><span class="n">assemble_filter_pipeline_config</span><span class="p">(</span>
        <span class="n">data_type</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span>
        <span class="n">filters</span><span class="o">=</span><span class="n">filters</span><span class="p">,</span>
        <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span>
        <span class="n">endpoint_input_field</span><span class="o">=</span><span class="n">endpoint_input_field</span><span class="p">,</span>
        <span class="n">endpoint_step_id</span><span class="o">=</span><span class="n">endpoint_step_id</span><span class="p">,</span>
        <span class="n">extra_input_aliases</span><span class="o">=</span><span class="n">extra_input_aliases</span><span class="p">,</span>
        <span class="n">extra_output_aliases</span><span class="o">=</span><span class="n">extra_output_aliases</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">pipeline_config</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.register_metadata_item" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">register_metadata_item</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.register_metadata_item" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Register a metadata item into the specified metadata store.</p>
<p>Currently, this allows you to store comments within the default kiara context. You can use any string,
as key, for example a stringified <code>job_id</code>, or <code>value_id</code>, or any other string that makes sense in
the context you are using this in.</p>
<p>If you use the store argument, the store needs to be mounted into the current <em>kiara</em> context. For now,
you can ignore this and not provide any value here, since this area is still in flux. If you need
to store a metadata item into an external context, and you can't figure out how to do it,
let me know.</p>
<p>Note: this is preliminary and subject to change based on your input, so please provide your thoughts</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the key under which to store the metadata (can be anything you can think of)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the comment you want to store</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>store</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the store to use, by default the context default is used</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="uuid.UUID">UUID</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a globally unique identifier for the metadata item</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2684</span>
<span class="normal">2685</span>
<span class="normal">2686</span>
<span class="normal">2687</span>
<span class="normal">2688</span>
<span class="normal">2689</span>
<span class="normal">2690</span>
<span class="normal">2691</span>
<span class="normal">2692</span>
<span class="normal">2693</span>
<span class="normal">2694</span>
<span class="normal">2695</span>
<span class="normal">2696</span>
<span class="normal">2697</span>
<span class="normal">2698</span>
<span class="normal">2699</span>
<span class="normal">2700</span>
<span class="normal">2701</span>
<span class="normal">2702</span>
<span class="normal">2703</span>
<span class="normal">2704</span>
<span class="normal">2705</span>
<span class="normal">2706</span>
<span class="normal">2707</span>
<span class="normal">2708</span>
<span class="normal">2709</span>
<span class="normal">2710</span>
<span class="normal">2711</span>
<span class="normal">2712</span>
<span class="normal">2713</span>
<span class="normal">2714</span>
<span class="normal">2715</span>
<span class="normal">2716</span>
<span class="normal">2717</span>
<span class="normal">2718</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">register_metadata_item</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">store</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Register a metadata item into the specified metadata store.</span>

<span class="sd">    Currently, this allows you to store comments within the default kiara context. You can use any string,</span>
<span class="sd">    as key, for example a stringified `job_id`, or `value_id`, or any other string that makes sense in</span>
<span class="sd">    the context you are using this in.</span>

<span class="sd">    If you use the store argument, the store needs to be mounted into the current *kiara* context. For now,</span>
<span class="sd">    you can ignore this and not provide any value here, since this area is still in flux. If you need</span>
<span class="sd">    to store a metadata item into an external context, and you can&#39;t figure out how to do it,</span>
<span class="sd">    let me know.</span>

<span class="sd">    Note: this is preliminary and subject to change based on your input, so please provide your thoughts</span>

<span class="sd">    Arguments:</span>
<span class="sd">        key: the key under which to store the metadata (can be anything you can think of)</span>
<span class="sd">        value: the comment you want to store</span>
<span class="sd">        store: the store to use, by default the context default is used</span>

<span class="sd">    Returns:</span>
<span class="sd">        a globally unique identifier for the metadata item</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="s2">&quot;Cannot store empty metadata item.&quot;</span><span class="p">)</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">CommentMetadata</span>

    <span class="n">item</span> <span class="o">=</span> <span class="n">CommentMetadata</span><span class="p">(</span><span class="n">comment</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">register_metadata_item</span><span class="p">(</span>
        <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">item</span><span class="o">=</span><span class="n">item</span><span class="p">,</span> <span class="n">store</span><span class="o">=</span><span class="n">store</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.find_metadata_items" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_metadata_items</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.find_metadata_items" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2720</span>
<span class="normal">2721</span>
<span class="normal">2722</span>
<span class="normal">2723</span>
<span class="normal">2724</span>
<span class="normal">2725</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">find_metadata_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.registries.metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">MetadataMatcher</span>

    <span class="n">matcher</span> <span class="o">=</span> <span class="n">MetadataMatcher</span><span class="o">.</span><span class="n">create_matcher</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">find_metadata_items</span><span class="p">(</span><span class="n">matcher</span><span class="o">=</span><span class="n">matcher</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_renderer_infos" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_renderer_infos</span><span class="p">(</span><span class="n">source_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">target_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RendererInfos</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_renderer_infos" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about the available renderers.</p>
<p>Note: this is preliminary and mainly used in the cli, if another use-case comes up let me know and I'll make this more generic, and an 'official' endpoint.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source_type</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the type of the item to render (optional filter)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_type</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the type/profile of the rendered result (optional filter)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="RendererInfos (kiara.interfaces.python_api.models.info.RendererInfos)" href="../models/info/#kiara.interfaces.python_api.models.info.RendererInfos">RendererInfos</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a wrapper object containing the items as dictionary with renderer alias as key, and [kiara.interfaces.python_api.models.info.RendererInfo] as value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2730</span>
<span class="normal">2731</span>
<span class="normal">2732</span>
<span class="normal">2733</span>
<span class="normal">2734</span>
<span class="normal">2735</span>
<span class="normal">2736</span>
<span class="normal">2737</span>
<span class="normal">2738</span>
<span class="normal">2739</span>
<span class="normal">2740</span>
<span class="normal">2741</span>
<span class="normal">2742</span>
<span class="normal">2743</span>
<span class="normal">2744</span>
<span class="normal">2745</span>
<span class="normal">2746</span>
<span class="normal">2747</span>
<span class="normal">2748</span>
<span class="normal">2749</span>
<span class="normal">2750</span>
<span class="normal">2751</span>
<span class="normal">2752</span>
<span class="normal">2753</span>
<span class="normal">2754</span>
<span class="normal">2755</span>
<span class="normal">2756</span>
<span class="normal">2757</span>
<span class="normal">2758</span>
<span class="normal">2759</span>
<span class="normal">2760</span>
<span class="normal">2761</span>
<span class="normal">2762</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_renderer_infos</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">source_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">target_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RendererInfos</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve information about the available renderers.</span>

<span class="sd">    Note: this is preliminary and mainly used in the cli, if another use-case comes up let me know and I&#39;ll make this more generic, and an &#39;official&#39; endpoint.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        source_type: the type of the item to render (optional filter)</span>
<span class="sd">        target_type: the type/profile of the rendered result (optional filter)</span>

<span class="sd">    Returns:</span>
<span class="sd">        a wrapper object containing the items as dictionary with renderer alias as key, and [kiara.interfaces.python_api.models.info.RendererInfo] as value</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">source_type</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">target_type</span><span class="p">:</span>
        <span class="n">renderers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">render_registry</span><span class="o">.</span><span class="n">registered_renderers</span>
    <span class="k">elif</span> <span class="n">source_type</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">target_type</span><span class="p">:</span>
        <span class="n">renderers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">render_registry</span><span class="o">.</span><span class="n">retrieve_renderers_for_source_type</span><span class="p">(</span>
            <span class="n">source_type</span><span class="o">=</span><span class="n">source_type</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">target_type</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">source_type</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Cannot retrieve renderers for target type only.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">renderers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">render_registry</span><span class="o">.</span><span class="n">retrieve_renderers_for_source_target_combination</span><span class="p">(</span>
            <span class="n">source_type</span><span class="o">=</span><span class="n">source_type</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="n">target_type</span><span class="o">=</span><span class="n">target_type</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
        <span class="p">)</span>

    <span class="n">group</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="o">.</span><span class="n">get_renderer_alias</span><span class="p">():</span> <span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">renderers</span><span class="p">}</span>
    <span class="n">infos</span> <span class="o">=</span> <span class="n">RendererInfos</span><span class="o">.</span><span class="n">create_from_instances</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instances</span><span class="o">=</span><span class="n">group</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">infos</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_renderers_for" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_renderers_for</span><span class="p">(</span><span class="n">source_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">KiaraRenderer</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_renderers_for" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve available renderer instances for a specific data type.</p>
<p>Note: this is not preliminary, and, mainly used in the cli, if another use-case comes up let me know and I'll make this more generic, and an 'official' endpoint.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2764</span>
<span class="normal">2765</span>
<span class="normal">2766</span>
<span class="normal">2767</span>
<span class="normal">2768</span>
<span class="normal">2769</span>
<span class="normal">2770</span>
<span class="normal">2771</span>
<span class="normal">2772</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_renderers_for</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">KiaraRenderer</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve available renderer instances for a specific data type.</span>

<span class="sd">    Note: this is not preliminary, and, mainly used in the cli, if another use-case comes up let me know and I&#39;ll make this more generic, and an &#39;official&#39; endpoint.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">render_registry</span><span class="o">.</span><span class="n">retrieve_renderers_for_source_type</span><span class="p">(</span>
        <span class="n">source_type</span><span class="o">=</span><span class="n">source_type</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.render" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">render</span><span class="p">(</span><span class="n">item</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">source_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">target_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">render_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.render" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Render an internal instance of a supported source type into one of the supported target types.</p>
<p>Note: this is not preliminary, and, mainly used in the cli, if another use-case comes up let me know and I'll make this more generic, and an 'official' endpoint.</p>
<p>To find out the supported source/target combinations, you can use the kiara cli:</p>
<p><div class="highlight"><pre><span></span><code>kiara render list-renderers
</code></pre></div>
or, for a filtered list:
<code>`
kiara render --source-type pipeline list-renderers</code></p>
<p>What Python types are actually supported for the 'item' argument depends on the source_type of the renderer you are calling, for example if that is a pipeline, most of the ways to specify a pipeline would be supported (operation_id, pipeline file, etc.). This might need more documentation, let me know what exactly is needed in a support ticket and I'll add that information.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>item</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the item to render</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>source_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the type of the item to render</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the type/profile of the rendered result</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>render_config</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional configuration, depends on the renderer that is called</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2774</span>
<span class="normal">2775</span>
<span class="normal">2776</span>
<span class="normal">2777</span>
<span class="normal">2778</span>
<span class="normal">2779</span>
<span class="normal">2780</span>
<span class="normal">2781</span>
<span class="normal">2782</span>
<span class="normal">2783</span>
<span class="normal">2784</span>
<span class="normal">2785</span>
<span class="normal">2786</span>
<span class="normal">2787</span>
<span class="normal">2788</span>
<span class="normal">2789</span>
<span class="normal">2790</span>
<span class="normal">2791</span>
<span class="normal">2792</span>
<span class="normal">2793</span>
<span class="normal">2794</span>
<span class="normal">2795</span>
<span class="normal">2796</span>
<span class="normal">2797</span>
<span class="normal">2798</span>
<span class="normal">2799</span>
<span class="normal">2800</span>
<span class="normal">2801</span>
<span class="normal">2802</span>
<span class="normal">2803</span>
<span class="normal">2804</span>
<span class="normal">2805</span>
<span class="normal">2806</span>
<span class="normal">2807</span>
<span class="normal">2808</span>
<span class="normal">2809</span>
<span class="normal">2810</span>
<span class="normal">2811</span>
<span class="normal">2812</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">render</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">item</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">source_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">target_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">render_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Render an internal instance of a supported source type into one of the supported target types.</span>

<span class="sd">    Note: this is not preliminary, and, mainly used in the cli, if another use-case comes up let me know and I&#39;ll make this more generic, and an &#39;official&#39; endpoint.</span>

<span class="sd">    To find out the supported source/target combinations, you can use the kiara cli:</span>

<span class="sd">    ```</span>
<span class="sd">    kiara render list-renderers</span>
<span class="sd">    ```</span>
<span class="sd">    or, for a filtered list:</span>
<span class="sd">    ````</span>
<span class="sd">    kiara render --source-type pipeline list-renderers</span>
<span class="sd">    ```</span>

<span class="sd">    What Python types are actually supported for the &#39;item&#39; argument depends on the source_type of the renderer you are calling, for example if that is a pipeline, most of the ways to specify a pipeline would be supported (operation_id, pipeline file, etc.). This might need more documentation, let me know what exactly is needed in a support ticket and I&#39;ll add that information.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        item: the item to render</span>
<span class="sd">        source_type: the type of the item to render</span>
<span class="sd">        target_type: the type/profile of the rendered result</span>
<span class="sd">        render_config: optional configuration, depends on the renderer that is called</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">registry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">render_registry</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">registry</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
        <span class="n">item</span><span class="o">=</span><span class="n">item</span><span class="p">,</span>
        <span class="n">source_type</span><span class="o">=</span><span class="n">source_type</span><span class="p">,</span>
        <span class="n">target_type</span><span class="o">=</span><span class="n">target_type</span><span class="p">,</span>
        <span class="n">render_config</span><span class="o">=</span><span class="n">render_config</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.assemble_render_pipeline" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">assemble_render_pipeline</span><span class="p">(</span><span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">target_format</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="n">filters</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">use_pretty_print</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Operation</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.assemble_render_pipeline" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Create a manifest describing a transformation that renders a value of the specified data type in the target format.</p>
<p>NOTE: this is a preliminary endpoint, don't use in anger yet.</p>
<p>If a list is provided as value for 'target_format', all items are tried until a 'render_value' operation is found that matches
the value type of the source value, and the provided target format.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the value (or value id)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_format</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the format into which to render the value</p>
              </div>
            </td>
            <td>
                  <code>&#39;string&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filters</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of filters to apply to the value before rendering it</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>use_pretty_print</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True, use a 'pretty_print' operation instead of 'render_value'</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="Operation (kiara.models.module.operation.Operation)" href="../../../models/module/operation/#kiara.models.module.operation.Operation">Operation</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the manifest for the transformation</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2814</span>
<span class="normal">2815</span>
<span class="normal">2816</span>
<span class="normal">2817</span>
<span class="normal">2818</span>
<span class="normal">2819</span>
<span class="normal">2820</span>
<span class="normal">2821</span>
<span class="normal">2822</span>
<span class="normal">2823</span>
<span class="normal">2824</span>
<span class="normal">2825</span>
<span class="normal">2826</span>
<span class="normal">2827</span>
<span class="normal">2828</span>
<span class="normal">2829</span>
<span class="normal">2830</span>
<span class="normal">2831</span>
<span class="normal">2832</span>
<span class="normal">2833</span>
<span class="normal">2834</span>
<span class="normal">2835</span>
<span class="normal">2836</span>
<span class="normal">2837</span>
<span class="normal">2838</span>
<span class="normal">2839</span>
<span class="normal">2840</span>
<span class="normal">2841</span>
<span class="normal">2842</span>
<span class="normal">2843</span>
<span class="normal">2844</span>
<span class="normal">2845</span>
<span class="normal">2846</span>
<span class="normal">2847</span>
<span class="normal">2848</span>
<span class="normal">2849</span>
<span class="normal">2850</span>
<span class="normal">2851</span>
<span class="normal">2852</span>
<span class="normal">2853</span>
<span class="normal">2854</span>
<span class="normal">2855</span>
<span class="normal">2856</span>
<span class="normal">2857</span>
<span class="normal">2858</span>
<span class="normal">2859</span>
<span class="normal">2860</span>
<span class="normal">2861</span>
<span class="normal">2862</span>
<span class="normal">2863</span>
<span class="normal">2864</span>
<span class="normal">2865</span>
<span class="normal">2866</span>
<span class="normal">2867</span>
<span class="normal">2868</span>
<span class="normal">2869</span>
<span class="normal">2870</span>
<span class="normal">2871</span>
<span class="normal">2872</span>
<span class="normal">2873</span>
<span class="normal">2874</span>
<span class="normal">2875</span>
<span class="normal">2876</span>
<span class="normal">2877</span>
<span class="normal">2878</span>
<span class="normal">2879</span>
<span class="normal">2880</span>
<span class="normal">2881</span>
<span class="normal">2882</span>
<span class="normal">2883</span>
<span class="normal">2884</span>
<span class="normal">2885</span>
<span class="normal">2886</span>
<span class="normal">2887</span>
<span class="normal">2888</span>
<span class="normal">2889</span>
<span class="normal">2890</span>
<span class="normal">2891</span>
<span class="normal">2892</span>
<span class="normal">2893</span>
<span class="normal">2894</span>
<span class="normal">2895</span>
<span class="normal">2896</span>
<span class="normal">2897</span>
<span class="normal">2898</span>
<span class="normal">2899</span>
<span class="normal">2900</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">assemble_render_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">target_format</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="n">filters</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">use_pretty_print</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Operation</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a manifest describing a transformation that renders a value of the specified data type in the target format.</span>

<span class="sd">    NOTE: this is a preliminary endpoint, don&#39;t use in anger yet.</span>

<span class="sd">    If a list is provided as value for &#39;target_format&#39;, all items are tried until a &#39;render_value&#39; operation is found that matches</span>
<span class="sd">    the value type of the source value, and the provided target format.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        value: the value (or value id)</span>
<span class="sd">        target_format: the format into which to render the value</span>
<span class="sd">        filters: a list of filters to apply to the value before rendering it</span>
<span class="sd">        use_pretty_print: if True, use a &#39;pretty_print&#39; operation instead of &#39;render_value&#39;</span>

<span class="sd">    Returns:</span>
<span class="sd">        the manifest for the transformation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">data_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">data_type_names</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">DataTypeUnknownException</span><span class="p">(</span><span class="n">data_type</span><span class="o">=</span><span class="n">data_type</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">use_pretty_print</span><span class="p">:</span>
        <span class="n">pretty_print_op_type</span><span class="p">:</span> <span class="n">PrettyPrintOperationType</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation_type</span><span class="p">(</span><span class="s2">&quot;pretty_print&quot;</span><span class="p">)</span>
        <span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="n">ops</span> <span class="o">=</span> <span class="n">pretty_print_op_type</span><span class="o">.</span><span class="n">get_target_types_for</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">render_op_type</span><span class="p">:</span> <span class="n">RenderValueOperationType</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation_type</span><span class="p">(</span>
                <span class="c1"># type: ignore</span>
                <span class="s2">&quot;render_value&quot;</span>
            <span class="p">)</span>
        <span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="n">ops</span> <span class="o">=</span> <span class="n">render_op_type</span><span class="o">.</span><span class="n">get_render_operations_for_source_type</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target_format</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">target_format</span> <span class="o">=</span> <span class="p">[</span><span class="n">target_format</span><span class="p">]</span>

    <span class="n">match</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">_target_type</span> <span class="ow">in</span> <span class="n">target_format</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">_target_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ops</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">continue</span>
        <span class="n">match</span> <span class="o">=</span> <span class="n">ops</span><span class="p">[</span><span class="n">_target_type</span><span class="p">]</span>
        <span class="k">break</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">match</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ops</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;No render operations registered for source type &#39;</span><span class="si">{</span><span class="n">data_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Registered target types for source type &#39;</span><span class="si">{</span><span class="n">data_type</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ops</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;No render operation for source type &#39;</span><span class="si">{</span><span class="n">data_type</span><span class="si">}</span><span class="s2">&#39; to target type(s) registered: &#39;</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">target_format</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;. </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">filters</span><span class="p">:</span>
        <span class="c1"># filter_op_type: FilterOperationType = self._kiara.operation_registry.get_operation_type(&quot;filter&quot;)  # type: ignore</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="n">Manifest</span><span class="p">(</span>
            <span class="n">module_type</span><span class="o">=</span><span class="n">match</span><span class="o">.</span><span class="n">module_type</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">match</span><span class="o">.</span><span class="n">module_config</span>
        <span class="p">)</span>
        <span class="n">extra_input_aliases</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;render_value.render_config&quot;</span><span class="p">:</span> <span class="s2">&quot;render_config&quot;</span><span class="p">}</span>
        <span class="n">extra_output_aliases</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;render_value.render_value_result&quot;</span><span class="p">:</span> <span class="s2">&quot;render_value_result&quot;</span>
        <span class="p">}</span>
        <span class="n">pipeline_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assemble_filter_pipeline_config</span><span class="p">(</span>
            <span class="n">data_type</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span>
            <span class="n">filters</span><span class="o">=</span><span class="n">filters</span><span class="p">,</span>
            <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span>
            <span class="n">endpoint_input_field</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">,</span>
            <span class="n">endpoint_step_id</span><span class="o">=</span><span class="s2">&quot;render_value&quot;</span><span class="p">,</span>
            <span class="n">extra_input_aliases</span><span class="o">=</span><span class="n">extra_input_aliases</span><span class="p">,</span>
            <span class="n">extra_output_aliases</span><span class="o">=</span><span class="n">extra_output_aliases</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">manifest</span> <span class="o">=</span> <span class="n">Manifest</span><span class="p">(</span>
            <span class="n">module_type</span><span class="o">=</span><span class="s2">&quot;pipeline&quot;</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="n">module</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">module_registry</span><span class="o">.</span><span class="n">create_module</span><span class="p">(</span><span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">)</span>
        <span class="n">operation</span> <span class="o">=</span> <span class="n">Operation</span><span class="o">.</span><span class="n">create_from_module</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">doc</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">operation</span> <span class="o">=</span> <span class="n">match</span>

    <span class="k">return</span> <span class="n">operation</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.queue_manifest" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">queue_manifest</span><span class="p">(</span><span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">job_metadata</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.queue_manifest" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Queue a job using the provided manifest to describe the module and config that should be executed.</p>
<p>You probably want to use 'queue_job' instead.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>manifest</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Manifest (kiara.models.module.manifest.Manifest)" href="../../../models/module/manifest/#kiara.models.module.manifest.Manifest">Manifest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the manifest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>inputs</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the job inputs (can be either references to values, or raw inputs</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="uuid.UUID">UUID</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a result value map instance</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2904</span>
<span class="normal">2905</span>
<span class="normal">2906</span>
<span class="normal">2907</span>
<span class="normal">2908</span>
<span class="normal">2909</span>
<span class="normal">2910</span>
<span class="normal">2911</span>
<span class="normal">2912</span>
<span class="normal">2913</span>
<span class="normal">2914</span>
<span class="normal">2915</span>
<span class="normal">2916</span>
<span class="normal">2917</span>
<span class="normal">2918</span>
<span class="normal">2919</span>
<span class="normal">2920</span>
<span class="normal">2921</span>
<span class="normal">2922</span>
<span class="normal">2923</span>
<span class="normal">2924</span>
<span class="normal">2925</span>
<span class="normal">2926</span>
<span class="normal">2927</span>
<span class="normal">2928</span>
<span class="normal">2929</span>
<span class="normal">2930</span>
<span class="normal">2931</span>
<span class="normal">2932</span>
<span class="normal">2933</span>
<span class="normal">2934</span>
<span class="normal">2935</span>
<span class="normal">2936</span>
<span class="normal">2937</span>
<span class="normal">2938</span>
<span class="normal">2939</span>
<span class="normal">2940</span>
<span class="normal">2941</span>
<span class="normal">2942</span>
<span class="normal">2943</span>
<span class="normal">2944</span>
<span class="normal">2945</span>
<span class="normal">2946</span>
<span class="normal">2947</span>
<span class="normal">2948</span>
<span class="normal">2949</span>
<span class="normal">2950</span>
<span class="normal">2951</span>
<span class="normal">2952</span>
<span class="normal">2953</span>
<span class="normal">2954</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">queue_manifest</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span><span class="p">,</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">job_metadata</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Queue a job using the provided manifest to describe the module and config that should be executed.</span>

<span class="sd">    You probably want to use &#39;queue_job&#39; instead.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        manifest: the manifest</span>
<span class="sd">        inputs: the job inputs (can be either references to values, or raw inputs</span>

<span class="sd">    Returns:</span>
<span class="sd">        a result value map instance</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">runtime_config</span><span class="o">.</span><span class="n">runtime_profile</span> <span class="o">==</span> <span class="s2">&quot;dharpa&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">job_metadata</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;No job metadata provided. You need to provide a &#39;comment&#39; argument when running your job.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;comment&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">job_metadata</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s2">&quot;You need to provide a &#39;comment&#39; for the job.&quot;</span><span class="p">)</span>

        <span class="n">save_values</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">save_values</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="s2">&quot;comment&quot;</span> <span class="ow">in</span> <span class="n">job_metadata</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">and</span> <span class="n">job_metadata</span><span class="p">[</span><span class="s2">&quot;comment&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">job_metadata</span><span class="p">[</span><span class="s2">&quot;comment&quot;</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">inputs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">inputs</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">job_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">prepare_job_config</span><span class="p">(</span>
        <span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span>
    <span class="p">)</span>

    <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">execute_job</span><span class="p">(</span>
        <span class="n">job_config</span><span class="o">=</span><span class="n">job_config</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">auto_save_result</span><span class="o">=</span><span class="n">save_values</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">job_metadata</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">metadata_registry</span><span class="o">.</span><span class="n">register_job_metadata_items</span><span class="p">(</span>
            <span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">job_metadata</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">job_id</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.run_manifest" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run_manifest</span><span class="p">(</span><span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">job_metadata</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.run_manifest" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Run a job using the provided manifest to describe the module and config that should be executed.</p>
<p>You probably want to use 'run_job' instead.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>manifest</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Manifest (kiara.models.module.manifest.Manifest)" href="../../../models/module/manifest/#kiara.models.module.manifest.Manifest">Manifest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the manifest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>inputs</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the job inputs (can be either references to values, or raw inputs</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>job_metadata</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional metadata to store with the job</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValueMapReadOnly (kiara.models.values.value.ValueMapReadOnly)" href="../../../models/values/value/#kiara.models.values.value.ValueMapReadOnly">ValueMapReadOnly</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a result value map instance</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2956</span>
<span class="normal">2957</span>
<span class="normal">2958</span>
<span class="normal">2959</span>
<span class="normal">2960</span>
<span class="normal">2961</span>
<span class="normal">2962</span>
<span class="normal">2963</span>
<span class="normal">2964</span>
<span class="normal">2965</span>
<span class="normal">2966</span>
<span class="normal">2967</span>
<span class="normal">2968</span>
<span class="normal">2969</span>
<span class="normal">2970</span>
<span class="normal">2971</span>
<span class="normal">2972</span>
<span class="normal">2973</span>
<span class="normal">2974</span>
<span class="normal">2975</span>
<span class="normal">2976</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">run_manifest</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span><span class="p">,</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">job_metadata</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Run a job using the provided manifest to describe the module and config that should be executed.</span>

<span class="sd">    You probably want to use &#39;run_job&#39; instead.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        manifest: the manifest</span>
<span class="sd">        inputs: the job inputs (can be either references to values, or raw inputs</span>
<span class="sd">        job_metadata: additional metadata to store with the job</span>

<span class="sd">    Returns:</span>
<span class="sd">        a result value map instance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">queue_manifest</span><span class="p">(</span><span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span> <span class="o">**</span><span class="n">job_metadata</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">retrieve_result</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.queue_job" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">queue_job</span><span class="p">(</span><span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="n">Manifest</span><span class="p">,</span> <span class="n">OperationInfo</span><span class="p">,</span> <span class="n">JobDesc</span><span class="p">],</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span> <span class="n">operation_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">job_metadata</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.queue_job" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Queue a job from a operation id, module_name (and config), or pipeline file, wait for the job to finish and retrieve the result.</p>
<p>This is a convenience method that auto-detects what is meant by the 'operation' string input argument.</p>
<p>If the 'operation' is a JobDesc instance, and that JobDesc instance has the 'save' attribute
set, it will be ignored, so you'll have to store any results manually.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>operation</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="pathlib.Path">Path</span>, <a class="autorefs autorefs-internal" title="Manifest (kiara.models.module.manifest.Manifest)" href="../../../models/module/manifest/#kiara.models.module.manifest.Manifest">Manifest</a>, <a class="autorefs autorefs-internal" title="OperationInfo (kiara.interfaces.python_api.models.info.OperationInfo)" href="../models/info/#kiara.interfaces.python_api.models.info.OperationInfo">OperationInfo</a>, <a class="autorefs autorefs-internal" title="JobDesc (kiara.interfaces.python_api.models.job.JobDesc)" href="../models/job/#kiara.interfaces.python_api.models.job.JobDesc">JobDesc</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a module name, operation id, or a path to a pipeline file (resolved in this order, until a match is found)..</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>inputs</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the operation inputs</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>operation_config</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) module config in case 'operation' is a module name</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>job_metadata</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional metadata to store with the job</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="uuid.UUID">UUID</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the queued job id</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2978</span>
<span class="normal">2979</span>
<span class="normal">2980</span>
<span class="normal">2981</span>
<span class="normal">2982</span>
<span class="normal">2983</span>
<span class="normal">2984</span>
<span class="normal">2985</span>
<span class="normal">2986</span>
<span class="normal">2987</span>
<span class="normal">2988</span>
<span class="normal">2989</span>
<span class="normal">2990</span>
<span class="normal">2991</span>
<span class="normal">2992</span>
<span class="normal">2993</span>
<span class="normal">2994</span>
<span class="normal">2995</span>
<span class="normal">2996</span>
<span class="normal">2997</span>
<span class="normal">2998</span>
<span class="normal">2999</span>
<span class="normal">3000</span>
<span class="normal">3001</span>
<span class="normal">3002</span>
<span class="normal">3003</span>
<span class="normal">3004</span>
<span class="normal">3005</span>
<span class="normal">3006</span>
<span class="normal">3007</span>
<span class="normal">3008</span>
<span class="normal">3009</span>
<span class="normal">3010</span>
<span class="normal">3011</span>
<span class="normal">3012</span>
<span class="normal">3013</span>
<span class="normal">3014</span>
<span class="normal">3015</span>
<span class="normal">3016</span>
<span class="normal">3017</span>
<span class="normal">3018</span>
<span class="normal">3019</span>
<span class="normal">3020</span>
<span class="normal">3021</span>
<span class="normal">3022</span>
<span class="normal">3023</span>
<span class="normal">3024</span>
<span class="normal">3025</span>
<span class="normal">3026</span>
<span class="normal">3027</span>
<span class="normal">3028</span>
<span class="normal">3029</span>
<span class="normal">3030</span>
<span class="normal">3031</span>
<span class="normal">3032</span>
<span class="normal">3033</span>
<span class="normal">3034</span>
<span class="normal">3035</span>
<span class="normal">3036</span>
<span class="normal">3037</span>
<span class="normal">3038</span>
<span class="normal">3039</span>
<span class="normal">3040</span>
<span class="normal">3041</span>
<span class="normal">3042</span>
<span class="normal">3043</span>
<span class="normal">3044</span>
<span class="normal">3045</span>
<span class="normal">3046</span>
<span class="normal">3047</span>
<span class="normal">3048</span>
<span class="normal">3049</span>
<span class="normal">3050</span>
<span class="normal">3051</span>
<span class="normal">3052</span>
<span class="normal">3053</span>
<span class="normal">3054</span>
<span class="normal">3055</span>
<span class="normal">3056</span>
<span class="normal">3057</span>
<span class="normal">3058</span>
<span class="normal">3059</span>
<span class="normal">3060</span>
<span class="normal">3061</span>
<span class="normal">3062</span>
<span class="normal">3063</span>
<span class="normal">3064</span>
<span class="normal">3065</span>
<span class="normal">3066</span>
<span class="normal">3067</span>
<span class="normal">3068</span>
<span class="normal">3069</span>
<span class="normal">3070</span>
<span class="normal">3071</span>
<span class="normal">3072</span>
<span class="normal">3073</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">queue_job</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="n">Manifest</span><span class="p">,</span> <span class="n">OperationInfo</span><span class="p">,</span> <span class="n">JobDesc</span><span class="p">],</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span>
    <span class="n">operation_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">job_metadata</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Queue a job from a operation id, module_name (and config), or pipeline file, wait for the job to finish and retrieve the result.</span>

<span class="sd">    This is a convenience method that auto-detects what is meant by the &#39;operation&#39; string input argument.</span>

<span class="sd">    If the &#39;operation&#39; is a JobDesc instance, and that JobDesc instance has the &#39;save&#39; attribute</span>
<span class="sd">    set, it will be ignored, so you&#39;ll have to store any results manually.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        operation: a module name, operation id, or a path to a pipeline file (resolved in this order, until a match is found)..</span>
<span class="sd">        inputs: the operation inputs</span>
<span class="sd">        operation_config: the (optional) module config in case &#39;operation&#39; is a module name</span>
<span class="sd">        job_metadata: additional metadata to store with the job</span>

<span class="sd">    Returns:</span>
<span class="sd">        the queued job id</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">inputs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">inputs</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">operation</span><span class="p">):</span>
            <span class="n">job_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">operation</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">job_path</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t queue job from file &#39;</span><span class="si">{</span><span class="n">job_path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&#39;: file does not exist/not a file.&quot;</span>
                <span class="p">)</span>

            <span class="n">op_data</span> <span class="o">=</span> <span class="n">get_data_from_file</span><span class="p">(</span><span class="n">job_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">op_data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">)</span> <span class="ow">and</span> <span class="s2">&quot;operation&quot;</span> <span class="ow">in</span> <span class="n">op_data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">repl_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s2">&quot;this_dir&quot;</span><span class="p">:</span> <span class="n">job_path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>
                    <span class="p">}</span>
                    <span class="n">job_data</span> <span class="o">=</span> <span class="n">replace_var_names_in_obj</span><span class="p">(</span>
                        <span class="n">op_data</span><span class="p">,</span> <span class="n">repl_dict</span><span class="o">=</span><span class="n">repl_dict</span>
                    <span class="p">)</span>
                    <span class="n">job_data</span><span class="p">[</span><span class="s2">&quot;job_alias&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_path</span><span class="o">.</span><span class="n">stem</span>
                    <span class="n">job_desc</span> <span class="o">=</span> <span class="n">JobDesc</span><span class="p">(</span><span class="o">**</span><span class="n">job_data</span><span class="p">)</span>
                    <span class="n">_operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Manifest</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_desc</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span>
                        <span class="n">kiara_api</span><span class="o">=</span><span class="bp">self</span>
                    <span class="p">)</span>
                    <span class="k">if</span> <span class="n">job_desc</span><span class="o">.</span><span class="n">inputs</span><span class="p">:</span>
                        <span class="n">_inputs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">job_desc</span><span class="o">.</span><span class="n">inputs</span><span class="p">)</span>
                        <span class="n">_inputs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>
                        <span class="n">inputs</span> <span class="o">=</span> <span class="n">_inputs</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Failed to parse job description file: </span><span class="si">{</span><span class="n">operation</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="n">parent</span><span class="o">=</span><span class="n">e</span><span class="p">,</span>
                    <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">_operation</span> <span class="o">=</span> <span class="n">job_path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_operation</span> <span class="o">=</span> <span class="n">operation</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">operation</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t queue job from file &#39;</span><span class="si">{</span><span class="n">operation</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="si">}</span><span class="s2">&#39;: file does not exist/not a file.&quot;</span>
            <span class="p">)</span>
        <span class="n">_operation</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">OperationInfo</span><span class="p">):</span>
        <span class="n">_operation</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="n">operation</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">JobDesc</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">operation_config</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraException</span><span class="p">(</span>
                <span class="s2">&quot;Specifying &#39;operation_config&#39; when operation is a job_desc is invalid.&quot;</span>
            <span class="p">)</span>
        <span class="n">_operation</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="n">kiara_api</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">operation</span><span class="o">.</span><span class="n">inputs</span><span class="p">:</span>
            <span class="n">_inputs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">operation</span><span class="o">.</span><span class="n">inputs</span><span class="p">)</span>
            <span class="n">_inputs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>
            <span class="n">inputs</span> <span class="o">=</span> <span class="n">_inputs</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_operation</span> <span class="o">=</span> <span class="n">operation</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_operation</span><span class="p">,</span> <span class="n">Manifest</span><span class="p">):</span>
        <span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span> <span class="o">=</span> <span class="n">create_operation</span><span class="p">(</span>
            <span class="n">module_or_operation</span><span class="o">=</span><span class="n">_operation</span><span class="p">,</span>
            <span class="n">operation_config</span><span class="o">=</span><span class="n">operation_config</span><span class="p">,</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">manifest</span> <span class="o">=</span> <span class="n">_operation</span>

    <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">queue_manifest</span><span class="p">(</span><span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span> <span class="o">**</span><span class="n">job_metadata</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">job_id</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.run_job" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run_job</span><span class="p">(</span><span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="n">Manifest</span><span class="p">,</span> <span class="n">OperationInfo</span><span class="p">,</span> <span class="n">JobDesc</span><span class="p">],</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">operation_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">job_metadata</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.run_job" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Run a job from a operation id, module_name (and config), or pipeline file, wait for the job to finish and retrieve the result.</p>
<p>This is a convenience method that auto-detects what is meant by the 'operation' string input argument.</p>
<p>In general, try to avoid this method and use 'queue_job', 'get_job' and 'retrieve_job_result' manually instead,
since this is a blocking operation.</p>
<p>If the 'operation' is a JobDesc instance, and that JobDesc instance has the 'save' attribute
set, it will be ignored, so you'll have to store any results manually.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>operation</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="pathlib.Path">Path</span>, <a class="autorefs autorefs-internal" title="Manifest (kiara.models.module.manifest.Manifest)" href="../../../models/module/manifest/#kiara.models.module.manifest.Manifest">Manifest</a>, <a class="autorefs autorefs-internal" title="OperationInfo (kiara.interfaces.python_api.models.info.OperationInfo)" href="../models/info/#kiara.interfaces.python_api.models.info.OperationInfo">OperationInfo</a>, <a class="autorefs autorefs-internal" title="JobDesc (kiara.interfaces.python_api.models.job.JobDesc)" href="../models/job/#kiara.interfaces.python_api.models.job.JobDesc">JobDesc</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a module name, operation id, or a path to a pipeline file (resolved in this order, until a match is found)..</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>inputs</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the operation inputs</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>operation_config</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (optional) module config in case 'operation' is a module name</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**job_metadata</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional metadata to store with the job</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ValueMapReadOnly (kiara.models.values.value.ValueMapReadOnly)" href="../../../models/values/value/#kiara.models.values.value.ValueMapReadOnly">ValueMapReadOnly</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the job result value map</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3075</span>
<span class="normal">3076</span>
<span class="normal">3077</span>
<span class="normal">3078</span>
<span class="normal">3079</span>
<span class="normal">3080</span>
<span class="normal">3081</span>
<span class="normal">3082</span>
<span class="normal">3083</span>
<span class="normal">3084</span>
<span class="normal">3085</span>
<span class="normal">3086</span>
<span class="normal">3087</span>
<span class="normal">3088</span>
<span class="normal">3089</span>
<span class="normal">3090</span>
<span class="normal">3091</span>
<span class="normal">3092</span>
<span class="normal">3093</span>
<span class="normal">3094</span>
<span class="normal">3095</span>
<span class="normal">3096</span>
<span class="normal">3097</span>
<span class="normal">3098</span>
<span class="normal">3099</span>
<span class="normal">3100</span>
<span class="normal">3101</span>
<span class="normal">3102</span>
<span class="normal">3103</span>
<span class="normal">3104</span>
<span class="normal">3105</span>
<span class="normal">3106</span>
<span class="normal">3107</span>
<span class="normal">3108</span>
<span class="normal">3109</span>
<span class="normal">3110</span>
<span class="normal">3111</span>
<span class="normal">3112</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">run_job</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="n">Manifest</span><span class="p">,</span> <span class="n">OperationInfo</span><span class="p">,</span> <span class="n">JobDesc</span><span class="p">],</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">operation_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">job_metadata</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Run a job from a operation id, module_name (and config), or pipeline file, wait for the job to finish and retrieve the result.</span>

<span class="sd">    This is a convenience method that auto-detects what is meant by the &#39;operation&#39; string input argument.</span>

<span class="sd">    In general, try to avoid this method and use &#39;queue_job&#39;, &#39;get_job&#39; and &#39;retrieve_job_result&#39; manually instead,</span>
<span class="sd">    since this is a blocking operation.</span>

<span class="sd">    If the &#39;operation&#39; is a JobDesc instance, and that JobDesc instance has the &#39;save&#39; attribute</span>
<span class="sd">    set, it will be ignored, so you&#39;ll have to store any results manually.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        operation: a module name, operation id, or a path to a pipeline file (resolved in this order, until a match is found)..</span>
<span class="sd">        inputs: the operation inputs</span>
<span class="sd">        operation_config: the (optional) module config in case &#39;operation&#39; is a module name</span>
<span class="sd">        **job_metadata: additional metadata to store with the job</span>

<span class="sd">    Returns:</span>
<span class="sd">        the job result value map</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">inputs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">inputs</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">queue_job</span><span class="p">(</span>
        <span class="n">operation</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span>
        <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
        <span class="n">operation_config</span><span class="o">=</span><span class="n">operation_config</span><span class="p">,</span>
        <span class="o">**</span><span class="n">job_metadata</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">retrieve_result</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.get_job" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_job</span><span class="p">(</span><span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ActiveJob</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.get_job" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve the status of the job with the provided id.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3114</span>
<span class="normal">3115</span>
<span class="normal">3116</span>
<span class="normal">3117</span>
<span class="normal">3118</span>
<span class="normal">3119</span>
<span class="normal">3120</span>
<span class="normal">3121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_job</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;ActiveJob&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the status of the job with the provided id.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">job_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">job_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">job_id</span><span class="p">)</span>

    <span class="n">job_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">get_job</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">job_status</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.get_job_result" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_job_result</span><span class="p">(</span><span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.get_job_result" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve the result(s) of the specified job.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3123</span>
<span class="normal">3124</span>
<span class="normal">3125</span>
<span class="normal">3126</span>
<span class="normal">3127</span>
<span class="normal">3128</span>
<span class="normal">3129</span>
<span class="normal">3130</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_job_result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ValueMapReadOnly</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the result(s) of the specified job.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">job_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">job_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">job_id</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">retrieve_result</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_all_job_record_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_all_job_record_ids</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_all_job_record_ids" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available job ids in this kiara context, ordered from newest to oldest, including internal jobs.</p>
<p>This should be faster than <code>list_job_record_ids</code> with equivalent parameters, because no filtering
needs to be done.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3132</span>
<span class="normal">3133</span>
<span class="normal">3134</span>
<span class="normal">3135</span>
<span class="normal">3136</span>
<span class="normal">3137</span>
<span class="normal">3138</span>
<span class="normal">3139</span>
<span class="normal">3140</span>
<span class="normal">3141</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_all_job_record_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available job ids in this kiara context, ordered from newest to oldest, including internal jobs.</span>

<span class="sd">    This should be faster than `list_job_record_ids` with equivalent parameters, because no filtering</span>
<span class="sd">    needs to be done.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">job_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">retrieve_all_job_record_ids</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">job_ids</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_job_record_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_job_record_ids</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_job_record_ids" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available job ids in this kiara context, ordered from newest to oldest.</p>
<p>You can look up the supported matcher parameter arguments via the <a class="autorefs autorefs-internal" href="../../../models/module/jobs/#kiara.models.module.jobs.JobMatcher">JobMatcher</a> class. By default, this method for example
does not return jobs marked as 'internal'.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>matcher_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional parameters to pass to the job matcher</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of job ids, ordered from latest to earliest</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3143</span>
<span class="normal">3144</span>
<span class="normal">3145</span>
<span class="normal">3146</span>
<span class="normal">3147</span>
<span class="normal">3148</span>
<span class="normal">3149</span>
<span class="normal">3150</span>
<span class="normal">3151</span>
<span class="normal">3152</span>
<span class="normal">3153</span>
<span class="normal">3154</span>
<span class="normal">3155</span>
<span class="normal">3156</span>
<span class="normal">3157</span>
<span class="normal">3158</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_job_record_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available job ids in this kiara context, ordered from newest to oldest.</span>

<span class="sd">    You can look up the supported matcher parameter arguments via the [JobMatcher][kiara.models.module.jobs.JobMatcher] class. By default, this method for example</span>
<span class="sd">    does not return jobs marked as &#39;internal&#39;.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        matcher_params: additional parameters to pass to the job matcher</span>

<span class="sd">    Returns:</span>
<span class="sd">        a list of job ids, ordered from latest to earliest</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">job_ids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">list_job_records</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">job_ids</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_all_job_records" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_all_job_records</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">JobRecord</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_all_job_records" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available job records in this kiara context, ordered from newest to oldest, including internal jobs.</p>
<p>This should be faster than <code>list_job_records</code> with equivalent parameters, because no filtering
needs to be done.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3160</span>
<span class="normal">3161</span>
<span class="normal">3162</span>
<span class="normal">3163</span>
<span class="normal">3164</span>
<span class="normal">3165</span>
<span class="normal">3166</span>
<span class="normal">3167</span>
<span class="normal">3168</span>
<span class="normal">3169</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_all_job_records</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="s2">&quot;JobRecord&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available job records in this kiara context, ordered from newest to oldest, including internal jobs.</span>

<span class="sd">    This should be faster than `list_job_records` with equivalent parameters, because no filtering</span>
<span class="sd">    needs to be done.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">job_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">retrieve_all_job_records</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">job_records</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_job_records" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_job_records</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">JobRecord</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_job_records" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available job ids in this kiara context, ordered from newest to oldest.</p>
<p>You can look up the supported matcher parameter arguments via the <a class="autorefs autorefs-internal" href="../../../models/module/jobs/#kiara.models.module.jobs.JobMatcher">JobMatcher</a> class. By default, this method for example
does not return jobs marked as 'internal'.</p>
<p>You can look up the supported matcher parameter arguments via the <a class="autorefs autorefs-internal" href="../../../models/module/jobs/#kiara.models.module.jobs.JobMatcher">JobMatcher</a> class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>matcher_params</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional parameters to pass to the job matcher</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Mapping">Mapping</span>[<span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="JobRecord (kiara.models.module.jobs.JobRecord)" href="../../../models/module/jobs/#kiara.models.module.jobs.JobRecord">JobRecord</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of job details, ordered from latest to earliest</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3171</span>
<span class="normal">3172</span>
<span class="normal">3173</span>
<span class="normal">3174</span>
<span class="normal">3175</span>
<span class="normal">3176</span>
<span class="normal">3177</span>
<span class="normal">3178</span>
<span class="normal">3179</span>
<span class="normal">3180</span>
<span class="normal">3181</span>
<span class="normal">3182</span>
<span class="normal">3183</span>
<span class="normal">3184</span>
<span class="normal">3185</span>
<span class="normal">3186</span>
<span class="normal">3187</span>
<span class="normal">3188</span>
<span class="normal">3189</span>
<span class="normal">3190</span>
<span class="normal">3191</span>
<span class="normal">3192</span>
<span class="normal">3193</span>
<span class="normal">3194</span>
<span class="normal">3195</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">list_job_records</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="s2">&quot;JobRecord&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available job ids in this kiara context, ordered from newest to oldest.</span>

<span class="sd">    You can look up the supported matcher parameter arguments via the [JobMatcher][kiara.models.module.jobs.JobMatcher] class. By default, this method for example</span>
<span class="sd">    does not return jobs marked as &#39;internal&#39;.</span>

<span class="sd">    You can look up the supported matcher parameter arguments via the [JobMatcher][kiara.models.module.jobs.JobMatcher] class.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        matcher_params: additional parameters to pass to the job matcher</span>

<span class="sd">    Returns:</span>
<span class="sd">        a list of job details, ordered from latest to earliest</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.models.module.jobs</span><span class="w"> </span><span class="kn">import</span> <span class="n">JobMatcher</span>

    <span class="n">matcher</span> <span class="o">=</span> <span class="n">JobMatcher</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
    <span class="n">job_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">find_job_records</span><span class="p">(</span><span class="n">matcher</span><span class="o">=</span><span class="n">matcher</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">job_records</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.get_job_record" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_job_record</span><span class="p">(</span><span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">JobRecord</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.get_job_record" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve the detailed job record for the specified job id.</p>
<p>If no job can be found, 'None' is returned.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3197</span>
<span class="normal">3198</span>
<span class="normal">3199</span>
<span class="normal">3200</span>
<span class="normal">3201</span>
<span class="normal">3202</span>
<span class="normal">3203</span>
<span class="normal">3204</span>
<span class="normal">3205</span>
<span class="normal">3206</span>
<span class="normal">3207</span>
<span class="normal">3208</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_job_record</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;JobRecord&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the detailed job record for the specified job id.</span>

<span class="sd">    If no job can be found, &#39;None&#39; is returned.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">job_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">job_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">job_id</span><span class="p">)</span>

    <span class="n">job_record</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">get_job_record</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">job_record</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_job_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_job_info</span><span class="p">(</span><span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">JobInfo</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_job_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve the detailed job record for the specified job id.</p>
<p>If no job can be found, 'None' is returned.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3210</span>
<span class="normal">3211</span>
<span class="normal">3212</span>
<span class="normal">3213</span>
<span class="normal">3214</span>
<span class="normal">3215</span>
<span class="normal">3216</span>
<span class="normal">3217</span>
<span class="normal">3218</span>
<span class="normal">3219</span>
<span class="normal">3220</span>
<span class="normal">3221</span>
<span class="normal">3222</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retrieve_job_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">JobInfo</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the detailed job record for the specified job id.</span>

<span class="sd">    If no job can be found, &#39;None&#39; is returned.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">job_record</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_job_record</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">job_record</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">job_info</span> <span class="o">=</span> <span class="n">JobInfo</span><span class="o">.</span><span class="n">create_from_instance</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">job_record</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">job_info</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_jobs_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_jobs_info</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JobsInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_jobs_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3224</span>
<span class="normal">3225</span>
<span class="normal">3226</span>
<span class="normal">3227</span>
<span class="normal">3228</span>
<span class="normal">3229</span>
<span class="normal">3230</span>
<span class="normal">3231</span>
<span class="normal">3232</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;kiara_api&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retrieve_jobs_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JobsInfo</span><span class="p">:</span>
    <span class="n">job_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_job_records</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>

    <span class="n">infos</span><span class="p">:</span> <span class="n">JobsInfo</span> <span class="o">=</span> <span class="n">JobsInfo</span><span class="o">.</span><span class="n">create_from_instances</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span>
        <span class="n">instances</span><span class="o">=</span><span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">j_id</span><span class="p">):</span> <span class="n">j</span> <span class="k">for</span> <span class="n">j_id</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">job_records</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span>
    <span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">return</span> <span class="n">infos</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.render_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">render_value</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">],</span> <span class="n">target_format</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="n">filters</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">render_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">add_root_scenes</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">use_pretty_print</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderValueResult</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.render_value" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Render a value in the specified target format.</p>
<p>NOTE: this is a preliminary endpoint, don't use in anger yet.</p>
<p>If a list is provided as value for 'target_format', all items are tried until a 'render_value' operation is found that matches
the value type of the source value, and the provided target format.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>, <a class="autorefs autorefs-internal" title="Value (kiara.models.values.value.Value)" href="../../../models/values/value/#kiara.models.values.value.Value">Value</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the value (or value id)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_format</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the format into which to render the value</p>
              </div>
            </td>
            <td>
                  <code>&#39;string&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filters</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[None, <span title="typing.Iterable">Iterable</span>[<span title="str">str</span>], <span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an (optional) list of filters</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>render_config</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.Mapping">Mapping</span>[<span title="str">str</span>, <span title="str">str</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>manifest specific render configuration</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>add_root_scenes</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>add root scenes to the result</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>use_pretty_print</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>use 'pretty_print' operation instead of 'render_value'</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="RenderValueResult (kiara.models.rendering.RenderValueResult)" href="../../../models/rendering/__init__/#kiara.models.rendering.RenderValueResult">RenderValueResult</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the rendered value data, and any related scenes, if applicable</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3234</span>
<span class="normal">3235</span>
<span class="normal">3236</span>
<span class="normal">3237</span>
<span class="normal">3238</span>
<span class="normal">3239</span>
<span class="normal">3240</span>
<span class="normal">3241</span>
<span class="normal">3242</span>
<span class="normal">3243</span>
<span class="normal">3244</span>
<span class="normal">3245</span>
<span class="normal">3246</span>
<span class="normal">3247</span>
<span class="normal">3248</span>
<span class="normal">3249</span>
<span class="normal">3250</span>
<span class="normal">3251</span>
<span class="normal">3252</span>
<span class="normal">3253</span>
<span class="normal">3254</span>
<span class="normal">3255</span>
<span class="normal">3256</span>
<span class="normal">3257</span>
<span class="normal">3258</span>
<span class="normal">3259</span>
<span class="normal">3260</span>
<span class="normal">3261</span>
<span class="normal">3262</span>
<span class="normal">3263</span>
<span class="normal">3264</span>
<span class="normal">3265</span>
<span class="normal">3266</span>
<span class="normal">3267</span>
<span class="normal">3268</span>
<span class="normal">3269</span>
<span class="normal">3270</span>
<span class="normal">3271</span>
<span class="normal">3272</span>
<span class="normal">3273</span>
<span class="normal">3274</span>
<span class="normal">3275</span>
<span class="normal">3276</span>
<span class="normal">3277</span>
<span class="normal">3278</span>
<span class="normal">3279</span>
<span class="normal">3280</span>
<span class="normal">3281</span>
<span class="normal">3282</span>
<span class="normal">3283</span>
<span class="normal">3284</span>
<span class="normal">3285</span>
<span class="normal">3286</span>
<span class="normal">3287</span>
<span class="normal">3288</span>
<span class="normal">3289</span>
<span class="normal">3290</span>
<span class="normal">3291</span>
<span class="normal">3292</span>
<span class="normal">3293</span>
<span class="normal">3294</span>
<span class="normal">3295</span>
<span class="normal">3296</span>
<span class="normal">3297</span>
<span class="normal">3298</span>
<span class="normal">3299</span>
<span class="normal">3300</span>
<span class="normal">3301</span>
<span class="normal">3302</span>
<span class="normal">3303</span>
<span class="normal">3304</span>
<span class="normal">3305</span>
<span class="normal">3306</span>
<span class="normal">3307</span>
<span class="normal">3308</span>
<span class="normal">3309</span>
<span class="normal">3310</span>
<span class="normal">3311</span>
<span class="normal">3312</span>
<span class="normal">3313</span>
<span class="normal">3314</span>
<span class="normal">3315</span>
<span class="normal">3316</span>
<span class="normal">3317</span>
<span class="normal">3318</span>
<span class="normal">3319</span>
<span class="normal">3320</span>
<span class="normal">3321</span>
<span class="normal">3322</span>
<span class="normal">3323</span>
<span class="normal">3324</span>
<span class="normal">3325</span>
<span class="normal">3326</span>
<span class="normal">3327</span>
<span class="normal">3328</span>
<span class="normal">3329</span>
<span class="normal">3330</span>
<span class="normal">3331</span>
<span class="normal">3332</span>
<span class="normal">3333</span>
<span class="normal">3334</span>
<span class="normal">3335</span>
<span class="normal">3336</span>
<span class="normal">3337</span>
<span class="normal">3338</span>
<span class="normal">3339</span>
<span class="normal">3340</span>
<span class="normal">3341</span>
<span class="normal">3342</span>
<span class="normal">3343</span>
<span class="normal">3344</span>
<span class="normal">3345</span>
<span class="normal">3346</span>
<span class="normal">3347</span>
<span class="normal">3348</span>
<span class="normal">3349</span>
<span class="normal">3350</span>
<span class="normal">3351</span>
<span class="normal">3352</span>
<span class="normal">3353</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">render_value</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Value</span><span class="p">],</span>
    <span class="n">target_format</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="n">filters</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">render_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">add_root_scenes</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">use_pretty_print</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderValueResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Render a value in the specified target format.</span>

<span class="sd">    NOTE: this is a preliminary endpoint, don&#39;t use in anger yet.</span>

<span class="sd">    If a list is provided as value for &#39;target_format&#39;, all items are tried until a &#39;render_value&#39; operation is found that matches</span>
<span class="sd">    the value type of the source value, and the provided target format.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        value: the value (or value id)</span>
<span class="sd">        target_format: the format into which to render the value</span>
<span class="sd">        filters: an (optional) list of filters</span>
<span class="sd">        render_config: manifest specific render configuration</span>
<span class="sd">        add_root_scenes: add root scenes to the result</span>
<span class="sd">        use_pretty_print: use &#39;pretty_print&#39; operation instead of &#39;render_value&#39;</span>

<span class="sd">    Returns:</span>
<span class="sd">        the rendered value data, and any related scenes, if applicable</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">render_operation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assemble_render_pipeline</span><span class="p">(</span>
            <span class="n">data_type</span><span class="o">=</span><span class="n">_value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">,</span>
            <span class="n">target_format</span><span class="o">=</span><span class="n">target_format</span><span class="p">,</span>
            <span class="n">filters</span><span class="o">=</span><span class="n">filters</span><span class="p">,</span>
            <span class="n">use_pretty_print</span><span class="o">=</span><span class="n">use_pretty_print</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_message</span><span class="p">(</span>
            <span class="s2">&quot;create_render_pipeline.failure&quot;</span><span class="p">,</span>
            <span class="n">source_type</span><span class="o">=</span><span class="n">_value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">,</span>
            <span class="n">target_format</span><span class="o">=</span><span class="n">target_format</span><span class="p">,</span>
            <span class="n">error</span><span class="o">=</span><span class="n">e</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">use_pretty_print</span><span class="p">:</span>
            <span class="n">pretty_print_ops</span><span class="p">:</span> <span class="n">PrettyPrintOperationType</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation_type</span><span class="p">(</span><span class="s2">&quot;pretty_print&quot;</span><span class="p">)</span>
            <span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target_format</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                    <span class="s2">&quot;Can&#39;t handle multiple target formats for &#39;render_value&#39; yet.&quot;</span>
                <span class="p">)</span>
            <span class="n">render_operation</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">pretty_print_ops</span><span class="o">.</span><span class="n">get_operation_for_render_combination</span><span class="p">(</span>
                    <span class="n">source_type</span><span class="o">=</span><span class="s2">&quot;any&quot;</span><span class="p">,</span> <span class="n">target_type</span><span class="o">=</span><span class="n">target_format</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">render_ops</span><span class="p">:</span> <span class="n">RenderValueOperationType</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">get_operation_type</span><span class="p">(</span><span class="s2">&quot;render_value&quot;</span><span class="p">)</span>
            <span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target_format</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                    <span class="s2">&quot;Can&#39;t handle multiple target formats for &#39;render_value&#39; yet.&quot;</span>
                <span class="p">)</span>
            <span class="n">render_operation</span> <span class="o">=</span> <span class="n">render_ops</span><span class="o">.</span><span class="n">get_render_operation</span><span class="p">(</span>
                <span class="n">source_type</span><span class="o">=</span><span class="s2">&quot;any&quot;</span><span class="p">,</span> <span class="n">target_type</span><span class="o">=</span><span class="n">target_format</span>
            <span class="p">)</span>

    <span class="k">if</span> <span class="n">render_operation</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Could not find render operation for value &#39;</span><span class="si">{</span><span class="n">_value</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;, type: </span><span class="si">{</span><span class="n">_value</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">render_config</span> <span class="ow">and</span> <span class="s2">&quot;render_config&quot;</span> <span class="ow">in</span> <span class="n">render_config</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="c1"># raise NotImplementedError()</span>
        <span class="c1"># TODO: is this necessary?</span>
        <span class="n">render_config</span> <span class="o">=</span> <span class="n">render_config</span><span class="p">[</span><span class="s2">&quot;render_config&quot;</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
        <span class="c1"># manifest_hash = render_config[&quot;manifest_hash&quot;]</span>
        <span class="c1"># if manifest_hash != render_operation.manifest_hash:</span>
        <span class="c1">#     raise NotImplementedError(</span>
        <span class="c1">#         &quot;Using a non-default render operation is not supported (yet).&quot;</span>
        <span class="c1">#     )</span>
        <span class="c1"># render_config = render_config[&quot;render_config&quot;]</span>

    <span class="k">if</span> <span class="n">render_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">render_config</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">render_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">render_config</span><span class="p">)</span>

    <span class="c1"># render_type = render_config.pop(&quot;render_type&quot;, None)</span>
    <span class="c1"># if not render_type or render_type == &quot;data&quot;:</span>
    <span class="c1">#     pass</span>
    <span class="c1"># elif render_type == &quot;metadata&quot;:</span>
    <span class="c1">#     pass</span>
    <span class="c1"># elif render_type == &quot;properties&quot;:</span>
    <span class="c1">#     pass</span>
    <span class="c1"># elif render_type == &quot;lineage&quot;:</span>
    <span class="c1">#     pass</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">render_operation</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span>
        <span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">_value</span><span class="p">,</span> <span class="s2">&quot;render_config&quot;</span><span class="p">:</span> <span class="n">render_config</span><span class="p">},</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">use_pretty_print</span><span class="p">:</span>
        <span class="n">render_result</span><span class="p">:</span> <span class="n">Value</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;rendered_value&quot;</span><span class="p">]</span>
        <span class="n">value_render_data</span><span class="p">:</span> <span class="n">RenderValueResult</span> <span class="o">=</span> <span class="n">render_result</span><span class="o">.</span><span class="n">data</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">render_result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;render_value_result&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">render_result</span><span class="o">.</span><span class="n">data_type_name</span> <span class="o">!=</span> <span class="s2">&quot;render_value_result&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid result type for render operation: </span><span class="si">{</span><span class="n">render_result</span><span class="o">.</span><span class="n">data_type_name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">value_render_data</span> <span class="o">=</span> <span class="n">render_result</span><span class="o">.</span><span class="n">data</span>  <span class="c1"># type: ignore</span>

    <span class="k">return</span> <span class="n">value_render_data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_workflow_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_workflow_ids</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_workflow_ids" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available workflow ids.</p>
<p>NOTE: this is a provisional endpoint, don't use in anger yet</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3359</span>
<span class="normal">3360</span>
<span class="normal">3361</span>
<span class="normal">3362</span>
<span class="normal">3363</span>
<span class="normal">3364</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_workflow_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available workflow ids.</span>

<span class="sd">    NOTE: this is a provisional endpoint, don&#39;t use in anger yet</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">all_workflow_ids</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_workflow_alias_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_workflow_alias_names</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_workflow_alias_names" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>"List all available workflow aliases.</p>
<p>NOTE: this is a provisional endpoint, don't use in anger yet</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3366</span>
<span class="normal">3367</span>
<span class="normal">3368</span>
<span class="normal">3369</span>
<span class="normal">3370</span>
<span class="normal">3371</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_workflow_alias_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; &quot;List all available workflow aliases.</span>

<span class="sd">    NOTE: this is a provisional endpoint, don&#39;t use in anger yet</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">workflow_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.get_workflow" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span> <span class="n">create_if_necessary</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Workflow</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.get_workflow" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve the workflow instance with the specified id or alias.</p>
<p>NOTE: this is a provisional endpoint, don't use in anger yet</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3373</span>
<span class="normal">3374</span>
<span class="normal">3375</span>
<span class="normal">3376</span>
<span class="normal">3377</span>
<span class="normal">3378</span>
<span class="normal">3379</span>
<span class="normal">3380</span>
<span class="normal">3381</span>
<span class="normal">3382</span>
<span class="normal">3383</span>
<span class="normal">3384</span>
<span class="normal">3385</span>
<span class="normal">3386</span>
<span class="normal">3387</span>
<span class="normal">3388</span>
<span class="normal">3389</span>
<span class="normal">3390</span>
<span class="normal">3391</span>
<span class="normal">3392</span>
<span class="normal">3393</span>
<span class="normal">3394</span>
<span class="normal">3395</span>
<span class="normal">3396</span>
<span class="normal">3397</span>
<span class="normal">3398</span>
<span class="normal">3399</span>
<span class="normal">3400</span>
<span class="normal">3401</span>
<span class="normal">3402</span>
<span class="normal">3403</span>
<span class="normal">3404</span>
<span class="normal">3405</span>
<span class="normal">3406</span>
<span class="normal">3407</span>
<span class="normal">3408</span>
<span class="normal">3409</span>
<span class="normal">3410</span>
<span class="normal">3411</span>
<span class="normal">3412</span>
<span class="normal">3413</span>
<span class="normal">3414</span>
<span class="normal">3415</span>
<span class="normal">3416</span>
<span class="normal">3417</span>
<span class="normal">3418</span>
<span class="normal">3419</span>
<span class="normal">3420</span>
<span class="normal">3421</span>
<span class="normal">3422</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_workflow</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">workflow</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span> <span class="n">create_if_necessary</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Workflow&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the workflow instance with the specified id or alias.</span>

<span class="sd">    NOTE: this is a provisional endpoint, don&#39;t use in anger yet</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">no_such_alias</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">workflow_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">workflow_alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">workflow</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">workflow_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">workflow</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="n">workflow_alias</span> <span class="o">=</span> <span class="n">workflow</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">workflow_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">get_workflow_id</span><span class="p">(</span>
                    <span class="n">workflow_alias</span><span class="o">=</span><span class="n">workflow</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="n">NoSuchWorkflowException</span><span class="p">:</span>
                <span class="n">no_such_alias</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">workflow_id</span> <span class="o">=</span> <span class="n">workflow</span>

    <span class="k">if</span> <span class="n">workflow_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t retrieve workflow for: </span><span class="si">{</span><span class="n">workflow</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">workflow_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workflow_cache</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workflow_cache</span><span class="p">[</span><span class="n">workflow_id</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">workflow_id</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">create_if_necessary</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">no_such_alias</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;No workflow with id &#39;</span><span class="si">{</span><span class="n">workflow</span><span class="si">}</span><span class="s2">&#39; registered.&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;No workflow with alias &#39;</span><span class="si">{</span><span class="n">workflow</span><span class="si">}</span><span class="s2">&#39; registered.&quot;</span>

        <span class="k">raise</span> <span class="n">NoSuchWorkflowException</span><span class="p">(</span><span class="n">workflow</span><span class="o">=</span><span class="n">workflow</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">workflow_id</span><span class="p">:</span>
        <span class="c1"># workflow_metadata = self.context.workflow_registry.get_workflow_metadata(</span>
        <span class="c1">#     workflow=workflow_id</span>
        <span class="c1"># )</span>
        <span class="n">workflow_obj</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">workflow</span><span class="o">=</span><span class="n">workflow_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workflow_cache</span><span class="p">[</span><span class="n">workflow_obj</span><span class="o">.</span><span class="n">workflow_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">workflow_obj</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># means we need to create it</span>
        <span class="n">workflow_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_workflow</span><span class="p">(</span><span class="n">workflow_alias</span><span class="o">=</span><span class="n">workflow_alias</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">workflow_obj</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_workflow_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_workflow_info</span><span class="p">(</span><span class="n">workflow</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">Workflow</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">WorkflowInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_workflow_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Retrieve information about the specified workflow.</p>
<p>NOTE: this is a provisional endpoint, don't use in anger yet</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3424</span>
<span class="normal">3425</span>
<span class="normal">3426</span>
<span class="normal">3427</span>
<span class="normal">3428</span>
<span class="normal">3429</span>
<span class="normal">3430</span>
<span class="normal">3431</span>
<span class="normal">3432</span>
<span class="normal">3433</span>
<span class="normal">3434</span>
<span class="normal">3435</span>
<span class="normal">3436</span>
<span class="normal">3437</span>
<span class="normal">3438</span>
<span class="normal">3439</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_workflow_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">workflow</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="s2">&quot;Workflow&quot;</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkflowInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve information about the specified workflow.</span>

<span class="sd">    NOTE: this is a provisional endpoint, don&#39;t use in anger yet</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.workflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">Workflow</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">workflow</span><span class="p">,</span> <span class="n">Workflow</span><span class="p">):</span>
        <span class="n">_workflow</span><span class="p">:</span> <span class="n">Workflow</span> <span class="o">=</span> <span class="n">workflow</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_workflow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">WorkflowInfo</span><span class="o">.</span><span class="n">create_from_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="o">=</span><span class="n">_workflow</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_workflows" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_workflows</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkflowsMap</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_workflows" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available workflow sessions, indexed by their unique id.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3441</span>
<span class="normal">3442</span>
<span class="normal">3443</span>
<span class="normal">3444</span>
<span class="normal">3445</span>
<span class="normal">3446</span>
<span class="normal">3447</span>
<span class="normal">3448</span>
<span class="normal">3449</span>
<span class="normal">3450</span>
<span class="normal">3451</span>
<span class="normal">3452</span>
<span class="normal">3453</span>
<span class="normal">3454</span>
<span class="normal">3455</span>
<span class="normal">3456</span>
<span class="normal">3457</span>
<span class="normal">3458</span>
<span class="normal">3459</span>
<span class="normal">3460</span>
<span class="normal">3461</span>
<span class="normal">3462</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_workflows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;WorkflowsMap&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available workflow sessions, indexed by their unique id.&quot;&quot;&quot;</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.models.doc</span><span class="w"> </span><span class="kn">import</span> <span class="n">WorkflowsMap</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.models.workflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">WorkflowMatcher</span>

    <span class="n">workflows</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">matcher</span> <span class="o">=</span> <span class="n">WorkflowMatcher</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">matcher</span><span class="o">.</span><span class="n">has_alias</span><span class="p">:</span>
        <span class="k">for</span> <span class="p">(</span>
            <span class="n">alias</span><span class="p">,</span>
            <span class="n">workflow_id</span><span class="p">,</span>
        <span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">workflow_aliases</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">workflow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="o">=</span><span class="n">workflow_id</span><span class="p">)</span>
            <span class="n">workflows</span><span class="p">[</span><span class="n">workflow</span><span class="o">.</span><span class="n">workflow_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">workflow</span>
        <span class="k">return</span> <span class="n">WorkflowsMap</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">workflows</span><span class="o">.</span><span class="n">items</span><span class="p">()})</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">workflow_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">all_workflow_ids</span><span class="p">:</span>
            <span class="n">workflow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="o">=</span><span class="n">workflow_id</span><span class="p">)</span>
            <span class="n">workflows</span><span class="p">[</span><span class="n">workflow_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">workflow</span>
        <span class="k">return</span> <span class="n">WorkflowsMap</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">workflows</span><span class="o">.</span><span class="n">items</span><span class="p">()})</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.list_workflow_aliases" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_workflow_aliases</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkflowsMap</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.list_workflow_aliases" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>List all available workflow sessions that have an alias, indexed by alias.</p>
<p>NOTE: this is a provisional endpoint, don't use in anger yet</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3464</span>
<span class="normal">3465</span>
<span class="normal">3466</span>
<span class="normal">3467</span>
<span class="normal">3468</span>
<span class="normal">3469</span>
<span class="normal">3470</span>
<span class="normal">3471</span>
<span class="normal">3472</span>
<span class="normal">3473</span>
<span class="normal">3474</span>
<span class="normal">3475</span>
<span class="normal">3476</span>
<span class="normal">3477</span>
<span class="normal">3478</span>
<span class="normal">3479</span>
<span class="normal">3480</span>
<span class="normal">3481</span>
<span class="normal">3482</span>
<span class="normal">3483</span>
<span class="normal">3484</span>
<span class="normal">3485</span>
<span class="normal">3486</span>
<span class="normal">3487</span>
<span class="normal">3488</span>
<span class="normal">3489</span>
<span class="normal">3490</span>
<span class="normal">3491</span>
<span class="normal">3492</span>
<span class="normal">3493</span>
<span class="normal">3494</span>
<span class="normal">3495</span>
<span class="normal">3496</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_workflow_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;WorkflowsMap&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available workflow sessions that have an alias, indexed by alias.</span>

<span class="sd">    NOTE: this is a provisional endpoint, don&#39;t use in anger yet</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.models.doc</span><span class="w"> </span><span class="kn">import</span> <span class="n">WorkflowsMap</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.workflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">Workflow</span>

    <span class="k">if</span> <span class="n">matcher_params</span><span class="p">:</span>
        <span class="n">matcher_params</span><span class="p">[</span><span class="s2">&quot;has_alias&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">workflows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_workflows</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Workflow</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">workflow</span> <span class="ow">in</span> <span class="n">workflows</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">aliases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">get_aliases</span><span class="p">(</span>
                <span class="n">workflow_id</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">workflow_id</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">aliases</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Duplicate workflow alias &#39;</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">&#39;: this is most likely a bug.&quot;</span>
                    <span class="p">)</span>
                <span class="n">result</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">workflow</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">())}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># faster if not other matcher params</span>
        <span class="n">all_aliases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">workflow_aliases</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">a</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="o">=</span><span class="n">all_aliases</span><span class="p">[</span><span class="n">a</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">all_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="p">}</span>

    <span class="k">return</span> <span class="n">WorkflowsMap</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="n">result</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_workflows_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_workflows_info</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkflowGroupInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_workflows_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get a map info instances for all available workflows, indexed by (stringified) workflow-id.</p>
<p>NOTE: this is a provisional endpoint, don't use in anger yet</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3498</span>
<span class="normal">3499</span>
<span class="normal">3500</span>
<span class="normal">3501</span>
<span class="normal">3502</span>
<span class="normal">3503</span>
<span class="normal">3504</span>
<span class="normal">3505</span>
<span class="normal">3506</span>
<span class="normal">3507</span>
<span class="normal">3508</span>
<span class="normal">3509</span>
<span class="normal">3510</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_workflows_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkflowGroupInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a map info instances for all available workflows, indexed by (stringified) workflow-id.</span>

<span class="sd">    NOTE: this is a provisional endpoint, don&#39;t use in anger yet</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workflows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_workflows</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>

    <span class="n">workflow_infos</span> <span class="o">=</span> <span class="n">WorkflowGroupInfo</span><span class="o">.</span><span class="n">create_from_workflows</span><span class="p">(</span>
        <span class="o">*</span><span class="n">workflows</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span>
        <span class="n">group_title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">alias_map</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">workflow_aliases</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">workflow_infos</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.retrieve_workflow_aliases_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retrieve_workflow_aliases_info</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkflowGroupInfo</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.retrieve_workflow_aliases_info" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Get a map info instances for all available workflows, indexed by alias.</p>
<p>NOTE: this is a provisional endpoint, don't use in anger yet</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3512</span>
<span class="normal">3513</span>
<span class="normal">3514</span>
<span class="normal">3515</span>
<span class="normal">3516</span>
<span class="normal">3517</span>
<span class="normal">3518</span>
<span class="normal">3519</span>
<span class="normal">3520</span>
<span class="normal">3521</span>
<span class="normal">3522</span>
<span class="normal">3523</span>
<span class="normal">3524</span>
<span class="normal">3525</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retrieve_workflow_aliases_info</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">matcher_params</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkflowGroupInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a map info instances for all available workflows, indexed by alias.</span>

<span class="sd">    NOTE: this is a provisional endpoint, don&#39;t use in anger yet</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workflows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_workflow_aliases</span><span class="p">(</span><span class="o">**</span><span class="n">matcher_params</span><span class="p">)</span>
    <span class="n">workflow_infos</span> <span class="o">=</span> <span class="n">WorkflowGroupInfo</span><span class="o">.</span><span class="n">create_from_workflows</span><span class="p">(</span>
        <span class="o">*</span><span class="n">workflows</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span>
        <span class="n">group_title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">alias_map</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">workflow_aliases</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">workflow_infos</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="kiara.interfaces.python_api.base_api.BaseAPI.create_workflow" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_workflow</span><span class="p">(</span><span class="n">workflow_alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">initial_pipeline</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">initial_inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">documentation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">force_alias</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Workflow</span></code>

<a href="#kiara.interfaces.python_api.base_api.BaseAPI.create_workflow" class="headerlink" title="Permanent link">&para;</a></h5>


    <div class="doc doc-contents ">

        <p>Create a workflow instance.</p>
<p>NOTE: this is a provisional endpoint, don't use in anger yet</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">3527</span>
<span class="normal">3528</span>
<span class="normal">3529</span>
<span class="normal">3530</span>
<span class="normal">3531</span>
<span class="normal">3532</span>
<span class="normal">3533</span>
<span class="normal">3534</span>
<span class="normal">3535</span>
<span class="normal">3536</span>
<span class="normal">3537</span>
<span class="normal">3538</span>
<span class="normal">3539</span>
<span class="normal">3540</span>
<span class="normal">3541</span>
<span class="normal">3542</span>
<span class="normal">3543</span>
<span class="normal">3544</span>
<span class="normal">3545</span>
<span class="normal">3546</span>
<span class="normal">3547</span>
<span class="normal">3548</span>
<span class="normal">3549</span>
<span class="normal">3550</span>
<span class="normal">3551</span>
<span class="normal">3552</span>
<span class="normal">3553</span>
<span class="normal">3554</span>
<span class="normal">3555</span>
<span class="normal">3556</span>
<span class="normal">3557</span>
<span class="normal">3558</span>
<span class="normal">3559</span>
<span class="normal">3560</span>
<span class="normal">3561</span>
<span class="normal">3562</span>
<span class="normal">3563</span>
<span class="normal">3564</span>
<span class="normal">3565</span>
<span class="normal">3566</span>
<span class="normal">3567</span>
<span class="normal">3568</span>
<span class="normal">3569</span>
<span class="normal">3570</span>
<span class="normal">3571</span>
<span class="normal">3572</span>
<span class="normal">3573</span>
<span class="normal">3574</span>
<span class="normal">3575</span>
<span class="normal">3576</span>
<span class="normal">3577</span>
<span class="normal">3578</span>
<span class="normal">3579</span>
<span class="normal">3580</span>
<span class="normal">3581</span>
<span class="normal">3582</span>
<span class="normal">3583</span>
<span class="normal">3584</span>
<span class="normal">3585</span>
<span class="normal">3586</span>
<span class="normal">3587</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_workflow</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">workflow_alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">initial_pipeline</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">initial_inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">documentation</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">force_alias</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Workflow&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a workflow instance.</span>

<span class="sd">    NOTE: this is a provisional endpoint, don&#39;t use in anger yet</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">kiara.interfaces.python_api.workflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">Workflow</span>

    <span class="k">if</span> <span class="n">workflow_alias</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">workflow_alias</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t create workflow, provided alias can&#39;t be a uuid: </span><span class="si">{</span><span class="n">workflow_alias</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="n">workflow_id</span> <span class="o">=</span> <span class="n">ID_REGISTRY</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="n">WorkflowMetadata</span><span class="p">(</span>
        <span class="n">workflow_id</span><span class="o">=</span><span class="n">workflow_id</span><span class="p">,</span> <span class="n">documentation</span><span class="o">=</span><span class="n">documentation</span>
    <span class="p">)</span>

    <span class="n">workflow_obj</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">,</span> <span class="n">workflow</span><span class="o">=</span><span class="n">metadata</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">workflow_alias</span><span class="p">:</span>
        <span class="n">workflow_obj</span><span class="o">.</span><span class="n">_pending_aliases</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">workflow_alias</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">initial_pipeline</span><span class="p">:</span>
        <span class="n">operation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="n">operation</span><span class="o">=</span><span class="n">initial_pipeline</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">operation</span><span class="o">.</span><span class="n">module_type</span> <span class="o">==</span> <span class="s2">&quot;pipeline&quot;</span><span class="p">:</span>
            <span class="n">pipeline_details</span><span class="p">:</span> <span class="n">PipelineOperationDetails</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="n">operation_details</span>  <span class="c1"># type: ignore</span>
            <span class="n">workflow_obj</span><span class="o">.</span><span class="n">add_steps</span><span class="p">(</span><span class="o">*</span><span class="n">pipeline_details</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">steps</span><span class="p">)</span>
            <span class="n">input_aliases</span> <span class="o">=</span> <span class="n">pipeline_details</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">input_aliases</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">input_aliases</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">workflow_obj</span><span class="o">.</span><span class="n">set_input_alias</span><span class="p">(</span><span class="n">input_field</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="n">v</span><span class="p">)</span>
            <span class="n">output_aliases</span> <span class="o">=</span> <span class="n">pipeline_details</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">output_aliases</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">output_aliases</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">workflow_obj</span><span class="o">.</span><span class="n">set_output_alias</span><span class="p">(</span><span class="n">output_field</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="n">v</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

        <span class="n">workflow_obj</span><span class="o">.</span><span class="n">set_inputs</span><span class="p">(</span><span class="o">**</span><span class="n">operation</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">defaults</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">initial_inputs</span><span class="p">:</span>
        <span class="n">workflow_obj</span><span class="o">.</span><span class="n">set_inputs</span><span class="p">(</span><span class="o">**</span><span class="n">initial_inputs</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_workflow_cache</span><span class="p">[</span><span class="n">workflow_obj</span><span class="o">.</span><span class="n">workflow_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">workflow_obj</span>

    <span class="k">if</span> <span class="n">save</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">force_alias</span> <span class="ow">and</span> <span class="n">workflow_alias</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">workflow_registry</span><span class="o">.</span><span class="n">unregister_alias</span><span class="p">(</span><span class="n">workflow_alias</span><span class="p">)</span>
        <span class="n">workflow_obj</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">workflow_obj</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
<h2 id="kiara.interfaces.python_api.base_api-functions">Functions<a href="#kiara.interfaces.python_api.base_api-functions" class="headerlink" title="Permanent link">&para;</a></h2>

<div class="doc doc-object doc-function">


<h3 id="kiara.interfaces.python_api.base_api.tag" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tag</span><span class="p">(</span><span class="o">*</span><span class="n">tags</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span></code>

<a href="#kiara.interfaces.python_api.base_api.tag" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">tag</span><span class="p">(</span><span class="o">*</span><span class="n">tags</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="n">func</span><span class="o">.</span><span class="n">_tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="k">return</span> <span class="n">func</span>

    <span class="k">return</span> <span class="n">decorator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kiara.interfaces.python_api.base_api.find_base_api_endpoints" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_base_api_endpoints</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span></code>

<a href="#kiara.interfaces.python_api.base_api.find_base_api_endpoints" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Return all endpoints that are tagged with the provided label.</p>


            <details class="quote">
              <summary>Source code in <code>src/kiara/interfaces/python_api/base_api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">find_base_api_endpoints</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return all endpoints that are tagged with the provided label.&quot;&quot;&quot;</span>

    <span class="c1"># for func in dir(cls):</span>
    <span class="c1">#     if not func.startswith(&quot;_&quot;) and &quot;_tags&quot; not in dir(getattr(cls, func)):</span>
    <span class="c1">#         print(dir(getattr(cls, func)))</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;_tags&quot;</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">func</span><span class="p">))</span> <span class="ow">and</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span><span class="o">.</span><span class="n">_tags</span>
    <span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      DHARPA project
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.instant", "navigation.tracking"], "search": "../../../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "default": "stable", "provider": "mike"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>