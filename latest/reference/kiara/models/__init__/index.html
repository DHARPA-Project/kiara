
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the Kiara project">
      
      
        <meta name="author" content="Markus Binsteiner">
      
      
        <link rel="canonical" href="https://dharpa.org/kiara/latest/reference/kiara/models/__init__/">
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>models - Kiara</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#kiara.models" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Kiara" class="md-header__button md-logo" aria-label="Kiara" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Kiara
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              models
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/DHARPA-Project/kiara" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Kiara" class="md-nav__button md-logo" aria-label="Kiara" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Kiara
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/DHARPA-Project/kiara" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Included components
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Included components" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Included components
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../included_components/" class="md-nav__link">
        Summary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../included_components/data_types/" class="md-nav__link">
        data_types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../included_components/module_types/" class="md-nav__link">
        module_types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../included_components/kiara_model_types/" class="md-nav__link">
        kiara_model_types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../included_components/operation_types/" class="md-nav__link">
        operation_types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../included_components/operations/" class="md-nav__link">
        operations
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          API reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          API reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" checked>
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../__init__/">kiara</a>
          
            <label for="__nav_3_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="kiara" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          kiara
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_1" type="checkbox" id="__nav_3_1_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../context/__init__/">context</a>
          
            <label for="__nav_3_1_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="context" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_1">
          <span class="md-nav__icon md-icon"></span>
          context
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../context/config/" class="md-nav__link">
        config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../context/orm/" class="md-nav__link">
        orm
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_2" type="checkbox" id="__nav_3_1_2" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../data_types/__init__/">data_types</a>
          
            <label for="__nav_3_1_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="data_types" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_2">
          <span class="md-nav__icon md-icon"></span>
          data_types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_2_1" type="checkbox" id="__nav_3_1_2_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../data_types/included_core_types/__init__/">included_core_types</a>
          
            <label for="__nav_3_1_2_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="included_core_types" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_2_1">
          <span class="md-nav__icon md-icon"></span>
          included_core_types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_types/included_core_types/filesystem/" class="md-nav__link">
        filesystem
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_2_1_2" type="checkbox" id="__nav_3_1_2_1_2" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../data_types/included_core_types/internal/__init__/">internal</a>
          
            <label for="__nav_3_1_2_1_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="internal" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_2_1_2">
          <span class="md-nav__icon md-icon"></span>
          internal
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_types/included_core_types/internal/render_value/" class="md-nav__link">
        render_value
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_types/included_core_types/serialization/" class="md-nav__link">
        serialization
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../defaults/" class="md-nav__link">
        defaults
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_4" type="checkbox" id="__nav_3_1_4" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../doc/__init__/">doc</a>
          
            <label for="__nav_3_1_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="doc" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_4">
          <span class="md-nav__icon md-icon"></span>
          doc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../doc/gen_info_pages/" class="md-nav__link">
        gen_info_pages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../doc/generate_api_doc/" class="md-nav__link">
        generate_api_doc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../doc/mkdocs_macros_cli/" class="md-nav__link">
        mkdocs_macros_cli
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../doc/mkdocs_macros_kiara/" class="md-nav__link">
        mkdocs_macros_kiara
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_4_5" type="checkbox" id="__nav_3_1_4_5" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../doc/mkdocstrings/__init__/">mkdocstrings</a>
          
            <label for="__nav_3_1_4_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="mkdocstrings" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_4_5">
          <span class="md-nav__icon md-icon"></span>
          mkdocstrings
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../doc/mkdocstrings/collector/" class="md-nav__link">
        collector
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../doc/mkdocstrings/handler/" class="md-nav__link">
        handler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../doc/mkdocstrings/renderer/" class="md-nav__link">
        renderer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../exceptions/" class="md-nav__link">
        exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6" type="checkbox" id="__nav_3_1_6" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/__init__/">interfaces</a>
          
            <label for="__nav_3_1_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="interfaces" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_6">
          <span class="md-nav__icon md-icon"></span>
          interfaces
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6_1" type="checkbox" id="__nav_3_1_6_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/__init__/">cli</a>
          
            <label for="__nav_3_1_6_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="cli" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_6_1">
          <span class="md-nav__icon md-icon"></span>
          cli
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6_1_1" type="checkbox" id="__nav_3_1_6_1_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/config/__init__/">config</a>
          
            <label for="__nav_3_1_6_1_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="config" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_6_1_1">
          <span class="md-nav__icon md-icon"></span>
          config
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/config/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6_1_2" type="checkbox" id="__nav_3_1_6_1_2" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/context/__init__/">context</a>
          
            <label for="__nav_3_1_6_1_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="context" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_6_1_2">
          <span class="md-nav__icon md-icon"></span>
          context
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/context/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6_1_3" type="checkbox" id="__nav_3_1_6_1_3" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/data/__init__/">data</a>
          
            <label for="__nav_3_1_6_1_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="data" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_6_1_3">
          <span class="md-nav__icon md-icon"></span>
          data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/data/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6_1_4" type="checkbox" id="__nav_3_1_6_1_4" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/dev/__init__/">dev</a>
          
            <label for="__nav_3_1_6_1_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="dev" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_6_1_4">
          <span class="md-nav__icon md-icon"></span>
          dev
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/dev/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6_1_5" type="checkbox" id="__nav_3_1_6_1_5" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/module/__init__/">module</a>
          
            <label for="__nav_3_1_6_1_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="module" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_6_1_5">
          <span class="md-nav__icon md-icon"></span>
          module
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/module/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6_1_6" type="checkbox" id="__nav_3_1_6_1_6" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/operation/__init__/">operation</a>
          
            <label for="__nav_3_1_6_1_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="operation" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_6_1_6">
          <span class="md-nav__icon md-icon"></span>
          operation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/operation/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6_1_7" type="checkbox" id="__nav_3_1_6_1_7" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/pipeline/__init__/">pipeline</a>
          
            <label for="__nav_3_1_6_1_7">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="pipeline" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_6_1_7">
          <span class="md-nav__icon md-icon"></span>
          pipeline
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/pipeline/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6_1_8" type="checkbox" id="__nav_3_1_6_1_8" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/render/__init__/">render</a>
          
            <label for="__nav_3_1_6_1_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="render" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_6_1_8">
          <span class="md-nav__icon md-icon"></span>
          render
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/render/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/run/" class="md-nav__link">
        run
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6_1_10" type="checkbox" id="__nav_3_1_6_1_10" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/service/__init__/">service</a>
          
            <label for="__nav_3_1_6_1_10">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="service" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_6_1_10">
          <span class="md-nav__icon md-icon"></span>
          service
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/service/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6_1_11" type="checkbox" id="__nav_3_1_6_1_11" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/type/__init__/">type</a>
          
            <label for="__nav_3_1_6_1_11">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="type" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_6_1_11">
          <span class="md-nav__icon md-icon"></span>
          type
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/type/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6_1_12" type="checkbox" id="__nav_3_1_6_1_12" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/workflow/__init__/">workflow</a>
          
            <label for="__nav_3_1_6_1_12">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="workflow" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_6_1_12">
          <span class="md-nav__icon md-icon"></span>
          workflow
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/workflow/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6_2" type="checkbox" id="__nav_3_1_6_2" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/python_api/__init__/">python_api</a>
          
            <label for="__nav_3_1_6_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="python_api" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_6_2">
          <span class="md-nav__icon md-icon"></span>
          python_api
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/python_api/batch/" class="md-nav__link">
        batch
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6_2_2" type="checkbox" id="__nav_3_1_6_2_2" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/python_api/models/__init__/">models</a>
          
            <label for="__nav_3_1_6_2_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="models" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_6_2_2">
          <span class="md-nav__icon md-icon"></span>
          models
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/python_api/models/info/" class="md-nav__link">
        info
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/python_api/models/job/" class="md-nav__link">
        job
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/python_api/models/workflow/" class="md-nav__link">
        workflow
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/python_api/operation/" class="md-nav__link">
        operation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/python_api/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/python_api/value/" class="md-nav__link">
        value
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/python_api/workflow/" class="md-nav__link">
        workflow
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6_3" type="checkbox" id="__nav_3_1_6_3" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/tui/__init__/">tui</a>
          
            <label for="__nav_3_1_6_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="tui" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_6_3">
          <span class="md-nav__icon md-icon"></span>
          tui
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/tui/pager/" class="md-nav__link">
        pager
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_7" type="checkbox" id="__nav_3_1_7" checked>
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index md-nav__link--active">
          <a href="./">models</a>
          
            <label for="__nav_3_1_7">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="models" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_7">
          <span class="md-nav__icon md-icon"></span>
          models
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../aliases/__init__/" class="md-nav__link">
        aliases
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../archives/" class="md-nav__link">
        archives
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../context/" class="md-nav__link">
        context
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data_types/" class="md-nav__link">
        data_types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../documentation/" class="md-nav__link">
        documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_7_6" type="checkbox" id="__nav_3_1_7_6" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../events/__init__/">events</a>
          
            <label for="__nav_3_1_7_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="events" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_7_6">
          <span class="md-nav__icon md-icon"></span>
          events
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../events/alias_registry/" class="md-nav__link">
        alias_registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../events/data_registry/" class="md-nav__link">
        data_registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../events/destiny_registry/" class="md-nav__link">
        destiny_registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../events/job_registry/" class="md-nav__link">
        job_registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../events/pipeline/" class="md-nav__link">
        pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../events/workflow_registry/" class="md-nav__link">
        workflow_registry
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../filesystem/" class="md-nav__link">
        filesystem
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_7_8" type="checkbox" id="__nav_3_1_7_8" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../module/__init__/">module</a>
          
            <label for="__nav_3_1_7_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="module" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_7_8">
          <span class="md-nav__icon md-icon"></span>
          module
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../module/destiny/" class="md-nav__link">
        destiny
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../module/jobs/" class="md-nav__link">
        jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../module/manifest/" class="md-nav__link">
        manifest
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../module/operation/" class="md-nav__link">
        operation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../module/persistence/" class="md-nav__link">
        persistence
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_7_8_6" type="checkbox" id="__nav_3_1_7_8_6" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../module/pipeline/__init__/">pipeline</a>
          
            <label for="__nav_3_1_7_8_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="pipeline" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_7_8_6">
          <span class="md-nav__icon md-icon"></span>
          pipeline
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../module/pipeline/controller/" class="md-nav__link">
        controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../module/pipeline/pipeline/" class="md-nav__link">
        pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../module/pipeline/structure/" class="md-nav__link">
        structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../module/pipeline/value_refs/" class="md-nav__link">
        value_refs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../python_class/" class="md-nav__link">
        python_class
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_7_10" type="checkbox" id="__nav_3_1_7_10" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../rendering/__init__/">rendering</a>
          
            <label for="__nav_3_1_7_10">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="rendering" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_7_10">
          <span class="md-nav__icon md-icon"></span>
          rendering
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rendering/values/" class="md-nav__link">
        values
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_7_11" type="checkbox" id="__nav_3_1_7_11" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../runtime_environment/__init__/">runtime_environment</a>
          
            <label for="__nav_3_1_7_11">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="runtime_environment" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_7_11">
          <span class="md-nav__icon md-icon"></span>
          runtime_environment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runtime_environment/kiara/" class="md-nav__link">
        kiara
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runtime_environment/operating_system/" class="md-nav__link">
        operating_system
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runtime_environment/python/" class="md-nav__link">
        python
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_7_12" type="checkbox" id="__nav_3_1_7_12" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../values/__init__/">values</a>
          
            <label for="__nav_3_1_7_12">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="values" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_7_12">
          <span class="md-nav__icon md-icon"></span>
          values
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../values/data_type/" class="md-nav__link">
        data_type
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../values/lineage/" class="md-nav__link">
        lineage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../values/matchers/" class="md-nav__link">
        matchers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../values/value/" class="md-nav__link">
        value
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_7_12_5" type="checkbox" id="__nav_3_1_7_12_5" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../values/value_metadata/__init__/">value_metadata</a>
          
            <label for="__nav_3_1_7_12_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="value_metadata" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_7_12_5">
          <span class="md-nav__icon md-icon"></span>
          value_metadata
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../values/value_metadata/included_metadata_types/__init__/" class="md-nav__link">
        included_metadata_types
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../values/value_schema/" class="md-nav__link">
        value_schema
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../workflow/" class="md-nav__link">
        workflow
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_8" type="checkbox" id="__nav_3_1_8" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../modules/__init__/">modules</a>
          
            <label for="__nav_3_1_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="modules" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_8">
          <span class="md-nav__icon md-icon"></span>
          modules
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_8_1" type="checkbox" id="__nav_3_1_8_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../modules/included_core_modules/__init__/">included_core_modules</a>
          
            <label for="__nav_3_1_8_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="included_core_modules" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_8_1">
          <span class="md-nav__icon md-icon"></span>
          included_core_modules
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/included_core_modules/create_from/" class="md-nav__link">
        create_from
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/included_core_modules/export_as/" class="md-nav__link">
        export_as
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/included_core_modules/filesystem/" class="md-nav__link">
        filesystem
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/included_core_modules/filter/" class="md-nav__link">
        filter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/included_core_modules/metadata/" class="md-nav__link">
        metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/included_core_modules/pipeline/" class="md-nav__link">
        pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/included_core_modules/pretty_print/" class="md-nav__link">
        pretty_print
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/included_core_modules/render_value/" class="md-nav__link">
        render_value
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/included_core_modules/serialization/" class="md-nav__link">
        serialization
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_9" type="checkbox" id="__nav_3_1_9" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../operations/__init__/">operations</a>
          
            <label for="__nav_3_1_9">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="operations" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_9">
          <span class="md-nav__icon md-icon"></span>
          operations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_9_1" type="checkbox" id="__nav_3_1_9_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../operations/included_core_operations/__init__/">included_core_operations</a>
          
            <label for="__nav_3_1_9_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="included_core_operations" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_9_1">
          <span class="md-nav__icon md-icon"></span>
          included_core_operations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/included_core_operations/create_from/" class="md-nav__link">
        create_from
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/included_core_operations/export_as/" class="md-nav__link">
        export_as
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/included_core_operations/filter/" class="md-nav__link">
        filter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/included_core_operations/metadata/" class="md-nav__link">
        metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/included_core_operations/pipeline/" class="md-nav__link">
        pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/included_core_operations/pretty_print/" class="md-nav__link">
        pretty_print
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/included_core_operations/render_value/" class="md-nav__link">
        render_value
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/included_core_operations/serialize/" class="md-nav__link">
        serialize
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_10" type="checkbox" id="__nav_3_1_10" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../processing/__init__/">processing</a>
          
            <label for="__nav_3_1_10">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="processing" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_10">
          <span class="md-nav__icon md-icon"></span>
          processing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../processing/synchronous/" class="md-nav__link">
        synchronous
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11" type="checkbox" id="__nav_3_1_11" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../registries/__init__/">registries</a>
          
            <label for="__nav_3_1_11">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="registries" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_11">
          <span class="md-nav__icon md-icon"></span>
          registries
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_1" type="checkbox" id="__nav_3_1_11_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../registries/aliases/__init__/">aliases</a>
          
            <label for="__nav_3_1_11_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="aliases" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_1">
          <span class="md-nav__icon md-icon"></span>
          aliases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../registries/aliases/archives/" class="md-nav__link">
        archives
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_2" type="checkbox" id="__nav_3_1_11_2" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../registries/data/__init__/">data</a>
          
            <label for="__nav_3_1_11_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="data" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_2">
          <span class="md-nav__icon md-icon"></span>
          data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_2_1" type="checkbox" id="__nav_3_1_11_2_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../registries/data/data_store/__init__/">data_store</a>
          
            <label for="__nav_3_1_11_2_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="data_store" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_11_2_1">
          <span class="md-nav__icon md-icon"></span>
          data_store
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../registries/data/data_store/filesystem_store/" class="md-nav__link">
        filesystem_store
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_3" type="checkbox" id="__nav_3_1_11_3" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../registries/destinies/__init__/">destinies</a>
          
            <label for="__nav_3_1_11_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="destinies" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_3">
          <span class="md-nav__icon md-icon"></span>
          destinies
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../registries/destinies/filesystem_store/" class="md-nav__link">
        filesystem_store
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../registries/destinies/registry/" class="md-nav__link">
        registry
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../registries/environment/__init__/" class="md-nav__link">
        environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_5" type="checkbox" id="__nav_3_1_11_5" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../registries/events/__init__/">events</a>
          
            <label for="__nav_3_1_11_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="events" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_5">
          <span class="md-nav__icon md-icon"></span>
          events
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../registries/events/metadata/" class="md-nav__link">
        metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../registries/events/registry/" class="md-nav__link">
        registry
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../registries/ids/__init__/" class="md-nav__link">
        ids
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_7" type="checkbox" id="__nav_3_1_11_7" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../registries/jobs/__init__/">jobs</a>
          
            <label for="__nav_3_1_11_7">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="jobs" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_7">
          <span class="md-nav__icon md-icon"></span>
          jobs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_7_1" type="checkbox" id="__nav_3_1_11_7_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../registries/jobs/job_store/__init__/">job_store</a>
          
            <label for="__nav_3_1_11_7_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="job_store" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_11_7_1">
          <span class="md-nav__icon md-icon"></span>
          job_store
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../registries/jobs/job_store/filesystem_store/" class="md-nav__link">
        filesystem_store
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../registries/models/__init__/" class="md-nav__link">
        models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../registries/modules/__init__/" class="md-nav__link">
        modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../registries/operations/__init__/" class="md-nav__link">
        operations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../registries/templates/__init__/" class="md-nav__link">
        templates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../registries/types/__init__/" class="md-nav__link">
        types
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_13" type="checkbox" id="__nav_3_1_11_13" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../registries/workflows/__init__/">workflows</a>
          
            <label for="__nav_3_1_11_13">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="workflows" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_13">
          <span class="md-nav__icon md-icon"></span>
          workflows
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../registries/workflows/archives/" class="md-nav__link">
        archives
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_12" type="checkbox" id="__nav_3_1_12" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../render/__init__/">render</a>
          
            <label for="__nav_3_1_12">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="render" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_12">
          <span class="md-nav__icon md-icon"></span>
          render
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../render/pipeline/" class="md-nav__link">
        pipeline
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_13" type="checkbox" id="__nav_3_1_13" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../utils/__init__/">utils</a>
          
            <label for="__nav_3_1_13">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="utils" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_13">
          <span class="md-nav__icon md-icon"></span>
          utils
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/class_loading/" class="md-nav__link">
        class_loading
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_13_2" type="checkbox" id="__nav_3_1_13_2" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../utils/cli/__init__/">cli</a>
          
            <label for="__nav_3_1_13_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="cli" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_13_2">
          <span class="md-nav__icon md-icon"></span>
          cli
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/cli/rich_click/" class="md-nav__link">
        rich_click
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/cli/run/" class="md-nav__link">
        run
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/concurrency/" class="md-nav__link">
        concurrency
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/data/" class="md-nav__link">
        data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/db/" class="md-nav__link">
        db
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/debug/" class="md-nav__link">
        debug
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/develop/__init__/" class="md-nav__link">
        develop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/dicts/" class="md-nav__link">
        dicts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/doc/" class="md-nav__link">
        doc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/files/" class="md-nav__link">
        files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/global_metadata/" class="md-nav__link">
        global_metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/graphs/" class="md-nav__link">
        graphs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/hashfs/__init__/" class="md-nav__link">
        hashfs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/hashing/" class="md-nav__link">
        hashing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/html/" class="md-nav__link">
        html
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/json/" class="md-nav__link">
        json
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/jupyter/" class="md-nav__link">
        jupyter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/metadata/" class="md-nav__link">
        metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/models/" class="md-nav__link">
        models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/modules/" class="md-nav__link">
        modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/operations/" class="md-nav__link">
        operations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/output/" class="md-nav__link">
        output
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/pipelines/" class="md-nav__link">
        pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/string_vars/" class="md-nav__link">
        string_vars
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/values/" class="md-nav__link">
        values
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/yaml/" class="md-nav__link">
        yaml
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kiara.models" class="md-nav__link">
    kiara.models
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.models.KiaraModel" class="md-nav__link">
    KiaraModel
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models-modules" class="md-nav__link">
    Modules
  </a>
  
    <nav class="md-nav" aria-label="Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.models.aliases" class="md-nav__link">
    aliases
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.models.archives" class="md-nav__link">
    archives
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.models.context" class="md-nav__link">
    context
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.models.data_types" class="md-nav__link">
    data_types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.models.documentation" class="md-nav__link">
    documentation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.models.events" class="md-nav__link">
    events
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.events.pipeline.PipelineState.Config.json_loads" class="md-nav__link">
    json_loads
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.events.pipeline.PipelineState.Config.json_dumps" class="md-nav__link">
    json_dumps()
  </a>
  
    <nav class="md-nav" aria-label="json_dumps()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.models.filesystem" class="md-nav__link">
    filesystem
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.models.module" class="md-nav__link">
    module
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.manifest.Manifest.Config.extra" class="md-nav__link">
    extra
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.manifest.Manifest.Config.validate_all" class="md-nav__link">
    validate_all
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.PipelineConfig.Config.extra" class="md-nav__link">
    extra
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.PipelineConfig.Config.validate_assignment" class="md-nav__link">
    validate_assignment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.PipelineStep.Config.extra" class="md-nav__link">
    extra
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.PipelineStep.Config.validate_assignment" class="md-nav__link">
    validate_assignment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.controller.SinglePipelineBatchController.auto_process" class="md-nav__link">
    auto_process
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.controller.SinglePipelineBatchController.process_pipeline" class="md-nav__link">
    process_pipeline()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.controller.SinglePipelineController.pipeline" class="md-nav__link">
    pipeline
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.controller.SinglePipelineController.can_be_processed" class="md-nav__link">
    can_be_processed()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.controller.SinglePipelineController.can_be_skipped" class="md-nav__link">
    can_be_skipped()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.controller.SinglePipelineController.current_pipeline_state" class="md-nav__link">
    current_pipeline_state()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.controller.SinglePipelineController.pipeline_is_ready" class="md-nav__link">
    pipeline_is_ready()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.controller.SinglePipelineController.process_step" class="md-nav__link">
    process_step()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.controller.SinglePipelineController.set_processing_results" class="md-nav__link">
    set_processing_results()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.data_flow_graph" class="md-nav__link">
    data_flow_graph
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.data_flow_graph_simple" class="md-nav__link">
    data_flow_graph_simple
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.doc" class="md-nav__link">
    doc
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.execution_graph" class="md-nav__link">
    execution_graph
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.id" class="md-nav__link">
    id
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.kiara_id" class="md-nav__link">
    kiara_id
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.pipeline_id" class="md-nav__link">
    pipeline_id
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.pipeline_name" class="md-nav__link">
    pipeline_name
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.step_ids" class="md-nav__link">
    step_ids
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.structure" class="md-nav__link">
    structure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.add_listener" class="md-nav__link">
    add_listener()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.create_job_config_for_step" class="md-nav__link">
    create_job_config_for_step()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.create_pipeline" class="md-nav__link">
    create_pipeline()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.create_renderable" class="md-nav__link">
    create_renderable()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_current_pipeline_inputs" class="md-nav__link">
    get_current_pipeline_inputs()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_current_pipeline_outputs" class="md-nav__link">
    get_current_pipeline_outputs()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_current_step_inputs" class="md-nav__link">
    get_current_step_inputs()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_current_step_outputs" class="md-nav__link">
    get_current_step_outputs()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_inputs_for_steps" class="md-nav__link">
    get_inputs_for_steps()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_outputs_for_steps" class="md-nav__link">
    get_outputs_for_steps()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_pipeline_details" class="md-nav__link">
    get_pipeline_details()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_step" class="md-nav__link">
    get_step()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_step_details" class="md-nav__link">
    get_step_details()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_steps_by_stage" class="md-nav__link">
    get_steps_by_stage()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.set_multiple_step_outputs" class="md-nav__link">
    set_multiple_step_outputs()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.set_pipeline_inputs" class="md-nav__link">
    set_pipeline_inputs()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.set_step_outputs" class="md-nav__link">
    set_step_outputs()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.Pipeline.sync_pipeline_inputs" class="md-nav__link">
    sync_pipeline_inputs()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.pipeline_config" class="md-nav__link">
    pipeline_config
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.pipeline_state" class="md-nav__link">
    pipeline_state
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.pipeline_structure" class="md-nav__link">
    pipeline_structure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.base_instance_class" class="md-nav__link">
    base_instance_class()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.category_name" class="md-nav__link">
    category_name()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.create_from_instance" class="md-nav__link">
    create_from_instance()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.create_from_pipeline" class="md-nav__link">
    create_from_pipeline()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.create_pipeline_table" class="md-nav__link">
    create_pipeline_table()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.create_renderable" class="md-nav__link">
    create_renderable()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStage.pipeline_inputs" class="md-nav__link">
    pipeline_inputs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStage.pipeline_outputs" class="md-nav__link">
    pipeline_outputs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStage.previous_inputs" class="md-nav__link">
    previous_inputs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStage.previous_outputs" class="md-nav__link">
    previous_outputs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStage.stage_index" class="md-nav__link">
    stage_index
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStage.steps" class="md-nav__link">
    steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStage.from_pipeline_structure" class="md-nav__link">
    from_pipeline_structure()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.constants" class="md-nav__link">
    constants
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.data_flow_graph" class="md-nav__link">
    data_flow_graph
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.data_flow_graph_simple" class="md-nav__link">
    data_flow_graph_simple
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.defaults" class="md-nav__link">
    defaults
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.execution_graph" class="md-nav__link">
    execution_graph
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.input_aliases" class="md-nav__link">
    input_aliases
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.output_aliases" class="md-nav__link">
    output_aliases
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.pipeline_config" class="md-nav__link">
    pipeline_config
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.pipeline_input_refs" class="md-nav__link">
    pipeline_input_refs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.pipeline_inputs_schema" class="md-nav__link">
    pipeline_inputs_schema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.pipeline_output_refs" class="md-nav__link">
    pipeline_output_refs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.pipeline_outputs_schema" class="md-nav__link">
    pipeline_outputs_schema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.processing_stages" class="md-nav__link">
    processing_stages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.processing_stages_info" class="md-nav__link">
    processing_stages_info
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.step_ids" class="md-nav__link">
    step_ids
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.steps" class="md-nav__link">
    steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.steps_details" class="md-nav__link">
    steps_details
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.steps_input_refs" class="md-nav__link">
    steps_input_refs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.steps_output_refs" class="md-nav__link">
    steps_output_refs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.create_renderable" class="md-nav__link">
    create_renderable()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.get_processing_stage" class="md-nav__link">
    get_processing_stage()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.get_step" class="md-nav__link">
    get_step()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.get_step_details" class="md-nav__link">
    get_step_details()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.get_step_input_refs" class="md-nav__link">
    get_step_input_refs()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.get_step_output_refs" class="md-nav__link">
    get_step_output_refs()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.step_is_required" class="md-nav__link">
    step_is_required()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.PipelineStructure.validate_pipeline_config" class="md-nav__link">
    validate_pipeline_config()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.StepInfo.inputs" class="md-nav__link">
    inputs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.StepInfo.outputs" class="md-nav__link">
    outputs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.StepInfo.processing_stage" class="md-nav__link">
    processing_stage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.StepInfo.required" class="md-nav__link">
    required
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.StepInfo.step" class="md-nav__link">
    step
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.structure.StepInfo.step_id" class="md-nav__link">
    step_id
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.PipelineInputRef.alias" class="md-nav__link">
    alias
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.PipelineInputRef.connected_inputs" class="md-nav__link">
    connected_inputs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.PipelineInputRef.is_constant" class="md-nav__link">
    is_constant
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.PipelineOutputRef.alias" class="md-nav__link">
    alias
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.PipelineOutputRef.connected_output" class="md-nav__link">
    connected_output
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepInputRef.address" class="md-nav__link">
    address
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepInputRef.alias" class="md-nav__link">
    alias
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepInputRef.connected_outputs" class="md-nav__link">
    connected_outputs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepInputRef.connected_pipeline_input" class="md-nav__link">
    connected_pipeline_input
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepInputRef.is_constant" class="md-nav__link">
    is_constant
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepInputRef.step_id" class="md-nav__link">
    step_id
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepInputRef.ensure_single_connected_item" class="md-nav__link">
    ensure_single_connected_item()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepOutputRef.address" class="md-nav__link">
    address
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepOutputRef.alias" class="md-nav__link">
    alias
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepOutputRef.connected_inputs" class="md-nav__link">
    connected_inputs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepOutputRef.pipeline_output" class="md-nav__link">
    pipeline_output
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepOutputRef.step_id" class="md-nav__link">
    step_id
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepOutputRef.Config" class="md-nav__link">
    Config
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepValueAddress.alias" class="md-nav__link">
    alias
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepValueAddress.step_id" class="md-nav__link">
    step_id
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepValueAddress.sub_value" class="md-nav__link">
    sub_value
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepValueAddress.value_name" class="md-nav__link">
    value_name
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.StepValueAddress.Config" class="md-nav__link">
    Config
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.ValueRef.value_name" class="md-nav__link">
    value_name
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.ValueRef.value_schema" class="md-nav__link">
    value_schema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.ValueRef.Config" class="md-nav__link">
    Config
  </a>
  
    <nav class="md-nav" aria-label="Config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.ValueRef.Config.allow_mutation" class="md-nav__link">
    allow_mutation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.models.module.pipeline.value_refs.ValueRef.Config.extra" class="md-nav__link">
    extra
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.models.python_class" class="md-nav__link">
    python_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.models.rendering" class="md-nav__link">
    rendering
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.models.runtime_environment" class="md-nav__link">
    runtime_environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.models.values" class="md-nav__link">
    values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.values.value.SerializedChunks.Config.extra" class="md-nav__link">
    extra
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.values.value.SerializedChunks.Config.json_loads" class="md-nav__link">
    json_loads
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.values.value.SerializedChunks.Config.json_dumps" class="md-nav__link">
    json_dumps()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.values.value_metadata.included_metadata_types.FileBundleMetadata.file_bundle" class="md-nav__link">
    file_bundle
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.values.value_metadata.included_metadata_types.FileBundleMetadata.create_value_metadata" class="md-nav__link">
    create_value_metadata()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.values.value_metadata.included_metadata_types.FileBundleMetadata.retrieve_supported_data_types" class="md-nav__link">
    retrieve_supported_data_types()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.values.value_metadata.included_metadata_types.FileMetadata.file" class="md-nav__link">
    file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.values.value_metadata.included_metadata_types.FileMetadata.create_value_metadata" class="md-nav__link">
    create_value_metadata()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.values.value_metadata.included_metadata_types.FileMetadata.retrieve_supported_data_types" class="md-nav__link">
    retrieve_supported_data_types()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.values.value_metadata.included_metadata_types.PythonClassMetadata.python_class" class="md-nav__link">
    python_class
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.values.value_metadata.included_metadata_types.PythonClassMetadata.create_value_metadata" class="md-nav__link">
    create_value_metadata()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.models.values.value_metadata.included_metadata_types.PythonClassMetadata.retrieve_supported_data_types" class="md-nav__link">
    retrieve_supported_data_types()
  </a>
  
    <nav class="md-nav" aria-label="retrieve_supported_data_types()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.models.workflow" class="md-nav__link">
    workflow
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/DHARPA-Project/kiara/edit/master/docs/src/kiara/models/__init__.py" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<div class="doc doc-object doc-module">

<a id="kiara.models"></a>
    <div class="doc doc-contents first">




  <div class="doc doc-children">





<h2 id="kiara.models-classes">Classes<a href="#kiara.models-classes" class="headerlink" title="Permanent link">&para;</a></h2>

  <div class="doc doc-object doc-class">



<h3 id="kiara.models.KiaraModel" class="doc doc-heading">
        <code>
KiaraModel            (<span title="abc.ABC">ABC</span>, <span title="pydantic.main.BaseModel">BaseModel</span>, <span title="rich.jupyter.JupyterMixin">JupyterMixin</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.KiaraModel" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Base class that all models in kiara inherit from.</p>
<p>This class provides utility functions for things like rendering the model on terminal or as html, integration into
a tree hierarchy of the overall kiara context, hashing, etc.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KiaraModel</span><span class="p">(</span><span class="n">ABC</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">JupyterMixin</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class that all models in kiara inherit from.</span>

<span class="sd">    This class provides utility functions for things like rendering the model on terminal or as html, integration into</span>
<span class="sd">    a tree hierarchy of the overall kiara context, hashing, etc.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;__weakref__&quot;</span><span class="p">]</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="n">json_loads</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">loads</span>
        <span class="n">json_dumps</span> <span class="o">=</span> <span class="n">orjson_dumps</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">forbid</span>

    <span class="c1"># @classmethod</span>
    <span class="c1"># def get_model_title(cls):</span>
    <span class="c1">#</span>
    <span class="c1">#     return to_camel_case(cls._kiara_model_name)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_schema_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_schema_hash_cache</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_schema_hash_cache</span>

        <span class="n">obj</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">schema_json</span><span class="p">()</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">DeepHash</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">hasher</span><span class="o">=</span><span class="n">KIARA_HASH_FUNCTION</span><span class="p">)</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">_schema_hash_cache</span> <span class="o">=</span> <span class="n">h</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_schema_hash_cache</span>

    <span class="n">_graph_cache</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_subcomponent_names_cache</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_dynamic_subcomponents</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;KiaraModel&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
    <span class="n">_id_cache</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_category_id_cache</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_schema_hash_cache</span><span class="p">:</span> <span class="n">ClassVar</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_cid_cache</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_dag_cache</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_size_cache</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">EncodableType</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return data important for hashing this model instance. Implemented by sub-classes.</span>

<span class="sd">        This returns the relevant data that makes this model unique, excluding any secondary metadata that is not</span>
<span class="sd">        necessary for this model to be used functionally. Like for example documentation.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">instance_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The unique id of this model, within its category.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id_cache</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id_cache</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_id_cache</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_retrieve_id</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id_cache</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">instance_cid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CID</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cid_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_compute_cid</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cid_cache</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">instance_dag</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dag_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_compute_cid</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dag_cache</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">instance_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_compute_cid</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">model_type_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The id of the category of this model.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="s2">&quot;_kiara_model_id&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara_model_id</span>  <span class="c1"># type: ignore</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_default_id_func</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_cid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_compute_cid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;A hash for this model.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cid_cache</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_retrieve_data_to_hash</span><span class="p">()</span>
        <span class="n">dag</span><span class="p">,</span> <span class="n">cid</span> <span class="o">=</span> <span class="n">compute_cid</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">obj</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_cid_cache</span> <span class="o">=</span> <span class="n">cid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dag_cache</span> <span class="o">=</span> <span class="n">dag</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">dag</span><span class="p">)</span>

    <span class="c1"># ==========================================================================================</span>
    <span class="c1"># subcomponent related methods</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">subcomponent_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The keys of available sub-components of this model.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subcomponent_names_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_subcomponent_names_cache</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_retrieve_subcomponent_keys</span><span class="p">())</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subcomponent_names_cache</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">subcomponent_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;A tree structure, containing all sub-components (and their subcomponents) of this model.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcomponent_keys</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graph_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_graph_cache</span> <span class="o">=</span> <span class="n">assemble_subcomponent_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graph_cache</span>

    <span class="k">def</span> <span class="nf">get_subcomponent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraModel&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve the subcomponent identified by the specified path.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">path</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dynamic_subcomponents</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_dynamic_subcomponents</span><span class="p">[</span><span class="n">path</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_retrieve_subcomponent</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dynamic_subcomponents</span><span class="p">[</span><span class="n">path</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">find_subcomponents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;KiaraModel&quot;</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Find and return all subcomponents of this model that are member of the specified category.&quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcomponent_tree</span>
        <span class="k">if</span> <span class="n">tree</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No subcomponents found for category: </span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="s2">&quot;obj&quot;</span><span class="p">],</span> <span class="s2">&quot;get_category_alias&quot;</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">category</span> <span class="o">!=</span> <span class="n">node</span><span class="p">[</span><span class="s2">&quot;obj&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get_category_alias</span><span class="p">():</span>
                <span class="k">continue</span>

            <span class="n">n_id</span> <span class="o">=</span> <span class="n">node_id</span><span class="p">[</span><span class="mi">9</span><span class="p">:]</span>  <span class="c1"># remove the __self__. token</span>
            <span class="n">result</span><span class="p">[</span><span class="n">n_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s2">&quot;obj&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">_retrieve_subcomponent_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve the keys of all subcomponents of this model.</span>

<span class="sd">        Can be overwritten in sub-classes, by default it tries to automatically determine the subcomponents.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">retrieve_data_subcomponent_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_subcomponent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraModel&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve the subcomponent under the specified path.</span>

<span class="sd">        Can be overwritten in sub-classes, by default it tries to automatically determine the subcomponents.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">m</span> <span class="o">=</span> <span class="n">get_subcomponent_from_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">m</span>

    <span class="c1"># ==========================================================================================</span>
    <span class="c1"># model rendering related methods</span>
    <span class="k">def</span> <span class="nf">create_panel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Panel</span><span class="p">:</span>

        <span class="n">rend</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Panel</span><span class="p">(</span><span class="n">rend</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">ROUNDED</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">title_align</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_html</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="n">template_registry</span> <span class="o">=</span> <span class="n">TemplateRegistry</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span>
        <span class="n">template</span> <span class="o">=</span> <span class="n">template_registry</span><span class="o">.</span><span class="n">get_template_for_model_type</span><span class="p">(</span>
            <span class="n">model_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">model_type_id</span><span class="p">,</span> <span class="n">template_format</span><span class="o">=</span><span class="s2">&quot;html&quot;</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">template</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">log_dev_message</span><span class="p">(</span>
                    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;html-rendering error&quot;</span><span class="p">,</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to render html for model &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span><span class="si">}</span><span class="s2">&#39; type &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model_type_id</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">kiara.utils.html</span> <span class="kn">import</span> <span class="n">generate_html</span>

            <span class="n">html</span> <span class="o">=</span> <span class="n">generate_html</span><span class="p">(</span><span class="n">item</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">add_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">html</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_dev_message</span><span class="p">(</span>
                <span class="n">title</span><span class="o">=</span><span class="s2">&quot;html-generation error&quot;</span><span class="p">,</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to generate html for model &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span><span class="si">}</span><span class="s2">&#39; type &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model_type_id</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
        <span class="n">mime_bundle</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">_repr_mimebundle_</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[],</span> <span class="n">exclude</span><span class="o">=</span><span class="p">[])</span>  <span class="c1"># type: ignore</span>
        <span class="k">return</span> <span class="n">mime_bundle</span><span class="p">[</span><span class="s2">&quot;text/html&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="kn">from</span> <span class="nn">kiara.utils.output</span> <span class="kn">import</span> <span class="n">extract_renderable</span>

        <span class="n">include</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Key&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">include</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">include</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">extract_renderable</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">table</span>

    <span class="k">def</span> <span class="nf">create_renderable_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tree</span><span class="p">:</span>

        <span class="n">show_data</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_data&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">create_subcomponent_tree_renderable</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">show_data</span><span class="o">=</span><span class="n">show_data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tree</span>

    <span class="k">def</span> <span class="nf">create_info_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

        <span class="n">include</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">include</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">include</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">attr</span>
            <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">as_dict_with_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span> <span class="s2">&quot;schema&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">()}</span>

    <span class="k">def</span> <span class="nf">as_json_with_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="n">data_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">schema_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_json</span><span class="p">()</span>
        <span class="k">return</span> <span class="s1">&#39;{&quot;data&quot;: &#39;</span> <span class="o">+</span> <span class="n">data_json</span> <span class="o">+</span> <span class="s1">&#39;, &quot;schema&quot;: &#39;</span> <span class="o">+</span> <span class="n">schema_json</span> <span class="o">+</span> <span class="s2">&quot;}&quot;</span>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_cid</span><span class="o">.</span><span class="n">digest</span><span class="p">,</span> <span class="s2">&quot;big&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance_cid</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span>
                <span class="n">other</span><span class="o">.</span><span class="n">instance_id</span><span class="p">,</span>
                <span class="n">other</span><span class="o">.</span><span class="n">instance_cid</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">model_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="n">model_id</span> <span class="o">=</span> <span class="s2">&quot;-- n/a --&quot;</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(model_id=</span><span class="si">{</span><span class="n">model_id</span><span class="si">}</span><span class="s2">, category=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model_type_id</span><span class="si">}</span><span class="s2">, fields=[</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">])&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_repr_html_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_html</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__rich_console__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">console</span><span class="p">:</span> <span class="n">Console</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">ConsoleOptions</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderResult</span><span class="p">:</span>

        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">()</span>

    <span class="c1"># def _repr_mimebundle_(</span>
    <span class="c1">#     self: &quot;ConsoleRenderable&quot;,</span>
    <span class="c1">#     include: Sequence[str],</span>
    <span class="c1">#     exclude: Sequence[str],</span>
    <span class="c1">#     **kwargs: Any,</span>
    <span class="c1"># ) -&gt; Dict[str, str]:</span>
    <span class="c1">#</span>
    <span class="c1">#     console = get_console()</span>
    <span class="c1">#     segments = list(console.render(self, console.options))</span>
    <span class="c1">#     html = _render_segments(segments)</span>
    <span class="c1">#     text = console._render_buffer(segments)</span>
    <span class="c1">#     data = {&quot;text/plain&quot;: text, &quot;text/html&quot;: html}</span>
    <span class="c1">#     if include:</span>
    <span class="c1">#         data = {k: v for (k, v) in data.items() if k in include}</span>
    <span class="c1">#     if exclude:</span>
    <span class="c1">#         data = {k: v for (k, v) in data.items() if k not in exclude}</span>
    <span class="c1">#     return data</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h4 id="kiara.models.KiaraModel-attributes">Attributes<a href="#kiara.models.KiaraModel-attributes" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-attribute">



<h5 id="kiara.models.KiaraModel.instance_cid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">instance_cid</span><span class="p">:</span> <span class="n">CID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.KiaraModel.instance_cid" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="kiara.models.KiaraModel.instance_dag" class="doc doc-heading">
<code class="highlight language-python"><span class="n">instance_dag</span><span class="p">:</span> <span class="nb">bytes</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.KiaraModel.instance_dag" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="kiara.models.KiaraModel.instance_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">instance_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.KiaraModel.instance_id" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>The unique id of this model, within its category.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="kiara.models.KiaraModel.instance_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">instance_size</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.KiaraModel.instance_size" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="kiara.models.KiaraModel.model_type_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">model_type_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.KiaraModel.model_type_id" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>The id of the category of this model.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="kiara.models.KiaraModel.subcomponent_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">subcomponent_keys</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.KiaraModel.subcomponent_keys" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>The keys of available sub-components of this model.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="kiara.models.KiaraModel.subcomponent_tree" class="doc doc-heading">
<code class="highlight language-python"><span class="n">subcomponent_tree</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">networkx</span><span class="o">.</span><span class="n">classes</span><span class="o">.</span><span class="n">digraph</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.KiaraModel.subcomponent_tree" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>A tree structure, containing all sub-components (and their subcomponents) of this model.</p>
    </div>

  </div>




  <div class="doc doc-object doc-class">



<h5 id="kiara.models.KiaraModel.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.KiaraModel.Config" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">json_loads</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">loads</span>
    <span class="n">json_dumps</span> <span class="o">=</span> <span class="n">orjson_dumps</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">forbid</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.KiaraModel.Config.extra" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extra</span></code>


<a href="#kiara.models.KiaraModel.Config.extra" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.KiaraModel.Config.json_loads" class="doc doc-heading">
<code class="highlight language-python"><span class="n">json_loads</span></code>


<a href="#kiara.models.KiaraModel.Config.json_loads" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h7 id="kiara.models.KiaraModel.Config.json_dumps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">json_dumps</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span></code>


<a href="#kiara.models.KiaraModel.Config.json_dumps" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">orjson_dumps</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">):</span>
    <span class="c1"># orjson.dumps returns bytes, to match standard json.dumps we need to decode</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">orjson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_debug</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error dumping json data: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="kn">from</span> <span class="nn">kiara</span> <span class="kn">import</span> <span class="n">dbg</span>

            <span class="n">dbg</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

        <span class="k">raise</span> <span class="n">e</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



<h4 id="kiara.models.KiaraModel-methods">Methods<a href="#kiara.models.KiaraModel-methods" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-method">



<h5 id="kiara.models.KiaraModel.as_dict_with_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">as_dict_with_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.KiaraModel.as_dict_with_schema" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">as_dict_with_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span> <span class="s2">&quot;schema&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">()}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="kiara.models.KiaraModel.as_json_with_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">as_json_with_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.KiaraModel.as_json_with_schema" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">as_json_with_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

    <span class="n">data_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="n">schema_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_json</span><span class="p">()</span>
    <span class="k">return</span> <span class="s1">&#39;{&quot;data&quot;: &#39;</span> <span class="o">+</span> <span class="n">data_json</span> <span class="o">+</span> <span class="s1">&#39;, &quot;schema&quot;: &#39;</span> <span class="o">+</span> <span class="n">schema_json</span> <span class="o">+</span> <span class="s2">&quot;}&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="kiara.models.KiaraModel.create_html" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_html</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.KiaraModel.create_html" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_html</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

    <span class="n">template_registry</span> <span class="o">=</span> <span class="n">TemplateRegistry</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span>
    <span class="n">template</span> <span class="o">=</span> <span class="n">template_registry</span><span class="o">.</span><span class="n">get_template_for_model_type</span><span class="p">(</span>
        <span class="n">model_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">model_type_id</span><span class="p">,</span> <span class="n">template_format</span><span class="o">=</span><span class="s2">&quot;html&quot;</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">template</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_dev_message</span><span class="p">(</span>
                <span class="n">title</span><span class="o">=</span><span class="s2">&quot;html-rendering error&quot;</span><span class="p">,</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to render html for model &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span><span class="si">}</span><span class="s2">&#39; type &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model_type_id</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">kiara.utils.html</span> <span class="kn">import</span> <span class="n">generate_html</span>

        <span class="n">html</span> <span class="o">=</span> <span class="n">generate_html</span><span class="p">(</span><span class="n">item</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">add_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">html</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_dev_message</span><span class="p">(</span>
            <span class="n">title</span><span class="o">=</span><span class="s2">&quot;html-generation error&quot;</span><span class="p">,</span>
            <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to generate html for model &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span><span class="si">}</span><span class="s2">&#39; type &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model_type_id</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
    <span class="n">mime_bundle</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">_repr_mimebundle_</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[],</span> <span class="n">exclude</span><span class="o">=</span><span class="p">[])</span>  <span class="c1"># type: ignore</span>
    <span class="k">return</span> <span class="n">mime_bundle</span><span class="p">[</span><span class="s2">&quot;text/html&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="kiara.models.KiaraModel.create_info_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_info_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.KiaraModel.create_info_data" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_info_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

    <span class="n">include</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">include</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">include</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">attr</span>
        <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="kiara.models.KiaraModel.create_panel" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_panel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.KiaraModel.create_panel" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_panel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Panel</span><span class="p">:</span>

    <span class="n">rend</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Panel</span><span class="p">(</span><span class="n">rend</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">ROUNDED</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">title_align</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="kiara.models.KiaraModel.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.KiaraModel.create_renderable" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="kn">from</span> <span class="nn">kiara.utils.output</span> <span class="kn">import</span> <span class="n">extract_renderable</span>

    <span class="n">include</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Key&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">include</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">include</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">extract_renderable</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="kiara.models.KiaraModel.create_renderable_tree" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.KiaraModel.create_renderable_tree" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tree</span><span class="p">:</span>

    <span class="n">show_data</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_data&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">tree</span> <span class="o">=</span> <span class="n">create_subcomponent_tree_renderable</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">show_data</span><span class="o">=</span><span class="n">show_data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">tree</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="kiara.models.KiaraModel.find_subcomponents" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_subcomponents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span></code>


<a href="#kiara.models.KiaraModel.find_subcomponents" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Find and return all subcomponents of this model that are member of the specified category.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">find_subcomponents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;KiaraModel&quot;</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Find and return all subcomponents of this model that are member of the specified category.&quot;&quot;&quot;</span>
    <span class="n">tree</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subcomponent_tree</span>
    <span class="k">if</span> <span class="n">tree</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No subcomponents found for category: </span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="s2">&quot;obj&quot;</span><span class="p">],</span> <span class="s2">&quot;get_category_alias&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">category</span> <span class="o">!=</span> <span class="n">node</span><span class="p">[</span><span class="s2">&quot;obj&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get_category_alias</span><span class="p">():</span>
            <span class="k">continue</span>

        <span class="n">n_id</span> <span class="o">=</span> <span class="n">node_id</span><span class="p">[</span><span class="mi">9</span><span class="p">:]</span>  <span class="c1"># remove the __self__. token</span>
        <span class="n">result</span><span class="p">[</span><span class="n">n_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s2">&quot;obj&quot;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="kiara.models.KiaraModel.get_schema_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_schema_hash</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.KiaraModel.get_schema_hash" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_schema_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_schema_hash_cache</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_schema_hash_cache</span>

    <span class="n">obj</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">schema_json</span><span class="p">()</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">DeepHash</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">hasher</span><span class="o">=</span><span class="n">KIARA_HASH_FUNCTION</span><span class="p">)</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">_schema_hash_cache</span> <span class="o">=</span> <span class="n">h</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_schema_hash_cache</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="kiara.models.KiaraModel.get_subcomponent" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_subcomponent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


<a href="#kiara.models.KiaraModel.get_subcomponent" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Retrieve the subcomponent identified by the specified path.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_subcomponent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraModel&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Retrieve the subcomponent identified by the specified path.&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">path</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dynamic_subcomponents</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dynamic_subcomponents</span><span class="p">[</span><span class="n">path</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_retrieve_subcomponent</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dynamic_subcomponents</span><span class="p">[</span><span class="n">path</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




<h2 id="kiara.models-modules">Modules<a href="#kiara.models-modules" class="headerlink" title="Permanent link">&para;</a></h2>

  <div class="doc doc-object doc-module">



<h3 id="kiara.models.aliases" class="doc doc-heading">
        <code>aliases</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara.models.aliases" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="kiara.models.aliases.VALUE_ALIAS_SEPARATOR" class="doc doc-heading">
<code class="highlight language-python"><span class="n">VALUE_ALIAS_SEPARATOR</span></code>


<a href="#kiara.models.aliases.VALUE_ALIAS_SEPARATOR" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="kiara.models.aliases.logger" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logger</span></code>


<a href="#kiara.models.aliases.logger" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>


<h4 id="kiara.models.aliases-classes">Classes<a href="#kiara.models.aliases-classes" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-class">



<h5 id="kiara.models.aliases.AliasValueMap" class="doc doc-heading">
        <code>
AliasValueMap            (<a class="autorefs autorefs-internal" title="kiara.models.values.value.ValueMap" href="../values/value/#kiara.models.values.value.ValueMap">ValueMap</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.aliases.AliasValueMap" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>A model class that holds a tree of values and their schemas.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/aliases/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AliasValueMap</span><span class="p">(</span><span class="n">ValueMap</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A model class that holds a tree of values and their schemas.&quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.value_map.aliases&quot;</span>

    <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;This maps own (full) alias.&quot;</span><span class="p">)</span>
    <span class="n">version</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The version of this map (in this maps parent).&quot;</span><span class="p">)</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The time this map was created.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>
    <span class="n">assoc_schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The schema for this maps associated value.&quot;</span>
    <span class="p">)</span>
    <span class="n">assoc_value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The value that is associated with this map.&quot;</span>
    <span class="p">)</span>

    <span class="n">value_items</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;AliasValueMap&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The values contained in this set.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>

    <span class="n">_data_registry</span><span class="p">:</span> <span class="s2">&quot;DataRegistry&quot;</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_schema_locked</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">_auto_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">_is_stored</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_stored</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_stored</span>

    <span class="k">def</span> <span class="nf">get_child_map</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;AliasValueMap&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the child map for the specified field / version combination.</span>

<span class="sd">        Raises an error if the child field does not exist. Returns &#39;None&#39; if not value is set yet (but schema is).</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">VALUE_ALIAS_SEPARATOR</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">field_name</span><span class="p">:</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;No available fields&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Available fields: &quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No field name &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39;. </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">field_items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">field_items</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>

            <span class="n">max_version</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">field_items</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

            <span class="n">item</span> <span class="o">=</span> <span class="n">field_items</span><span class="p">[</span><span class="n">max_version</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">item</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">child</span><span class="p">,</span> <span class="n">rest</span> <span class="o">=</span> <span class="n">field_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">VALUE_ALIAS_SEPARATOR</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">child</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;No field name &#39;</span><span class="si">{</span><span class="n">child</span><span class="si">}</span><span class="s2">&#39;. Available fields: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="n">child_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_child_map</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">child_map</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="n">child_map</span><span class="o">.</span><span class="n">get_child_map</span><span class="p">(</span><span class="n">rest</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_value_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span><span class="p">:</span>

        <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_child_map</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">item</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">NONE_VALUE</span>
        <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">assoc_value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No value associated for field &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">item</span><span class="o">.</span><span class="n">assoc_value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_value_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>

        <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_child_map</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">item</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">NONE_VALUE_ID</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">assoc_value</span> <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">assoc_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">NONE_VALUE_ID</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_all_value_ids</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">v_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_id</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">v_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">v_id</span> <span class="o">=</span> <span class="n">NONE_VALUE_ID</span>
            <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v_id</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">set_alias_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">ValueSchema</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema_locked</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t add schema for alias &#39;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2">&#39;: schema locked.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">VALUE_ALIAS_SEPARATOR</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">alias</span><span class="p">:</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_set_local_field_schema</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">alias</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">child</span><span class="p">,</span> <span class="n">rest</span> <span class="o">=</span> <span class="n">alias</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">VALUE_ALIAS_SEPARATOR</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">child_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_child_map</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_set_local_field_schema</span><span class="p">(</span>
                    <span class="n">field_name</span><span class="o">=</span><span class="n">child</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">ValueSchema</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="n">child_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_alias</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">child</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

            <span class="k">assert</span> <span class="n">child_map</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

            <span class="n">child_map</span><span class="o">.</span><span class="n">set_alias_schema</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">rest</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_local_field_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">ValueSchema</span><span class="p">):</span>

        <span class="k">assert</span> <span class="n">field_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">VALUE_ALIAS_SEPARATOR</span> <span class="ow">in</span> <span class="n">field_name</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t add schema, field name has alias separator in name: </span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">. This is most likely a bug.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t set alias schema for &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39; to map: schema already set.&quot;</span>
            <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_child_map</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">items</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t set schema for field &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39;: already at least one child set for this field.&quot;</span>
                <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">schema</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">get_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;AliasValueMap&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>

        <span class="k">if</span> <span class="n">VALUE_ALIAS_SEPARATOR</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">alias</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">alias</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

            <span class="n">child_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_child_map</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">child_map</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>

            <span class="k">return</span> <span class="n">child_map</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">child</span><span class="p">,</span> <span class="n">rest</span> <span class="o">=</span> <span class="n">alias</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">VALUE_ALIAS_SEPARATOR</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">child</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

            <span class="n">child_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_child_map</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">child</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">child_map</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>

            <span class="k">return</span> <span class="n">child_map</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="n">rest</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="k">assert</span> <span class="n">VALUE_ALIAS_SEPARATOR</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">field_name</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_set_alias</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">field_name</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">aliases</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;AliasValueMap&quot;</span><span class="p">]:</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">aliases</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_alias</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">v</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">r</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">_set_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AliasValueMap&quot;</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">VALUE_ALIAS_SEPARATOR</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">alias</span><span class="p">:</span>
            <span class="n">field_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">alias</span>

            <span class="c1"># means we are setting the alias in this map</span>
            <span class="k">assert</span> <span class="n">field_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

            <span class="n">vs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">[</span><span class="n">alias</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">vs</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;none&quot;</span><span class="p">:</span>
                <span class="k">assert</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span>
                <span class="n">value_id</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>

                <span class="k">if</span> <span class="n">data</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NO_VALUE</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="n">vs</span><span class="o">.</span><span class="n">default</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="n">vs</span><span class="o">.</span><span class="n">default</span><span class="p">):</span>
                            <span class="n">data</span> <span class="o">=</span> <span class="n">vs</span><span class="o">.</span><span class="n">default</span><span class="p">()</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">data</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">vs</span><span class="o">.</span><span class="n">default</span><span class="p">)</span>

                <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">register_data</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">vs</span><span class="p">)</span>
                <span class="n">value_id</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">value_id</span>

            <span class="n">new_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_local_value_item</span><span class="p">(</span>
                <span class="n">field_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">,</span> <span class="n">value_id</span><span class="o">=</span><span class="n">value_id</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">new_map</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">child</span><span class="p">,</span> <span class="n">rest</span> <span class="o">=</span> <span class="n">alias</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">VALUE_ALIAS_SEPARATOR</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">field_name</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="c1"># means we are dealing with an intermediate alias map</span>
            <span class="k">assert</span> <span class="n">rest</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">assert</span> <span class="n">child</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">assert</span> <span class="n">field_name</span> <span class="ow">is</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">child</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_auto_schema</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Can&#39;t set alias &#39;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2">&#39;, no schema set for field: &#39;</span><span class="si">{</span><span class="n">child</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">set_alias_schema</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">child</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">ValueSchema</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;any&quot;</span><span class="p">))</span>

            <span class="n">field_item</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">AliasValueMap</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">field_item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_child_map</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">child</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">alias</span><span class="p">:</span>
                <span class="n">new_alias</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">alias</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">child</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_alias</span> <span class="o">=</span> <span class="n">child</span>

            <span class="k">if</span> <span class="n">field_item</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">new_version</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">schemas</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="p">[</span><span class="n">child</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">max_version</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">field_item</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
                <span class="n">new_version</span> <span class="o">=</span> <span class="n">max_version</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">assert</span> <span class="n">field_item</span><span class="o">.</span><span class="n">alias</span> <span class="o">==</span> <span class="n">new_alias</span>
                <span class="k">assert</span> <span class="n">field_item</span><span class="o">.</span><span class="n">version</span> <span class="o">==</span> <span class="n">max_version</span>
                <span class="n">schemas</span> <span class="o">=</span> <span class="n">field_item</span><span class="o">.</span><span class="n">values_schema</span>

            <span class="n">new_map</span> <span class="o">=</span> <span class="n">AliasValueMap</span><span class="p">(</span>
                <span class="n">alias</span><span class="o">=</span><span class="n">new_alias</span><span class="p">,</span>
                <span class="n">version</span><span class="o">=</span><span class="n">new_version</span><span class="p">,</span>
                <span class="n">assoc_schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">[</span><span class="n">child</span><span class="p">],</span>
                <span class="n">assoc_value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">values_schema</span><span class="o">=</span><span class="n">schemas</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">new_map</span><span class="o">.</span><span class="n">_data_registry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="p">[</span><span class="n">child</span><span class="p">][</span><span class="n">new_version</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_map</span>

            <span class="n">new_map</span><span class="o">.</span><span class="n">_set_alias</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">rest</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_map</span>

    <span class="k">def</span> <span class="nf">_set_local_value_item</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AliasValueMap&quot;</span><span class="p">:</span>

        <span class="k">assert</span> <span class="n">VALUE_ALIAS_SEPARATOR</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">field_name</span>

        <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Value</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">value_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value_id</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">assert</span> <span class="n">value</span><span class="o">.</span><span class="n">value_id</span> <span class="o">==</span> <span class="n">value_id</span>

        <span class="k">if</span> <span class="n">field_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_auto_schema</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t add value for field &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39;: field not in schema.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">value_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">value_schema</span> <span class="o">=</span> <span class="n">ValueSchema</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">value_schema</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">value_schema</span>  <span class="c1"># type: ignore</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_alias_schema</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">field_name</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">value_schema</span><span class="p">)</span>

        <span class="n">field_items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">field_items</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">field_items</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">new_version</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">values_schema</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">max_version</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">field_items</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="n">current_map</span> <span class="o">=</span> <span class="n">field_items</span><span class="p">[</span><span class="n">max_version</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">value_id</span> <span class="o">==</span> <span class="n">current_map</span><span class="o">.</span><span class="n">assoc_value</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;set_field.skip&quot;</span><span class="p">,</span>
                    <span class="n">value_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">reason</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Same value id: </span><span class="si">{</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="n">current_map</span>

            <span class="c1"># TODO: check schema</span>
            <span class="n">new_version</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">field_items</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">values_schema</span> <span class="o">=</span> <span class="n">current_map</span><span class="o">.</span><span class="n">values_schema</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">alias</span><span class="p">:</span>
            <span class="n">new_alias</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">alias</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_alias</span> <span class="o">=</span> <span class="n">field_name</span>
        <span class="n">new_map</span> <span class="o">=</span> <span class="n">AliasValueMap</span><span class="p">(</span>
            <span class="n">alias</span><span class="o">=</span><span class="n">new_alias</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">new_version</span><span class="p">,</span>
            <span class="n">assoc_schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">[</span><span class="n">field_name</span><span class="p">],</span>
            <span class="n">assoc_value</span><span class="o">=</span><span class="n">value_id</span><span class="p">,</span>
            <span class="n">values_schema</span><span class="o">=</span><span class="n">values_schema</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">new_map</span><span class="o">.</span><span class="n">_data_registry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="p">[</span><span class="n">field_name</span><span class="p">][</span><span class="n">new_version</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_map</span>
        <span class="k">return</span> <span class="n">new_map</span>

    <span class="k">def</span> <span class="nf">print_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">t</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_tree</span><span class="p">(</span><span class="s2">&quot;base&quot;</span><span class="p">)</span>
        <span class="n">terminal_print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tree</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">assoc_schema</span><span class="p">:</span>
            <span class="n">type_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assoc_schema</span><span class="o">.</span><span class="n">type</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">type_name</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span>

        <span class="k">if</span> <span class="n">type_name</span> <span class="o">==</span> <span class="s2">&quot;none&quot;</span><span class="p">:</span>
            <span class="n">type_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">type_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">type_name</span><span class="si">}</span><span class="s2">)&quot;</span>

        <span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_name</span><span class="si">}{</span><span class="n">type_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">assoc_value</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;__data__&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">assoc_value</span><span class="p">)</span>
            <span class="n">data</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="n">alias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">field_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">alias</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">alias</span><span class="o">.</span><span class="n">get_tree</span><span class="p">(</span><span class="n">base_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">schema</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;none&quot;</span><span class="p">:</span>
                    <span class="n">type_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">type_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">schema</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">)&quot;</span>

                <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}{</span><span class="n">type_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">tree</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;AliasMap(assoc_value=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">assoc_value</span><span class="si">}</span><span class="s2">, field_names=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.aliases.AliasValueMap-attributes">Attributes<a href="#kiara.models.aliases.AliasValueMap-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.aliases.AliasValueMap.alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">alias</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.aliases.AliasValueMap.alias" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>This maps own (full) alias.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.aliases.AliasValueMap.assoc_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">assoc_schema</span><span class="p">:</span> <span class="n">ValueSchema</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.aliases.AliasValueMap.assoc_schema" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The schema for this maps associated value.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.aliases.AliasValueMap.assoc_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">assoc_value</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.aliases.AliasValueMap.assoc_value" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The value that is associated with this map.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.aliases.AliasValueMap.created" class="doc doc-heading">
<code class="highlight language-python"><span class="n">created</span><span class="p">:</span> <span class="n">datetime</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.aliases.AliasValueMap.created" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The time this map was created.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.aliases.AliasValueMap.is_stored" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_stored</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.aliases.AliasValueMap.is_stored" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.aliases.AliasValueMap.value_items" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_items</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">AliasValueMap</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.aliases.AliasValueMap.value_items" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The values contained in this set.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.aliases.AliasValueMap.version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">version</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.aliases.AliasValueMap.version" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The version of this map (in this maps parent).</p>
    </div>

  </div>




<h6 id="kiara.models.aliases.AliasValueMap-methods">Methods<a href="#kiara.models.aliases.AliasValueMap-methods" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-method">



<h7 id="kiara.models.aliases.AliasValueMap.get_alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span></code>


<a href="#kiara.models.aliases.AliasValueMap.get_alias" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/aliases/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;AliasValueMap&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>

    <span class="k">if</span> <span class="n">VALUE_ALIAS_SEPARATOR</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">alias</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">alias</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

        <span class="n">child_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_child_map</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">child_map</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="n">child_map</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">child</span><span class="p">,</span> <span class="n">rest</span> <span class="o">=</span> <span class="n">alias</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">VALUE_ALIAS_SEPARATOR</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">child</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

        <span class="n">child_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_child_map</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">child</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">child_map</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="n">child_map</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="n">rest</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.aliases.AliasValueMap.get_all_value_ids" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_all_value_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.aliases.AliasValueMap.get_all_value_ids" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/aliases/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_all_value_ids</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">v_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_id</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">v_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">v_id</span> <span class="o">=</span> <span class="n">NONE_VALUE_ID</span>
        <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v_id</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.aliases.AliasValueMap.get_child_map" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_child_map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#kiara.models.aliases.AliasValueMap.get_child_map" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Get the child map for the specified field / version combination.</p>
<p>Raises an error if the child field does not exist. Returns 'None' if not value is set yet (but schema is).</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/aliases/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_child_map</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;AliasValueMap&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get the child map for the specified field / version combination.</span>

<span class="sd">    Raises an error if the child field does not exist. Returns &#39;None&#39; if not value is set yet (but schema is).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">VALUE_ALIAS_SEPARATOR</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">field_name</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;No available fields&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Available fields: &quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No field name &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39;. </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">field_items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">field_items</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">max_version</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">field_items</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

        <span class="n">item</span> <span class="o">=</span> <span class="n">field_items</span><span class="p">[</span><span class="n">max_version</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">item</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">child</span><span class="p">,</span> <span class="n">rest</span> <span class="o">=</span> <span class="n">field_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">VALUE_ALIAS_SEPARATOR</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">child</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No field name &#39;</span><span class="si">{</span><span class="n">child</span><span class="si">}</span><span class="s2">&#39;. Available fields: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="n">child_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_child_map</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">child_map</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">child_map</span><span class="o">.</span><span class="n">get_child_map</span><span class="p">(</span><span class="n">rest</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.aliases.AliasValueMap.get_tree" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_name</span><span class="p">)</span></code>


<a href="#kiara.models.aliases.AliasValueMap.get_tree" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/aliases/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tree</span><span class="p">:</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">assoc_schema</span><span class="p">:</span>
        <span class="n">type_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assoc_schema</span><span class="o">.</span><span class="n">type</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">type_name</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span>

    <span class="k">if</span> <span class="n">type_name</span> <span class="o">==</span> <span class="s2">&quot;none&quot;</span><span class="p">:</span>
        <span class="n">type_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">type_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">type_name</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_name</span><span class="si">}{</span><span class="n">type_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">assoc_value</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;__data__&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">assoc_value</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

        <span class="n">alias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">field_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">alias</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">alias</span><span class="o">.</span><span class="n">get_tree</span><span class="p">(</span><span class="n">base_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">schema</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;none&quot;</span><span class="p">:</span>
                <span class="n">type_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">type_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">schema</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">)&quot;</span>

            <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}{</span><span class="n">type_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">tree</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.aliases.AliasValueMap.get_value_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_value_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">)</span></code>


<a href="#kiara.models.aliases.AliasValueMap.get_value_id" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/aliases/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_value_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>

    <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_child_map</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">item</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">NONE_VALUE_ID</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">assoc_value</span> <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">assoc_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">NONE_VALUE_ID</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.aliases.AliasValueMap.get_value_obj" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_value_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">)</span></code>


<a href="#kiara.models.aliases.AliasValueMap.get_value_obj" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/aliases/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_value_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span><span class="p">:</span>

    <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_child_map</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">item</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">NONE_VALUE</span>
    <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">assoc_value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No value associated for field &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">item</span><span class="o">.</span><span class="n">assoc_value</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.aliases.AliasValueMap.print_tree" class="doc doc-heading">
<code class="highlight language-python"><span class="n">print_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.aliases.AliasValueMap.print_tree" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/aliases/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">print_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

    <span class="n">t</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_tree</span><span class="p">(</span><span class="s2">&quot;base&quot;</span><span class="p">)</span>
    <span class="n">terminal_print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.aliases.AliasValueMap.set_alias_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_alias_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">schema</span><span class="p">)</span></code>


<a href="#kiara.models.aliases.AliasValueMap.set_alias_schema" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/aliases/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_alias_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">ValueSchema</span><span class="p">):</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema_locked</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t add schema for alias &#39;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2">&#39;: schema locked.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">VALUE_ALIAS_SEPARATOR</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">alias</span><span class="p">:</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_set_local_field_schema</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">alias</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">child</span><span class="p">,</span> <span class="n">rest</span> <span class="o">=</span> <span class="n">alias</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">VALUE_ALIAS_SEPARATOR</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">child_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_child_map</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_local_field_schema</span><span class="p">(</span>
                <span class="n">field_name</span><span class="o">=</span><span class="n">child</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">ValueSchema</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">child_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_alias</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">child</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

        <span class="k">assert</span> <span class="n">child_map</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="n">child_map</span><span class="o">.</span><span class="n">set_alias_schema</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">rest</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.aliases.AliasValueMap.set_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>


<a href="#kiara.models.aliases.AliasValueMap.set_value" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/aliases/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

    <span class="k">assert</span> <span class="n">VALUE_ALIAS_SEPARATOR</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">field_name</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_set_alias</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">field_name</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="kiara.models.archives" class="doc doc-heading">
        <code>archives</code>



<a href="#kiara.models.archives" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h4 id="kiara.models.archives-classes">Classes<a href="#kiara.models.archives-classes" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-class">



<h5 id="kiara.models.archives.ArchiveGroupInfo" class="doc doc-heading">
        <code>
ArchiveGroupInfo            (<a class="autorefs autorefs-internal" title="kiara.interfaces.python_api.models.info.InfoItemGroup" href="../../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.InfoItemGroup">InfoItemGroup</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveGroupInfo" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/archives.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ArchiveGroupInfo</span><span class="p">(</span><span class="n">InfoItemGroup</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;info.archives&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">base_info_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">ItemInfo</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">ArchiveInfo</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_context</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">group_title</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ArchiveGroupInfo&quot;</span><span class="p">:</span>

        <span class="n">archives</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">archive</span><span class="p">,</span> <span class="n">aliases</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">get_all_archives</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">archives</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_id</span><span class="p">)]</span> <span class="o">=</span> <span class="n">ArchiveInfo</span><span class="o">.</span><span class="n">create_from_archive</span><span class="p">(</span>
                <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">archive</span><span class="o">=</span><span class="n">archive</span><span class="p">,</span> <span class="n">archive_aliases</span><span class="o">=</span><span class="n">aliases</span>
            <span class="p">)</span>

        <span class="n">info</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">group_title</span><span class="o">=</span><span class="n">group_title</span><span class="p">,</span> <span class="n">item_infos</span><span class="o">=</span><span class="n">archives</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">info</span>

    <span class="n">item_infos</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ArchiveInfo</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The info for each archive.&quot;</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">combined_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">combined</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">archive_info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_infos</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">size</span> <span class="o">=</span> <span class="n">archive_info</span><span class="o">.</span><span class="n">details</span><span class="o">.</span><span class="n">size</span>
            <span class="k">if</span> <span class="n">size</span> <span class="ow">and</span> <span class="n">size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">combined</span> <span class="o">=</span> <span class="n">combined</span> <span class="o">+</span> <span class="n">size</span>

        <span class="k">return</span> <span class="n">combined</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">show_archive_id</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_archive_id&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_config</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_config&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">show_details</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_details&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="c1"># by_type: Dict[str, Dict[str, ArchiveInfo]] = {}</span>
        <span class="c1"># for archive_id, archive in sorted(self.item_infos.items()):</span>
        <span class="c1">#     for item_type in archive.archive_type_info.supported_item_types:</span>
        <span class="c1">#         by_type.setdefault(item_type, {})[archive.type_name] = archive</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">show_archive_id</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;archive id&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;alias(es)&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;item type(s)&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">show_config</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;config&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">show_details</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;details&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">archive</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_infos</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">row</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">RenderableType</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="n">show_archive_id</span><span class="p">:</span>
                <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_id</span><span class="p">))</span>
            <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">aliases</span><span class="p">))</span>
            <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_type_info</span><span class="o">.</span><span class="n">supported_item_types</span><span class="p">))</span>

            <span class="k">if</span> <span class="n">show_config</span><span class="p">:</span>
                <span class="n">config_json</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
                    <span class="n">orjson_dumps</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">),</span>
                    <span class="s2">&quot;json&quot;</span><span class="p">,</span>
                    <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">config_json</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">show_details</span><span class="p">:</span>
                <span class="n">details_json</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
                    <span class="n">orjson_dumps</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">details</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">),</span>
                    <span class="s2">&quot;json&quot;</span><span class="p">,</span>
                    <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">details_json</span><span class="p">)</span>

            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.archives.ArchiveGroupInfo.combined_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">combined_size</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveGroupInfo.combined_size" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h7 id="kiara.models.archives.ArchiveGroupInfo.base_info_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">base_info_class</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveGroupInfo.base_info_class" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/archives.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">base_info_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">ItemInfo</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">ArchiveInfo</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.archives.ArchiveGroupInfo.create_from_context" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_context</span><span class="p">(</span><span class="n">kiara</span><span class="p">,</span> <span class="n">group_title</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveGroupInfo.create_from_context" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/archives.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_context</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">group_title</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ArchiveGroupInfo&quot;</span><span class="p">:</span>

    <span class="n">archives</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">archive</span><span class="p">,</span> <span class="n">aliases</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">get_all_archives</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">archives</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_id</span><span class="p">)]</span> <span class="o">=</span> <span class="n">ArchiveInfo</span><span class="o">.</span><span class="n">create_from_archive</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">archive</span><span class="o">=</span><span class="n">archive</span><span class="p">,</span> <span class="n">archive_aliases</span><span class="o">=</span><span class="n">aliases</span>
        <span class="p">)</span>

    <span class="n">info</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">group_title</span><span class="o">=</span><span class="n">group_title</span><span class="p">,</span> <span class="n">item_infos</span><span class="o">=</span><span class="n">archives</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">info</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.archives.ArchiveGroupInfo.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.archives.ArchiveGroupInfo.create_renderable" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/archives.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">show_archive_id</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_archive_id&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_config</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_config&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">show_details</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_details&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="c1"># by_type: Dict[str, Dict[str, ArchiveInfo]] = {}</span>
    <span class="c1"># for archive_id, archive in sorted(self.item_infos.items()):</span>
    <span class="c1">#     for item_type in archive.archive_type_info.supported_item_types:</span>
    <span class="c1">#         by_type.setdefault(item_type, {})[archive.type_name] = archive</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">show_archive_id</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;archive id&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;alias(es)&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;item type(s)&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">show_config</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;config&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">show_details</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;details&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">archive</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_infos</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">row</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">RenderableType</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">show_archive_id</span><span class="p">:</span>
            <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_id</span><span class="p">))</span>
        <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">aliases</span><span class="p">))</span>
        <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_type_info</span><span class="o">.</span><span class="n">supported_item_types</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">show_config</span><span class="p">:</span>
            <span class="n">config_json</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
                <span class="n">orjson_dumps</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">),</span>
                <span class="s2">&quot;json&quot;</span><span class="p">,</span>
                <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">config_json</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">show_details</span><span class="p">:</span>
            <span class="n">details_json</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
                <span class="n">orjson_dumps</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">details</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">),</span>
                <span class="s2">&quot;json&quot;</span><span class="p">,</span>
                <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">details_json</span><span class="p">)</span>

        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.archives.ArchiveInfo" class="doc doc-heading">
        <code>
ArchiveInfo            (<a class="autorefs autorefs-internal" title="kiara.interfaces.python_api.models.info.ItemInfo" href="../../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.ItemInfo">ItemInfo</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveInfo" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/archives.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ArchiveInfo</span><span class="p">(</span><span class="n">ItemInfo</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">base_instance_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">KiaraArchive</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">KiaraArchive</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">instance</span><span class="p">:</span> <span class="n">KiaraArchive</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_from_archive</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">archive</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_archive</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
        <span class="n">archive</span><span class="p">:</span> <span class="n">KiaraArchive</span><span class="p">,</span>
        <span class="n">archive_aliases</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>

        <span class="n">archive_type_info</span> <span class="o">=</span> <span class="n">ArchiveTypeInfo</span><span class="o">.</span><span class="n">create_from_type_class</span><span class="p">(</span>
            <span class="n">archive</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">archive_aliases</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">archive_aliases</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">archive_aliases</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">archive_aliases</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ArchiveInfo</span><span class="p">(</span>
            <span class="n">archive_type_info</span><span class="o">=</span><span class="n">archive_type_info</span><span class="p">,</span>
            <span class="n">type_name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_id</span><span class="p">),</span>
            <span class="n">documentation</span><span class="o">=</span><span class="n">archive_type_info</span><span class="o">.</span><span class="n">documentation</span><span class="p">,</span>
            <span class="n">authors</span><span class="o">=</span><span class="n">archive_type_info</span><span class="o">.</span><span class="n">authors</span><span class="p">,</span>
            <span class="n">context</span><span class="o">=</span><span class="n">archive_type_info</span><span class="o">.</span><span class="n">context</span><span class="p">,</span>
            <span class="n">archive_id</span><span class="o">=</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_id</span><span class="p">,</span>
            <span class="n">details</span><span class="o">=</span><span class="n">archive</span><span class="o">.</span><span class="n">get_archive_details</span><span class="p">(),</span>
            <span class="n">config</span><span class="o">=</span><span class="n">archive</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
            <span class="n">aliases</span><span class="o">=</span><span class="n">archive_aliases</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">category_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;info.archive&quot;</span>

    <span class="n">archive_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The (globally unique) archive id.&quot;</span><span class="p">)</span>
    <span class="n">archive_type_info</span><span class="p">:</span> <span class="n">ArchiveTypeInfo</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Information about this archives&#39; type.&quot;</span>
    <span class="p">)</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The configuration of this archive.&quot;</span><span class="p">)</span>
    <span class="n">details</span><span class="p">:</span> <span class="n">ArchiveDetails</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Type dependent (runtime) details for this archive.&quot;</span>
    <span class="p">)</span>
    <span class="n">aliases</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Aliases for this archive.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.archives.ArchiveInfo-attributes">Attributes<a href="#kiara.models.archives.ArchiveInfo-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.archives.ArchiveInfo.aliases" class="doc doc-heading">
<code class="highlight language-python"><span class="n">aliases</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveInfo.aliases" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Aliases for this archive.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.archives.ArchiveInfo.archive_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">archive_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveInfo.archive_id" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The (globally unique) archive id.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.archives.ArchiveInfo.archive_type_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">archive_type_info</span><span class="p">:</span> <span class="n">ArchiveTypeInfo</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveInfo.archive_type_info" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Information about this archives' type.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.archives.ArchiveInfo.config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveInfo.config" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The configuration of this archive.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.archives.ArchiveInfo.details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">details</span><span class="p">:</span> <span class="n">ArchiveDetails</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveInfo.details" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Type dependent (runtime) details for this archive.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h7 id="kiara.models.archives.ArchiveInfo.base_instance_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">base_instance_class</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveInfo.base_instance_class" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/archives.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">base_instance_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">KiaraArchive</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">KiaraArchive</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.archives.ArchiveInfo.category_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">category_name</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveInfo.category_name" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/archives.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">category_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;info.archive&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.archives.ArchiveInfo.create_from_archive" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_archive</span><span class="p">(</span><span class="n">kiara</span><span class="p">,</span> <span class="n">archive</span><span class="p">,</span> <span class="n">archive_aliases</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveInfo.create_from_archive" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/archives.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_archive</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
    <span class="n">archive</span><span class="p">:</span> <span class="n">KiaraArchive</span><span class="p">,</span>
    <span class="n">archive_aliases</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>

    <span class="n">archive_type_info</span> <span class="o">=</span> <span class="n">ArchiveTypeInfo</span><span class="o">.</span><span class="n">create_from_type_class</span><span class="p">(</span>
        <span class="n">archive</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">archive_aliases</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">archive_aliases</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">archive_aliases</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">archive_aliases</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ArchiveInfo</span><span class="p">(</span>
        <span class="n">archive_type_info</span><span class="o">=</span><span class="n">archive_type_info</span><span class="p">,</span>
        <span class="n">type_name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_id</span><span class="p">),</span>
        <span class="n">documentation</span><span class="o">=</span><span class="n">archive_type_info</span><span class="o">.</span><span class="n">documentation</span><span class="p">,</span>
        <span class="n">authors</span><span class="o">=</span><span class="n">archive_type_info</span><span class="o">.</span><span class="n">authors</span><span class="p">,</span>
        <span class="n">context</span><span class="o">=</span><span class="n">archive_type_info</span><span class="o">.</span><span class="n">context</span><span class="p">,</span>
        <span class="n">archive_id</span><span class="o">=</span><span class="n">archive</span><span class="o">.</span><span class="n">archive_id</span><span class="p">,</span>
        <span class="n">details</span><span class="o">=</span><span class="n">archive</span><span class="o">.</span><span class="n">get_archive_details</span><span class="p">(),</span>
        <span class="n">config</span><span class="o">=</span><span class="n">archive</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
        <span class="n">aliases</span><span class="o">=</span><span class="n">archive_aliases</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.archives.ArchiveInfo.create_from_instance" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_instance</span><span class="p">(</span><span class="n">kiara</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveInfo.create_from_instance" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/archives.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">instance</span><span class="p">:</span> <span class="n">KiaraArchive</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_from_archive</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">archive</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.archives.ArchiveTypeClassesInfo" class="doc doc-heading">
        <code>
ArchiveTypeClassesInfo            (<a class="autorefs autorefs-internal" title="kiara.interfaces.python_api.models.info.TypeInfoItemGroup" href="../../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.TypeInfoItemGroup">TypeInfoItemGroup</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveTypeClassesInfo" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/archives.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ArchiveTypeClassesInfo</span><span class="p">(</span><span class="n">TypeInfoItemGroup</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;info.archive_types&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">base_info_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">ArchiveTypeInfo</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">ArchiveTypeInfo</span>

    <span class="n">type_name</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;archive_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;archive_type&quot;</span>
    <span class="n">item_infos</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ArchiveTypeInfo</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The archive info instances for each type.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.archives.ArchiveTypeClassesInfo.type_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">type_name</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;archive_type&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveTypeClassesInfo.type_name" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h7 id="kiara.models.archives.ArchiveTypeClassesInfo.base_info_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">base_info_class</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveTypeClassesInfo.base_info_class" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/archives.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">base_info_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">ArchiveTypeInfo</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">ArchiveTypeInfo</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.archives.ArchiveTypeInfo" class="doc doc-heading">
        <code>
ArchiveTypeInfo            (<a class="autorefs autorefs-internal" title="kiara.interfaces.python_api.models.info.TypeInfo" href="../../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.TypeInfo">TypeInfo</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveTypeInfo" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/archives.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ArchiveTypeInfo</span><span class="p">(</span><span class="n">TypeInfo</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;info.archive_type&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_type_class</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">type_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">KiaraArchive</span><span class="p">],</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ArchiveTypeInfo&quot;</span><span class="p">:</span>

        <span class="n">authors_md</span> <span class="o">=</span> <span class="n">AuthorsMetadataModel</span><span class="o">.</span><span class="n">from_class</span><span class="p">(</span><span class="n">type_cls</span><span class="p">)</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">from_class_doc</span><span class="p">(</span><span class="n">type_cls</span><span class="p">)</span>
        <span class="n">python_class</span> <span class="o">=</span> <span class="n">PythonClass</span><span class="o">.</span><span class="n">from_class</span><span class="p">(</span><span class="n">type_cls</span><span class="p">)</span>
        <span class="n">properties_md</span> <span class="o">=</span> <span class="n">ContextMetadataModel</span><span class="o">.</span><span class="n">from_class</span><span class="p">(</span><span class="n">type_cls</span><span class="p">)</span>
        <span class="n">type_name</span> <span class="o">=</span> <span class="n">type_cls</span><span class="o">.</span><span class="n">_archive_type_name</span>  <span class="c1"># type: ignore</span>

        <span class="k">return</span> <span class="n">ArchiveTypeInfo</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
            <span class="n">type_name</span><span class="o">=</span><span class="n">type_name</span><span class="p">,</span>
            <span class="n">documentation</span><span class="o">=</span><span class="n">doc</span><span class="p">,</span>
            <span class="n">authors</span><span class="o">=</span><span class="n">authors_md</span><span class="p">,</span>
            <span class="n">context</span><span class="o">=</span><span class="n">properties_md</span><span class="p">,</span>
            <span class="n">python_class</span><span class="o">=</span><span class="n">python_class</span><span class="p">,</span>
            <span class="n">supported_item_types</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">type_cls</span><span class="o">.</span><span class="n">supported_item_types</span><span class="p">()),</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">base_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">KiaraArchive</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">KiaraArchive</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">category_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;archive_type&quot;</span>

    <span class="n">is_writable</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this archive is writeable.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>
    <span class="n">supported_item_types</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The item types this archive suports.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">include_doc</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_doc&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;property&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">include_doc</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                <span class="s2">&quot;Documentation&quot;</span><span class="p">,</span>
                <span class="n">Panel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(),</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Author(s)&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">())</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Context&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">())</span>

        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Python class&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">python_class</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">())</span>

        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;is_writeable&quot;</span><span class="p">,</span> <span class="s2">&quot;yes&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_writable</span> <span class="k">else</span> <span class="s2">&quot;no&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="s2">&quot;supported_item_types&quot;</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">supported_item_types</span><span class="p">))</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.archives.ArchiveTypeInfo-attributes">Attributes<a href="#kiara.models.archives.ArchiveTypeInfo-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.archives.ArchiveTypeInfo.is_writable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_writable</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveTypeInfo.is_writable" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Whether this archive is writeable.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.archives.ArchiveTypeInfo.supported_item_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supported_item_types</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveTypeInfo.supported_item_types" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The item types this archive suports.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h7 id="kiara.models.archives.ArchiveTypeInfo.base_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">base_class</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveTypeInfo.base_class" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/archives.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">base_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">KiaraArchive</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">KiaraArchive</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.archives.ArchiveTypeInfo.category_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">category_name</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveTypeInfo.category_name" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/archives.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">category_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;archive_type&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.archives.ArchiveTypeInfo.create_from_type_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_type_class</span><span class="p">(</span><span class="n">type_cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.archives.ArchiveTypeInfo.create_from_type_class" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/archives.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_type_class</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">type_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">KiaraArchive</span><span class="p">],</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ArchiveTypeInfo&quot;</span><span class="p">:</span>

    <span class="n">authors_md</span> <span class="o">=</span> <span class="n">AuthorsMetadataModel</span><span class="o">.</span><span class="n">from_class</span><span class="p">(</span><span class="n">type_cls</span><span class="p">)</span>
    <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">from_class_doc</span><span class="p">(</span><span class="n">type_cls</span><span class="p">)</span>
    <span class="n">python_class</span> <span class="o">=</span> <span class="n">PythonClass</span><span class="o">.</span><span class="n">from_class</span><span class="p">(</span><span class="n">type_cls</span><span class="p">)</span>
    <span class="n">properties_md</span> <span class="o">=</span> <span class="n">ContextMetadataModel</span><span class="o">.</span><span class="n">from_class</span><span class="p">(</span><span class="n">type_cls</span><span class="p">)</span>
    <span class="n">type_name</span> <span class="o">=</span> <span class="n">type_cls</span><span class="o">.</span><span class="n">_archive_type_name</span>  <span class="c1"># type: ignore</span>

    <span class="k">return</span> <span class="n">ArchiveTypeInfo</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
        <span class="n">type_name</span><span class="o">=</span><span class="n">type_name</span><span class="p">,</span>
        <span class="n">documentation</span><span class="o">=</span><span class="n">doc</span><span class="p">,</span>
        <span class="n">authors</span><span class="o">=</span><span class="n">authors_md</span><span class="p">,</span>
        <span class="n">context</span><span class="o">=</span><span class="n">properties_md</span><span class="p">,</span>
        <span class="n">python_class</span><span class="o">=</span><span class="n">python_class</span><span class="p">,</span>
        <span class="n">supported_item_types</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">type_cls</span><span class="o">.</span><span class="n">supported_item_types</span><span class="p">()),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.archives.ArchiveTypeInfo.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.archives.ArchiveTypeInfo.create_renderable" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/archives.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">include_doc</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_doc&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;property&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">include_doc</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="s2">&quot;Documentation&quot;</span><span class="p">,</span>
            <span class="n">Panel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(),</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Author(s)&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">())</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Context&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">())</span>

    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Python class&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">python_class</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">())</span>

    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;is_writeable&quot;</span><span class="p">,</span> <span class="s2">&quot;yes&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_writable</span> <span class="k">else</span> <span class="s2">&quot;no&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
        <span class="s2">&quot;supported_item_types&quot;</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">supported_item_types</span><span class="p">))</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="kiara.models.context" class="doc doc-heading">
        <code>context</code>



<a href="#kiara.models.context" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h4 id="kiara.models.context-classes">Classes<a href="#kiara.models.context-classes" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-class">



<h5 id="kiara.models.context.ContextSummaries" class="doc doc-heading">
        <code>
ContextSummaries            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.context.ContextSummaries" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ContextSummaries</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">__root__</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ContextSummary</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_context_summaries</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">contexts</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;KiaraContextConfig&quot;</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">):</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">contexts</span><span class="p">:</span>
            <span class="n">kc</span> <span class="o">=</span> <span class="n">KiaraConfig</span><span class="p">()</span>
            <span class="n">contexts</span> <span class="o">=</span> <span class="n">kc</span><span class="o">.</span><span class="n">context_configs</span>

        <span class="k">return</span> <span class="n">ContextSummaries</span><span class="p">(</span>
            <span class="n">__root__</span><span class="o">=</span><span class="p">{</span>
                <span class="n">a</span><span class="p">:</span> <span class="n">ContextSummary</span><span class="o">.</span><span class="n">create_from_context_config</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">context_name</span><span class="o">=</span><span class="n">a</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">contexts</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">full_details</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;full_details&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">full_details</span><span class="p">:</span>
            <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;context name&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;context id&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;size on disk&quot;</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;size of all values&quot;</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;no. values&quot;</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;no. aliaes&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">context_name</span><span class="p">,</span> <span class="n">context_summary</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__root__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">size_on_disk</span> <span class="o">=</span> <span class="n">context_summary</span><span class="o">.</span><span class="n">archives</span><span class="o">.</span><span class="n">combined_size</span>
                <span class="n">value_summary</span> <span class="o">=</span> <span class="n">context_summary</span><span class="o">.</span><span class="n">value_summary</span><span class="p">()</span>
                <span class="n">size</span> <span class="o">=</span> <span class="n">humanfriendly</span><span class="o">.</span><span class="n">format_size</span><span class="p">(</span><span class="n">value_summary</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">])</span>
                <span class="n">no_values</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value_summary</span><span class="p">[</span><span class="s2">&quot;no_values&quot;</span><span class="p">])</span>
                <span class="n">no_aliases</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">context_summary</span><span class="o">.</span><span class="n">aliases</span><span class="p">))</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                    <span class="n">context_name</span><span class="p">,</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">context_summary</span><span class="o">.</span><span class="n">kiara_id</span><span class="p">),</span>
                    <span class="n">humanfriendly</span><span class="o">.</span><span class="n">format_size</span><span class="p">(</span><span class="n">size_on_disk</span><span class="p">),</span>
                    <span class="n">size</span><span class="p">,</span>
                    <span class="n">no_values</span><span class="p">,</span>
                    <span class="n">no_aliases</span><span class="p">,</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>

            <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">MINIMAL</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;context_name&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;details&quot;</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">context_name</span><span class="p">,</span> <span class="n">context_summary</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__root__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">context_name</span><span class="p">,</span> <span class="n">context_summary</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h7 id="kiara.models.context.ContextSummaries.create_context_summaries" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_context_summaries</span><span class="p">(</span><span class="n">contexts</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.context.ContextSummaries.create_context_summaries" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_context_summaries</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">contexts</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;KiaraContextConfig&quot;</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">):</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">contexts</span><span class="p">:</span>
        <span class="n">kc</span> <span class="o">=</span> <span class="n">KiaraConfig</span><span class="p">()</span>
        <span class="n">contexts</span> <span class="o">=</span> <span class="n">kc</span><span class="o">.</span><span class="n">context_configs</span>

    <span class="k">return</span> <span class="n">ContextSummaries</span><span class="p">(</span>
        <span class="n">__root__</span><span class="o">=</span><span class="p">{</span>
            <span class="n">a</span><span class="p">:</span> <span class="n">ContextSummary</span><span class="o">.</span><span class="n">create_from_context_config</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">context_name</span><span class="o">=</span><span class="n">a</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">contexts</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.context.ContextSummaries.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.context.ContextSummaries.create_renderable" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">full_details</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;full_details&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">full_details</span><span class="p">:</span>
        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;context name&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;context id&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;size on disk&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;size of all values&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;no. values&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;no. aliaes&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">context_name</span><span class="p">,</span> <span class="n">context_summary</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__root__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">size_on_disk</span> <span class="o">=</span> <span class="n">context_summary</span><span class="o">.</span><span class="n">archives</span><span class="o">.</span><span class="n">combined_size</span>
            <span class="n">value_summary</span> <span class="o">=</span> <span class="n">context_summary</span><span class="o">.</span><span class="n">value_summary</span><span class="p">()</span>
            <span class="n">size</span> <span class="o">=</span> <span class="n">humanfriendly</span><span class="o">.</span><span class="n">format_size</span><span class="p">(</span><span class="n">value_summary</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">])</span>
            <span class="n">no_values</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value_summary</span><span class="p">[</span><span class="s2">&quot;no_values&quot;</span><span class="p">])</span>
            <span class="n">no_aliases</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">context_summary</span><span class="o">.</span><span class="n">aliases</span><span class="p">))</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                <span class="n">context_name</span><span class="p">,</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">context_summary</span><span class="o">.</span><span class="n">kiara_id</span><span class="p">),</span>
                <span class="n">humanfriendly</span><span class="o">.</span><span class="n">format_size</span><span class="p">(</span><span class="n">size_on_disk</span><span class="p">),</span>
                <span class="n">size</span><span class="p">,</span>
                <span class="n">no_values</span><span class="p">,</span>
                <span class="n">no_aliases</span><span class="p">,</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">MINIMAL</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;context_name&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;details&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">context_name</span><span class="p">,</span> <span class="n">context_summary</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__root__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">context_name</span><span class="p">,</span> <span class="n">context_summary</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.context.ContextSummary" class="doc doc-heading">
        <code>
ContextSummary            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.context.ContextSummary" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ContextSummary</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_context_config</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">KiaraContextConfig</span><span class="p">,</span>
        <span class="n">context_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">runtime_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">KiaraRuntimeConfig</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>

        <span class="kn">from</span> <span class="nn">kiara.context</span> <span class="kn">import</span> <span class="n">Kiara</span>

        <span class="n">kiara</span> <span class="o">=</span> <span class="n">Kiara</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">runtime_config</span><span class="o">=</span><span class="n">runtime_config</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_from_context</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">context_name</span><span class="o">=</span><span class="n">context_name</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_context</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">context_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>

        <span class="n">errors</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value_ids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">kiara</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">retrieve_all_available_value_ids</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">errors</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">e</span>
            <span class="n">value_ids</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">aliases</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">a</span><span class="o">.</span><span class="n">full_alias</span><span class="p">:</span> <span class="n">a</span><span class="o">.</span><span class="n">value_id</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">aliases</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
            <span class="p">}</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">errors</span><span class="p">[</span><span class="s2">&quot;aliases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">e</span>
            <span class="n">aliases</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">archives_info</span> <span class="o">=</span> <span class="n">ArchiveGroupInfo</span><span class="o">.</span><span class="n">create_from_context</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">errors</span><span class="p">[</span><span class="s2">&quot;archives&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">e</span>
            <span class="n">archives_info</span> <span class="o">=</span> <span class="n">ArchiveGroupInfo</span><span class="p">(</span><span class="n">item_infos</span><span class="o">=</span><span class="p">{})</span>

        <span class="n">comment</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">errors</span><span class="p">:</span>
            <span class="n">invalid</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">comment</span> <span class="o">=</span> <span class="s2">&quot;Errors creating this context, this is most likely a bug:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">err</span> <span class="ow">in</span> <span class="n">errors</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">comment</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">comment</span><span class="si">}</span><span class="s2">  - </span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">err</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">ContextSummary</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
            <span class="n">kiara_id</span><span class="o">=</span><span class="n">kiara</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">value_ids</span><span class="o">=</span><span class="n">value_ids</span><span class="p">,</span>
            <span class="n">aliases</span><span class="o">=</span><span class="n">aliases</span><span class="p">,</span>
            <span class="n">context_name</span><span class="o">=</span><span class="n">context_name</span><span class="p">,</span>
            <span class="n">archives</span><span class="o">=</span><span class="n">archives_info</span><span class="p">,</span>
            <span class="n">invalid</span><span class="o">=</span><span class="n">invalid</span><span class="p">,</span>
            <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">kiara</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="n">kiara_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The (globally unique) id of the kiara context.&quot;</span>
    <span class="p">)</span>
    <span class="n">context_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The local alias for this context.&quot;</span>
    <span class="p">)</span>
    <span class="n">value_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The ids of all stored values in this context.&quot;</span>
    <span class="p">)</span>
    <span class="n">aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;All available aliases within this context (and the value ids they refer to).&quot;</span>
    <span class="p">)</span>
    <span class="n">archives</span><span class="p">:</span> <span class="n">ArchiveGroupInfo</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The archives registered in this context.&quot;</span>
    <span class="p">)</span>
    <span class="n">invalid</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this context has errors.&quot;</span><span class="p">,</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">comment</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;(Optional) comment about this context.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>

    <span class="n">_kiara</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">kiara_context</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Kiara context object not set.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span>

    <span class="k">def</span> <span class="nf">value_summary</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

        <span class="n">sum_size</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">types</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">internal_types</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">no_of_values</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_ids</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">value_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_ids</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara_context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value_id</span><span class="p">)</span>
            <span class="n">sum_size</span> <span class="o">=</span> <span class="n">sum_size</span> <span class="o">+</span> <span class="n">value</span><span class="o">.</span><span class="n">value_size</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara_context</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">is_internal_type</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">internal_types</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">internal_types</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">internal_types</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">types</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">types</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">types</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="n">types</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="n">sum_size</span><span class="p">,</span>
            <span class="s2">&quot;no_values&quot;</span><span class="p">:</span> <span class="n">no_of_values</span><span class="p">,</span>
            <span class="s2">&quot;types&quot;</span><span class="p">:</span> <span class="n">types</span><span class="p">,</span>
            <span class="s2">&quot;internal_types&quot;</span><span class="p">:</span> <span class="n">internal_types</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">alias_summary</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

        <span class="n">sum_size</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">types</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">internal_types</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">no_of_values</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_ids</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">value_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">aliases</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara_context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value_id</span><span class="p">)</span>
            <span class="n">sum_size</span> <span class="o">=</span> <span class="n">sum_size</span> <span class="o">+</span> <span class="n">value</span><span class="o">.</span><span class="n">value_size</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara_context</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">is_internal_type</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">internal_types</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">internal_types</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">internal_types</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">types</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">types</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">types</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="n">types</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="n">sum_size</span><span class="p">,</span>
            <span class="s2">&quot;no_values&quot;</span><span class="p">:</span> <span class="n">no_of_values</span><span class="p">,</span>
            <span class="s2">&quot;types&quot;</span><span class="p">:</span> <span class="n">types</span><span class="p">,</span>
            <span class="s2">&quot;internal_types&quot;</span><span class="p">:</span> <span class="n">internal_types</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">full_details</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;full_details&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_value_ids</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_value_ids&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_archive_info</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_archive_info&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Property&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">invalid</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;[red]This context is invalid![/red]</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">cmt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="k">else</span> <span class="s2">&quot;-- no details --&quot;</span>
            <span class="n">md</span> <span class="o">=</span> <span class="n">Markdown</span><span class="p">(</span><span class="n">cmt</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="n">Group</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">md</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">context_name</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;context name&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context_name</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;kiara_id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kiara_id</span><span class="p">))</span>

        <span class="n">size_on_disk</span> <span class="o">=</span> <span class="n">humanfriendly</span><span class="o">.</span><span class="n">format_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">archives</span><span class="o">.</span><span class="n">combined_size</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;size on disk&quot;</span><span class="p">,</span> <span class="n">size_on_disk</span><span class="p">)</span>

        <span class="n">value_sum</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_summary</span><span class="p">()</span>
        <span class="n">v_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">v_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Property&quot;</span><span class="p">)</span>
        <span class="n">v_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
        <span class="n">v_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;no. values&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value_sum</span><span class="p">[</span><span class="s2">&quot;no_values&quot;</span><span class="p">]))</span>
        <span class="n">v_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;combined size&quot;</span><span class="p">,</span> <span class="n">format_size</span><span class="p">(</span><span class="n">value_sum</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">]))</span>
        <span class="k">if</span> <span class="n">full_details</span> <span class="ow">and</span> <span class="n">show_value_ids</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_ids</span><span class="p">:</span>
                <span class="n">value_ids</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_ids</span><span class="p">))</span>
                <span class="n">v_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;value_ids&quot;</span><span class="p">,</span> <span class="n">value_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">v_id</span> <span class="ow">in</span> <span class="n">value_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                    <span class="n">v_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">v_id</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">v_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;value_ids&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;values&quot;</span><span class="p">,</span> <span class="n">v_table</span><span class="p">)</span>

        <span class="n">alias_sum</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alias_summary</span><span class="p">()</span>
        <span class="n">a_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">a_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Property&quot;</span><span class="p">)</span>
        <span class="n">a_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
        <span class="n">a_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;no. aliases&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">aliases</span><span class="p">)))</span>
        <span class="n">a_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;combined size&quot;</span><span class="p">,</span> <span class="n">format_size</span><span class="p">(</span><span class="n">alias_sum</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">]))</span>
        <span class="k">if</span> <span class="n">full_details</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">aliases</span><span class="p">:</span>
                <span class="n">aliases</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
                <span class="n">a_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                    <span class="s2">&quot;aliases&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">aliases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">aliases</span><span class="p">[</span><span class="n">aliases</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">alias</span> <span class="ow">in</span> <span class="n">aliases</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                    <span class="n">a_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">aliases</span><span class="p">[</span><span class="n">alias</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">a_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;aliases&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;aliases&quot;</span><span class="p">,</span> <span class="n">a_table</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">show_archive_info</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;archives&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">archives</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.context.ContextSummary-attributes">Attributes<a href="#kiara.models.context.ContextSummary-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.context.ContextSummary.aliases" class="doc doc-heading">
<code class="highlight language-python"><span class="n">aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.context.ContextSummary.aliases" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>All available aliases within this context (and the value ids they refer to).</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.context.ContextSummary.archives" class="doc doc-heading">
<code class="highlight language-python"><span class="n">archives</span><span class="p">:</span> <span class="n">ArchiveGroupInfo</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.context.ContextSummary.archives" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The archives registered in this context.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.context.ContextSummary.comment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">comment</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.context.ContextSummary.comment" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>(Optional) comment about this context.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.context.ContextSummary.context_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">context_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.context.ContextSummary.context_name" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The local alias for this context.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.context.ContextSummary.invalid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">invalid</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.context.ContextSummary.invalid" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Whether this context has errors.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.context.ContextSummary.kiara_context" class="doc doc-heading">
<code class="highlight language-python"><span class="n">kiara_context</span><span class="p">:</span> <span class="n">Kiara</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.context.ContextSummary.kiara_context" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.context.ContextSummary.kiara_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">kiara_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.context.ContextSummary.kiara_id" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The (globally unique) id of the kiara context.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.context.ContextSummary.value_ids" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.context.ContextSummary.value_ids" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The ids of all stored values in this context.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h7 id="kiara.models.context.ContextSummary.alias_summary" class="doc doc-heading">
<code class="highlight language-python"><span class="n">alias_summary</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.context.ContextSummary.alias_summary" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">alias_summary</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

    <span class="n">sum_size</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">types</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">internal_types</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">no_of_values</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_ids</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">alias</span><span class="p">,</span> <span class="n">value_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">aliases</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara_context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value_id</span><span class="p">)</span>
        <span class="n">sum_size</span> <span class="o">=</span> <span class="n">sum_size</span> <span class="o">+</span> <span class="n">value</span><span class="o">.</span><span class="n">value_size</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara_context</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">is_internal_type</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">internal_types</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">internal_types</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">internal_types</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">types</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">types</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">types</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">types</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="n">sum_size</span><span class="p">,</span>
        <span class="s2">&quot;no_values&quot;</span><span class="p">:</span> <span class="n">no_of_values</span><span class="p">,</span>
        <span class="s2">&quot;types&quot;</span><span class="p">:</span> <span class="n">types</span><span class="p">,</span>
        <span class="s2">&quot;internal_types&quot;</span><span class="p">:</span> <span class="n">internal_types</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.context.ContextSummary.create_from_context" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_context</span><span class="p">(</span><span class="n">kiara</span><span class="p">,</span> <span class="n">context_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.context.ContextSummary.create_from_context" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_context</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">context_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>

    <span class="n">errors</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">value_ids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">kiara</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">retrieve_all_available_value_ids</span><span class="p">())</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">errors</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">e</span>
        <span class="n">value_ids</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">aliases</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">a</span><span class="o">.</span><span class="n">full_alias</span><span class="p">:</span> <span class="n">a</span><span class="o">.</span><span class="n">value_id</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">aliases</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">errors</span><span class="p">[</span><span class="s2">&quot;aliases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">e</span>
        <span class="n">aliases</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">archives_info</span> <span class="o">=</span> <span class="n">ArchiveGroupInfo</span><span class="o">.</span><span class="n">create_from_context</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">errors</span><span class="p">[</span><span class="s2">&quot;archives&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">e</span>
        <span class="n">archives_info</span> <span class="o">=</span> <span class="n">ArchiveGroupInfo</span><span class="p">(</span><span class="n">item_infos</span><span class="o">=</span><span class="p">{})</span>

    <span class="n">comment</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">invalid</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">errors</span><span class="p">:</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">comment</span> <span class="o">=</span> <span class="s2">&quot;Errors creating this context, this is most likely a bug:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">err</span> <span class="ow">in</span> <span class="n">errors</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">comment</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">comment</span><span class="si">}</span><span class="s2">  - </span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">err</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">ContextSummary</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
        <span class="n">kiara_id</span><span class="o">=</span><span class="n">kiara</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">value_ids</span><span class="o">=</span><span class="n">value_ids</span><span class="p">,</span>
        <span class="n">aliases</span><span class="o">=</span><span class="n">aliases</span><span class="p">,</span>
        <span class="n">context_name</span><span class="o">=</span><span class="n">context_name</span><span class="p">,</span>
        <span class="n">archives</span><span class="o">=</span><span class="n">archives_info</span><span class="p">,</span>
        <span class="n">invalid</span><span class="o">=</span><span class="n">invalid</span><span class="p">,</span>
        <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">result</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">kiara</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.context.ContextSummary.create_from_context_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_context_config</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">context_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">runtime_config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.context.ContextSummary.create_from_context_config" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_context_config</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">KiaraContextConfig</span><span class="p">,</span>
    <span class="n">context_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">runtime_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">KiaraRuntimeConfig</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>

    <span class="kn">from</span> <span class="nn">kiara.context</span> <span class="kn">import</span> <span class="n">Kiara</span>

    <span class="n">kiara</span> <span class="o">=</span> <span class="n">Kiara</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">runtime_config</span><span class="o">=</span><span class="n">runtime_config</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_from_context</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">context_name</span><span class="o">=</span><span class="n">context_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.context.ContextSummary.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.context.ContextSummary.create_renderable" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">full_details</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;full_details&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_value_ids</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_value_ids&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_archive_info</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_archive_info&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Property&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">invalid</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;[red]This context is invalid![/red]</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">cmt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="k">else</span> <span class="s2">&quot;-- no details --&quot;</span>
        <span class="n">md</span> <span class="o">=</span> <span class="n">Markdown</span><span class="p">(</span><span class="n">cmt</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">Group</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">md</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">context_name</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;context name&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context_name</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;kiara_id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kiara_id</span><span class="p">))</span>

    <span class="n">size_on_disk</span> <span class="o">=</span> <span class="n">humanfriendly</span><span class="o">.</span><span class="n">format_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">archives</span><span class="o">.</span><span class="n">combined_size</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;size on disk&quot;</span><span class="p">,</span> <span class="n">size_on_disk</span><span class="p">)</span>

    <span class="n">value_sum</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_summary</span><span class="p">()</span>
    <span class="n">v_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">v_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Property&quot;</span><span class="p">)</span>
    <span class="n">v_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
    <span class="n">v_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;no. values&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value_sum</span><span class="p">[</span><span class="s2">&quot;no_values&quot;</span><span class="p">]))</span>
    <span class="n">v_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;combined size&quot;</span><span class="p">,</span> <span class="n">format_size</span><span class="p">(</span><span class="n">value_sum</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">]))</span>
    <span class="k">if</span> <span class="n">full_details</span> <span class="ow">and</span> <span class="n">show_value_ids</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_ids</span><span class="p">:</span>
            <span class="n">value_ids</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_ids</span><span class="p">))</span>
            <span class="n">v_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;value_ids&quot;</span><span class="p">,</span> <span class="n">value_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">v_id</span> <span class="ow">in</span> <span class="n">value_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                <span class="n">v_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">v_id</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">v_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;value_ids&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;values&quot;</span><span class="p">,</span> <span class="n">v_table</span><span class="p">)</span>

    <span class="n">alias_sum</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alias_summary</span><span class="p">()</span>
    <span class="n">a_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">a_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Property&quot;</span><span class="p">)</span>
    <span class="n">a_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
    <span class="n">a_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;no. aliases&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">aliases</span><span class="p">)))</span>
    <span class="n">a_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;combined size&quot;</span><span class="p">,</span> <span class="n">format_size</span><span class="p">(</span><span class="n">alias_sum</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">]))</span>
    <span class="k">if</span> <span class="n">full_details</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">aliases</span><span class="p">:</span>
            <span class="n">aliases</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="n">a_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                <span class="s2">&quot;aliases&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">aliases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">aliases</span><span class="p">[</span><span class="n">aliases</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">alias</span> <span class="ow">in</span> <span class="n">aliases</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                <span class="n">a_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">aliases</span><span class="p">[</span><span class="n">alias</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">a_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;aliases&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;aliases&quot;</span><span class="p">,</span> <span class="n">a_table</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">show_archive_info</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;archives&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">archives</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.context.ContextSummary.value_summary" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_summary</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.context.ContextSummary.value_summary" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">value_summary</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

    <span class="n">sum_size</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">types</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">internal_types</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">no_of_values</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_ids</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">value_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_ids</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara_context</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value_id</span><span class="p">)</span>
        <span class="n">sum_size</span> <span class="o">=</span> <span class="n">sum_size</span> <span class="o">+</span> <span class="n">value</span><span class="o">.</span><span class="n">value_size</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara_context</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">is_internal_type</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">internal_types</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">internal_types</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">internal_types</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">types</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">types</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">types</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">types</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="n">sum_size</span><span class="p">,</span>
        <span class="s2">&quot;no_values&quot;</span><span class="p">:</span> <span class="n">no_of_values</span><span class="p">,</span>
        <span class="s2">&quot;types&quot;</span><span class="p">:</span> <span class="n">types</span><span class="p">,</span>
        <span class="s2">&quot;internal_types&quot;</span><span class="p">:</span> <span class="n">internal_types</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="kiara.models.data_types" class="doc doc-heading">
        <code>data_types</code>



<a href="#kiara.models.data_types" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>This module contains the metadata (and other) models that are used in the <code>kiara_plugin.core_types</code> package.</p>
<p>Those models are convenience wrappers that make it easier for <em>kiara</em> to find, create, manage and version metadata -- but also
other type of models -- that is attached to data, as well as <em>kiara</em> modules.</p>
<p>Metadata models must be a sub-class of [kiara.metadata.MetadataModel][]. Other models usually
sub-class a pydantic BaseModel or implement custom base classes.</p>



  <div class="doc doc-children">





<h4 id="kiara.models.data_types-classes">Classes<a href="#kiara.models.data_types-classes" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-class">



<h5 id="kiara.models.data_types.DictModel" class="doc doc-heading">
        <code>
DictModel            (<span title="pydantic.main.BaseModel">BaseModel</span>, <span title="collections.abc.Mapping">Mapping</span>, <span title="typing.Generic">Generic</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.data_types.DictModel" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>A dict implentation that contains (optional) schema information of the dicts items.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/data_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DictModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A dict implentation that contains (optional) schema information of the dicts items.&quot;&quot;&quot;</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">json_loads</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">loads</span>
        <span class="n">json_dumps</span> <span class="o">=</span> <span class="n">orjson_dumps</span>

    <span class="n">dict_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The data.&quot;</span><span class="p">)</span>
    <span class="n">data_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The schema.&quot;</span><span class="p">)</span>
    <span class="n">python_class</span><span class="p">:</span> <span class="n">PythonClass</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The python class of which model instances are created. This is mostly meant as a hint for client applications.&quot;</span>
    <span class="p">)</span>

    <span class="n">_size_cache</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_hash_cache</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_data_hash</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_schema_hash</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_value_hash</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dict_data</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_schema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_hash</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_data_hash</span> <span class="o">=</span> <span class="n">compute_cid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dict_data</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_hash</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">schema_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema_hash</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_schema_hash</span> <span class="o">=</span> <span class="n">compute_cid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_schema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema_hash</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">value_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value_hash</span>

        <span class="n">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_hash</span><span class="p">,</span> <span class="s2">&quot;data_schema&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_hash</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value_hash</span> <span class="o">=</span> <span class="n">compute_cid</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value_hash</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict_data</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict_data</span><span class="o">.</span><span class="fm">__iter__</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict_data</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.data_types.DictModel-attributes">Attributes<a href="#kiara.models.data_types.DictModel-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.data_types.DictModel.data_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_hash</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.data_types.DictModel.data_hash" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.data_types.DictModel.data_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.data_types.DictModel.data_schema" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The schema.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.data_types.DictModel.dict_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dict_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.data_types.DictModel.dict_data" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The data.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.data_types.DictModel.python_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">python_class</span><span class="p">:</span> <span class="n">PythonClass</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.data_types.DictModel.python_class" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The python class of which model instances are created. This is mostly meant as a hint for client applications.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.data_types.DictModel.schema_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">schema_hash</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.data_types.DictModel.schema_hash" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.data_types.DictModel.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.data_types.DictModel.size" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.data_types.DictModel.value_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_hash</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.data_types.DictModel.value_hash" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h7 id="kiara.models.data_types.DictModel.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.data_types.DictModel.Config" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/data_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">json_loads</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">loads</span>
    <span class="n">json_dumps</span> <span class="o">=</span> <span class="n">orjson_dumps</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.data_types.DictModel.Config.json_loads" class="doc doc-heading">
<code class="highlight language-python"><span class="n">json_loads</span></code>


<a href="#kiara.models.data_types.DictModel.Config.json_loads" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.data_types.DictModel.Config.json_dumps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">json_dumps</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span></code>


<a href="#kiara.models.data_types.DictModel.Config.json_dumps" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/data_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">orjson_dumps</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">):</span>
    <span class="c1"># orjson.dumps returns bytes, to match standard json.dumps we need to decode</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">orjson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_debug</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error dumping json data: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="kn">from</span> <span class="nn">kiara</span> <span class="kn">import</span> <span class="n">dbg</span>

            <span class="n">dbg</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

        <span class="k">raise</span> <span class="n">e</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="kiara.models.documentation" class="doc doc-heading">
        <code>documentation</code>



<a href="#kiara.models.documentation" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h4 id="kiara.models.documentation-classes">Classes<a href="#kiara.models.documentation-classes" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-class">



<h5 id="kiara.models.documentation.AuthorModel" class="doc doc-heading">
        <code>
AuthorModel            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.documentation.AuthorModel" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Details about an author of a resource.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AuthorModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Details about an author of a resource.&quot;&quot;&quot;</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Author&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The full name of the author.&quot;</span><span class="p">)</span>
    <span class="n">email</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">EmailStr</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The email address of the author&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.documentation.AuthorModel-attributes">Attributes<a href="#kiara.models.documentation.AuthorModel-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.documentation.AuthorModel.email" class="doc doc-heading">
<code class="highlight language-python"><span class="n">email</span><span class="p">:</span> <span class="n">EmailStr</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.documentation.AuthorModel.email" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The email address of the author</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.documentation.AuthorModel.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.documentation.AuthorModel.name" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The full name of the author.</p>
    </div>

  </div>




  <div class="doc doc-object doc-class">



<h7 id="kiara.models.documentation.AuthorModel.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.documentation.AuthorModel.Config" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Author&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.documentation.AuthorsMetadataModel" class="doc doc-heading">
        <code>
AuthorsMetadataModel            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.documentation.AuthorsMetadataModel" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Information about all authors of a resource.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AuthorsMetadataModel</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Information about all authors of a resource.&quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;metadata.authors&quot;</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">ignore</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Authors&quot;</span>

    <span class="n">_metadata_key</span> <span class="o">=</span> <span class="s2">&quot;origin&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">item_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">):</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">get_metadata_for_python_module_or_class</span><span class="p">(</span><span class="n">item_cls</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="n">merged</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">(</span><span class="o">*</span><span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">merged</span><span class="p">)</span>

    <span class="n">authors</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">AuthorModel</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The authors/creators of this item.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Name&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Email&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">author</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">author</span><span class="o">.</span><span class="n">email</span><span class="p">:</span>
                <span class="n">authors</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">EmailStr</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="n">author</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">author</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">authors</span> <span class="o">=</span> <span class="p">(</span><span class="n">author</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">authors</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.documentation.AuthorsMetadataModel-attributes">Attributes<a href="#kiara.models.documentation.AuthorsMetadataModel-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.documentation.AuthorsMetadataModel.authors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">authors</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">AuthorModel</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.documentation.AuthorsMetadataModel.authors" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The authors/creators of this item.</p>
    </div>

  </div>




  <div class="doc doc-object doc-class">



<h7 id="kiara.models.documentation.AuthorsMetadataModel.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.documentation.AuthorsMetadataModel.Config" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">ignore</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Authors&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.documentation.AuthorsMetadataModel.Config.extra" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extra</span></code>


<a href="#kiara.models.documentation.AuthorsMetadataModel.Config.extra" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.documentation.AuthorsMetadataModel.Config.title" class="doc doc-heading">
<code class="highlight language-python"><span class="n">title</span></code>


<a href="#kiara.models.documentation.AuthorsMetadataModel.Config.title" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h7 id="kiara.models.documentation.AuthorsMetadataModel.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.documentation.AuthorsMetadataModel.create_renderable" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Name&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Email&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">author</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">author</span><span class="o">.</span><span class="n">email</span><span class="p">:</span>
            <span class="n">authors</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">EmailStr</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="n">author</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">author</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">authors</span> <span class="o">=</span> <span class="p">(</span><span class="n">author</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">authors</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.documentation.AuthorsMetadataModel.from_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_class</span><span class="p">(</span><span class="n">item_cls</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.documentation.AuthorsMetadataModel.from_class" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">item_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">):</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">get_metadata_for_python_module_or_class</span><span class="p">(</span><span class="n">item_cls</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="n">merged</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">(</span><span class="o">*</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">merged</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.documentation.ContextMetadataModel" class="doc doc-heading">
        <code>
ContextMetadataModel            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.documentation.ContextMetadataModel" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Information about the context of a resource.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ContextMetadataModel</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Information about the context of a resource.&quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;metadata.context&quot;</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">ignore</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Context&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">item_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">):</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">get_metadata_for_python_module_or_class</span><span class="p">(</span><span class="n">item_cls</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="n">merged</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">(</span><span class="o">*</span><span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">merged</span><span class="p">)</span>

    <span class="n">_metadata_key</span> <span class="o">=</span> <span class="s2">&quot;properties&quot;</span>

    <span class="n">references</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">LinkModel</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;References for the item.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A list of tags for the item.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span>
    <span class="p">)</span>
    <span class="n">labels</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A list of labels for the item.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Key&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Tags&quot;</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span><span class="p">:</span>
            <span class="n">labels</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">labels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[i]</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">[/i]: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Labels&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">labels</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="p">:</span>
            <span class="n">references</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">_k</span><span class="p">,</span> <span class="n">_v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">link</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[link=</span><span class="si">{</span><span class="n">_v</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">]</span><span class="si">{</span><span class="n">_v</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">[/link]&quot;</span>
                <span class="n">references</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[i]</span><span class="si">{</span><span class="n">_k</span><span class="si">}</span><span class="s2">[/i]: </span><span class="si">{</span><span class="n">link</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;References&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">references</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">table</span>

    <span class="k">def</span> <span class="nf">add_reference</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ref_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">desc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>

        <span class="k">if</span> <span class="n">ref_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reference of type &#39;</span><span class="si">{</span><span class="n">ref_type</span><span class="si">}</span><span class="s2">&#39; already present.&quot;</span><span class="p">)</span>
        <span class="n">link</span> <span class="o">=</span> <span class="n">LinkModel</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="n">desc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="p">[</span><span class="n">ref_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">link</span>

    <span class="k">def</span> <span class="nf">get_url_for_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ref</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>

        <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">link</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="n">link</span><span class="o">.</span><span class="n">url</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.documentation.ContextMetadataModel-attributes">Attributes<a href="#kiara.models.documentation.ContextMetadataModel-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.documentation.ContextMetadataModel.labels" class="doc doc-heading">
<code class="highlight language-python"><span class="n">labels</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.documentation.ContextMetadataModel.labels" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A list of labels for the item.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.documentation.ContextMetadataModel.references" class="doc doc-heading">
<code class="highlight language-python"><span class="n">references</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">LinkModel</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.documentation.ContextMetadataModel.references" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>References for the item.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.documentation.ContextMetadataModel.tags" class="doc doc-heading">
<code class="highlight language-python"><span class="n">tags</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.documentation.ContextMetadataModel.tags" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A list of tags for the item.</p>
    </div>

  </div>




  <div class="doc doc-object doc-class">



<h7 id="kiara.models.documentation.ContextMetadataModel.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.documentation.ContextMetadataModel.Config" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">ignore</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Context&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.documentation.ContextMetadataModel.Config.extra" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extra</span></code>


<a href="#kiara.models.documentation.ContextMetadataModel.Config.extra" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.documentation.ContextMetadataModel.Config.title" class="doc doc-heading">
<code class="highlight language-python"><span class="n">title</span></code>


<a href="#kiara.models.documentation.ContextMetadataModel.Config.title" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h7 id="kiara.models.documentation.ContextMetadataModel.add_reference" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ref_type</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#kiara.models.documentation.ContextMetadataModel.add_reference" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_reference</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">ref_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">desc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>

    <span class="k">if</span> <span class="n">ref_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reference of type &#39;</span><span class="si">{</span><span class="n">ref_type</span><span class="si">}</span><span class="s2">&#39; already present.&quot;</span><span class="p">)</span>
    <span class="n">link</span> <span class="o">=</span> <span class="n">LinkModel</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="n">desc</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="p">[</span><span class="n">ref_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">link</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.documentation.ContextMetadataModel.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.documentation.ContextMetadataModel.create_renderable" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Key&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Tags&quot;</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">))</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span><span class="p">:</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">labels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[i]</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">[/i]: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Labels&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">labels</span><span class="p">))</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="p">:</span>
        <span class="n">references</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">_k</span><span class="p">,</span> <span class="n">_v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">link</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[link=</span><span class="si">{</span><span class="n">_v</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">]</span><span class="si">{</span><span class="n">_v</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">[/link]&quot;</span>
            <span class="n">references</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[i]</span><span class="si">{</span><span class="n">_k</span><span class="si">}</span><span class="s2">[/i]: </span><span class="si">{</span><span class="n">link</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;References&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">references</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.documentation.ContextMetadataModel.from_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_class</span><span class="p">(</span><span class="n">item_cls</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.documentation.ContextMetadataModel.from_class" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">item_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">):</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">get_metadata_for_python_module_or_class</span><span class="p">(</span><span class="n">item_cls</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="n">merged</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">(</span><span class="o">*</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">merged</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.documentation.ContextMetadataModel.get_url_for_reference" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_url_for_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span></code>


<a href="#kiara.models.documentation.ContextMetadataModel.get_url_for_reference" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_url_for_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ref</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>

    <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">link</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">link</span><span class="o">.</span><span class="n">url</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.documentation.DocumentationMetadataModel" class="doc doc-heading">
        <code>
DocumentationMetadataModel            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.documentation.DocumentationMetadataModel" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Documentation about a resource.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DocumentationMetadataModel</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Documentation about a resource.&quot;&quot;&quot;</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Documentation&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;metadata.documentation&quot;</span>

    <span class="n">_metadata_key</span> <span class="o">=</span> <span class="s2">&quot;documentation&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_class_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">item_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">):</span>

        <span class="n">doc</span> <span class="o">=</span> <span class="n">item_cls</span><span class="o">.</span><span class="vm">__doc__</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">doc</span><span class="p">:</span>
            <span class="n">doc</span> <span class="o">=</span> <span class="n">DEFAULT_NO_DESC_VALUE</span>

        <span class="n">doc</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">cleandoc</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_function</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">):</span>

        <span class="n">doc</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="vm">__doc__</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">doc</span><span class="p">:</span>
            <span class="n">doc</span> <span class="o">=</span> <span class="n">DEFAULT_NO_DESC_VALUE</span>

        <span class="n">doc</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">cleandoc</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">doc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]):</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">doc</span><span class="p">:</span>
            <span class="n">doc</span> <span class="o">=</span> <span class="n">DEFAULT_NO_DESC_VALUE</span>

        <span class="k">if</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="n">doc</span><span class="p">:</span>
            <span class="n">desc</span><span class="p">,</span> <span class="n">doc</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">desc</span> <span class="o">=</span> <span class="n">doc</span>
            <span class="n">doc</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">doc</span><span class="p">:</span>
            <span class="n">doc</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="n">desc</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span> <span class="n">doc</span><span class="o">=</span><span class="n">doc</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">):</span>

        <span class="n">doc</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">desc</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">desc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">desc</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">doc</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">desc</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">DEFAULT_NO_DESC_VALUE</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">doc</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">desc</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">desc</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">doc</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">desc</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="n">desc</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="n">doc</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">DEFAULT_NO_DESC_VALUE</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">DocumentationMetadataModel</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">item</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">type</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_class_doc</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t create documentation from type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Short description of the item.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">DEFAULT_NO_DESC_VALUE</span>
    <span class="p">)</span>
    <span class="n">doc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Detailed documentation of the item (in markdown).&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_set</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">!=</span> <span class="n">DEFAULT_NO_DESC_VALUE</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_doc</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">full_doc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="se">\n\n</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="k">return</span> <span class="n">Markdown</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">full_doc</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.documentation.DocumentationMetadataModel-attributes">Attributes<a href="#kiara.models.documentation.DocumentationMetadataModel-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.documentation.DocumentationMetadataModel.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.documentation.DocumentationMetadataModel.description" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Short description of the item.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.documentation.DocumentationMetadataModel.doc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">doc</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.documentation.DocumentationMetadataModel.doc" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Detailed documentation of the item (in markdown).</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.documentation.DocumentationMetadataModel.full_doc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">full_doc</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.documentation.DocumentationMetadataModel.full_doc" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.documentation.DocumentationMetadataModel.is_set" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_set</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.documentation.DocumentationMetadataModel.is_set" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h7 id="kiara.models.documentation.DocumentationMetadataModel.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.documentation.DocumentationMetadataModel.Config" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Documentation&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>





  <div class="doc doc-object doc-method">



<h7 id="kiara.models.documentation.DocumentationMetadataModel.create" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create</span><span class="p">(</span><span class="n">item</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.documentation.DocumentationMetadataModel.create" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">DEFAULT_NO_DESC_VALUE</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">DocumentationMetadataModel</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">item</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">type</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_class_doc</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t create documentation from type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.documentation.DocumentationMetadataModel.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.documentation.DocumentationMetadataModel.create_renderable" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="k">return</span> <span class="n">Markdown</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">full_doc</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.documentation.DocumentationMetadataModel.from_class_doc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_class_doc</span><span class="p">(</span><span class="n">item_cls</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.documentation.DocumentationMetadataModel.from_class_doc" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_class_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">item_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">):</span>

    <span class="n">doc</span> <span class="o">=</span> <span class="n">item_cls</span><span class="o">.</span><span class="vm">__doc__</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">doc</span><span class="p">:</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">DEFAULT_NO_DESC_VALUE</span>

    <span class="n">doc</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">cleandoc</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.documentation.DocumentationMetadataModel.from_dict" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.documentation.DocumentationMetadataModel.from_dict" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">):</span>

    <span class="n">doc</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">desc</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">desc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">desc</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">doc</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">desc</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">DEFAULT_NO_DESC_VALUE</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">doc</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">desc</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">desc</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">doc</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">desc</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="n">desc</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="n">doc</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.documentation.DocumentationMetadataModel.from_function" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_function</span><span class="p">(</span><span class="n">func</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.documentation.DocumentationMetadataModel.from_function" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_function</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">):</span>

    <span class="n">doc</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="vm">__doc__</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">doc</span><span class="p">:</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">DEFAULT_NO_DESC_VALUE</span>

    <span class="n">doc</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">cleandoc</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.documentation.DocumentationMetadataModel.from_string" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_string</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.documentation.DocumentationMetadataModel.from_string" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">doc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]):</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">doc</span><span class="p">:</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">DEFAULT_NO_DESC_VALUE</span>

    <span class="k">if</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="n">doc</span><span class="p">:</span>
        <span class="n">desc</span><span class="p">,</span> <span class="n">doc</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">desc</span> <span class="o">=</span> <span class="n">doc</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">doc</span><span class="p">:</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="n">desc</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span> <span class="n">doc</span><span class="o">=</span><span class="n">doc</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.documentation.LinkModel" class="doc doc-heading">
        <code>
LinkModel            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.documentation.LinkModel" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>A description and url for a reference of any kind.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LinkModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A description and url for a reference of any kind.&quot;&quot;&quot;</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Link&quot;</span>

    <span class="n">url</span><span class="p">:</span> <span class="n">AnyUrl</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The url.&quot;</span><span class="p">)</span>
    <span class="n">desc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A short description of the link content.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">DEFAULT_NO_DESC_VALUE</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.documentation.LinkModel-attributes">Attributes<a href="#kiara.models.documentation.LinkModel-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.documentation.LinkModel.desc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">desc</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.documentation.LinkModel.desc" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A short description of the link content.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.documentation.LinkModel.url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">url</span><span class="p">:</span> <span class="n">AnyUrl</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.documentation.LinkModel.url" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The url.</p>
    </div>

  </div>




  <div class="doc doc-object doc-class">



<h7 id="kiara.models.documentation.LinkModel.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.documentation.LinkModel.Config" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/documentation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Link&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>







  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="kiara.models.events" class="doc doc-heading">
        <code>events</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara.models.events" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h4 id="kiara.models.events-classes">Classes<a href="#kiara.models.events-classes" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-class">



<h5 id="kiara.models.events.KiaraEvent" class="doc doc-heading">
        <code>
KiaraEvent            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.KiaraEvent" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KiaraEvent</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">json_loads</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">loads</span>
        <span class="n">json_dumps</span> <span class="o">=</span> <span class="n">orjson_dumps</span>

    <span class="k">def</span> <span class="nf">get_event_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;event_type&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">event_type</span>  <span class="c1"># type: ignore</span>

        <span class="n">name</span> <span class="o">=</span> <span class="n">camel_case_to_snake_case</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">name</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.KiaraEvent.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.events.KiaraEvent.Config" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">json_loads</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">loads</span>
    <span class="n">json_dumps</span> <span class="o">=</span> <span class="n">orjson_dumps</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.KiaraEvent.Config.json_loads" class="doc doc-heading">
<code class="highlight language-python"><span class="n">json_loads</span></code>


<a href="#kiara.models.events.KiaraEvent.Config.json_loads" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.events.KiaraEvent.Config.json_dumps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">json_dumps</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span></code>


<a href="#kiara.models.events.KiaraEvent.Config.json_dumps" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">orjson_dumps</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">):</span>
    <span class="c1"># orjson.dumps returns bytes, to match standard json.dumps we need to decode</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">orjson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_debug</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error dumping json data: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="kn">from</span> <span class="nn">kiara</span> <span class="kn">import</span> <span class="n">dbg</span>

            <span class="n">dbg</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

        <span class="k">raise</span> <span class="n">e</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h7 id="kiara.models.events.KiaraEvent.get_event_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_event_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.events.KiaraEvent.get_event_type" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_event_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;event_type&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">event_type</span>  <span class="c1"># type: ignore</span>

    <span class="n">name</span> <span class="o">=</span> <span class="n">camel_case_to_snake_case</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">name</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.events.RegistryEvent" class="doc doc-heading">
        <code>
RegistryEvent            (<a class="autorefs autorefs-internal" title="kiara.models.events.KiaraEvent" href="../events/__init__/#kiara.models.events.KiaraEvent">KiaraEvent</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.RegistryEvent" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RegistryEvent</span><span class="p">(</span><span class="n">KiaraEvent</span><span class="p">):</span>

    <span class="n">kiara_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The id of the kiara context the value was created in.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.events.RegistryEvent-attributes">Attributes<a href="#kiara.models.events.RegistryEvent-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.events.RegistryEvent.kiara_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">kiara_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.RegistryEvent.kiara_id" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The id of the kiara context the value was created in.</p>
    </div>

  </div>








  </div>

    </div>

  </div>




<h4 id="kiara.models.events-modules">Modules<a href="#kiara.models.events-modules" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-module">



<h5 id="kiara.models.events.alias_registry" class="doc doc-heading">
        <code>alias_registry</code>



<a href="#kiara.models.events.alias_registry" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.events.alias_registry-classes">Classes<a href="#kiara.models.events.alias_registry-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.alias_registry.AliasArchiveAddedEvent" class="doc doc-heading">
        <code>
AliasArchiveAddedEvent            (<a class="autorefs autorefs-internal" title="kiara.models.events.RegistryEvent" href="../events/__init__/#kiara.models.events.RegistryEvent">RegistryEvent</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.alias_registry.AliasArchiveAddedEvent" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/alias_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AliasArchiveAddedEvent</span><span class="p">(</span><span class="n">RegistryEvent</span><span class="p">):</span>

    <span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;alias_archive_added&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;alias_archive_added&quot;</span>
    <span class="n">alias_archive_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The unique id of this data archive.&quot;</span>
    <span class="p">)</span>
    <span class="n">alias_archive_alias</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The alias this data archive was added as.&quot;</span>
    <span class="p">)</span>
    <span class="n">is_store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this archive supports write operations (aka implements the &#39;DataStore&#39; interface).&quot;</span>
    <span class="p">)</span>
    <span class="n">is_default_store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this store acts as default store.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.events.alias_registry.AliasArchiveAddedEvent-attributes">Attributes<a href="#kiara.models.events.alias_registry.AliasArchiveAddedEvent-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.alias_registry.AliasArchiveAddedEvent.alias_archive_alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">alias_archive_alias</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.alias_registry.AliasArchiveAddedEvent.alias_archive_alias" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The alias this data archive was added as.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.alias_registry.AliasArchiveAddedEvent.alias_archive_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">alias_archive_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.alias_registry.AliasArchiveAddedEvent.alias_archive_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The unique id of this data archive.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.alias_registry.AliasArchiveAddedEvent.event_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;alias_archive_added&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.alias_registry.AliasArchiveAddedEvent.event_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.alias_registry.AliasArchiveAddedEvent.is_default_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_default_store</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.alias_registry.AliasArchiveAddedEvent.is_default_store" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Whether this store acts as default store.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.alias_registry.AliasArchiveAddedEvent.is_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_store</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.alias_registry.AliasArchiveAddedEvent.is_store" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Whether this archive supports write operations (aka implements the 'DataStore' interface).</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.alias_registry.AliasPreStoreEvent" class="doc doc-heading">
        <code>
AliasPreStoreEvent            (<a class="autorefs autorefs-internal" title="kiara.models.events.RegistryEvent" href="../events/__init__/#kiara.models.events.RegistryEvent">RegistryEvent</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.alias_registry.AliasPreStoreEvent" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/alias_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AliasPreStoreEvent</span><span class="p">(</span><span class="n">RegistryEvent</span><span class="p">):</span>

    <span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;alias_pre_store&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;alias_pre_store&quot;</span>
    <span class="n">aliases</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The alias.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.events.alias_registry.AliasPreStoreEvent-attributes">Attributes<a href="#kiara.models.events.alias_registry.AliasPreStoreEvent-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.alias_registry.AliasPreStoreEvent.aliases" class="doc doc-heading">
<code class="highlight language-python"><span class="n">aliases</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.alias_registry.AliasPreStoreEvent.aliases" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The alias.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.alias_registry.AliasPreStoreEvent.event_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;alias_pre_store&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.alias_registry.AliasPreStoreEvent.event_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.alias_registry.AliasStoredEvent" class="doc doc-heading">
        <code>
AliasStoredEvent            (<a class="autorefs autorefs-internal" title="kiara.models.events.RegistryEvent" href="../events/__init__/#kiara.models.events.RegistryEvent">RegistryEvent</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.alias_registry.AliasStoredEvent" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/alias_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AliasStoredEvent</span><span class="p">(</span><span class="n">RegistryEvent</span><span class="p">):</span>

    <span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;alias_stored&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;alias_stored&quot;</span>
    <span class="n">alias</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The alias.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.events.alias_registry.AliasStoredEvent-attributes">Attributes<a href="#kiara.models.events.alias_registry.AliasStoredEvent-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.alias_registry.AliasStoredEvent.alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">alias</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.alias_registry.AliasStoredEvent.alias" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The alias.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.alias_registry.AliasStoredEvent.event_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;alias_stored&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.alias_registry.AliasStoredEvent.event_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.events.data_registry" class="doc doc-heading">
        <code>data_registry</code>



<a href="#kiara.models.events.data_registry" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.events.data_registry-classes">Classes<a href="#kiara.models.events.data_registry-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.data_registry.DataArchiveAddedEvent" class="doc doc-heading">
        <code>
DataArchiveAddedEvent            (<a class="autorefs autorefs-internal" title="kiara.models.events.RegistryEvent" href="../events/__init__/#kiara.models.events.RegistryEvent">RegistryEvent</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.data_registry.DataArchiveAddedEvent" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/data_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DataArchiveAddedEvent</span><span class="p">(</span><span class="n">RegistryEvent</span><span class="p">):</span>

    <span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;data_archive_added&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;data_archive_added&quot;</span>
    <span class="n">data_archive_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The unique id of this data archive.&quot;</span>
    <span class="p">)</span>
    <span class="n">data_archive_alias</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The alias this data archive was added as.&quot;</span>
    <span class="p">)</span>
    <span class="n">is_store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this archive supports write operations (aka implements the &#39;DataStore&#39; interface).&quot;</span>
    <span class="p">)</span>
    <span class="n">is_default_store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this store acts as default store.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.events.data_registry.DataArchiveAddedEvent-attributes">Attributes<a href="#kiara.models.events.data_registry.DataArchiveAddedEvent-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.data_registry.DataArchiveAddedEvent.data_archive_alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_archive_alias</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.data_registry.DataArchiveAddedEvent.data_archive_alias" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The alias this data archive was added as.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.data_registry.DataArchiveAddedEvent.data_archive_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_archive_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.data_registry.DataArchiveAddedEvent.data_archive_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The unique id of this data archive.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.data_registry.DataArchiveAddedEvent.event_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;data_archive_added&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.data_registry.DataArchiveAddedEvent.event_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.data_registry.DataArchiveAddedEvent.is_default_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_default_store</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.data_registry.DataArchiveAddedEvent.is_default_store" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Whether this store acts as default store.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.data_registry.DataArchiveAddedEvent.is_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_store</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.data_registry.DataArchiveAddedEvent.is_store" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Whether this archive supports write operations (aka implements the 'DataStore' interface).</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.data_registry.ValueCreatedEvent" class="doc doc-heading">
        <code>
ValueCreatedEvent            (<a class="autorefs autorefs-internal" title="kiara.models.events.RegistryEvent" href="../events/__init__/#kiara.models.events.RegistryEvent">RegistryEvent</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.data_registry.ValueCreatedEvent" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/data_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueCreatedEvent</span><span class="p">(</span><span class="n">RegistryEvent</span><span class="p">):</span>

    <span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;value_created&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;value_created&quot;</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Value</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The value metadata.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.events.data_registry.ValueCreatedEvent-attributes">Attributes<a href="#kiara.models.events.data_registry.ValueCreatedEvent-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.data_registry.ValueCreatedEvent.event_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;value_created&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.data_registry.ValueCreatedEvent.event_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.data_registry.ValueCreatedEvent.value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value</span><span class="p">:</span> <span class="n">Value</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.data_registry.ValueCreatedEvent.value" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The value metadata.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.data_registry.ValuePreStoreEvent" class="doc doc-heading">
        <code>
ValuePreStoreEvent            (<a class="autorefs autorefs-internal" title="kiara.models.events.RegistryEvent" href="../events/__init__/#kiara.models.events.RegistryEvent">RegistryEvent</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.data_registry.ValuePreStoreEvent" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/data_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValuePreStoreEvent</span><span class="p">(</span><span class="n">RegistryEvent</span><span class="p">):</span>

    <span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;value_pre_store&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;value_pre_store&quot;</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Value</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The value metadata.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.events.data_registry.ValuePreStoreEvent-attributes">Attributes<a href="#kiara.models.events.data_registry.ValuePreStoreEvent-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.data_registry.ValuePreStoreEvent.event_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;value_pre_store&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.data_registry.ValuePreStoreEvent.event_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.data_registry.ValuePreStoreEvent.value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value</span><span class="p">:</span> <span class="n">Value</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.data_registry.ValuePreStoreEvent.value" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The value metadata.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.data_registry.ValueRegisteredEvent" class="doc doc-heading">
        <code>
ValueRegisteredEvent            (<a class="autorefs autorefs-internal" title="kiara.models.events.RegistryEvent" href="../events/__init__/#kiara.models.events.RegistryEvent">RegistryEvent</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.data_registry.ValueRegisteredEvent" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/data_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueRegisteredEvent</span><span class="p">(</span><span class="n">RegistryEvent</span><span class="p">):</span>

    <span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;value_registered&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;value_registered&quot;</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Value</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The value metadata.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.events.data_registry.ValueRegisteredEvent-attributes">Attributes<a href="#kiara.models.events.data_registry.ValueRegisteredEvent-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.data_registry.ValueRegisteredEvent.event_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;value_registered&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.data_registry.ValueRegisteredEvent.event_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.data_registry.ValueRegisteredEvent.value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value</span><span class="p">:</span> <span class="n">Value</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.data_registry.ValueRegisteredEvent.value" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The value metadata.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.data_registry.ValueStoredEvent" class="doc doc-heading">
        <code>
ValueStoredEvent            (<a class="autorefs autorefs-internal" title="kiara.models.events.RegistryEvent" href="../events/__init__/#kiara.models.events.RegistryEvent">RegistryEvent</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.data_registry.ValueStoredEvent" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/data_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueStoredEvent</span><span class="p">(</span><span class="n">RegistryEvent</span><span class="p">):</span>

    <span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;value_stored&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;value_stored&quot;</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Value</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The value metadata.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.events.data_registry.ValueStoredEvent-attributes">Attributes<a href="#kiara.models.events.data_registry.ValueStoredEvent-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.data_registry.ValueStoredEvent.event_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;value_stored&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.data_registry.ValueStoredEvent.event_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.data_registry.ValueStoredEvent.value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value</span><span class="p">:</span> <span class="n">Value</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.data_registry.ValueStoredEvent.value" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The value metadata.</p>
    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.events.destiny_registry" class="doc doc-heading">
        <code>destiny_registry</code>



<a href="#kiara.models.events.destiny_registry" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.events.destiny_registry-classes">Classes<a href="#kiara.models.events.destiny_registry-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.destiny_registry.DestinyArchiveAddedEvent" class="doc doc-heading">
        <code>
DestinyArchiveAddedEvent            (<a class="autorefs autorefs-internal" title="kiara.models.events.RegistryEvent" href="../events/__init__/#kiara.models.events.RegistryEvent">RegistryEvent</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.destiny_registry.DestinyArchiveAddedEvent" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/destiny_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DestinyArchiveAddedEvent</span><span class="p">(</span><span class="n">RegistryEvent</span><span class="p">):</span>

    <span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;destiny_archive_added&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;destiny_archive_added&quot;</span>
    <span class="n">destiny_archive_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The unique id of this destiny archive.&quot;</span>
    <span class="p">)</span>
    <span class="n">destiny_archive_alias</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The alias this destiny archive was added as.&quot;</span>
    <span class="p">)</span>
    <span class="n">is_store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this archive supports write operations (aka implements the &#39;DestinyStore&#39; interface).&quot;</span>
    <span class="p">)</span>
    <span class="n">is_default_store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this store acts as default store.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.events.destiny_registry.DestinyArchiveAddedEvent-attributes">Attributes<a href="#kiara.models.events.destiny_registry.DestinyArchiveAddedEvent-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.destiny_registry.DestinyArchiveAddedEvent.destiny_archive_alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">destiny_archive_alias</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.destiny_registry.DestinyArchiveAddedEvent.destiny_archive_alias" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The alias this destiny archive was added as.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.destiny_registry.DestinyArchiveAddedEvent.destiny_archive_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">destiny_archive_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.destiny_registry.DestinyArchiveAddedEvent.destiny_archive_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The unique id of this destiny archive.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.destiny_registry.DestinyArchiveAddedEvent.event_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;destiny_archive_added&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.destiny_registry.DestinyArchiveAddedEvent.event_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.destiny_registry.DestinyArchiveAddedEvent.is_default_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_default_store</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.destiny_registry.DestinyArchiveAddedEvent.is_default_store" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Whether this store acts as default store.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.destiny_registry.DestinyArchiveAddedEvent.is_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_store</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.destiny_registry.DestinyArchiveAddedEvent.is_store" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Whether this archive supports write operations (aka implements the 'DestinyStore' interface).</p>
    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.events.job_registry" class="doc doc-heading">
        <code>job_registry</code>



<a href="#kiara.models.events.job_registry" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.events.job_registry-classes">Classes<a href="#kiara.models.events.job_registry-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.job_registry.JobArchiveAddedEvent" class="doc doc-heading">
        <code>
JobArchiveAddedEvent            (<a class="autorefs autorefs-internal" title="kiara.models.events.RegistryEvent" href="../events/__init__/#kiara.models.events.RegistryEvent">RegistryEvent</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.job_registry.JobArchiveAddedEvent" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/job_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">JobArchiveAddedEvent</span><span class="p">(</span><span class="n">RegistryEvent</span><span class="p">):</span>

    <span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;job_archive_added&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;job_archive_added&quot;</span>

    <span class="n">job_archive_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The unique id of this job archive.&quot;</span><span class="p">)</span>
    <span class="n">job_archive_alias</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The alias this job archive was added as.&quot;</span>
    <span class="p">)</span>
    <span class="n">is_store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this archive supports write operations (aka implements the &#39;JobStore&#39; interface).&quot;</span>
    <span class="p">)</span>
    <span class="n">is_default_store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this store acts as default store.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.events.job_registry.JobArchiveAddedEvent-attributes">Attributes<a href="#kiara.models.events.job_registry.JobArchiveAddedEvent-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.job_registry.JobArchiveAddedEvent.event_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;job_archive_added&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.job_registry.JobArchiveAddedEvent.event_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.job_registry.JobArchiveAddedEvent.is_default_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_default_store</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.job_registry.JobArchiveAddedEvent.is_default_store" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Whether this store acts as default store.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.job_registry.JobArchiveAddedEvent.is_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_store</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.job_registry.JobArchiveAddedEvent.is_store" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Whether this archive supports write operations (aka implements the 'JobStore' interface).</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.job_registry.JobArchiveAddedEvent.job_archive_alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">job_archive_alias</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.job_registry.JobArchiveAddedEvent.job_archive_alias" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The alias this job archive was added as.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.job_registry.JobArchiveAddedEvent.job_archive_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">job_archive_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.job_registry.JobArchiveAddedEvent.job_archive_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The unique id of this job archive.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.job_registry.JobRecordPreStoreEvent" class="doc doc-heading">
        <code>
JobRecordPreStoreEvent            (<a class="autorefs autorefs-internal" title="kiara.models.events.RegistryEvent" href="../events/__init__/#kiara.models.events.RegistryEvent">RegistryEvent</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.job_registry.JobRecordPreStoreEvent" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/job_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">JobRecordPreStoreEvent</span><span class="p">(</span><span class="n">RegistryEvent</span><span class="p">):</span>

    <span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;job_record_pre_store&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;job_record_pre_store&quot;</span>
    <span class="n">job_record</span><span class="p">:</span> <span class="n">JobRecord</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The job record.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.events.job_registry.JobRecordPreStoreEvent-attributes">Attributes<a href="#kiara.models.events.job_registry.JobRecordPreStoreEvent-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.job_registry.JobRecordPreStoreEvent.event_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;job_record_pre_store&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.job_registry.JobRecordPreStoreEvent.event_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.job_registry.JobRecordPreStoreEvent.job_record" class="doc doc-heading">
<code class="highlight language-python"><span class="n">job_record</span><span class="p">:</span> <span class="n">JobRecord</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.job_registry.JobRecordPreStoreEvent.job_record" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The job record.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.job_registry.JobRecordStoredEvent" class="doc doc-heading">
        <code>
JobRecordStoredEvent            (<a class="autorefs autorefs-internal" title="kiara.models.events.RegistryEvent" href="../events/__init__/#kiara.models.events.RegistryEvent">RegistryEvent</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.job_registry.JobRecordStoredEvent" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/job_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">JobRecordStoredEvent</span><span class="p">(</span><span class="n">RegistryEvent</span><span class="p">):</span>

    <span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;job_record_stored&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;job_record_stored&quot;</span>
    <span class="n">job_record</span><span class="p">:</span> <span class="n">JobRecord</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The job record.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.events.job_registry.JobRecordStoredEvent-attributes">Attributes<a href="#kiara.models.events.job_registry.JobRecordStoredEvent-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.job_registry.JobRecordStoredEvent.event_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;job_record_stored&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.job_registry.JobRecordStoredEvent.event_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.job_registry.JobRecordStoredEvent.job_record" class="doc doc-heading">
<code class="highlight language-python"><span class="n">job_record</span><span class="p">:</span> <span class="n">JobRecord</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.job_registry.JobRecordStoredEvent.job_record" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The job record.</p>
    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.events.pipeline" class="doc doc-heading">
        <code>pipeline</code>



<a href="#kiara.models.events.pipeline" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.events.pipeline-classes">Classes<a href="#kiara.models.events.pipeline-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.pipeline.ChangedValue" class="doc doc-heading">
        <code>
ChangedValue            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.pipeline.ChangedValue" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ChangedValue</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>

    <span class="n">old</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
    <span class="n">new</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.ChangedValue.new" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.pipeline.ChangedValue.new" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.ChangedValue.old" class="doc doc-heading">
<code class="highlight language-python"><span class="n">old</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.pipeline.ChangedValue.old" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.pipeline.PipelineEvent" class="doc doc-heading">
        <code>
PipelineEvent            (<a class="autorefs autorefs-internal" title="kiara.models.events.KiaraEvent" href="../events/__init__/#kiara.models.events.KiaraEvent">KiaraEvent</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineEvent" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineEvent</span><span class="p">(</span><span class="n">KiaraEvent</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_event</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;Pipeline&quot;</span><span class="p">,</span>
        <span class="n">changed</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;PipelineEvent&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>

        <span class="n">pipeline_inputs</span> <span class="o">=</span> <span class="n">changed</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;__pipeline__&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;inputs&quot;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">pipeline_outputs</span> <span class="o">=</span> <span class="n">changed</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;__pipeline__&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;outputs&quot;</span><span class="p">,</span> <span class="p">{})</span>

        <span class="n">step_inputs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">step_outputs</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">invalidated_steps</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">step_id</span><span class="p">,</span> <span class="n">change_details</span> <span class="ow">in</span> <span class="n">changed</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">step_id</span> <span class="o">==</span> <span class="s2">&quot;__pipeline__&quot;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">inputs</span> <span class="o">=</span> <span class="n">change_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;inputs&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">inputs</span><span class="p">:</span>
                <span class="n">invalidated_steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
                <span class="n">step_inputs</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">inputs</span>
            <span class="n">outputs</span> <span class="o">=</span> <span class="n">change_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;outputs&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">outputs</span><span class="p">:</span>
                <span class="n">invalidated_steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
                <span class="n">step_outputs</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">outputs</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="ow">not</span> <span class="n">pipeline_inputs</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="n">pipeline_outputs</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="n">step_inputs</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="n">step_outputs</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="n">invalidated_steps</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="p">(</span>
            <span class="n">kiara_id</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">kiara_id</span><span class="p">,</span>
            <span class="n">pipeline_id</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">,</span>
            <span class="n">pipeline_inputs_changed</span><span class="o">=</span><span class="n">pipeline_inputs</span><span class="p">,</span>
            <span class="n">pipeline_outputs_changed</span><span class="o">=</span><span class="n">pipeline_outputs</span><span class="p">,</span>
            <span class="n">step_inputs_changed</span><span class="o">=</span><span class="n">step_inputs</span><span class="p">,</span>
            <span class="n">step_outputs_changed</span><span class="o">=</span><span class="n">step_outputs</span><span class="p">,</span>
            <span class="n">changed_steps</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">invalidated_steps</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">event</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">allow_mutation</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">kiara_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The id of the kiara context that created the pipeline.&quot;</span>
    <span class="p">)</span>
    <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The pipeline id.&quot;</span><span class="p">)</span>

    <span class="n">pipeline_inputs_changed</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Details about changed pipeline input values.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>
    <span class="n">pipeline_outputs_changed</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Details about changed pipeline output values.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">step_inputs_changed</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Details about changed step input values.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>
    <span class="n">step_outputs_changed</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Details about changed step output values.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>

    <span class="n">changed_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A list of all step ids that have newly invalidated outputs.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(pipeline_id=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="si">}</span><span class="s2">, invalidated_steps=</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">changed_steps</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.events.pipeline.PipelineEvent-attributes">Attributes<a href="#kiara.models.events.pipeline.PipelineEvent-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.PipelineEvent.changed_steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">changed_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineEvent.changed_steps" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A list of all step ids that have newly invalidated outputs.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.PipelineEvent.kiara_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">kiara_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineEvent.kiara_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The id of the kiara context that created the pipeline.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.PipelineEvent.pipeline_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineEvent.pipeline_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The pipeline id.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.PipelineEvent.pipeline_inputs_changed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_inputs_changed</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">ChangedValue</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineEvent.pipeline_inputs_changed" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Details about changed pipeline input values.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.PipelineEvent.pipeline_outputs_changed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_outputs_changed</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">ChangedValue</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineEvent.pipeline_outputs_changed" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Details about changed pipeline output values.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.PipelineEvent.step_inputs_changed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step_inputs_changed</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">ChangedValue</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineEvent.step_inputs_changed" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Details about changed step input values.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.PipelineEvent.step_outputs_changed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step_outputs_changed</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">ChangedValue</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineEvent.step_outputs_changed" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Details about changed step output values.</p>
    </div>

  </div>




  <div class="doc doc-object doc-class">



<h9 id="kiara.models.events.pipeline.PipelineEvent.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.events.pipeline.PipelineEvent.Config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">allow_mutation</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
        </details>


    </div>

  </div>





  <div class="doc doc-object doc-method">



<h9 id="kiara.models.events.pipeline.PipelineEvent.create_event" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">changed</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineEvent.create_event" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_event</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;Pipeline&quot;</span><span class="p">,</span>
    <span class="n">changed</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;PipelineEvent&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>

    <span class="n">pipeline_inputs</span> <span class="o">=</span> <span class="n">changed</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;__pipeline__&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;inputs&quot;</span><span class="p">,</span> <span class="p">{})</span>
    <span class="n">pipeline_outputs</span> <span class="o">=</span> <span class="n">changed</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;__pipeline__&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;outputs&quot;</span><span class="p">,</span> <span class="p">{})</span>

    <span class="n">step_inputs</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">step_outputs</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">invalidated_steps</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">step_id</span><span class="p">,</span> <span class="n">change_details</span> <span class="ow">in</span> <span class="n">changed</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">step_id</span> <span class="o">==</span> <span class="s2">&quot;__pipeline__&quot;</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">inputs</span> <span class="o">=</span> <span class="n">change_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;inputs&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">inputs</span><span class="p">:</span>
            <span class="n">invalidated_steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
            <span class="n">step_inputs</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">inputs</span>
        <span class="n">outputs</span> <span class="o">=</span> <span class="n">change_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;outputs&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">outputs</span><span class="p">:</span>
            <span class="n">invalidated_steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
            <span class="n">step_outputs</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">outputs</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="ow">not</span> <span class="n">pipeline_inputs</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">pipeline_outputs</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">step_inputs</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">step_outputs</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">invalidated_steps</span>
    <span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="p">(</span>
        <span class="n">kiara_id</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">kiara_id</span><span class="p">,</span>
        <span class="n">pipeline_id</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">,</span>
        <span class="n">pipeline_inputs_changed</span><span class="o">=</span><span class="n">pipeline_inputs</span><span class="p">,</span>
        <span class="n">pipeline_outputs_changed</span><span class="o">=</span><span class="n">pipeline_outputs</span><span class="p">,</span>
        <span class="n">step_inputs_changed</span><span class="o">=</span><span class="n">step_inputs</span><span class="p">,</span>
        <span class="n">step_outputs_changed</span><span class="o">=</span><span class="n">step_outputs</span><span class="p">,</span>
        <span class="n">changed_steps</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">invalidated_steps</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">event</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.pipeline.PipelineState" class="doc doc-heading">
        <code>
PipelineState            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineState" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineState</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.pipeline_state&quot;</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">json_loads</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">loads</span>
        <span class="n">json_dumps</span> <span class="o">=</span> <span class="n">orjson_dumps</span>

    <span class="n">kiara_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The id of the kiara context.&quot;</span><span class="p">)</span>
    <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The id of the pipeline.&quot;</span><span class="p">)</span>

    <span class="n">pipeline_status</span><span class="p">:</span> <span class="n">StepStatus</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The current status of this pipeline.&quot;</span>
    <span class="p">)</span>
    <span class="n">invalid_details</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Details about fields that are invalid (if status &lt; &#39;INPUTS_READY&#39;.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">pipeline_inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The current pipeline inputs.&quot;</span>
    <span class="p">)</span>
    <span class="n">pipeline_outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The current pipeline outputs.&quot;</span>
    <span class="p">)</span>

    <span class="n">step_states</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepDetails</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The state of each step within this pipeline.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_steps_by_processing_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">StepDetails</span><span class="p">]]:</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">StepDetails</span><span class="p">]]</span> <span class="o">=</span> <span class="n">SortedDict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">step_details</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_states</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">step_details</span><span class="o">.</span><span class="n">processing_stage</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">step_details</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.events.pipeline.PipelineState-attributes">Attributes<a href="#kiara.models.events.pipeline.PipelineState-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.PipelineState.invalid_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">invalid_details</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineState.invalid_details" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Details about fields that are invalid (if status &lt; 'INPUTS_READY'.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.PipelineState.kiara_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">kiara_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineState.kiara_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The id of the kiara context.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.PipelineState.pipeline_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineState.pipeline_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The id of the pipeline.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.PipelineState.pipeline_inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineState.pipeline_inputs" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The current pipeline inputs.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.PipelineState.pipeline_outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineState.pipeline_outputs" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The current pipeline outputs.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.PipelineState.pipeline_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_status</span><span class="p">:</span> <span class="n">StepStatus</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineState.pipeline_status" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The current status of this pipeline.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.PipelineState.step_states" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step_states</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">StepDetails</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.PipelineState.step_states" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The state of each step within this pipeline.</p>
    </div>

  </div>




  <div class="doc doc-object doc-class">



<h9 id="kiara.models.events.pipeline.PipelineState.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.events.pipeline.PipelineState.Config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">json_loads</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">loads</span>
    <span class="n">json_dumps</span> <span class="o">=</span> <span class="n">orjson_dumps</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.events.pipeline.PipelineState.Config.json_loads" class="doc doc-heading">
<code class="highlight language-python"><span class="n">json_loads</span></code>


<a href="#kiara.models.events.pipeline.PipelineState.Config.json_loads" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h11 id="kiara.models.events.pipeline.PipelineState.Config.json_dumps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">json_dumps</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span></code>


<a href="#kiara.models.events.pipeline.PipelineState.Config.json_dumps" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">orjson_dumps</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">):</span>
    <span class="c1"># orjson.dumps returns bytes, to match standard json.dumps we need to decode</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">orjson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_debug</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error dumping json data: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="kn">from</span> <span class="nn">kiara</span> <span class="kn">import</span> <span class="n">dbg</span>

            <span class="n">dbg</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

        <span class="k">raise</span> <span class="n">e</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h9 id="kiara.models.events.pipeline.PipelineState.get_steps_by_processing_stage" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_steps_by_processing_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.events.pipeline.PipelineState.get_steps_by_processing_stage" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_steps_by_processing_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">StepDetails</span><span class="p">]]:</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">StepDetails</span><span class="p">]]</span> <span class="o">=</span> <span class="n">SortedDict</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">step_details</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_states</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">step_details</span><span class="o">.</span><span class="n">processing_stage</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">step_details</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.pipeline.StepDetails" class="doc doc-heading">
        <code>
StepDetails            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.pipeline.StepDetails" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StepDetails</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>

    <span class="n">kiara_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The id of the kiara context.&quot;</span><span class="p">)</span>
    <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The id of the pipeline.&quot;</span><span class="p">)</span>
    <span class="n">step</span><span class="p">:</span> <span class="n">PipelineStep</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The pipeline step details.&quot;</span><span class="p">)</span>
    <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The id of the step.&quot;</span><span class="p">)</span>
    <span class="n">processing_stage</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The execution stage where this step is executed.&quot;</span>
    <span class="p">)</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">StepStatus</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The current status of this step.&quot;</span><span class="p">)</span>
    <span class="n">invalid_details</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Details about fields that are invalid (if status &lt; &#39;INPUTS_READY&#39;.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The current inputs of this step.&quot;</span><span class="p">)</span>
    <span class="n">outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The current outputs of this step.&quot;</span>
    <span class="p">)</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;inputs&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">replace_none_values_inputs</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">NONE_VALUE_ID</span>
            <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;outputs&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">replace_none_values_outputs</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">NOT_SET_VALUE_ID</span>
            <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kiara_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">_retrieve_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kiara_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.events.pipeline.StepDetails-attributes">Attributes<a href="#kiara.models.events.pipeline.StepDetails-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.StepDetails.inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.StepDetails.inputs" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The current inputs of this step.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.StepDetails.invalid_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">invalid_details</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.pipeline.StepDetails.invalid_details" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Details about fields that are invalid (if status &lt; 'INPUTS_READY'.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.StepDetails.kiara_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">kiara_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.StepDetails.kiara_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The id of the kiara context.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.StepDetails.outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.StepDetails.outputs" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The current outputs of this step.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.StepDetails.pipeline_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.StepDetails.pipeline_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The id of the pipeline.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.StepDetails.processing_stage" class="doc doc-heading">
<code class="highlight language-python"><span class="n">processing_stage</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.StepDetails.processing_stage" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The execution stage where this step is executed.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.StepDetails.status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">status</span><span class="p">:</span> <span class="n">StepStatus</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.StepDetails.status" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The current status of this step.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.StepDetails.step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step</span><span class="p">:</span> <span class="n">PipelineStep</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.StepDetails.step" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The pipeline step details.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.pipeline.StepDetails.step_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.pipeline.StepDetails.step_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The id of the step.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.events.pipeline.StepDetails.replace_none_values_inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">replace_none_values_inputs</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.events.pipeline.StepDetails.replace_none_values_inputs" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;inputs&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">replace_none_values_inputs</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">NONE_VALUE_ID</span>
        <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.events.pipeline.StepDetails.replace_none_values_outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">replace_none_values_outputs</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.events.pipeline.StepDetails.replace_none_values_outputs" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;outputs&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">replace_none_values_outputs</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">NOT_SET_VALUE_ID</span>
        <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.events.workflow_registry" class="doc doc-heading">
        <code>workflow_registry</code>



<a href="#kiara.models.events.workflow_registry" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.events.workflow_registry-classes">Classes<a href="#kiara.models.events.workflow_registry-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.events.workflow_registry.WorkflowArchiveAddedEvent" class="doc doc-heading">
        <code>
WorkflowArchiveAddedEvent            (<a class="autorefs autorefs-internal" title="kiara.models.events.RegistryEvent" href="../events/__init__/#kiara.models.events.RegistryEvent">RegistryEvent</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.events.workflow_registry.WorkflowArchiveAddedEvent" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/events/workflow_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WorkflowArchiveAddedEvent</span><span class="p">(</span><span class="n">RegistryEvent</span><span class="p">):</span>

    <span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;workflow_archive_added&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;workflow_archive_added&quot;</span>
    <span class="n">workflow_archive_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The unique id of this data archive.&quot;</span>
    <span class="p">)</span>
    <span class="n">workflow_archive_alias</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The alias this workflow archive was added as.&quot;</span>
    <span class="p">)</span>
    <span class="n">is_store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this archive supports write operations (aka implements the &#39;WorkflowStore&#39; interface).&quot;</span>
    <span class="p">)</span>
    <span class="n">is_default_store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this store acts as default store.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.events.workflow_registry.WorkflowArchiveAddedEvent-attributes">Attributes<a href="#kiara.models.events.workflow_registry.WorkflowArchiveAddedEvent-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.workflow_registry.WorkflowArchiveAddedEvent.event_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">event_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;workflow_archive_added&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.events.workflow_registry.WorkflowArchiveAddedEvent.event_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.workflow_registry.WorkflowArchiveAddedEvent.is_default_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_default_store</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.workflow_registry.WorkflowArchiveAddedEvent.is_default_store" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Whether this store acts as default store.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.workflow_registry.WorkflowArchiveAddedEvent.is_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_store</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.workflow_registry.WorkflowArchiveAddedEvent.is_store" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Whether this archive supports write operations (aka implements the 'WorkflowStore' interface).</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.workflow_registry.WorkflowArchiveAddedEvent.workflow_archive_alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">workflow_archive_alias</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.workflow_registry.WorkflowArchiveAddedEvent.workflow_archive_alias" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The alias this workflow archive was added as.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.events.workflow_registry.WorkflowArchiveAddedEvent.workflow_archive_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">workflow_archive_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.events.workflow_registry.WorkflowArchiveAddedEvent.workflow_archive_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The unique id of this data archive.</p>
    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="kiara.models.filesystem" class="doc doc-heading">
        <code>filesystem</code>



<a href="#kiara.models.filesystem" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="kiara.models.filesystem.FILE_BUNDLE_IMPORT_AVAILABLE_COLUMNS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">FILE_BUNDLE_IMPORT_AVAILABLE_COLUMNS</span></code>


<a href="#kiara.models.filesystem.FILE_BUNDLE_IMPORT_AVAILABLE_COLUMNS" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="kiara.models.filesystem.logger" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logger</span></code>


<a href="#kiara.models.filesystem.logger" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>


<h4 id="kiara.models.filesystem-classes">Classes<a href="#kiara.models.filesystem-classes" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-class">



<h5 id="kiara.models.filesystem.FileBundle" class="doc doc-heading">
        <code>
FileBundle            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.filesystem.FileBundle" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Describes properties for the 'file_bundle' value type.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FileBundle</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Describes properties for the &#39;file_bundle&#39; value type.&quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.data.file_bundle&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_tmp_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Utility method to create a temp folder that gets deleted when kiara exits.&quot;&quot;&quot;</span>

        <span class="n">temp_f</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>

        <span class="k">def</span> <span class="nf">cleanup</span><span class="p">():</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">temp_f</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">cleanup</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="n">temp_f</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">import_folder</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">bundle_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">import_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">FolderImportConfig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="c1"># import_time: Optional[datetime.datetime] = None,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FileBundle&quot;</span><span class="p">:</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">source</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No source path provided.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">source</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path does not exist: </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">source</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path is not a folder: </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">source</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="p">):</span>
            <span class="n">source</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">abs_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">import_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">_import_config</span> <span class="o">=</span> <span class="n">FolderImportConfig</span><span class="p">()</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">import_config</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">_import_config</span> <span class="o">=</span> <span class="n">FolderImportConfig</span><span class="p">(</span><span class="o">**</span><span class="n">import_config</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">import_config</span><span class="p">,</span> <span class="n">FolderImportConfig</span><span class="p">):</span>
            <span class="n">_import_config</span> <span class="o">=</span> <span class="n">import_config</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid type for folder import config: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">import_config</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="n">included_files</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">FileModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">exclude_dirs</span> <span class="o">=</span> <span class="n">_import_config</span><span class="o">.</span><span class="n">exclude_dirs</span>
        <span class="n">invalid_extensions</span> <span class="o">=</span> <span class="n">_import_config</span><span class="o">.</span><span class="n">exclude_files</span>

        <span class="n">valid_extensions</span> <span class="o">=</span> <span class="n">_import_config</span><span class="o">.</span><span class="n">include_files</span>

        <span class="c1"># if import_time:</span>
        <span class="c1">#     bundle_import_time = import_time</span>
        <span class="c1"># else:</span>
        <span class="c1">#     bundle_import_time = datetime.datetime.now()  # TODO: timezone</span>

        <span class="n">sum_size</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">def</span> <span class="nf">include_file</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>

            <span class="k">if</span> <span class="n">invalid_extensions</span> <span class="ow">and</span> <span class="nb">any</span><span class="p">(</span>
                <span class="n">filename</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">ext</span><span class="p">)</span> <span class="k">for</span> <span class="n">ext</span> <span class="ow">in</span> <span class="n">invalid_extensions</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">valid_extensions</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">filename</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">ext</span><span class="p">)</span> <span class="k">for</span> <span class="n">ext</span> <span class="ow">in</span> <span class="n">valid_extensions</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirnames</span><span class="p">,</span> <span class="n">filenames</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">abs_path</span><span class="p">,</span> <span class="n">topdown</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>

            <span class="k">if</span> <span class="n">exclude_dirs</span><span class="p">:</span>
                <span class="n">dirnames</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dirnames</span> <span class="k">if</span> <span class="n">d</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">exclude_dirs</span><span class="p">]</span>

            <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="n">f</span>
                <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">filenames</span>
                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span> <span class="ow">and</span> <span class="n">include_file</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="p">]:</span>

                <span class="n">full_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
                <span class="n">rel_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">full_path</span><span class="p">,</span> <span class="n">abs_path</span><span class="p">)</span>

                <span class="n">file_model</span> <span class="o">=</span> <span class="n">FileModel</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="n">full_path</span><span class="p">)</span>
                <span class="n">sum_size</span> <span class="o">=</span> <span class="n">sum_size</span> <span class="o">+</span> <span class="n">file_model</span><span class="o">.</span><span class="n">size</span>
                <span class="n">included_files</span><span class="p">[</span><span class="n">rel_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">file_model</span>

        <span class="k">if</span> <span class="n">bundle_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">bundle_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

        <span class="n">bundle</span> <span class="o">=</span> <span class="n">FileBundle</span><span class="o">.</span><span class="n">create_from_file_models</span><span class="p">(</span>
            <span class="n">files</span><span class="o">=</span><span class="n">included_files</span><span class="p">,</span>
            <span class="n">path</span><span class="o">=</span><span class="n">abs_path</span><span class="p">,</span>
            <span class="n">bundle_name</span><span class="o">=</span><span class="n">bundle_name</span><span class="p">,</span>
            <span class="n">sum_size</span><span class="o">=</span><span class="n">sum_size</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">bundle</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_file_models</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">files</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">FileModel</span><span class="p">],</span>
        <span class="n">bundle_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sum_size</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="c1"># import_time: Optional[datetime.datetime] = None,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FileBundle&quot;</span><span class="p">:</span>

        <span class="c1"># if import_time:</span>
        <span class="c1">#     bundle_import_time = import_time</span>
        <span class="c1"># else:</span>
        <span class="c1">#     bundle_import_time = datetime.datetime.now()  # TODO: timezone</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;included_files&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">files</span>

        <span class="c1"># result[&quot;import_time&quot;] = datetime.datetime.now().isoformat()</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;number_of_files&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">files</span><span class="p">)</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;bundle_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bundle_name</span>
        <span class="c1"># result[&quot;import_time&quot;] = bundle_import_time</span>

        <span class="k">if</span> <span class="n">sum_size</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sum_size</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">sum_size</span> <span class="o">=</span> <span class="n">sum_size</span> <span class="o">+</span> <span class="n">f</span><span class="o">.</span><span class="n">size</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sum_size</span>

        <span class="n">bundle</span> <span class="o">=</span> <span class="n">FileBundle</span><span class="p">(</span><span class="o">**</span><span class="n">result</span><span class="p">)</span>
        <span class="n">bundle</span><span class="o">.</span><span class="n">_path</span> <span class="o">=</span> <span class="n">path</span>
        <span class="k">return</span> <span class="n">bundle</span>

    <span class="n">_file_bundle_hash</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="n">bundle_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of this bundle.&quot;</span><span class="p">)</span>
    <span class="c1"># import_time: datetime.datetime = Field(</span>
    <span class="c1">#     description=&quot;The time when the file bundle was imported.&quot;</span>
    <span class="c1"># )</span>
    <span class="n">number_of_files</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;How many files are included in this bundle.&quot;</span>
    <span class="p">)</span>
    <span class="n">included_files</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">FileModel</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A map of all the included files, incl. their properties. Uses the relative path of each file as key.&quot;</span>
    <span class="p">)</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The size of all files in this folder, combined.&quot;</span><span class="p">)</span>
    <span class="n">_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># TODO: better explanation, offer remedy like copying into temp folder</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;File bundle path not set, it appears this bundle is comprised of symlinks only.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_path</span>

    <span class="k">def</span> <span class="nf">_retrieve_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_bundle_hash</span><span class="p">)</span>

    <span class="c1"># @property</span>
    <span class="c1"># def model_data_hash(self) -&gt; int:</span>
    <span class="c1">#     return self.file_bundle_hash</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;bundle_name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">bundle_name</span><span class="p">,</span>
            <span class="s2">&quot;included_files&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">instance_cid</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">included_files</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">},</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">get_relative_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="n">FileModel</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">read_text_file_contents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>

        <span class="n">content_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">def</span> <span class="nf">read_file</span><span class="p">(</span><span class="n">rel_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">full_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">full_path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
                    <span class="n">content_dict</span><span class="p">[</span><span class="n">rel_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">content</span>  <span class="c1"># type: ignore</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">ignore_errors</span><span class="p">:</span>
                        <span class="n">log_message</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t read file: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;ignore.file&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">full_path</span><span class="p">,</span> <span class="n">reason</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t read file (as text) &#39;</span><span class="si">{</span><span class="n">full_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># TODO: common ignore files and folders</span>
        <span class="k">for</span> <span class="n">rel_path</span><span class="p">,</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">included_files</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">_path</span><span class="p">:</span>
                <span class="n">path</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">_path</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_relative_path</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="n">read_file</span><span class="p">(</span><span class="n">rel_path</span><span class="o">=</span><span class="n">rel_path</span><span class="p">,</span> <span class="n">full_path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">content_dict</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">file_bundle_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="c1"># TODO: use sha256?</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_bundle_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_bundle_hash</span>

        <span class="n">obj</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">file_hash</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">included_files</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">DeepHash</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">hasher</span><span class="o">=</span><span class="n">KIARA_HASH_FUNCTION</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_file_bundle_hash</span> <span class="o">=</span> <span class="n">h</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_bundle_hash</span>

    <span class="k">def</span> <span class="nf">copy_bundle</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">target_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bundle_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FileBundle&quot;</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">target_path</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Target path and current path are the same: </span><span class="si">{</span><span class="n">target_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">rel_path</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">included_files</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">_target_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">target_path</span><span class="p">,</span> <span class="n">rel_path</span><span class="p">)</span>
            <span class="n">new_fm</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">copy_file</span><span class="p">(</span><span class="n">_target_path</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">rel_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_fm</span>

        <span class="k">if</span> <span class="n">bundle_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">bundle_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">target_path</span><span class="p">)</span>

        <span class="n">fb</span> <span class="o">=</span> <span class="n">FileBundle</span><span class="o">.</span><span class="n">create_from_file_models</span><span class="p">(</span>
            <span class="n">files</span><span class="o">=</span><span class="n">result</span><span class="p">,</span>
            <span class="n">bundle_name</span><span class="o">=</span><span class="n">bundle_name</span><span class="p">,</span>
            <span class="n">path</span><span class="o">=</span><span class="n">target_path</span><span class="p">,</span>
            <span class="n">sum_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
            <span class="c1"># import_time=self.import_time,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_bundle_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fb</span><span class="o">.</span><span class="n">_file_bundle_hash</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_bundle_hash</span>

        <span class="k">return</span> <span class="n">fb</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">show_bundle_hash</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_bundle_hash&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>

        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;bundle name&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bundle_name</span><span class="p">)</span>
        <span class="c1"># table.add_row(&quot;import_time&quot;, str(self.import_time))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;number_of_files&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_files</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;size&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">show_bundle_hash</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;bundle_hash&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_bundle_hash</span><span class="p">))</span>

        <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_content_table</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;included files&quot;</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>

    <span class="k">def</span> <span class="nf">_create_content_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">render_config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Table</span><span class="p">:</span>

        <span class="c1"># show_content = render_config.get(&quot;show_content_preview&quot;, False)</span>
        <span class="n">max_no_included_files</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_no_files&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;(relative) path&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;size&quot;</span><span class="p">)</span>
        <span class="c1"># if show_content:</span>
        <span class="c1">#     table.add_column(&quot;content preview&quot;)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="n">max_no_included_files</span> <span class="o">&lt;</span> <span class="mi">0</span>
            <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">included_files</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">max_no_included_files</span>
        <span class="p">):</span>
            <span class="k">for</span> <span class="n">f</span><span class="p">,</span> <span class="n">model</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">included_files</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">size</span><span class="p">)]</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">files</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">included_files</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="n">half</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">max_no_included_files</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
            <span class="n">head</span> <span class="o">=</span> <span class="n">files</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">half</span><span class="p">]</span>
            <span class="n">tail</span> <span class="o">=</span> <span class="n">files</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">half</span> <span class="p">:]</span>  <span class="c1"># noqa</span>
            <span class="k">for</span> <span class="n">rel_path</span> <span class="ow">in</span> <span class="n">head</span><span class="p">:</span>
                <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">included_files</span><span class="p">[</span><span class="n">rel_path</span><span class="p">]</span>
                <span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="n">rel_path</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">size</span><span class="p">)]</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;   ... output skipped ...&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;   ... output skipped ...&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">rel_path</span> <span class="ow">in</span> <span class="n">tail</span><span class="p">:</span>
                <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">included_files</span><span class="p">[</span><span class="n">rel_path</span><span class="p">]</span>
                <span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="n">rel_path</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">size</span><span class="p">)]</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;FileBundle(name=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">bundle_name</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.filesystem.FileBundle-attributes">Attributes<a href="#kiara.models.filesystem.FileBundle-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.filesystem.FileBundle.bundle_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">bundle_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.filesystem.FileBundle.bundle_name" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The name of this bundle.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.filesystem.FileBundle.file_bundle_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_bundle_hash</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.filesystem.FileBundle.file_bundle_hash" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.filesystem.FileBundle.included_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">included_files</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">FileModel</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.filesystem.FileBundle.included_files" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A map of all the included files, incl. their properties. Uses the relative path of each file as key.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.filesystem.FileBundle.number_of_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">number_of_files</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.filesystem.FileBundle.number_of_files" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>How many files are included in this bundle.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.filesystem.FileBundle.path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">path</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.filesystem.FileBundle.path" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.filesystem.FileBundle.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.filesystem.FileBundle.size" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The size of all files in this folder, combined.</p>
    </div>

  </div>




<h6 id="kiara.models.filesystem.FileBundle-methods">Methods<a href="#kiara.models.filesystem.FileBundle-methods" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-method">



<h7 id="kiara.models.filesystem.FileBundle.copy_bundle" class="doc doc-heading">
<code class="highlight language-python"><span class="n">copy_bundle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_path</span><span class="p">,</span> <span class="n">bundle_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#kiara.models.filesystem.FileBundle.copy_bundle" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">copy_bundle</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">target_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bundle_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FileBundle&quot;</span><span class="p">:</span>

    <span class="k">if</span> <span class="n">target_path</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Target path and current path are the same: </span><span class="si">{</span><span class="n">target_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">rel_path</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">included_files</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">_target_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">target_path</span><span class="p">,</span> <span class="n">rel_path</span><span class="p">)</span>
        <span class="n">new_fm</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">copy_file</span><span class="p">(</span><span class="n">_target_path</span><span class="p">)</span>
        <span class="n">result</span><span class="p">[</span><span class="n">rel_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_fm</span>

    <span class="k">if</span> <span class="n">bundle_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">bundle_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">target_path</span><span class="p">)</span>

    <span class="n">fb</span> <span class="o">=</span> <span class="n">FileBundle</span><span class="o">.</span><span class="n">create_from_file_models</span><span class="p">(</span>
        <span class="n">files</span><span class="o">=</span><span class="n">result</span><span class="p">,</span>
        <span class="n">bundle_name</span><span class="o">=</span><span class="n">bundle_name</span><span class="p">,</span>
        <span class="n">path</span><span class="o">=</span><span class="n">target_path</span><span class="p">,</span>
        <span class="n">sum_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
        <span class="c1"># import_time=self.import_time,</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_bundle_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">fb</span><span class="o">.</span><span class="n">_file_bundle_hash</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_bundle_hash</span>

    <span class="k">return</span> <span class="n">fb</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.filesystem.FileBundle.create_from_file_models" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_file_models</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">bundle_name</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sum_size</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.filesystem.FileBundle.create_from_file_models" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_file_models</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">files</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">FileModel</span><span class="p">],</span>
    <span class="n">bundle_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">sum_size</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># import_time: Optional[datetime.datetime] = None,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FileBundle&quot;</span><span class="p">:</span>

    <span class="c1"># if import_time:</span>
    <span class="c1">#     bundle_import_time = import_time</span>
    <span class="c1"># else:</span>
    <span class="c1">#     bundle_import_time = datetime.datetime.now()  # TODO: timezone</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">result</span><span class="p">[</span><span class="s2">&quot;included_files&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">files</span>

    <span class="c1"># result[&quot;import_time&quot;] = datetime.datetime.now().isoformat()</span>
    <span class="n">result</span><span class="p">[</span><span class="s2">&quot;number_of_files&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">files</span><span class="p">)</span>
    <span class="n">result</span><span class="p">[</span><span class="s2">&quot;bundle_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bundle_name</span>
    <span class="c1"># result[&quot;import_time&quot;] = bundle_import_time</span>

    <span class="k">if</span> <span class="n">sum_size</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">sum_size</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">sum_size</span> <span class="o">=</span> <span class="n">sum_size</span> <span class="o">+</span> <span class="n">f</span><span class="o">.</span><span class="n">size</span>
    <span class="n">result</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sum_size</span>

    <span class="n">bundle</span> <span class="o">=</span> <span class="n">FileBundle</span><span class="p">(</span><span class="o">**</span><span class="n">result</span><span class="p">)</span>
    <span class="n">bundle</span><span class="o">.</span><span class="n">_path</span> <span class="o">=</span> <span class="n">path</span>
    <span class="k">return</span> <span class="n">bundle</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.filesystem.FileBundle.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.filesystem.FileBundle.create_renderable" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">show_bundle_hash</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_bundle_hash&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>

    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;bundle name&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bundle_name</span><span class="p">)</span>
    <span class="c1"># table.add_row(&quot;import_time&quot;, str(self.import_time))</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;number_of_files&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_files</span><span class="p">))</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;size&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">show_bundle_hash</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;bundle_hash&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_bundle_hash</span><span class="p">))</span>

    <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_content_table</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;included files&quot;</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.filesystem.FileBundle.create_tmp_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_tmp_dir</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.filesystem.FileBundle.create_tmp_dir" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Utility method to create a temp folder that gets deleted when kiara exits.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_tmp_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Utility method to create a temp folder that gets deleted when kiara exits.&quot;&quot;&quot;</span>

    <span class="n">temp_f</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">cleanup</span><span class="p">():</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">temp_f</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">cleanup</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="n">temp_f</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.filesystem.FileBundle.get_relative_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_relative_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span></code>


<a href="#kiara.models.filesystem.FileBundle.get_relative_path" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_relative_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="n">FileModel</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.filesystem.FileBundle.import_folder" class="doc doc-heading">
<code class="highlight language-python"><span class="n">import_folder</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">bundle_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">import_config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.filesystem.FileBundle.import_folder" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">import_folder</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">bundle_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">import_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">FolderImportConfig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># import_time: Optional[datetime.datetime] = None,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FileBundle&quot;</span><span class="p">:</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">source</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No source path provided.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">source</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path does not exist: </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">source</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path is not a folder: </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">source</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="p">):</span>
        <span class="n">source</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">abs_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">import_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">_import_config</span> <span class="o">=</span> <span class="n">FolderImportConfig</span><span class="p">()</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">import_config</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
        <span class="n">_import_config</span> <span class="o">=</span> <span class="n">FolderImportConfig</span><span class="p">(</span><span class="o">**</span><span class="n">import_config</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">import_config</span><span class="p">,</span> <span class="n">FolderImportConfig</span><span class="p">):</span>
        <span class="n">_import_config</span> <span class="o">=</span> <span class="n">import_config</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid type for folder import config: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">import_config</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="n">included_files</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">FileModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">exclude_dirs</span> <span class="o">=</span> <span class="n">_import_config</span><span class="o">.</span><span class="n">exclude_dirs</span>
    <span class="n">invalid_extensions</span> <span class="o">=</span> <span class="n">_import_config</span><span class="o">.</span><span class="n">exclude_files</span>

    <span class="n">valid_extensions</span> <span class="o">=</span> <span class="n">_import_config</span><span class="o">.</span><span class="n">include_files</span>

    <span class="c1"># if import_time:</span>
    <span class="c1">#     bundle_import_time = import_time</span>
    <span class="c1"># else:</span>
    <span class="c1">#     bundle_import_time = datetime.datetime.now()  # TODO: timezone</span>

    <span class="n">sum_size</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">include_file</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">invalid_extensions</span> <span class="ow">and</span> <span class="nb">any</span><span class="p">(</span>
            <span class="n">filename</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">ext</span><span class="p">)</span> <span class="k">for</span> <span class="n">ext</span> <span class="ow">in</span> <span class="n">invalid_extensions</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">valid_extensions</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">filename</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">ext</span><span class="p">)</span> <span class="k">for</span> <span class="n">ext</span> <span class="ow">in</span> <span class="n">valid_extensions</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirnames</span><span class="p">,</span> <span class="n">filenames</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">abs_path</span><span class="p">,</span> <span class="n">topdown</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">exclude_dirs</span><span class="p">:</span>
            <span class="n">dirnames</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dirnames</span> <span class="k">if</span> <span class="n">d</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">exclude_dirs</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">f</span>
            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">filenames</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span> <span class="ow">and</span> <span class="n">include_file</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="p">]:</span>

            <span class="n">full_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
            <span class="n">rel_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">full_path</span><span class="p">,</span> <span class="n">abs_path</span><span class="p">)</span>

            <span class="n">file_model</span> <span class="o">=</span> <span class="n">FileModel</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="n">full_path</span><span class="p">)</span>
            <span class="n">sum_size</span> <span class="o">=</span> <span class="n">sum_size</span> <span class="o">+</span> <span class="n">file_model</span><span class="o">.</span><span class="n">size</span>
            <span class="n">included_files</span><span class="p">[</span><span class="n">rel_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">file_model</span>

    <span class="k">if</span> <span class="n">bundle_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">bundle_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

    <span class="n">bundle</span> <span class="o">=</span> <span class="n">FileBundle</span><span class="o">.</span><span class="n">create_from_file_models</span><span class="p">(</span>
        <span class="n">files</span><span class="o">=</span><span class="n">included_files</span><span class="p">,</span>
        <span class="n">path</span><span class="o">=</span><span class="n">abs_path</span><span class="p">,</span>
        <span class="n">bundle_name</span><span class="o">=</span><span class="n">bundle_name</span><span class="p">,</span>
        <span class="n">sum_size</span><span class="o">=</span><span class="n">sum_size</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">bundle</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.filesystem.FileBundle.read_text_file_contents" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_text_file_contents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#kiara.models.filesystem.FileBundle.read_text_file_contents" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_text_file_contents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>

    <span class="n">content_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">read_file</span><span class="p">(</span><span class="n">rel_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">full_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">full_path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
                <span class="n">content_dict</span><span class="p">[</span><span class="n">rel_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">content</span>  <span class="c1"># type: ignore</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">ignore_errors</span><span class="p">:</span>
                    <span class="n">log_message</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t read file: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;ignore.file&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">full_path</span><span class="p">,</span> <span class="n">reason</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t read file (as text) &#39;</span><span class="si">{</span><span class="n">full_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># TODO: common ignore files and folders</span>
    <span class="k">for</span> <span class="n">rel_path</span><span class="p">,</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">included_files</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">_path</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">_path</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_relative_path</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="n">read_file</span><span class="p">(</span><span class="n">rel_path</span><span class="o">=</span><span class="n">rel_path</span><span class="p">,</span> <span class="n">full_path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">content_dict</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.filesystem.FileModel" class="doc doc-heading">
        <code>
FileModel            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.filesystem.FileModel" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Describes properties for the 'file' value type.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FileModel</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Describes properties for the &#39;file&#39; value type.&quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.data.file&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">load_file</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">file_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="c1"># import_time: Optional[datetime.datetime] = None,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Utility method to read metadata of a file from disk and optionally move it into a data archive location.&quot;&quot;&quot;</span>

        <span class="kn">import</span> <span class="nn">filetype</span>
        <span class="kn">import</span> <span class="nn">mimetypes</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">source</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No source path provided.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">source</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path does not exist: </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">source</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path is not a file: </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">file_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

        <span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="c1"># if import_time:</span>
        <span class="c1">#     file_import_time = import_time</span>
        <span class="c1"># else:</span>
        <span class="c1">#     file_import_time = datetime.datetime.now()  # TODO: timezone</span>

        <span class="n">file_stats</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">file_stats</span><span class="o">.</span><span class="n">st_size</span>

        <span class="n">r</span> <span class="o">=</span> <span class="n">mimetypes</span><span class="o">.</span><span class="n">guess_type</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">mime_type</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_mime_type</span> <span class="o">=</span> <span class="n">filetype</span><span class="o">.</span><span class="n">guess</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">_mime_type</span><span class="p">:</span>
                <span class="n">mime_type</span> <span class="o">=</span> <span class="s2">&quot;application/octet-stream&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">mime_type</span> <span class="o">=</span> <span class="n">_mime_type</span><span class="o">.</span><span class="n">MIME</span>

        <span class="n">m</span> <span class="o">=</span> <span class="n">FileModel</span><span class="p">(</span>
            <span class="c1"># import_time=file_import_time,</span>
            <span class="n">mime_type</span><span class="o">=</span><span class="n">mime_type</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
            <span class="n">file_name</span><span class="o">=</span><span class="n">file_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">m</span><span class="o">.</span><span class="n">_path</span> <span class="o">=</span> <span class="n">path</span>
        <span class="k">return</span> <span class="n">m</span>

    <span class="c1"># import_time: datetime.datetime = Field(</span>
    <span class="c1">#     description=&quot;The time when the file was imported.&quot;</span>
    <span class="c1"># )</span>
    <span class="n">mime_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The mime type of the file.&quot;</span><span class="p">)</span>
    <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="s2">&quot;The name of the file.&quot;</span><span class="p">)</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The size of the file.&quot;</span><span class="p">)</span>

    <span class="n">_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_file_hash</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_file_cid</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="c1"># @validator(&quot;path&quot;)</span>
    <span class="c1"># def ensure_abs_path(cls, value):</span>
    <span class="c1">#     return os.path.abspath(value)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;File path not set for file model.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_path</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span><span class="p">,</span>
            <span class="s2">&quot;file_cid&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_cid</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">data</span>

    <span class="c1"># def get_id(self) -&gt; str:</span>
    <span class="c1">#     return self.path</span>

    <span class="k">def</span> <span class="nf">get_category_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;instance.file_model&quot;</span>

    <span class="k">def</span> <span class="nf">copy_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">new_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FileModel&quot;</span><span class="p">:</span>

        <span class="n">target_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">target_path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">shutil</span><span class="o">.</span><span class="n">copy2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">target_path</span><span class="p">)</span>
        <span class="n">fm</span> <span class="o">=</span> <span class="n">FileModel</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">file_name</span><span class="o">=</span><span class="n">new_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fm</span><span class="o">.</span><span class="n">_file_hash</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_hash</span>

        <span class="k">return</span> <span class="n">fm</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">file_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_hash</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_file_hash</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_cid</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_hash</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">file_cid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CID</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_cid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_cid</span>

        <span class="c1"># TODO: auto-set codec?</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_file_cid</span> <span class="o">=</span> <span class="n">compute_cid_from_file</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">codec</span><span class="o">=</span><span class="s2">&quot;raw&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_cid</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">file_name_without_extension</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">read_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_lines</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Read the content of a file.&quot;&quot;&quot;</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;rt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">max_lines</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="nb">next</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_lines</span><span class="p">)))</span>
        <span class="k">return</span> <span class="n">content</span>

    <span class="k">def</span> <span class="nf">read_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Read the content of a file.&quot;&quot;&quot;</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">length</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">content</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;FileModel(name=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">file_name</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.filesystem.FileModel-attributes">Attributes<a href="#kiara.models.filesystem.FileModel-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.filesystem.FileModel.file_cid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_cid</span><span class="p">:</span> <span class="n">CID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.filesystem.FileModel.file_cid" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.filesystem.FileModel.file_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_hash</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.filesystem.FileModel.file_hash" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.filesystem.FileModel.file_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.filesystem.FileModel.file_name" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.filesystem.FileModel.file_name_without_extension" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_name_without_extension</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.filesystem.FileModel.file_name_without_extension" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.filesystem.FileModel.mime_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">mime_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.filesystem.FileModel.mime_type" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The mime type of the file.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.filesystem.FileModel.path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">path</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.filesystem.FileModel.path" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.filesystem.FileModel.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.filesystem.FileModel.size" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The size of the file.</p>
    </div>

  </div>




<h6 id="kiara.models.filesystem.FileModel-methods">Methods<a href="#kiara.models.filesystem.FileModel-methods" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-method">



<h7 id="kiara.models.filesystem.FileModel.copy_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">copy_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">new_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#kiara.models.filesystem.FileModel.copy_file" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">copy_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">new_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FileModel&quot;</span><span class="p">:</span>

    <span class="n">target_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">target_path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">shutil</span><span class="o">.</span><span class="n">copy2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">target_path</span><span class="p">)</span>
    <span class="n">fm</span> <span class="o">=</span> <span class="n">FileModel</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">file_name</span><span class="o">=</span><span class="n">new_name</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">fm</span><span class="o">.</span><span class="n">_file_hash</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_hash</span>

    <span class="k">return</span> <span class="n">fm</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.filesystem.FileModel.get_category_alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_category_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.filesystem.FileModel.get_category_alias" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_category_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;instance.file_model&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.filesystem.FileModel.load_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_file</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">file_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.filesystem.FileModel.load_file" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Utility method to read metadata of a file from disk and optionally move it into a data archive location.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">load_file</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">file_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># import_time: Optional[datetime.datetime] = None,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Utility method to read metadata of a file from disk and optionally move it into a data archive location.&quot;&quot;&quot;</span>

    <span class="kn">import</span> <span class="nn">filetype</span>
    <span class="kn">import</span> <span class="nn">mimetypes</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">source</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No source path provided.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">source</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path does not exist: </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">source</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path is not a file: </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">file_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="c1"># if import_time:</span>
    <span class="c1">#     file_import_time = import_time</span>
    <span class="c1"># else:</span>
    <span class="c1">#     file_import_time = datetime.datetime.now()  # TODO: timezone</span>

    <span class="n">file_stats</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="n">size</span> <span class="o">=</span> <span class="n">file_stats</span><span class="o">.</span><span class="n">st_size</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">mimetypes</span><span class="o">.</span><span class="n">guess_type</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">mime_type</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_mime_type</span> <span class="o">=</span> <span class="n">filetype</span><span class="o">.</span><span class="n">guess</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_mime_type</span><span class="p">:</span>
            <span class="n">mime_type</span> <span class="o">=</span> <span class="s2">&quot;application/octet-stream&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">mime_type</span> <span class="o">=</span> <span class="n">_mime_type</span><span class="o">.</span><span class="n">MIME</span>

    <span class="n">m</span> <span class="o">=</span> <span class="n">FileModel</span><span class="p">(</span>
        <span class="c1"># import_time=file_import_time,</span>
        <span class="n">mime_type</span><span class="o">=</span><span class="n">mime_type</span><span class="p">,</span>
        <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
        <span class="n">file_name</span><span class="o">=</span><span class="n">file_name</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">_path</span> <span class="o">=</span> <span class="n">path</span>
    <span class="k">return</span> <span class="n">m</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.filesystem.FileModel.read_bytes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span></code>


<a href="#kiara.models.filesystem.FileModel.read_bytes" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Read the content of a file.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Read the content of a file.&quot;&quot;&quot;</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">length</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">content</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.filesystem.FileModel.read_text" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_lines</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span></code>


<a href="#kiara.models.filesystem.FileModel.read_text" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Read the content of a file.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_lines</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Read the content of a file.&quot;&quot;&quot;</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;rt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">max_lines</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="nb">next</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_lines</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">content</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.filesystem.FolderImportConfig" class="doc doc-heading">
        <code>
FolderImportConfig            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.filesystem.FolderImportConfig" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FolderImportConfig</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>

    <span class="n">include_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A list of strings, include all files where the filename ends with that string.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">exclude_dirs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A list of strings, exclude all folders whose name ends with that string.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">exclude_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;A list of strings, exclude all files that match those (takes precedence over &#39;include_files&#39;). Defaults to: </span><span class="si">{</span><span class="n">DEFAULT_EXCLUDE_FILES</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">DEFAULT_EXCLUDE_FILES</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.filesystem.FolderImportConfig-attributes">Attributes<a href="#kiara.models.filesystem.FolderImportConfig-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.filesystem.FolderImportConfig.exclude_dirs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">exclude_dirs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.filesystem.FolderImportConfig.exclude_dirs" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A list of strings, exclude all folders whose name ends with that string.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.filesystem.FolderImportConfig.exclude_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">exclude_files</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.filesystem.FolderImportConfig.exclude_files" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A list of strings, exclude all files that match those (takes precedence over 'include_files'). Defaults to: ['.DS_Store'].</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.filesystem.FolderImportConfig.include_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">include_files</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.filesystem.FolderImportConfig.include_files" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A list of strings, include all files where the filename ends with that string.</p>
    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="kiara.models.module" class="doc doc-heading">
        <code>module</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara.models.module" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h4 id="kiara.models.module-classes">Classes<a href="#kiara.models.module-classes" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-class">



<h5 id="kiara.models.module.KiaraModuleConfig" class="doc doc-heading">
        <code>
KiaraModuleConfig            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.KiaraModuleConfig" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Base class that describes the configuration a [<code>KiaraModule</code>][kiara.module.KiaraModule] class accepts.</p>
<p>This is stored in the <code>_config_cls</code> class attribute in each <code>KiaraModule</code> class.</p>
<p>There are two config options every <code>KiaraModule</code> supports:</p>
<ul>
<li><code>constants</code>, and</li>
<li><code>defaults</code></li>
</ul>
<p>Constants are pre-set inputs, and users can't change them and an error is thrown if they try. Defaults are default
 values that override the schema defaults, and those can be overwritten by users. If both a constant and a default
 value is set for an input field, an error is thrown.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KiaraModuleConfig</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class that describes the configuration a [``KiaraModule``][kiara.module.KiaraModule] class accepts.</span>

<span class="sd">    This is stored in the ``_config_cls`` class attribute in each ``KiaraModule`` class.</span>

<span class="sd">    There are two config options every ``KiaraModule`` supports:</span>

<span class="sd">     - ``constants``, and</span>
<span class="sd">     - ``defaults``</span>

<span class="sd">     Constants are pre-set inputs, and users can&#39;t change them and an error is thrown if they try. Defaults are default</span>
<span class="sd">     values that override the schema defaults, and those can be overwritten by users. If both a constant and a default</span>
<span class="sd">     value is set for an input field, an error is thrown.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.module_config&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">requires_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return whether this class can be used as-is, or requires configuration before an instance can be created.&quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">required</span> <span class="ow">and</span> <span class="n">field</span><span class="o">.</span><span class="n">default</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">config</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="k">return</span> <span class="kc">True</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">_config_hash</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">constants</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Value constants for this module.&quot;</span>
    <span class="p">)</span>
    <span class="n">defaults</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Value defaults for this module.&quot;</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">forbid</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the value for the specified configuation key.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No config value &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; in module config class &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">my_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">MINIMAL</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">my_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Field name&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">my_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="p">:</span>
            <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">attr_str</span> <span class="o">=</span> <span class="n">attr</span>
            <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="s2">&quot;create_renderable&quot;</span><span class="p">):</span>
                <span class="n">attr_str</span> <span class="o">=</span> <span class="n">attr</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">()</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
                <span class="n">attr_str</span> <span class="o">=</span> <span class="n">attr</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">attr_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
            <span class="n">my_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">attr_str</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">my_table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.module.KiaraModuleConfig-attributes">Attributes<a href="#kiara.models.module.KiaraModuleConfig-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.module.KiaraModuleConfig.constants" class="doc doc-heading">
<code class="highlight language-python"><span class="n">constants</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.KiaraModuleConfig.constants" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Value constants for this module.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.module.KiaraModuleConfig.defaults" class="doc doc-heading">
<code class="highlight language-python"><span class="n">defaults</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.KiaraModuleConfig.defaults" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Value defaults for this module.</p>
    </div>

  </div>




  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.KiaraModuleConfig.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.module.KiaraModuleConfig.Config" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">forbid</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.KiaraModuleConfig.Config.extra" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extra</span></code>


<a href="#kiara.models.module.KiaraModuleConfig.Config.extra" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.KiaraModuleConfig.Config.validate_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_assignment</span></code>


<a href="#kiara.models.module.KiaraModuleConfig.Config.validate_assignment" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



<h6 id="kiara.models.module.KiaraModuleConfig-methods">Methods<a href="#kiara.models.module.KiaraModuleConfig-methods" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-method">



<h7 id="kiara.models.module.KiaraModuleConfig.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.module.KiaraModuleConfig.create_renderable" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">my_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">MINIMAL</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">my_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Field name&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">my_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="p">:</span>
        <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">attr_str</span> <span class="o">=</span> <span class="n">attr</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="s2">&quot;create_renderable&quot;</span><span class="p">):</span>
            <span class="n">attr_str</span> <span class="o">=</span> <span class="n">attr</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">()</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
            <span class="n">attr_str</span> <span class="o">=</span> <span class="n">attr</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">attr_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
        <span class="n">my_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">attr_str</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">my_table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.module.KiaraModuleConfig.get" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>


<a href="#kiara.models.module.KiaraModuleConfig.get" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Get the value for the specified configuation key.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the value for the specified configuation key.&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;No config value &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; in module config class &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.module.KiaraModuleConfig.requires_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">requires_config</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.KiaraModuleConfig.requires_config" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Return whether this class can be used as-is, or requires configuration before an instance can be created.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">requires_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Return whether this class can be used as-is, or requires configuration before an instance can be created.&quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">required</span> <span class="ow">and</span> <span class="n">field</span><span class="o">.</span><span class="n">default</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">config</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




<h4 id="kiara.models.module-modules">Modules<a href="#kiara.models.module-modules" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-module">



<h5 id="kiara.models.module.destiny" class="doc doc-heading">
        <code>destiny</code>



<a href="#kiara.models.module.destiny" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.module.destiny-classes">Classes<a href="#kiara.models.module.destiny-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.destiny.Destiny" class="doc doc-heading">
        <code>
Destiny            (<a class="autorefs autorefs-internal" title="kiara.models.module.manifest.Manifest" href="../module/manifest/#kiara.models.module.manifest.Manifest">Manifest</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.destiny.Destiny" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A destiny is basically a link to a potential future transformation result involving one or several values as input.</p>
<p>It is immutable, once executed, each of the input values can only have one destiny with a specific alias.
This is similar to what is usually called a 'future' in programming languages, but more deterministic, sorta.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/destiny.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Destiny</span><span class="p">(</span><span class="n">Manifest</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A destiny is basically a link to a potential future transformation result involving one or several values as input.</span>

<span class="sd">    It is immutable, once executed, each of the input values can only have one destiny with a specific alias.</span>
<span class="sd">    This is similar to what is usually called a &#39;future&#39; in programming languages, but more deterministic, sorta.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.destiny&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_values</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
        <span class="n">destiny_alias</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">values</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span>
        <span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span><span class="p">,</span>
        <span class="n">result_field_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>

        <span class="n">module</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">create_module</span><span class="p">(</span><span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">result_field_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t determine result field name for module, not provided, and multiple outputs available for module &#39;</span><span class="si">{</span><span class="n">module</span><span class="o">.</span><span class="n">module_type_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>

            <span class="n">result_field_name</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>

        <span class="n">result_schema</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">result_field_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">result_schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t determine result schema for module &#39;</span><span class="si">{</span><span class="n">module</span><span class="o">.</span><span class="n">module_type_name</span><span class="si">}</span><span class="s2">&#39;, result field &#39;</span><span class="si">{</span><span class="n">result_field_name</span><span class="si">}</span><span class="s2">&#39; not available. Available field: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">fixed_inputs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">deferred_inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">module</span><span class="o">.</span><span class="n">inputs_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">fixed_inputs</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="n">field</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">deferred_inputs</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">module_details</span> <span class="o">=</span> <span class="n">KiaraModuleInstance</span><span class="o">.</span><span class="n">from_module</span><span class="p">(</span><span class="n">module</span><span class="o">=</span><span class="n">module</span><span class="p">)</span>

        <span class="c1"># TODO: check whether it&#39;d be better to &#39;resolve&#39; the module config, as this might change the resulting hash</span>
        <span class="n">destiny_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">ID_REGISTRY</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">obj_type</span><span class="o">=</span><span class="n">Destiny</span><span class="p">)</span>
        <span class="n">destiny</span> <span class="o">=</span> <span class="n">Destiny</span><span class="p">(</span>
            <span class="n">destiny_id</span><span class="o">=</span><span class="n">destiny_id</span><span class="p">,</span>
            <span class="n">destiny_alias</span><span class="o">=</span><span class="n">destiny_alias</span><span class="p">,</span>
            <span class="n">module_details</span><span class="o">=</span><span class="n">module_details</span><span class="p">,</span>
            <span class="n">module_type</span><span class="o">=</span><span class="n">manifest</span><span class="o">.</span><span class="n">module_type</span><span class="p">,</span>
            <span class="n">module_config</span><span class="o">=</span><span class="n">manifest</span><span class="o">.</span><span class="n">module_config</span><span class="p">,</span>
            <span class="n">result_field_name</span><span class="o">=</span><span class="n">result_field_name</span><span class="p">,</span>
            <span class="n">result_schema</span><span class="o">=</span><span class="n">result_schema</span><span class="p">,</span>
            <span class="n">fixed_inputs</span><span class="o">=</span><span class="n">fixed_inputs</span><span class="p">,</span>
            <span class="n">inputs_schema</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">inputs_schema</span><span class="p">),</span>
            <span class="n">deferred_inputs</span><span class="o">=</span><span class="n">deferred_inputs</span><span class="p">,</span>
            <span class="n">result_value_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">destiny</span><span class="o">.</span><span class="n">_module</span> <span class="o">=</span> <span class="n">module</span>
        <span class="n">ID_REGISTRY</span><span class="o">.</span><span class="n">update_metadata</span><span class="p">(</span><span class="n">destiny_id</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">destiny</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">destiny</span>

    <span class="n">destiny_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The id of this destiny.&quot;</span><span class="p">)</span>

    <span class="n">destiny_alias</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The path to (the) destiny.&quot;</span><span class="p">)</span>
    <span class="n">module_details</span><span class="p">:</span> <span class="n">KiaraModuleInstance</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The class of the underlying module.&quot;</span>
    <span class="p">)</span>
    <span class="n">fixed_inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Inputs that are known in advance.&quot;</span>
    <span class="p">)</span>
    <span class="n">inputs_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The schemas of all deferred input fields.&quot;</span>
    <span class="p">)</span>
    <span class="n">deferred_inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Potentially required external inputs that are needed for this destiny to materialize.&quot;</span>
    <span class="p">)</span>
    <span class="n">result_field_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the result field.&quot;</span><span class="p">)</span>
    <span class="n">result_schema</span><span class="p">:</span> <span class="n">ValueSchema</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The value schema of the result.&quot;</span><span class="p">)</span>
    <span class="n">result_value_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The value id of the result.&quot;</span>
    <span class="p">)</span>

    <span class="n">_is_stored</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">_job_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="n">_merged_inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="c1"># _job_config_hash: Optional[int] = PrivateAttr(default=None)</span>
    <span class="n">_module</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;KiaraModule&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">destiny_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">destiny_id</span><span class="o">.</span><span class="n">bytes</span>

    <span class="c1"># @property</span>
    <span class="c1"># def job_config_hash(self) -&gt; int:</span>
    <span class="c1">#     if self._job_config_hash is None:</span>
    <span class="c1">#         self._job_config_hash = self._retrieve_job_config_hash()</span>
    <span class="c1">#     return self._job_config_hash</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">merged_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_merged_inputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_merged_inputs</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fixed_inputs</span><span class="p">)</span>
        <span class="n">missing</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fixed_inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">deferred_inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Destiny input field &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39; present in both fixed and deferred inputs, this is invalid.&quot;</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">continue</span>
            <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deferred_inputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="p">):</span>
                <span class="n">missing</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

        <span class="k">if</span> <span class="n">missing</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Destiny not valid (yet), missing inputs: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">missing</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_merged_inputs</span> <span class="o">=</span> <span class="n">result</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_merged_inputs</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">module</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraModule&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">m_cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_details</span><span class="o">.</span><span class="n">get_class</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_module</span> <span class="o">=</span> <span class="n">m_cls</span><span class="p">(</span><span class="n">module_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module</span>

    <span class="c1"># def _retrieve_job_config_hash(self) -&gt; int:</span>
    <span class="c1">#     obj = {&quot;module_config&quot;: self.manifest_data, &quot;inputs&quot;: self.merged_inputs}</span>
    <span class="c1">#     return compute_cid(obj)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.destiny.Destiny-attributes">Attributes<a href="#kiara.models.module.destiny.Destiny-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.destiny.Destiny.deferred_inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deferred_inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.destiny.Destiny.deferred_inputs" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Potentially required external inputs that are needed for this destiny to materialize.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.destiny.Destiny.destiny_alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">destiny_alias</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.destiny.Destiny.destiny_alias" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The path to (the) destiny.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.destiny.Destiny.destiny_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">destiny_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.destiny.Destiny.destiny_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The id of this destiny.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.destiny.Destiny.fixed_inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">fixed_inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.destiny.Destiny.fixed_inputs" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Inputs that are known in advance.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.destiny.Destiny.inputs_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inputs_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">ValueSchema</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.destiny.Destiny.inputs_schema" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The schemas of all deferred input fields.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.destiny.Destiny.merged_inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">merged_inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.destiny.Destiny.merged_inputs" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.destiny.Destiny.module" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module</span><span class="p">:</span> <span class="n">KiaraModule</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.destiny.Destiny.module" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.destiny.Destiny.module_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_details</span><span class="p">:</span> <span class="n">KiaraModuleInstance</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.destiny.Destiny.module_details" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The class of the underlying module.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.destiny.Destiny.result_field_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">result_field_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.destiny.Destiny.result_field_name" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The name of the result field.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.destiny.Destiny.result_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">result_schema</span><span class="p">:</span> <span class="n">ValueSchema</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.destiny.Destiny.result_schema" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The value schema of the result.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.destiny.Destiny.result_value_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">result_value_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.destiny.Destiny.result_value_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The value id of the result.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.destiny.Destiny.create_from_values" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_values</span><span class="p">(</span><span class="n">kiara</span><span class="p">,</span> <span class="n">destiny_alias</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">manifest</span><span class="p">,</span> <span class="n">result_field_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.destiny.Destiny.create_from_values" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/destiny.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_values</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
    <span class="n">destiny_alias</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">values</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span>
    <span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span><span class="p">,</span>
    <span class="n">result_field_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>

    <span class="n">module</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">create_module</span><span class="p">(</span><span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">result_field_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t determine result field name for module, not provided, and multiple outputs available for module &#39;</span><span class="si">{</span><span class="n">module</span><span class="o">.</span><span class="n">module_type_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="n">result_field_name</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>

    <span class="n">result_schema</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">result_field_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result_schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t determine result schema for module &#39;</span><span class="si">{</span><span class="n">module</span><span class="o">.</span><span class="n">module_type_name</span><span class="si">}</span><span class="s2">&#39;, result field &#39;</span><span class="si">{</span><span class="n">result_field_name</span><span class="si">}</span><span class="s2">&#39; not available. Available field: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">fixed_inputs</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">deferred_inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">module</span><span class="o">.</span><span class="n">inputs_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">fixed_inputs</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="n">field</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">deferred_inputs</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">module_details</span> <span class="o">=</span> <span class="n">KiaraModuleInstance</span><span class="o">.</span><span class="n">from_module</span><span class="p">(</span><span class="n">module</span><span class="o">=</span><span class="n">module</span><span class="p">)</span>

    <span class="c1"># TODO: check whether it&#39;d be better to &#39;resolve&#39; the module config, as this might change the resulting hash</span>
    <span class="n">destiny_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">ID_REGISTRY</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">obj_type</span><span class="o">=</span><span class="n">Destiny</span><span class="p">)</span>
    <span class="n">destiny</span> <span class="o">=</span> <span class="n">Destiny</span><span class="p">(</span>
        <span class="n">destiny_id</span><span class="o">=</span><span class="n">destiny_id</span><span class="p">,</span>
        <span class="n">destiny_alias</span><span class="o">=</span><span class="n">destiny_alias</span><span class="p">,</span>
        <span class="n">module_details</span><span class="o">=</span><span class="n">module_details</span><span class="p">,</span>
        <span class="n">module_type</span><span class="o">=</span><span class="n">manifest</span><span class="o">.</span><span class="n">module_type</span><span class="p">,</span>
        <span class="n">module_config</span><span class="o">=</span><span class="n">manifest</span><span class="o">.</span><span class="n">module_config</span><span class="p">,</span>
        <span class="n">result_field_name</span><span class="o">=</span><span class="n">result_field_name</span><span class="p">,</span>
        <span class="n">result_schema</span><span class="o">=</span><span class="n">result_schema</span><span class="p">,</span>
        <span class="n">fixed_inputs</span><span class="o">=</span><span class="n">fixed_inputs</span><span class="p">,</span>
        <span class="n">inputs_schema</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">inputs_schema</span><span class="p">),</span>
        <span class="n">deferred_inputs</span><span class="o">=</span><span class="n">deferred_inputs</span><span class="p">,</span>
        <span class="n">result_value_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">destiny</span><span class="o">.</span><span class="n">_module</span> <span class="o">=</span> <span class="n">module</span>
    <span class="n">ID_REGISTRY</span><span class="o">.</span><span class="n">update_metadata</span><span class="p">(</span><span class="n">destiny_id</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">destiny</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">destiny</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.module.jobs" class="doc doc-heading">
        <code>jobs</code>



<a href="#kiara.models.module.jobs" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.module.jobs-classes">Classes<a href="#kiara.models.module.jobs-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.jobs.ActiveJob" class="doc doc-heading">
        <code>
ActiveJob            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.jobs.ActiveJob" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ActiveJob</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.active_job&quot;</span>

    <span class="n">job_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The job id.&quot;</span><span class="p">)</span>

    <span class="n">job_config</span><span class="p">:</span> <span class="n">JobConfig</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The job details.&quot;</span><span class="p">)</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">JobStatus</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The current status of the job.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">JobStatus</span><span class="o">.</span><span class="n">CREATED</span>
    <span class="p">)</span>
    <span class="n">job_log</span><span class="p">:</span> <span class="n">JobLog</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The lob jog.&quot;</span><span class="p">)</span>
    <span class="n">submitted</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;When the job was submitted.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span>
    <span class="p">)</span>
    <span class="n">started</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;When the job was started.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>
    <span class="n">finished</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;When the job was finished.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>
    <span class="n">results</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The result(s).&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>
    <span class="n">error</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Potential error message.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>
    <span class="n">_exception</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="ne">Exception</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">job_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">job_id</span><span class="o">.</span><span class="n">bytes</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">exception</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="ne">Exception</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exception</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">runtime</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">finished</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">runtime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">finished</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">started</span>
        <span class="k">return</span> <span class="n">runtime</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.jobs.ActiveJob-attributes">Attributes<a href="#kiara.models.module.jobs.ActiveJob-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.ActiveJob.error" class="doc doc-heading">
<code class="highlight language-python"><span class="n">error</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.jobs.ActiveJob.error" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Potential error message.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.ActiveJob.exception" class="doc doc-heading">
<code class="highlight language-python"><span class="n">exception</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="ne">Exception</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.jobs.ActiveJob.exception" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.ActiveJob.finished" class="doc doc-heading">
<code class="highlight language-python"><span class="n">finished</span><span class="p">:</span> <span class="n">datetime</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.jobs.ActiveJob.finished" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>When the job was finished.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.ActiveJob.job_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">job_config</span><span class="p">:</span> <span class="n">JobConfig</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.jobs.ActiveJob.job_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The job details.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.ActiveJob.job_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">job_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.jobs.ActiveJob.job_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The job id.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.ActiveJob.job_log" class="doc doc-heading">
<code class="highlight language-python"><span class="n">job_log</span><span class="p">:</span> <span class="n">JobLog</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.jobs.ActiveJob.job_log" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The lob jog.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.ActiveJob.results" class="doc doc-heading">
<code class="highlight language-python"><span class="n">results</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.jobs.ActiveJob.results" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The result(s).</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.ActiveJob.runtime" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runtime</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.jobs.ActiveJob.runtime" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.ActiveJob.started" class="doc doc-heading">
<code class="highlight language-python"><span class="n">started</span><span class="p">:</span> <span class="n">datetime</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.jobs.ActiveJob.started" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>When the job was started.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.ActiveJob.status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">status</span><span class="p">:</span> <span class="n">JobStatus</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.jobs.ActiveJob.status" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The current status of the job.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.ActiveJob.submitted" class="doc doc-heading">
<code class="highlight language-python"><span class="n">submitted</span><span class="p">:</span> <span class="n">datetime</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.jobs.ActiveJob.submitted" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>When the job was submitted.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.jobs.ExecutionContext" class="doc doc-heading">
        <code>
ExecutionContext            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.jobs.ExecutionContext" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ExecutionContext</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.execution_context&quot;</span>

    <span class="n">working_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The path of the working directory.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span>
    <span class="p">)</span>
    <span class="n">pipeline_dir</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The path of the pipeline file that is being executed (if applicable).&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.jobs.ExecutionContext-attributes">Attributes<a href="#kiara.models.module.jobs.ExecutionContext-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.ExecutionContext.pipeline_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_dir</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.jobs.ExecutionContext.pipeline_dir" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The path of the pipeline file that is being executed (if applicable).</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.ExecutionContext.working_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">working_dir</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.jobs.ExecutionContext.working_dir" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The path of the working directory.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.jobs.JobConfig" class="doc doc-heading">
        <code>
JobConfig            (<a class="autorefs autorefs-internal" title="kiara.models.module.manifest.InputsManifest" href="../module/manifest/#kiara.models.module.manifest.InputsManifest">InputsManifest</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobConfig" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">JobConfig</span><span class="p">(</span><span class="n">InputsManifest</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.job_config&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_module</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">data_registry</span><span class="p">:</span> <span class="s2">&quot;DataRegistry&quot;</span><span class="p">,</span>
        <span class="n">module</span><span class="p">:</span> <span class="s2">&quot;KiaraModule&quot;</span><span class="p">,</span>
        <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="p">):</span>

        <span class="n">augmented</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">augment_module_inputs</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">)</span>

        <span class="n">values</span> <span class="o">=</span> <span class="n">data_registry</span><span class="o">.</span><span class="n">create_valuemap</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">augmented</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">full_inputs_schema</span>
        <span class="p">)</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">invalid</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidValuesException</span><span class="p">(</span><span class="n">invalid_values</span><span class="o">=</span><span class="n">invalid</span><span class="p">)</span>

        <span class="n">value_ids</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">JobConfig</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
            <span class="n">module_type</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">module_type_name</span><span class="p">,</span>
            <span class="n">module_config</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
            <span class="n">inputs</span><span class="o">=</span><span class="n">value_ids</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;manifest&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">manifest_cid</span><span class="p">,</span> <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs_cid</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.jobs.JobConfig.create_from_module" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_module</span><span class="p">(</span><span class="n">data_registry</span><span class="p">,</span> <span class="n">module</span><span class="p">,</span> <span class="n">inputs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobConfig.create_from_module" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_module</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">data_registry</span><span class="p">:</span> <span class="s2">&quot;DataRegistry&quot;</span><span class="p">,</span>
    <span class="n">module</span><span class="p">:</span> <span class="s2">&quot;KiaraModule&quot;</span><span class="p">,</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<span class="p">):</span>

    <span class="n">augmented</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">augment_module_inputs</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">)</span>

    <span class="n">values</span> <span class="o">=</span> <span class="n">data_registry</span><span class="o">.</span><span class="n">create_valuemap</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">augmented</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">full_inputs_schema</span>
    <span class="p">)</span>
    <span class="n">invalid</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">invalid</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InvalidValuesException</span><span class="p">(</span><span class="n">invalid_values</span><span class="o">=</span><span class="n">invalid</span><span class="p">)</span>

    <span class="n">value_ids</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">JobConfig</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
        <span class="n">module_type</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">module_type_name</span><span class="p">,</span>
        <span class="n">module_config</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
        <span class="n">inputs</span><span class="o">=</span><span class="n">value_ids</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.jobs.JobLog" class="doc doc-heading">
        <code>
JobLog            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobLog" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">JobLog</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>

    <span class="n">log</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">LogMessage</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The logs for this job.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span>
    <span class="p">)</span>
    <span class="n">percent_finished</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Describes how much of the job is finished. A negative number means the module does not support progress tracking.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">log_level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">):</span>

        <span class="n">_msg</span> <span class="o">=</span> <span class="n">LogMessage</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">,</span> <span class="n">log_level</span><span class="o">=</span><span class="n">log_level</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_msg</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.jobs.JobLog-attributes">Attributes<a href="#kiara.models.module.jobs.JobLog-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobLog.log" class="doc doc-heading">
<code class="highlight language-python"><span class="n">log</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">jobs</span><span class="o">.</span><span class="n">LogMessage</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobLog.log" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The logs for this job.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobLog.percent_finished" class="doc doc-heading">
<code class="highlight language-python"><span class="n">percent_finished</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobLog.percent_finished" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Describes how much of the job is finished. A negative number means the module does not support progress tracking.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.jobs.JobLog.add_log" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">log_level</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>


<a href="#kiara.models.module.jobs.JobLog.add_log" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">log_level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">):</span>

    <span class="n">_msg</span> <span class="o">=</span> <span class="n">LogMessage</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">,</span> <span class="n">log_level</span><span class="o">=</span><span class="n">log_level</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_msg</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.jobs.JobRecord" class="doc doc-heading">
        <code>
JobRecord            (<a class="autorefs autorefs-internal" title="kiara.models.module.jobs.JobConfig" href="../module/jobs/#kiara.models.module.jobs.JobConfig">JobConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobRecord" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">JobRecord</span><span class="p">(</span><span class="n">JobConfig</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.job_record&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_active_job</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">active_job</span><span class="p">:</span> <span class="n">ActiveJob</span><span class="p">):</span>

        <span class="k">assert</span> <span class="n">active_job</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">JobStatus</span><span class="o">.</span><span class="n">SUCCESS</span>
        <span class="k">assert</span> <span class="n">active_job</span><span class="o">.</span><span class="n">results</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="n">job_details</span> <span class="o">=</span> <span class="n">JobRuntimeDetails</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
            <span class="n">job_log</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">job_log</span><span class="p">,</span>
            <span class="n">submitted</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">submitted</span><span class="p">,</span>
            <span class="n">started</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">started</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="n">finished</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">finished</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="n">runtime</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">runtime</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
        <span class="p">)</span>

        <span class="n">inputs_data_cid</span> <span class="o">=</span> <span class="n">active_job</span><span class="o">.</span><span class="n">job_config</span><span class="o">.</span><span class="n">calculate_inputs_data_cid</span><span class="p">(</span>
            <span class="n">data_registry</span><span class="o">=</span><span class="n">kiara</span><span class="o">.</span><span class="n">data_registry</span>
        <span class="p">)</span>

        <span class="n">job_record</span> <span class="o">=</span> <span class="n">JobRecord</span><span class="p">(</span>
            <span class="n">job_id</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">job_id</span><span class="p">,</span>
            <span class="n">module_type</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">job_config</span><span class="o">.</span><span class="n">module_type</span><span class="p">,</span>
            <span class="n">module_config</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">job_config</span><span class="o">.</span><span class="n">module_config</span><span class="p">,</span>
            <span class="n">inputs</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">job_config</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span>
            <span class="n">outputs</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">results</span><span class="p">,</span>
            <span class="n">runtime_details</span><span class="o">=</span><span class="n">job_details</span><span class="p">,</span>
            <span class="n">environment_hashes</span><span class="o">=</span><span class="n">kiara</span><span class="o">.</span><span class="n">environment_registry</span><span class="o">.</span><span class="n">environment_hashes</span><span class="p">,</span>
            <span class="n">inputs_data_hash</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">inputs_data_cid</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">inputs_data_cid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">job_record</span>

    <span class="n">job_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The globally unique id for this job.&quot;</span><span class="p">)</span>
    <span class="n">environment_hashes</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Hashes for the environments this value was created in.&quot;</span>
    <span class="p">)</span>
    <span class="n">enviroments</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Information about the environments this value was created in.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">inputs_data_hash</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A map of the hashes of this jobs inputs.&quot;</span>
    <span class="p">)</span>

    <span class="n">outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;References to the job outputs.&quot;</span><span class="p">)</span>
    <span class="n">runtime_details</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">JobRuntimeDetails</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Runtime details for the job.&quot;</span>
    <span class="p">)</span>
    <span class="n">job_metadata</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Optional metadata for this job.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>

    <span class="n">_is_stored</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_outputs_hash</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;job_metadata&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_metadata</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;manifest&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">manifest_cid</span><span class="p">,</span>
            <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs_cid</span><span class="p">,</span>
            <span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">bytes</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="kn">from</span> <span class="nn">kiara.utils.output</span> <span class="kn">import</span> <span class="n">extract_renderable</span>

        <span class="n">include</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Key&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">include</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">include</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">extract_renderable</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;job hash&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">job_hash</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;inputs hash&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs_hash</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">table</span>

    <span class="c1"># @property</span>
    <span class="c1"># def outputs_hash(self) -&gt; int:</span>
    <span class="c1">#</span>
    <span class="c1">#     if self._outputs_hash is not None:</span>
    <span class="c1">#         return self._outputs_hash</span>
    <span class="c1">#</span>
    <span class="c1">#     obj = self.outputs</span>
    <span class="c1">#     h = DeepHash(obj, hasher=KIARA_HASH_FUNCTION)</span>
    <span class="c1">#     self._outputs_hash = h[obj]</span>
    <span class="c1">#     return self._outputs_hash</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.jobs.JobRecord-attributes">Attributes<a href="#kiara.models.module.jobs.JobRecord-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobRecord.enviroments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enviroments</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobRecord.enviroments" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Information about the environments this value was created in.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobRecord.environment_hashes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">environment_hashes</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobRecord.environment_hashes" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Hashes for the environments this value was created in.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobRecord.inputs_data_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inputs_data_hash</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobRecord.inputs_data_hash" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A map of the hashes of this jobs inputs.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobRecord.job_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">job_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobRecord.job_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The globally unique id for this job.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobRecord.job_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">job_metadata</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobRecord.job_metadata" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Optional metadata for this job.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobRecord.outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobRecord.outputs" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>References to the job outputs.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobRecord.runtime_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runtime_details</span><span class="p">:</span> <span class="n">JobRuntimeDetails</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobRecord.runtime_details" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Runtime details for the job.</p>
    </div>

  </div>




<h8 id="kiara.models.module.jobs.JobRecord-methods">Methods<a href="#kiara.models.module.jobs.JobRecord-methods" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.jobs.JobRecord.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.module.jobs.JobRecord.create_renderable" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Create a renderable for this module configuration.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="kn">from</span> <span class="nn">kiara.utils.output</span> <span class="kn">import</span> <span class="n">extract_renderable</span>

    <span class="n">include</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Key&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">include</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">include</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">extract_renderable</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;job hash&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">job_hash</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;inputs hash&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs_hash</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.jobs.JobRecord.from_active_job" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_active_job</span><span class="p">(</span><span class="n">kiara</span><span class="p">,</span> <span class="n">active_job</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobRecord.from_active_job" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_active_job</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">active_job</span><span class="p">:</span> <span class="n">ActiveJob</span><span class="p">):</span>

    <span class="k">assert</span> <span class="n">active_job</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">JobStatus</span><span class="o">.</span><span class="n">SUCCESS</span>
    <span class="k">assert</span> <span class="n">active_job</span><span class="o">.</span><span class="n">results</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="n">job_details</span> <span class="o">=</span> <span class="n">JobRuntimeDetails</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
        <span class="n">job_log</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">job_log</span><span class="p">,</span>
        <span class="n">submitted</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">submitted</span><span class="p">,</span>
        <span class="n">started</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">started</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
        <span class="n">finished</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">finished</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
        <span class="n">runtime</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">runtime</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
    <span class="p">)</span>

    <span class="n">inputs_data_cid</span> <span class="o">=</span> <span class="n">active_job</span><span class="o">.</span><span class="n">job_config</span><span class="o">.</span><span class="n">calculate_inputs_data_cid</span><span class="p">(</span>
        <span class="n">data_registry</span><span class="o">=</span><span class="n">kiara</span><span class="o">.</span><span class="n">data_registry</span>
    <span class="p">)</span>

    <span class="n">job_record</span> <span class="o">=</span> <span class="n">JobRecord</span><span class="p">(</span>
        <span class="n">job_id</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">job_id</span><span class="p">,</span>
        <span class="n">module_type</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">job_config</span><span class="o">.</span><span class="n">module_type</span><span class="p">,</span>
        <span class="n">module_config</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">job_config</span><span class="o">.</span><span class="n">module_config</span><span class="p">,</span>
        <span class="n">inputs</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">job_config</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span>
        <span class="n">outputs</span><span class="o">=</span><span class="n">active_job</span><span class="o">.</span><span class="n">results</span><span class="p">,</span>
        <span class="n">runtime_details</span><span class="o">=</span><span class="n">job_details</span><span class="p">,</span>
        <span class="n">environment_hashes</span><span class="o">=</span><span class="n">kiara</span><span class="o">.</span><span class="n">environment_registry</span><span class="o">.</span><span class="n">environment_hashes</span><span class="p">,</span>
        <span class="n">inputs_data_hash</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">inputs_data_cid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">inputs_data_cid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">job_record</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.jobs.JobRecord.validate_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_metadata</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobRecord.validate_metadata" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;job_metadata&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_metadata</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">return</span> <span class="n">value</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.jobs.JobRuntimeDetails" class="doc doc-heading">
        <code>
JobRuntimeDetails            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobRuntimeDetails" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">JobRuntimeDetails</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>

    <span class="c1"># @classmethod</span>
    <span class="c1"># def from_manifest(</span>
    <span class="c1">#     cls,</span>
    <span class="c1">#     manifest: Manifest,</span>
    <span class="c1">#     inputs: Mapping[str, Value],</span>
    <span class="c1">#     outputs: Mapping[str, Value],</span>
    <span class="c1"># ):</span>
    <span class="c1">#</span>
    <span class="c1">#     return JobRecord(</span>
    <span class="c1">#         module_type=manifest.module_type,</span>
    <span class="c1">#         module_config=manifest.module_config,</span>
    <span class="c1">#         inputs={k: v.value_id for k, v in inputs.items()},</span>
    <span class="c1">#         outputs={k: v.value_id for k, v in outputs.items()},</span>
    <span class="c1">#     )</span>

    <span class="n">job_log</span><span class="p">:</span> <span class="n">JobLog</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The lob jog.&quot;</span><span class="p">)</span>
    <span class="n">submitted</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;When the job was submitted.&quot;</span><span class="p">)</span>
    <span class="n">started</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;When the job was started.&quot;</span><span class="p">)</span>
    <span class="n">finished</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;When the job was finished.&quot;</span><span class="p">)</span>
    <span class="n">runtime</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The duration of the job.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.jobs.JobRuntimeDetails-attributes">Attributes<a href="#kiara.models.module.jobs.JobRuntimeDetails-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobRuntimeDetails.finished" class="doc doc-heading">
<code class="highlight language-python"><span class="n">finished</span><span class="p">:</span> <span class="n">datetime</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobRuntimeDetails.finished" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>When the job was finished.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobRuntimeDetails.job_log" class="doc doc-heading">
<code class="highlight language-python"><span class="n">job_log</span><span class="p">:</span> <span class="n">JobLog</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobRuntimeDetails.job_log" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The lob jog.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobRuntimeDetails.runtime" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runtime</span><span class="p">:</span> <span class="nb">float</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobRuntimeDetails.runtime" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The duration of the job.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobRuntimeDetails.started" class="doc doc-heading">
<code class="highlight language-python"><span class="n">started</span><span class="p">:</span> <span class="n">datetime</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobRuntimeDetails.started" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>When the job was started.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobRuntimeDetails.submitted" class="doc doc-heading">
<code class="highlight language-python"><span class="n">submitted</span><span class="p">:</span> <span class="n">datetime</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.jobs.JobRuntimeDetails.submitted" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>When the job was submitted.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.jobs.JobStatus" class="doc doc-heading">
        <code>
JobStatus            (<span title="enum.Enum">Enum</span>)
        </code>



<a href="#kiara.models.module.jobs.JobStatus" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>An enumeration.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">JobStatus</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>

    <span class="n">CREATED</span> <span class="o">=</span> <span class="s2">&quot;__job_created__&quot;</span>
    <span class="n">STARTED</span> <span class="o">=</span> <span class="s2">&quot;__job_started__&quot;</span>
    <span class="n">SUCCESS</span> <span class="o">=</span> <span class="s2">&quot;__job_success__&quot;</span>
    <span class="n">FAILED</span> <span class="o">=</span> <span class="s2">&quot;__job_failed__&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobStatus.CREATED" class="doc doc-heading">
<code class="highlight language-python"><span class="n">CREATED</span></code>


<a href="#kiara.models.module.jobs.JobStatus.CREATED" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobStatus.FAILED" class="doc doc-heading">
<code class="highlight language-python"><span class="n">FAILED</span></code>


<a href="#kiara.models.module.jobs.JobStatus.FAILED" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobStatus.STARTED" class="doc doc-heading">
<code class="highlight language-python"><span class="n">STARTED</span></code>


<a href="#kiara.models.module.jobs.JobStatus.STARTED" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.JobStatus.SUCCESS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">SUCCESS</span></code>


<a href="#kiara.models.module.jobs.JobStatus.SUCCESS" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.jobs.LogMessage" class="doc doc-heading">
        <code>
LogMessage            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.jobs.LogMessage" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LogMessage</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>

    <span class="n">timestamp</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The time the message was logged.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span>
    <span class="p">)</span>
    <span class="n">log_level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The log level.&quot;</span><span class="p">)</span>
    <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The log message&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.jobs.LogMessage-attributes">Attributes<a href="#kiara.models.module.jobs.LogMessage-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.LogMessage.log_level" class="doc doc-heading">
<code class="highlight language-python"><span class="n">log_level</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.jobs.LogMessage.log_level" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The log level.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.LogMessage.msg" class="doc doc-heading">
<code class="highlight language-python"><span class="n">msg</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.jobs.LogMessage.msg" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The log message</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.jobs.LogMessage.timestamp" class="doc doc-heading">
<code class="highlight language-python"><span class="n">timestamp</span><span class="p">:</span> <span class="n">datetime</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.jobs.LogMessage.timestamp" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The time the message was logged.</p>
    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.module.manifest" class="doc doc-heading">
        <code>manifest</code>



<a href="#kiara.models.module.manifest" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.module.manifest-classes">Classes<a href="#kiara.models.module.manifest-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.manifest.InputsManifest" class="doc doc-heading">
        <code>
InputsManifest            (<a class="autorefs autorefs-internal" title="kiara.models.module.manifest.Manifest" href="../module/manifest/#kiara.models.module.manifest.Manifest">Manifest</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.manifest.InputsManifest" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/manifest.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">InputsManifest</span><span class="p">(</span><span class="n">Manifest</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.manifest_with_inputs&quot;</span>

    <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A map of all the input fields and value references.&quot;</span>
    <span class="p">)</span>
    <span class="n">_inputs_cid</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_jobs_cid</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_inputs_data_cid</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">CID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;inputs&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">replace_none_values</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">NONE_VALUE_ID</span>
            <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">job_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">job_cid</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">job_cid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CID</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_jobs_cid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_jobs_cid</span>

        <span class="n">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;manifest&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">manifest_cid</span><span class="p">,</span> <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs_cid</span><span class="p">}</span>
        <span class="n">_</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_jobs_cid</span> <span class="o">=</span> <span class="n">compute_cid</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_jobs_cid</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">inputs_cid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CID</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_cid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_cid</span>

        <span class="n">_</span><span class="p">,</span> <span class="n">cid</span> <span class="o">=</span> <span class="n">compute_cid</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">bytes</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">()})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_cid</span> <span class="o">=</span> <span class="n">cid</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_cid</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">inputs_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inputs_cid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">calculate_inputs_data_cid</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">data_registry</span><span class="p">:</span> <span class="s2">&quot;DataRegistry&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">CID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_data_cid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_data_cid</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_data_cid</span>  <span class="c1"># type: ignore</span>

        <span class="n">data_hashes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">value_hash</span> <span class="o">==</span> <span class="n">INVALID_HASH_MARKER</span><span class="p">:</span>
                <span class="n">invalid</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">break</span>
            <span class="n">data_hashes</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">CID</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">value_hash</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">invalid</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_data_cid</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">_</span><span class="p">,</span> <span class="n">cid</span> <span class="o">=</span> <span class="n">compute_cid</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data_hashes</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_data_cid</span> <span class="o">=</span> <span class="n">cid</span>
        <span class="k">return</span> <span class="n">cid</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.manifest.InputsManifest-attributes">Attributes<a href="#kiara.models.module.manifest.InputsManifest-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.manifest.InputsManifest.inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.manifest.InputsManifest.inputs" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A map of all the input fields and value references.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.manifest.InputsManifest.inputs_cid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inputs_cid</span><span class="p">:</span> <span class="n">CID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.manifest.InputsManifest.inputs_cid" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.manifest.InputsManifest.inputs_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inputs_hash</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.manifest.InputsManifest.inputs_hash" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.manifest.InputsManifest.job_cid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">job_cid</span><span class="p">:</span> <span class="n">CID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.manifest.InputsManifest.job_cid" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.manifest.InputsManifest.job_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">job_hash</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.manifest.InputsManifest.job_hash" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.manifest.InputsManifest.calculate_inputs_data_cid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calculate_inputs_data_cid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_registry</span><span class="p">)</span></code>


<a href="#kiara.models.module.manifest.InputsManifest.calculate_inputs_data_cid" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/manifest.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">calculate_inputs_data_cid</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">data_registry</span><span class="p">:</span> <span class="s2">&quot;DataRegistry&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">CID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_data_cid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_data_cid</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_data_cid</span>  <span class="c1"># type: ignore</span>

    <span class="n">data_hashes</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">invalid</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">value_hash</span> <span class="o">==</span> <span class="n">INVALID_HASH_MARKER</span><span class="p">:</span>
            <span class="n">invalid</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">break</span>
        <span class="n">data_hashes</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">CID</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">value_hash</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">invalid</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_data_cid</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">_</span><span class="p">,</span> <span class="n">cid</span> <span class="o">=</span> <span class="n">compute_cid</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data_hashes</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_data_cid</span> <span class="o">=</span> <span class="n">cid</span>
    <span class="k">return</span> <span class="n">cid</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.manifest.InputsManifest.replace_none_values" class="doc doc-heading">
<code class="highlight language-python"><span class="n">replace_none_values</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.manifest.InputsManifest.replace_none_values" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/manifest.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;inputs&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">replace_none_values</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">NONE_VALUE_ID</span>
        <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.manifest.Manifest" class="doc doc-heading">
        <code>
Manifest            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.manifest.Manifest" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A class to hold the type and configuration for a module instance.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/manifest.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Manifest</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A class to hold the type and configuration for a module instance.&quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.manifest&quot;</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">forbid</span>
        <span class="n">validate_all</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">_manifest_data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_manifest_cid</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The module type.&quot;</span><span class="p">)</span>
    <span class="n">module_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The configuration for the module.&quot;</span>
    <span class="p">)</span>
    <span class="n">is_resolved</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether the configuration of this module was augmented with the module type defaults etc.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="c1"># python_class: PythonClass = Field(description=&quot;The python class that implements this module.&quot;)</span>
    <span class="c1"># doc: DocumentationMetadataModel = Field(</span>
    <span class="c1">#     description=&quot;Documentation for this module instance.&quot;, default=None</span>
    <span class="c1"># )</span>

    <span class="c1"># @validator(&quot;module_config&quot;)</span>
    <span class="c1"># def _validate_module_config(cls, value):</span>
    <span class="c1">#</span>
    <span class="c1">#     return value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">manifest_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The configuration data for this module instance.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_manifest_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_manifest_data</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_manifest_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_type</span><span class="p">,</span>
            <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_manifest_data</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">manifest_cid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CID</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_manifest_cid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_manifest_cid</span>

        <span class="n">_</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_manifest_cid</span> <span class="o">=</span> <span class="n">compute_cid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">manifest_data</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_manifest_cid</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">manifest_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">manifest_cid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">manifest_data_as_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;module_type&quot;</span><span class="p">,</span> <span class="s2">&quot;module_config&quot;</span><span class="p">})</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">manifest_data</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a renderable for this module configuration.&quot;&quot;&quot;</span>

        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">conf</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
            <span class="n">orjson_dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">),</span>
            <span class="s2">&quot;json&quot;</span><span class="p">,</span>
            <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">conf</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(module_type=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">module_type</span><span class="si">}</span><span class="s2">, module_config=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.manifest.Manifest-attributes">Attributes<a href="#kiara.models.module.manifest.Manifest-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.manifest.Manifest.is_resolved" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_resolved</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.manifest.Manifest.is_resolved" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Whether the configuration of this module was augmented with the module type defaults etc.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.manifest.Manifest.manifest_cid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">manifest_cid</span><span class="p">:</span> <span class="n">CID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.manifest.Manifest.manifest_cid" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.manifest.Manifest.manifest_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">manifest_data</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.manifest.Manifest.manifest_data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The configuration data for this module instance.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.manifest.Manifest.manifest_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">manifest_hash</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.manifest.Manifest.manifest_hash" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.manifest.Manifest.module_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.manifest.Manifest.module_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The configuration for the module.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.manifest.Manifest.module_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.manifest.Manifest.module_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The module type.</p>
    </div>

  </div>




  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.manifest.Manifest.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.module.manifest.Manifest.Config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/manifest.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">forbid</span>
    <span class="n">validate_all</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.manifest.Manifest.Config.extra" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extra</span></code>


<a href="#kiara.models.module.manifest.Manifest.Config.extra" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.manifest.Manifest.Config.validate_all" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_all</span></code>


<a href="#kiara.models.module.manifest.Manifest.Config.validate_all" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



<h8 id="kiara.models.module.manifest.Manifest-methods">Methods<a href="#kiara.models.module.manifest.Manifest-methods" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.manifest.Manifest.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.module.manifest.Manifest.create_renderable" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Create a renderable for this module configuration.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/manifest.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a renderable for this module configuration.&quot;&quot;&quot;</span>

    <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">conf</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
        <span class="n">orjson_dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">),</span>
        <span class="s2">&quot;json&quot;</span><span class="p">,</span>
        <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">conf</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.manifest.Manifest.manifest_data_as_json" class="doc doc-heading">
<code class="highlight language-python"><span class="n">manifest_data_as_json</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.module.manifest.Manifest.manifest_data_as_json" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/manifest.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">manifest_data_as_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;module_type&quot;</span><span class="p">,</span> <span class="s2">&quot;module_config&quot;</span><span class="p">})</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.module.operation" class="doc doc-heading">
        <code>operation</code>



<a href="#kiara.models.module.operation" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.module.operation.logger" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logger</span></code>


<a href="#kiara.models.module.operation.logger" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>


<h6 id="kiara.models.module.operation-classes">Classes<a href="#kiara.models.module.operation-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.operation.BaseOperationDetails" class="doc doc-heading">
        <code>
BaseOperationDetails            (<a class="autorefs autorefs-internal" title="kiara.models.module.operation.OperationDetails" href="../module/operation/#kiara.models.module.operation.OperationDetails">OperationDetails</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.operation.BaseOperationDetails" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseOperationDetails</span><span class="p">(</span><span class="n">OperationDetails</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.operation_details.base&quot;</span>

    <span class="n">module_inputs_schema</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The input schemas of the module.&quot;</span>
    <span class="p">)</span>
    <span class="n">module_outputs_schema</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The output schemas of the module.&quot;</span>
    <span class="p">)</span>
    <span class="n">_op_schema</span><span class="p">:</span> <span class="n">OperationSchema</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_operation_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationSchema</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_op_schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_op_schema</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_op_schema</span> <span class="o">=</span> <span class="n">OperationSchema</span><span class="p">(</span>
            <span class="n">alias</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">operation_id</span><span class="p">,</span>
            <span class="n">inputs_schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_inputs_schema</span><span class="p">,</span>
            <span class="n">outputs_schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_outputs_schema</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_op_schema</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.operation.BaseOperationDetails-attributes">Attributes<a href="#kiara.models.module.operation.BaseOperationDetails-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.BaseOperationDetails.module_inputs_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_inputs_schema</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">ValueSchema</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.operation.BaseOperationDetails.module_inputs_schema" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The input schemas of the module.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.BaseOperationDetails.module_outputs_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_outputs_schema</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">ValueSchema</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.operation.BaseOperationDetails.module_outputs_schema" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The output schemas of the module.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.BaseOperationDetails.get_operation_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_operation_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.module.operation.BaseOperationDetails.get_operation_schema" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_operation_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationSchema</span><span class="p">:</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_op_schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_op_schema</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_op_schema</span> <span class="o">=</span> <span class="n">OperationSchema</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">operation_id</span><span class="p">,</span>
        <span class="n">inputs_schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_inputs_schema</span><span class="p">,</span>
        <span class="n">outputs_schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_outputs_schema</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_op_schema</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.operation.Filter" class="doc doc-heading">
        <code>
Filter            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.operation.Filter" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Filter</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>

    <span class="n">operation</span><span class="p">:</span> <span class="n">Operation</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The underlying operation providing which does the filtering.&quot;</span>
    <span class="p">)</span>
    <span class="n">input_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The input name to use for the dataset to filter.&quot;</span>
    <span class="p">)</span>
    <span class="n">output_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The output name to use for the dataset to filter.&quot;</span>
    <span class="p">)</span>
    <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The type of the dataset that gets filtered.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.operation.Filter-attributes">Attributes<a href="#kiara.models.module.operation.Filter-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.Filter.data_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.operation.Filter.data_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The type of the dataset that gets filtered.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.Filter.input_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">input_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.operation.Filter.input_name" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The input name to use for the dataset to filter.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.Filter.operation" class="doc doc-heading">
<code class="highlight language-python"><span class="n">operation</span><span class="p">:</span> <span class="n">Operation</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.operation.Filter.operation" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The underlying operation providing which does the filtering.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.Filter.output_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">output_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.operation.Filter.output_name" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The output name to use for the dataset to filter.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.operation.ManifestOperationConfig" class="doc doc-heading">
        <code>
ManifestOperationConfig            (<a class="autorefs autorefs-internal" title="kiara.models.module.operation.OperationConfig" href="../module/operation/#kiara.models.module.operation.OperationConfig">OperationConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.operation.ManifestOperationConfig" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ManifestOperationConfig</span><span class="p">(</span><span class="n">OperationConfig</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.operation_config.manifest&quot;</span>

    <span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The module type.&quot;</span><span class="p">)</span>
    <span class="n">module_config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The configuration for the module.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">retrieve_module_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_type</span>

    <span class="k">def</span> <span class="nf">retrieve_module_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_config</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.operation.ManifestOperationConfig-attributes">Attributes<a href="#kiara.models.module.operation.ManifestOperationConfig-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.ManifestOperationConfig.module_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.operation.ManifestOperationConfig.module_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The configuration for the module.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.ManifestOperationConfig.module_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.operation.ManifestOperationConfig.module_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The module type.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.ManifestOperationConfig.retrieve_module_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_module_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">)</span></code>


<a href="#kiara.models.module.operation.ManifestOperationConfig.retrieve_module_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">retrieve_module_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.ManifestOperationConfig.retrieve_module_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_module_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">)</span></code>


<a href="#kiara.models.module.operation.ManifestOperationConfig.retrieve_module_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">retrieve_module_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_type</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.operation.Operation" class="doc doc-heading">
        <code>
Operation            (<a class="autorefs autorefs-internal" title="kiara.models.module.manifest.Manifest" href="../module/manifest/#kiara.models.module.manifest.Manifest">Manifest</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.operation.Operation" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Operation</span><span class="p">(</span><span class="n">Manifest</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.operation&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_module</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">module</span><span class="p">:</span> <span class="n">KiaraModule</span><span class="p">,</span> <span class="n">doc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Operation&quot;</span><span class="p">:</span>

        <span class="kn">from</span> <span class="nn">kiara.operations.included_core_operations</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">CustomModuleOperationDetails</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">op_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">module</span><span class="o">.</span><span class="n">module_type_name</span><span class="si">}</span><span class="s2">._</span><span class="si">{</span><span class="n">module</span><span class="o">.</span><span class="n">module_instance_cid</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">module</span><span class="o">.</span><span class="n">is_pipeline</span><span class="p">():</span>
            <span class="kn">from</span> <span class="nn">kiara.operations.included_core_operations.pipeline</span> <span class="kn">import</span> <span class="p">(</span>
                <span class="n">PipelineOperationDetails</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">details</span> <span class="o">=</span> <span class="n">PipelineOperationDetails</span><span class="o">.</span><span class="n">create_operation_details</span><span class="p">(</span>
                <span class="n">operation_id</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">pipeline_name</span><span class="p">,</span>
                <span class="n">pipeline_inputs_schema</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">inputs_schema</span><span class="p">,</span>
                <span class="n">pipeline_outputs_schema</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="p">,</span>
                <span class="n">pipeline_config</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">details</span> <span class="o">=</span> <span class="n">CustomModuleOperationDetails</span><span class="o">.</span><span class="n">create_from_module</span><span class="p">(</span><span class="n">module</span><span class="o">=</span><span class="n">module</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">doc</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">from_class_doc</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>

        <span class="n">operation</span> <span class="o">=</span> <span class="n">Operation</span><span class="p">(</span>
            <span class="n">module_type</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">module_type_name</span><span class="p">,</span>
            <span class="n">module_config</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
            <span class="n">operation_id</span><span class="o">=</span><span class="n">op_id</span><span class="p">,</span>
            <span class="n">operation_details</span><span class="o">=</span><span class="n">details</span><span class="p">,</span>
            <span class="n">module_details</span><span class="o">=</span><span class="n">KiaraModuleInstance</span><span class="o">.</span><span class="n">from_module</span><span class="p">(</span><span class="n">module</span><span class="p">),</span>
            <span class="n">doc</span><span class="o">=</span><span class="n">doc</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">operation</span><span class="o">.</span><span class="n">_module</span> <span class="o">=</span> <span class="n">module</span>
        <span class="k">return</span> <span class="n">operation</span>

    <span class="n">operation_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The (unique) id of this operation.&quot;</span><span class="p">)</span>
    <span class="n">operation_details</span><span class="p">:</span> <span class="n">OperationDetails</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The operation specific details of this operation.&quot;</span>
    <span class="p">)</span>
    <span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Documentation for this operation.&quot;</span>
    <span class="p">)</span>

    <span class="n">module_details</span><span class="p">:</span> <span class="n">KiaraModuleInstance</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The class of the underlying module.&quot;</span>
    <span class="p">)</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Additional metadata for this operation.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>

    <span class="n">_module</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;KiaraModule&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_pipeline_config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">PipelineConfig</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;operation_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation_id</span><span class="p">,</span> <span class="s2">&quot;manifest&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">manifest_cid</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">_retrieve_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">module</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraModule&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">m_cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_details</span><span class="o">.</span><span class="n">get_class</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_module</span> <span class="o">=</span> <span class="n">m_cls</span><span class="p">(</span><span class="n">module_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">inputs_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation_details</span><span class="o">.</span><span class="n">inputs_schema</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">outputs_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation_details</span><span class="o">.</span><span class="n">outputs_schema</span>

    <span class="k">def</span> <span class="nf">prepare_job_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JobConfig</span><span class="p">:</span>

        <span class="n">augmented_inputs</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">operation_details</span><span class="o">.</span><span class="n">get_operation_schema</span><span class="p">()</span><span class="o">.</span><span class="n">augment_module_inputs</span><span class="p">(</span>
                <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># module_inputs = self.operation_details.create_module_inputs(</span>
        <span class="c1">#     inputs=augmented_inputs</span>
        <span class="c1"># )</span>

        <span class="n">job_config</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">prepare_job_config</span><span class="p">(</span>
            <span class="n">manifest</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">augmented_inputs</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">job_config</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMap</span><span class="p">:</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;run.operation&quot;</span><span class="p">,</span> <span class="n">operation_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">operation_id</span><span class="p">)</span>
        <span class="n">job_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_job_config</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">)</span>

        <span class="n">job_id</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">execute_job</span><span class="p">(</span><span class="n">job_config</span><span class="o">=</span><span class="n">job_config</span><span class="p">)</span>
        <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueMap</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">retrieve_result</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_job_outputs</span><span class="p">(</span><span class="n">outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">process_job_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueMap</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMap</span><span class="p">:</span>

        <span class="c1"># op_outputs = self.operation_details.create_operation_outputs(outputs=outputs)</span>

        <span class="n">value_set</span> <span class="o">=</span> <span class="n">ValueMapReadOnly</span><span class="p">(</span><span class="n">value_items</span><span class="o">=</span><span class="n">outputs</span><span class="p">,</span> <span class="n">values_schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">outputs_schema</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">return</span> <span class="n">value_set</span>

    <span class="c1"># def run(self, _attach_lineage: bool = True, **inputs: Any) -&gt; ValueMap:</span>
    <span class="c1">#</span>
    <span class="c1">#     return self.module.run(_attach_lineage=_attach_lineage, **inputs)</span>

    <span class="c1"># def create_html(self, **config) -&gt; str:</span>
    <span class="c1">#</span>
    <span class="c1">#     r = self.create_renderable(**config)</span>
    <span class="c1">#     p = Panel(r, title=f&quot;Operation: {self.operation_id}&quot;, title_align=&quot;left&quot;)</span>
    <span class="c1">#     mime_bundle = p._repr_mimebundle_(include=[], exclude=[])  # type: ignore</span>
    <span class="c1">#     return mime_bundle[&quot;text/html&quot;]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pipeline_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineConfig</span><span class="p">:</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">is_pipeline</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t retrieve pipeline details from operation &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operation_id</span><span class="si">}</span><span class="s2">: not a pipeline operation type.&#39;&quot;</span>
            <span class="p">)</span>

        <span class="n">op_details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation_details</span>
        <span class="k">return</span> <span class="n">op_details</span><span class="o">.</span><span class="n">pipeline_config</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pipeline_structure</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineStructure&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">structure</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a printable overview of this operations details.</span>

<span class="sd">        Available render_config options:</span>
<span class="sd">          - &#39;include_full_doc&#39; (default: True): whether to include the full documentation, or just a description</span>
<span class="sd">          - &#39;include_src&#39; (default: False): whether to include the module source code</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">include_full_doc</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_full_doc&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">include_src</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_src&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">include_inputs</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_inputs&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">include_outputs</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_outputs&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">include_module_details</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_module_details&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Property&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">include_full_doc</span><span class="p">:</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Documentation&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">full_doc</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Description&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>

        <span class="c1"># module_type_md = self.module.get_type_metadata()</span>

        <span class="k">if</span> <span class="n">include_inputs</span><span class="p">:</span>
            <span class="n">inputs_table</span> <span class="o">=</span> <span class="n">create_table_from_field_schemas</span><span class="p">(</span>
                <span class="n">_add_required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">_add_default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">_show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">_constants</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">fields</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">operation_details</span><span class="o">.</span><span class="n">inputs_schema</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Inputs&quot;</span><span class="p">,</span> <span class="n">inputs_table</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">include_outputs</span><span class="p">:</span>
            <span class="n">outputs_table</span> <span class="o">=</span> <span class="n">create_table_from_field_schemas</span><span class="p">(</span>
                <span class="n">_add_required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">_add_default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">_show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">_constants</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">fields</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">operation_details</span><span class="o">.</span><span class="n">outputs_schema</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Outputs&quot;</span><span class="p">,</span> <span class="n">outputs_table</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">include_module_details</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Module type&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_type</span><span class="p">)</span>

            <span class="n">module_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">)</span>
            <span class="n">conf</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
                <span class="n">module_config</span><span class="p">,</span>
                <span class="s2">&quot;json&quot;</span><span class="p">,</span>
                <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Module config&quot;</span><span class="p">,</span> <span class="n">conf</span><span class="p">)</span>

            <span class="kn">from</span> <span class="nn">kiara.interfaces.python_api</span> <span class="kn">import</span> <span class="n">ModuleTypeInfo</span>

            <span class="n">module_type_md</span> <span class="o">=</span> <span class="n">ModuleTypeInfo</span><span class="o">.</span><span class="n">create_from_type_class</span><span class="p">(</span>
                <span class="n">type_cls</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_details</span><span class="o">.</span><span class="n">get_class</span><span class="p">(),</span>  <span class="c1"># type: ignore</span>
                <span class="n">kiara</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="p">)</span>

            <span class="n">desc</span> <span class="o">=</span> <span class="n">module_type_md</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">description</span>
            <span class="n">module_md</span> <span class="o">=</span> <span class="n">module_type_md</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span>
                <span class="n">include_doc</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">include_src</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">include_config_schema</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span>
            <span class="n">m_md</span> <span class="o">=</span> <span class="n">Group</span><span class="p">(</span><span class="n">desc</span><span class="p">,</span> <span class="n">module_md</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Module metadata&quot;</span><span class="p">,</span> <span class="n">m_md</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">include_src</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Source code&quot;</span><span class="p">,</span> <span class="n">module_type_md</span><span class="o">.</span><span class="n">process_src</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.operation.Operation-attributes">Attributes<a href="#kiara.models.module.operation.Operation-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.Operation.doc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.operation.Operation.doc" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Documentation for this operation.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.Operation.inputs_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inputs_schema</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">ValueSchema</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.operation.Operation.inputs_schema" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.Operation.metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">metadata</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.operation.Operation.metadata" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Additional metadata for this operation.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.Operation.module" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module</span><span class="p">:</span> <span class="n">KiaraModule</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.operation.Operation.module" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.Operation.module_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_details</span><span class="p">:</span> <span class="n">KiaraModuleInstance</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.operation.Operation.module_details" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The class of the underlying module.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.Operation.operation_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">operation_details</span><span class="p">:</span> <span class="n">OperationDetails</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.operation.Operation.operation_details" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The operation specific details of this operation.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.Operation.operation_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">operation_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.operation.Operation.operation_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The (unique) id of this operation.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.Operation.outputs_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">outputs_schema</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">ValueSchema</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.operation.Operation.outputs_schema" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.Operation.pipeline_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_config</span><span class="p">:</span> <span class="n">PipelineConfig</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.operation.Operation.pipeline_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.Operation.pipeline_structure" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_structure</span><span class="p">:</span> <span class="n">PipelineStructure</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.operation.Operation.pipeline_structure" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>




<h8 id="kiara.models.module.operation.Operation-methods">Methods<a href="#kiara.models.module.operation.Operation-methods" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.Operation.create_from_module" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_module</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.operation.Operation.create_from_module" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_module</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">module</span><span class="p">:</span> <span class="n">KiaraModule</span><span class="p">,</span> <span class="n">doc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Operation&quot;</span><span class="p">:</span>

    <span class="kn">from</span> <span class="nn">kiara.operations.included_core_operations</span> <span class="kn">import</span> <span class="p">(</span>
        <span class="n">CustomModuleOperationDetails</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">op_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">module</span><span class="o">.</span><span class="n">module_type_name</span><span class="si">}</span><span class="s2">._</span><span class="si">{</span><span class="n">module</span><span class="o">.</span><span class="n">module_instance_cid</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">if</span> <span class="n">module</span><span class="o">.</span><span class="n">is_pipeline</span><span class="p">():</span>
        <span class="kn">from</span> <span class="nn">kiara.operations.included_core_operations.pipeline</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">PipelineOperationDetails</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">details</span> <span class="o">=</span> <span class="n">PipelineOperationDetails</span><span class="o">.</span><span class="n">create_operation_details</span><span class="p">(</span>
            <span class="n">operation_id</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">pipeline_name</span><span class="p">,</span>
            <span class="n">pipeline_inputs_schema</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">inputs_schema</span><span class="p">,</span>
            <span class="n">pipeline_outputs_schema</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="p">,</span>
            <span class="n">pipeline_config</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">details</span> <span class="o">=</span> <span class="n">CustomModuleOperationDetails</span><span class="o">.</span><span class="n">create_from_module</span><span class="p">(</span><span class="n">module</span><span class="o">=</span><span class="n">module</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">doc</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">from_class_doc</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>

    <span class="n">operation</span> <span class="o">=</span> <span class="n">Operation</span><span class="p">(</span>
        <span class="n">module_type</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">module_type_name</span><span class="p">,</span>
        <span class="n">module_config</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
        <span class="n">operation_id</span><span class="o">=</span><span class="n">op_id</span><span class="p">,</span>
        <span class="n">operation_details</span><span class="o">=</span><span class="n">details</span><span class="p">,</span>
        <span class="n">module_details</span><span class="o">=</span><span class="n">KiaraModuleInstance</span><span class="o">.</span><span class="n">from_module</span><span class="p">(</span><span class="n">module</span><span class="p">),</span>
        <span class="n">doc</span><span class="o">=</span><span class="n">doc</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">operation</span><span class="o">.</span><span class="n">_module</span> <span class="o">=</span> <span class="n">module</span>
    <span class="k">return</span> <span class="n">operation</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.Operation.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.module.operation.Operation.create_renderable" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Create a printable overview of this operations details.</p>
<p>Available render_config options:
  - 'include_full_doc' (default: True): whether to include the full documentation, or just a description
  - 'include_src' (default: False): whether to include the module source code</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a printable overview of this operations details.</span>

<span class="sd">    Available render_config options:</span>
<span class="sd">      - &#39;include_full_doc&#39; (default: True): whether to include the full documentation, or just a description</span>
<span class="sd">      - &#39;include_src&#39; (default: False): whether to include the module source code</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">include_full_doc</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_full_doc&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">include_src</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_src&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">include_inputs</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_inputs&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">include_outputs</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_outputs&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">include_module_details</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_module_details&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Property&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">include_full_doc</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Documentation&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">full_doc</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Description&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>

    <span class="c1"># module_type_md = self.module.get_type_metadata()</span>

    <span class="k">if</span> <span class="n">include_inputs</span><span class="p">:</span>
        <span class="n">inputs_table</span> <span class="o">=</span> <span class="n">create_table_from_field_schemas</span><span class="p">(</span>
            <span class="n">_add_required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">_add_default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">_show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">_constants</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">fields</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">operation_details</span><span class="o">.</span><span class="n">inputs_schema</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Inputs&quot;</span><span class="p">,</span> <span class="n">inputs_table</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">include_outputs</span><span class="p">:</span>
        <span class="n">outputs_table</span> <span class="o">=</span> <span class="n">create_table_from_field_schemas</span><span class="p">(</span>
            <span class="n">_add_required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">_add_default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">_show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">_constants</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">fields</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">operation_details</span><span class="o">.</span><span class="n">outputs_schema</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Outputs&quot;</span><span class="p">,</span> <span class="n">outputs_table</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">include_module_details</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Module type&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_type</span><span class="p">)</span>

        <span class="n">module_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">)</span>
        <span class="n">conf</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
            <span class="n">module_config</span><span class="p">,</span>
            <span class="s2">&quot;json&quot;</span><span class="p">,</span>
            <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Module config&quot;</span><span class="p">,</span> <span class="n">conf</span><span class="p">)</span>

        <span class="kn">from</span> <span class="nn">kiara.interfaces.python_api</span> <span class="kn">import</span> <span class="n">ModuleTypeInfo</span>

        <span class="n">module_type_md</span> <span class="o">=</span> <span class="n">ModuleTypeInfo</span><span class="o">.</span><span class="n">create_from_type_class</span><span class="p">(</span>
            <span class="n">type_cls</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_details</span><span class="o">.</span><span class="n">get_class</span><span class="p">(),</span>  <span class="c1"># type: ignore</span>
            <span class="n">kiara</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
        <span class="p">)</span>

        <span class="n">desc</span> <span class="o">=</span> <span class="n">module_type_md</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">description</span>
        <span class="n">module_md</span> <span class="o">=</span> <span class="n">module_type_md</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span>
            <span class="n">include_doc</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">include_src</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">include_config_schema</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span>
        <span class="n">m_md</span> <span class="o">=</span> <span class="n">Group</span><span class="p">(</span><span class="n">desc</span><span class="p">,</span> <span class="n">module_md</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Module metadata&quot;</span><span class="p">,</span> <span class="n">m_md</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">include_src</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Source code&quot;</span><span class="p">,</span> <span class="n">module_type_md</span><span class="o">.</span><span class="n">process_src</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.Operation.prepare_job_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_job_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">,</span> <span class="n">inputs</span><span class="p">)</span></code>


<a href="#kiara.models.module.operation.Operation.prepare_job_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_job_config</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JobConfig</span><span class="p">:</span>

    <span class="n">augmented_inputs</span> <span class="o">=</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operation_details</span><span class="o">.</span><span class="n">get_operation_schema</span><span class="p">()</span><span class="o">.</span><span class="n">augment_module_inputs</span><span class="p">(</span>
            <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="c1"># module_inputs = self.operation_details.create_module_inputs(</span>
    <span class="c1">#     inputs=augmented_inputs</span>
    <span class="c1"># )</span>

    <span class="n">job_config</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">prepare_job_config</span><span class="p">(</span>
        <span class="n">manifest</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">augmented_inputs</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">job_config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.Operation.process_job_outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">process_job_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outputs</span><span class="p">)</span></code>


<a href="#kiara.models.module.operation.Operation.process_job_outputs" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">process_job_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueMap</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMap</span><span class="p">:</span>

    <span class="c1"># op_outputs = self.operation_details.create_operation_outputs(outputs=outputs)</span>

    <span class="n">value_set</span> <span class="o">=</span> <span class="n">ValueMapReadOnly</span><span class="p">(</span><span class="n">value_items</span><span class="o">=</span><span class="n">outputs</span><span class="p">,</span> <span class="n">values_schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">outputs_schema</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">return</span> <span class="n">value_set</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.Operation.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">,</span> <span class="n">inputs</span><span class="p">)</span></code>


<a href="#kiara.models.module.operation.Operation.run" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueMap</span><span class="p">:</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;run.operation&quot;</span><span class="p">,</span> <span class="n">operation_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">operation_id</span><span class="p">)</span>
    <span class="n">job_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_job_config</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">)</span>

    <span class="n">job_id</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">execute_job</span><span class="p">(</span><span class="n">job_config</span><span class="o">=</span><span class="n">job_config</span><span class="p">)</span>
    <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueMap</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">job_registry</span><span class="o">.</span><span class="n">retrieve_result</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_job_outputs</span><span class="p">(</span><span class="n">outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.operation.OperationConfig" class="doc doc-heading">
        <code>
OperationConfig            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.operation.OperationConfig" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">OperationConfig</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>

    <span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Documentation for this operation.&quot;</span>
    <span class="p">)</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_module_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_module_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">pass</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.operation.OperationConfig-attributes">Attributes<a href="#kiara.models.module.operation.OperationConfig-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.OperationConfig.doc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.operation.OperationConfig.doc" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Documentation for this operation.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.OperationConfig.retrieve_module_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_module_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">)</span></code>


<a href="#kiara.models.module.operation.OperationConfig.retrieve_module_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">retrieve_module_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.OperationConfig.retrieve_module_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_module_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">)</span></code>


<a href="#kiara.models.module.operation.OperationConfig.retrieve_module_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">retrieve_module_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.OperationConfig.validate_doc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_doc</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.operation.OperationConfig.validate_doc" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.operation.OperationDetails" class="doc doc-heading">
        <code>
OperationDetails            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.operation.OperationDetails" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">OperationDetails</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.operation_details&quot;</span>

    <span class="c1"># inputs_map: Dict[str, str] = Field(description=&quot;A map with the operations input fields as keys, and the underlying modules input fields as values, used to translate input value maps.&quot;)</span>
    <span class="c1"># outputs_map: Dict[str, str] = Field(description=&quot;A map with the operations input fields as keys, and the underlying modules input fields as values, used to translate input value maps.&quot;)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_operation_details</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">details</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">PYDANTIC_USE_CONSTRUCT</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span><span class="o">**</span><span class="n">details</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">details</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="n">operation_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The id of the operation.&quot;</span><span class="p">)</span>
    <span class="n">is_internal_operation</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this operation is mainly used kiara-internally. Helps to hide it in UIs (operation lists etc.).&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">inputs_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The input schema for this module.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_operation_schema</span><span class="p">()</span><span class="o">.</span><span class="n">inputs_schema</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">outputs_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The input schema for this module.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_operation_schema</span><span class="p">()</span><span class="o">.</span><span class="n">outputs_schema</span>

    <span class="k">def</span> <span class="nf">get_operation_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationSchema</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.operation.OperationDetails-attributes">Attributes<a href="#kiara.models.module.operation.OperationDetails-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.OperationDetails.inputs_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inputs_schema</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">ValueSchema</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.operation.OperationDetails.inputs_schema" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The input schema for this module.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.OperationDetails.is_internal_operation" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_internal_operation</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.operation.OperationDetails.is_internal_operation" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Whether this operation is mainly used kiara-internally. Helps to hide it in UIs (operation lists etc.).</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.OperationDetails.operation_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">operation_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.operation.OperationDetails.operation_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The id of the operation.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.OperationDetails.outputs_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">outputs_schema</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">ValueSchema</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.operation.OperationDetails.outputs_schema" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The input schema for this module.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.OperationDetails.create_operation_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_operation_details</span><span class="p">(</span><span class="o">**</span><span class="n">details</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.operation.OperationDetails.create_operation_details" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_operation_details</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">details</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">PYDANTIC_USE_CONSTRUCT</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span><span class="o">**</span><span class="n">details</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">details</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.OperationDetails.get_operation_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_operation_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.module.operation.OperationDetails.get_operation_schema" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_operation_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OperationSchema</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.operation.OperationSchema" class="doc doc-heading">
        <code>
OperationSchema            (<a class="autorefs autorefs-internal" title="kiara.modules.InputOutputObject" href="../../modules/__init__/#kiara.modules.InputOutputObject">InputOutputObject</a>)
        </code>



<a href="#kiara.models.module.operation.OperationSchema" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">OperationSchema</span><span class="p">(</span><span class="n">InputOutputObject</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">inputs_schema</span><span class="p">:</span> <span class="n">ValueMapSchema</span><span class="p">,</span> <span class="n">outputs_schema</span><span class="p">:</span> <span class="n">ValueMapSchema</span>
    <span class="p">):</span>

        <span class="n">allow_empty_inputs</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">allow_empty_outputs</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_schema_static</span><span class="p">:</span> <span class="n">ValueMapSchema</span> <span class="o">=</span> <span class="n">inputs_schema</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_outputs_schema_static</span><span class="p">:</span> <span class="n">ValueMapSchema</span> <span class="o">=</span> <span class="n">outputs_schema</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">alias</span><span class="o">=</span><span class="n">alias</span><span class="p">,</span>
            <span class="n">allow_empty_inputs_schema</span><span class="o">=</span><span class="n">allow_empty_inputs</span><span class="p">,</span>
            <span class="n">allow_empty_outputs_schema</span><span class="o">=</span><span class="n">allow_empty_outputs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_inputs_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_schema_static</span>

    <span class="k">def</span> <span class="nf">create_outputs_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]:</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_outputs_schema_static</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







<h8 id="kiara.models.module.operation.OperationSchema-methods">Methods<a href="#kiara.models.module.operation.OperationSchema-methods" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.OperationSchema.create_inputs_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_inputs_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.module.operation.OperationSchema.create_inputs_schema" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Return the schema for this types' inputs.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_inputs_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]:</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_schema_static</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.OperationSchema.create_outputs_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_outputs_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.module.operation.OperationSchema.create_outputs_schema" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Return the schema for this types' outputs.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_outputs_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]:</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_outputs_schema_static</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.operation.PipelineOperationConfig" class="doc doc-heading">
        <code>
PipelineOperationConfig            (<a class="autorefs autorefs-internal" title="kiara.models.module.operation.OperationConfig" href="../module/operation/#kiara.models.module.operation.OperationConfig">OperationConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.operation.PipelineOperationConfig" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineOperationConfig</span><span class="p">(</span><span class="n">OperationConfig</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.operation_config.pipeline&quot;</span>

    <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The pipeline id.&quot;</span><span class="p">)</span>
    <span class="n">pipeline_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The pipeline config data.&quot;</span><span class="p">)</span>
    <span class="n">module_map</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A lookup map to resolves operation ids to module names/configs.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Additional metadata for the pipeline.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;pipeline_config&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_pipeline_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c1"># TODO</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">)</span>
        <span class="k">assert</span> <span class="s2">&quot;steps&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">retrieve_module_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;pipeline&quot;</span>

    <span class="k">def</span> <span class="nf">retrieve_module_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

        <span class="c1"># using _from_config here because otherwise we&#39;d enter an infinite loop</span>
        <span class="n">pipeline_config</span> <span class="o">=</span> <span class="n">PipelineConfig</span><span class="o">.</span><span class="n">_from_config</span><span class="p">(</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_name</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_config</span><span class="p">,</span>
            <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span>
            <span class="n">module_map</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_map</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">pipeline_config</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">required_module_types</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">step</span><span class="p">[</span><span class="s2">&quot;module_type&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_config</span><span class="p">[</span><span class="s2">&quot;steps&quot;</span><span class="p">]]</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(pipeline_name=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2"> required_modules=</span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">required_module_types</span><span class="p">)</span><span class="si">}</span><span class="s2"> instance_id=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span><span class="si">}</span><span class="s2">, category=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model_type_d</span><span class="si">}</span><span class="s2">, fields=[</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">])&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.operation.PipelineOperationConfig-attributes">Attributes<a href="#kiara.models.module.operation.PipelineOperationConfig-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.PipelineOperationConfig.metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">metadata</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.operation.PipelineOperationConfig.metadata" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Additional metadata for the pipeline.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.PipelineOperationConfig.module_map" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_map</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.operation.PipelineOperationConfig.module_map" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A lookup map to resolves operation ids to module names/configs.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.PipelineOperationConfig.pipeline_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.operation.PipelineOperationConfig.pipeline_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The pipeline config data.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.PipelineOperationConfig.pipeline_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.operation.PipelineOperationConfig.pipeline_name" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The pipeline id.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.operation.PipelineOperationConfig.required_module_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">required_module_types</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.operation.PipelineOperationConfig.required_module_types" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.PipelineOperationConfig.retrieve_module_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_module_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">)</span></code>


<a href="#kiara.models.module.operation.PipelineOperationConfig.retrieve_module_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">retrieve_module_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

    <span class="c1"># using _from_config here because otherwise we&#39;d enter an infinite loop</span>
    <span class="n">pipeline_config</span> <span class="o">=</span> <span class="n">PipelineConfig</span><span class="o">.</span><span class="n">_from_config</span><span class="p">(</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_name</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_config</span><span class="p">,</span>
        <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span>
        <span class="n">module_map</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_map</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">pipeline_config</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.PipelineOperationConfig.retrieve_module_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_module_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">)</span></code>


<a href="#kiara.models.module.operation.PipelineOperationConfig.retrieve_module_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">retrieve_module_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;pipeline&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.operation.PipelineOperationConfig.validate_pipeline_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_pipeline_config</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.operation.PipelineOperationConfig.validate_pipeline_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/operation.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;pipeline_config&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_pipeline_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="c1"># TODO</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">)</span>
    <span class="k">assert</span> <span class="s2">&quot;steps&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">value</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.module.persistence" class="doc doc-heading">
        <code>persistence</code>



<a href="#kiara.models.module.persistence" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.module.persistence-classes">Classes<a href="#kiara.models.module.persistence-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.persistence.ByteProvisioningStrategy" class="doc doc-heading">
        <code>
ByteProvisioningStrategy            (<span title="enum.Enum">Enum</span>)
        </code>



<a href="#kiara.models.module.persistence.ByteProvisioningStrategy" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>An enumeration.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/persistence.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ByteProvisioningStrategy</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>

    <span class="n">INLINE</span> <span class="o">=</span> <span class="s2">&quot;INLINE&quot;</span>
    <span class="n">BYTES</span> <span class="o">=</span> <span class="s2">&quot;bytes&quot;</span>
    <span class="n">FILE_PATH_MAP</span> <span class="o">=</span> <span class="s2">&quot;link_map&quot;</span>
    <span class="n">LINK_FOLDER</span> <span class="o">=</span> <span class="s2">&quot;folder&quot;</span>
    <span class="n">COPIED_FOLDER</span> <span class="o">=</span> <span class="s2">&quot;copied_folder&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.persistence.ByteProvisioningStrategy.BYTES" class="doc doc-heading">
<code class="highlight language-python"><span class="n">BYTES</span></code>


<a href="#kiara.models.module.persistence.ByteProvisioningStrategy.BYTES" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.persistence.ByteProvisioningStrategy.COPIED_FOLDER" class="doc doc-heading">
<code class="highlight language-python"><span class="n">COPIED_FOLDER</span></code>


<a href="#kiara.models.module.persistence.ByteProvisioningStrategy.COPIED_FOLDER" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.persistence.ByteProvisioningStrategy.FILE_PATH_MAP" class="doc doc-heading">
<code class="highlight language-python"><span class="n">FILE_PATH_MAP</span></code>


<a href="#kiara.models.module.persistence.ByteProvisioningStrategy.FILE_PATH_MAP" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.persistence.ByteProvisioningStrategy.INLINE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">INLINE</span></code>


<a href="#kiara.models.module.persistence.ByteProvisioningStrategy.INLINE" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.persistence.ByteProvisioningStrategy.LINK_FOLDER" class="doc doc-heading">
<code class="highlight language-python"><span class="n">LINK_FOLDER</span></code>


<a href="#kiara.models.module.persistence.ByteProvisioningStrategy.LINK_FOLDER" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.persistence.BytesAliasStructure" class="doc doc-heading">
        <code>
BytesAliasStructure            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.persistence.BytesAliasStructure" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/persistence.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BytesAliasStructure</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>

    <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The data type.&quot;</span><span class="p">)</span>
    <span class="n">data_type_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The data type config.&quot;</span><span class="p">)</span>
    <span class="n">chunk_id_map</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;References to byte arrays, Keys are field names, values are a list of hash-ids that the data is composed of.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.persistence.BytesAliasStructure-attributes">Attributes<a href="#kiara.models.module.persistence.BytesAliasStructure-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.persistence.BytesAliasStructure.chunk_id_map" class="doc doc-heading">
<code class="highlight language-python"><span class="n">chunk_id_map</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.persistence.BytesAliasStructure.chunk_id_map" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>References to byte arrays, Keys are field names, values are a list of hash-ids that the data is composed of.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.persistence.BytesAliasStructure.data_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.persistence.BytesAliasStructure.data_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The data type.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.persistence.BytesAliasStructure.data_type_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_type_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.persistence.BytesAliasStructure.data_type_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The data type config.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.persistence.BytesStructure" class="doc doc-heading">
        <code>
BytesStructure            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.persistence.BytesStructure" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A data structure that</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/persistence.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BytesStructure</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A data structure that&quot;&quot;&quot;</span>

    <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The data type.&quot;</span><span class="p">)</span>
    <span class="n">data_type_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The data type config.&quot;</span><span class="p">)</span>
    <span class="n">chunk_map</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;References to byte arrays, Keys are field names, values are a list of hash-ids that the data is composed of.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># def provision_as_folder(self, copy_files: bool = False) -&gt; Path:</span>
    <span class="c1">#     pass</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.persistence.BytesStructure-attributes">Attributes<a href="#kiara.models.module.persistence.BytesStructure-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.persistence.BytesStructure.chunk_map" class="doc doc-heading">
<code class="highlight language-python"><span class="n">chunk_map</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.persistence.BytesStructure.chunk_map" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>References to byte arrays, Keys are field names, values are a list of hash-ids that the data is composed of.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.persistence.BytesStructure.data_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.persistence.BytesStructure.data_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The data type.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.persistence.BytesStructure.data_type_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_type_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.persistence.BytesStructure.data_type_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The data type config.</p>
    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.module.pipeline" class="doc doc-heading">
        <code>pipeline</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara.models.module.pipeline" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.module.pipeline-classes">Classes<a href="#kiara.models.module.pipeline-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.pipeline.PipelineConfig" class="doc doc-heading">
        <code>
PipelineConfig            (<a class="autorefs autorefs-internal" title="kiara.models.module.KiaraModuleConfig" href="../module/__init__/#kiara.models.module.KiaraModuleConfig">KiaraModuleConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineConfig" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A class to hold the configuration for a [PipelineModule][kiara.pipeline.module.PipelineModule].</p>
<p>If you want to control the pipeline input and output names, you need to have to provide a map that uses the
autogenerated field name ([step_id]__[alias] -- 2 underscores!!) as key, and the desired field name
as value. The reason that schema for the autogenerated field names exist is that it's hard to ensure
the uniqueness of each field; some steps can have the same input field names, but will need different input
values. In some cases, some inputs of different steps need the same input. Those sorts of things.
So, to make sure that we always use the right values, I chose to implement a conservative default approach,
accepting that in some cases the user will be prompted for duplicate inputs for the same value.</p>
<p>To remedy that, the pipeline creator has the option to manually specify a mapping to rename some or all of
the input/output fields.</p>
<p>Further, because in a lot of cases there won't be any overlapping fields, the creator can specify <code>auto</code>,
in which case <em>Kiara</em> will automatically create a mapping that tries to map autogenerated field names
to the shortest possible names for each case.</p>

<p><strong>Examples:</strong></p>
    <p>Configuration for a pipeline module that functions as a <code>nand</code> logic gate (in Python):</p>
<div class="highlight"><pre><span></span><code><span class="n">and_step</span> <span class="o">=</span> <span class="n">PipelineStepConfig</span><span class="p">(</span><span class="n">module_type</span><span class="o">=</span><span class="s2">&quot;and&quot;</span><span class="p">,</span> <span class="n">step_id</span><span class="o">=</span><span class="s2">&quot;and&quot;</span><span class="p">)</span>
<span class="n">not_step</span> <span class="o">=</span> <span class="n">PipelineStepConfig</span><span class="p">(</span><span class="n">module_type</span><span class="o">=</span><span class="s2">&quot;not&quot;</span><span class="p">,</span> <span class="n">step_id</span><span class="o">=</span><span class="s2">&quot;not&quot;</span><span class="p">,</span> <span class="n">input_links</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;and.y&quot;</span><span class="p">]}</span>
<span class="n">nand_p_conf</span> <span class="o">=</span> <span class="n">PipelineConfig</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Returns &#39;False&#39; if both inputs are &#39;True&#39;.&quot;</span><span class="p">,</span>
                    <span class="n">steps</span><span class="o">=</span><span class="p">[</span><span class="n">and_step</span><span class="p">,</span> <span class="n">not_step</span><span class="p">],</span>
                    <span class="n">input_aliases</span><span class="o">=</span><span class="p">{</span>
                        <span class="s2">&quot;and__a&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;and__b&quot;</span><span class="p">:</span> <span class="s2">&quot;b&quot;</span>
                    <span class="p">},</span>
                    <span class="n">output_aliases</span><span class="o">=</span><span class="p">{</span>
                        <span class="s2">&quot;not__y&quot;</span><span class="p">:</span> <span class="s2">&quot;y&quot;</span>
                    <span class="p">}}</span>
</code></pre></div>
<p>Or, the same thing in json:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;module_type_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nand&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;doc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Returns &#39;False&#39; if both inputs are &#39;True&#39;.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;steps&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;module_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;and&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;step_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;and&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;module_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;not&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;step_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;not&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;input_links&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;a&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;and.y&quot;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;input_aliases&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;and__a&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;and__b&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b&quot;</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;output_aliases&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;not__y&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;y&quot;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineConfig</span><span class="p">(</span><span class="n">KiaraModuleConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A class to hold the configuration for a [PipelineModule][kiara.pipeline.module.PipelineModule].</span>

<span class="sd">    If you want to control the pipeline input and output names, you need to have to provide a map that uses the</span>
<span class="sd">    autogenerated field name ([step_id]__[alias] -- 2 underscores!!) as key, and the desired field name</span>
<span class="sd">    as value. The reason that schema for the autogenerated field names exist is that it&#39;s hard to ensure</span>
<span class="sd">    the uniqueness of each field; some steps can have the same input field names, but will need different input</span>
<span class="sd">    values. In some cases, some inputs of different steps need the same input. Those sorts of things.</span>
<span class="sd">    So, to make sure that we always use the right values, I chose to implement a conservative default approach,</span>
<span class="sd">    accepting that in some cases the user will be prompted for duplicate inputs for the same value.</span>

<span class="sd">    To remedy that, the pipeline creator has the option to manually specify a mapping to rename some or all of</span>
<span class="sd">    the input/output fields.</span>

<span class="sd">    Further, because in a lot of cases there won&#39;t be any overlapping fields, the creator can specify ``auto``,</span>
<span class="sd">    in which case *Kiara* will automatically create a mapping that tries to map autogenerated field names</span>
<span class="sd">    to the shortest possible names for each case.</span>

<span class="sd">    Examples:</span>

<span class="sd">        Configuration for a pipeline module that functions as a ``nand`` logic gate (in Python):</span>

<span class="sd">        ``` python</span>
<span class="sd">        and_step = PipelineStepConfig(module_type=&quot;and&quot;, step_id=&quot;and&quot;)</span>
<span class="sd">        not_step = PipelineStepConfig(module_type=&quot;not&quot;, step_id=&quot;not&quot;, input_links={&quot;a&quot;: [&quot;and.y&quot;]}</span>
<span class="sd">        nand_p_conf = PipelineConfig(doc=&quot;Returns &#39;False&#39; if both inputs are &#39;True&#39;.&quot;,</span>
<span class="sd">                            steps=[and_step, not_step],</span>
<span class="sd">                            input_aliases={</span>
<span class="sd">                                &quot;and__a&quot;: &quot;a&quot;,</span>
<span class="sd">                                &quot;and__b&quot;: &quot;b&quot;</span>
<span class="sd">                            },</span>
<span class="sd">                            output_aliases={</span>
<span class="sd">                                &quot;not__y&quot;: &quot;y&quot;</span>
<span class="sd">                            }}</span>
<span class="sd">        ```</span>

<span class="sd">        Or, the same thing in json:</span>

<span class="sd">        ``` json</span>
<span class="sd">        {</span>
<span class="sd">          &quot;module_type_name&quot;: &quot;nand&quot;,</span>
<span class="sd">          &quot;doc&quot;: &quot;Returns &#39;False&#39; if both inputs are &#39;True&#39;.&quot;,</span>
<span class="sd">          &quot;steps&quot;: [</span>
<span class="sd">            {</span>
<span class="sd">              &quot;module_type&quot;: &quot;and&quot;,</span>
<span class="sd">              &quot;step_id&quot;: &quot;and&quot;</span>
<span class="sd">            },</span>
<span class="sd">            {</span>
<span class="sd">              &quot;module_type&quot;: &quot;not&quot;,</span>
<span class="sd">              &quot;step_id&quot;: &quot;not&quot;,</span>
<span class="sd">              &quot;input_links&quot;: {</span>
<span class="sd">                &quot;a&quot;: &quot;and.y&quot;</span>
<span class="sd">              }</span>
<span class="sd">            }</span>
<span class="sd">          ],</span>
<span class="sd">          &quot;input_aliases&quot;: {</span>
<span class="sd">            &quot;and__a&quot;: &quot;a&quot;,</span>
<span class="sd">            &quot;and__b&quot;: &quot;b&quot;</span>
<span class="sd">          },</span>
<span class="sd">          &quot;output_aliases&quot;: {</span>
<span class="sd">            &quot;not__y&quot;: &quot;y&quot;</span>
<span class="sd">          }</span>
<span class="sd">        }</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.module_config.pipeline&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_file</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">kiara</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="c1"># module_map: Optional[Mapping[str, Any]] = None,</span>
    <span class="p">):</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">get_data_from_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">pipeline_name</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;pipeline_name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">pipeline_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">pipeline_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="n">pipeline_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>

        <span class="n">execution_context</span> <span class="o">=</span> <span class="n">ExecutionContext</span><span class="p">(</span><span class="n">pipeline_dir</span><span class="o">=</span><span class="n">pipeline_dir</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span>
            <span class="n">execution_context</span><span class="o">=</span><span class="n">execution_context</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_config</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">kiara</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">module_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">execution_context</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">ExecutionContext</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">auto_step_ids</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>

        <span class="k">if</span> <span class="n">kiara</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">kiara.context</span> <span class="kn">import</span> <span class="n">Kiara</span>

            <span class="n">kiara</span> <span class="o">=</span> <span class="n">Kiara</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">kiara</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">is_initialized</span><span class="p">:</span>
            <span class="n">kiara</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operations</span>  <span class="c1"># noqa</span>

        <span class="k">if</span> <span class="n">execution_context</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">execution_context</span> <span class="o">=</span> <span class="n">ExecutionContext</span><span class="p">()</span>

        <span class="n">config</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_from_config</span><span class="p">(</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span>
            <span class="n">module_map</span><span class="o">=</span><span class="n">module_map</span><span class="p">,</span>
            <span class="n">execution_context</span><span class="o">=</span><span class="n">execution_context</span><span class="p">,</span>
            <span class="n">auto_step_ids</span><span class="o">=</span><span class="n">auto_step_ids</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">config</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_from_config</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
        <span class="n">module_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">execution_context</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">ExecutionContext</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">auto_step_ids</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>

        <span class="k">if</span> <span class="n">execution_context</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">execution_context</span> <span class="o">=</span> <span class="n">ExecutionContext</span><span class="p">()</span>

        <span class="n">repl_dict</span> <span class="o">=</span> <span class="n">execution_context</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>

        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">_steps</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;steps&quot;</span><span class="p">)</span>
        <span class="n">steps</span> <span class="o">=</span> <span class="n">PipelineStep</span><span class="o">.</span><span class="n">create_steps</span><span class="p">(</span>
            <span class="o">*</span><span class="n">_steps</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">module_map</span><span class="o">=</span><span class="n">module_map</span><span class="p">,</span> <span class="n">auto_step_ids</span><span class="o">=</span><span class="n">auto_step_ids</span>
        <span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;steps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">steps</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;input_aliases&quot;</span><span class="p">):</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;input_aliases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">create_input_alias_map</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;output_aliases&quot;</span><span class="p">):</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;output_aliases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">create_output_alias_map</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;defaults&quot;</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">defaults</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;defaults&quot;</span><span class="p">)</span>
            <span class="n">replaced</span> <span class="o">=</span> <span class="n">replace_var_names_in_obj</span><span class="p">(</span><span class="n">defaults</span><span class="p">,</span> <span class="n">repl_dict</span><span class="o">=</span><span class="n">repl_dict</span><span class="p">)</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;defaults&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">replaced</span>

        <span class="k">if</span> <span class="s2">&quot;constants&quot;</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">constants</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;constants&quot;</span><span class="p">)</span>
            <span class="n">replaced</span> <span class="o">=</span> <span class="n">replace_var_names_in_obj</span><span class="p">(</span><span class="n">constants</span><span class="p">,</span> <span class="n">repl_dict</span><span class="o">=</span><span class="n">repl_dict</span><span class="p">)</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;constants&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">replaced</span>

        <span class="k">if</span> <span class="s2">&quot;inputs&quot;</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">inputs</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;inputs&quot;</span><span class="p">)</span>
            <span class="n">replaced</span> <span class="o">=</span> <span class="n">replace_var_names_in_obj</span><span class="p">(</span><span class="n">inputs</span><span class="p">,</span> <span class="n">repl_dict</span><span class="o">=</span><span class="n">repl_dict</span><span class="p">)</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;inputs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">replaced</span>

        <span class="n">result</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span> <span class="o">**</span><span class="n">data</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">ignore</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of this pipeline.&quot;</span><span class="p">)</span>
    <span class="n">steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PipelineStep</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A list of steps/modules of this pipeline, and their connections.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">input_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A map of input aliases, with the location of the input (in the format &#39;[step_id].[input_field]&#39;) as key, and the pipeline input field name as value.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">output_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A map of output aliases, with the location of the output (in the format &#39;[step_id].[output_field]&#39;) as key, and the pipeline output field name as value.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;-- n/a --&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Documentation about what the pipeline does.&quot;</span>  <span class="c1"># type: ignore</span>
    <span class="p">)</span>
    <span class="n">context</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Metadata for this workflow.&quot;</span>
    <span class="p">)</span>
    <span class="n">_structure</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;PipelineStructure&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;steps&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_validate_steps</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>

        <span class="n">steps</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">v</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">step</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No step data provided.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">PipelineStep</span><span class="p">):</span>
                <span class="n">steps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
                <span class="n">steps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">PipelineStep</span><span class="p">(</span><span class="o">**</span><span class="n">step</span><span class="p">))</span>  <span class="c1"># type: ignore</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">steps</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">structure</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineStructure&quot;</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span>

        <span class="kn">from</span> <span class="nn">kiara.models.module.pipeline.structure</span> <span class="kn">import</span> <span class="n">PipelineStructure</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span> <span class="o">=</span> <span class="n">PipelineStructure</span><span class="p">(</span><span class="n">pipeline_config</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">full_doc</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;structure&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">structure</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">table</span>

        <span class="c1"># return create_table_from_model_object(self, exclude_fields={&quot;steps&quot;})</span>

        <span class="c1"># return create_table_from_model_object(self)</span>

    <span class="c1"># def create_input_alias_map(self) -&gt; Dict[str, str]:</span>
    <span class="c1">#</span>
    <span class="c1">#     aliases: Dict[str, List[str]] = {}</span>
    <span class="c1">#     for step in self.steps:</span>
    <span class="c1">#         field_names = step.module.input_names</span>
    <span class="c1">#         for field_name in field_names:</span>
    <span class="c1">#             aliases.setdefault(field_name, []).append(step.step_id)</span>
    <span class="c1">#</span>
    <span class="c1">#     result: Dict[str, str] = {}</span>
    <span class="c1">#     for field_name, step_ids in aliases.items():</span>
    <span class="c1">#         for step_id in step_ids:</span>
    <span class="c1">#             generated = generate_pipeline_endpoint_name(step_id, field_name)</span>
    <span class="c1">#             result[generated] = generated</span>
    <span class="c1">#</span>
    <span class="c1">#     return result</span>
    <span class="c1">#</span>
    <span class="c1"># def create_output_alias_map(self) -&gt; Dict[str, str]:</span>
    <span class="c1">#</span>
    <span class="c1">#     aliases: Dict[str, List[str]] = {}</span>
    <span class="c1">#     for step in self.steps:</span>
    <span class="c1">#         field_names = step.module.input_names</span>
    <span class="c1">#         for field_name in field_names:</span>
    <span class="c1">#             aliases.setdefault(field_name, []).append(step.step_id)</span>
    <span class="c1">#</span>
    <span class="c1">#     result: Dict[str, str] = {}</span>
    <span class="c1">#     for field_name, step_ids in aliases.items():</span>
    <span class="c1">#         for step_id in step_ids:</span>
    <span class="c1">#             generated = generate_pipeline_endpoint_name(step_id, field_name)</span>
    <span class="c1">#             result[generated] = generated</span>
    <span class="c1">#</span>
    <span class="c1">#     return result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.pipeline.PipelineConfig-attributes">Attributes<a href="#kiara.models.module.pipeline.PipelineConfig-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.PipelineConfig.context" class="doc doc-heading">
<code class="highlight language-python"><span class="n">context</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineConfig.context" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Metadata for this workflow.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.PipelineConfig.doc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineConfig.doc" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Documentation about what the pipeline does.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.PipelineConfig.input_aliases" class="doc doc-heading">
<code class="highlight language-python"><span class="n">input_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineConfig.input_aliases" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A map of input aliases, with the location of the input (in the format '[step_id].[input_field]') as key, and the pipeline input field name as value.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.PipelineConfig.output_aliases" class="doc doc-heading">
<code class="highlight language-python"><span class="n">output_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineConfig.output_aliases" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A map of output aliases, with the location of the output (in the format '[step_id].[output_field]') as key, and the pipeline output field name as value.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.PipelineConfig.pipeline_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineConfig.pipeline_name" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The name of this pipeline.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.PipelineConfig.steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">PipelineStep</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineConfig.steps" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A list of steps/modules of this pipeline, and their connections.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.PipelineConfig.structure" class="doc doc-heading">
<code class="highlight language-python"><span class="n">structure</span><span class="p">:</span> <span class="n">PipelineStructure</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineConfig.structure" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.PipelineConfig.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.module.pipeline.PipelineConfig.Config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">ignore</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.PipelineConfig.Config.extra" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extra</span></code>


<a href="#kiara.models.module.pipeline.PipelineConfig.Config.extra" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.PipelineConfig.Config.validate_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_assignment</span></code>


<a href="#kiara.models.module.pipeline.PipelineConfig.Config.validate_assignment" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.pipeline.PipelineConfig.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.PipelineConfig.create_renderable" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">full_doc</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;structure&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">structure</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">table</span>

    <span class="c1"># return create_table_from_model_object(self, exclude_fields={&quot;steps&quot;})</span>

    <span class="c1"># return create_table_from_model_object(self)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.pipeline.PipelineConfig.from_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_config</span><span class="p">(</span><span class="n">pipeline_name</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">module_map</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">execution_context</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auto_step_ids</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineConfig.from_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_config</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">kiara</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">module_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">execution_context</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">ExecutionContext</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">auto_step_ids</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>

    <span class="k">if</span> <span class="n">kiara</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">kiara.context</span> <span class="kn">import</span> <span class="n">Kiara</span>

        <span class="n">kiara</span> <span class="o">=</span> <span class="n">Kiara</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">kiara</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">is_initialized</span><span class="p">:</span>
        <span class="n">kiara</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operations</span>  <span class="c1"># noqa</span>

    <span class="k">if</span> <span class="n">execution_context</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">execution_context</span> <span class="o">=</span> <span class="n">ExecutionContext</span><span class="p">()</span>

    <span class="n">config</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_from_config</span><span class="p">(</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span>
        <span class="n">module_map</span><span class="o">=</span><span class="n">module_map</span><span class="p">,</span>
        <span class="n">execution_context</span><span class="o">=</span><span class="n">execution_context</span><span class="p">,</span>
        <span class="n">auto_step_ids</span><span class="o">=</span><span class="n">auto_step_ids</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.pipeline.PipelineConfig.from_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_file</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineConfig.from_file" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_file</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">kiara</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># module_map: Optional[Mapping[str, Any]] = None,</span>
<span class="p">):</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">get_data_from_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="n">pipeline_name</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;pipeline_name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">pipeline_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">pipeline_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="n">pipeline_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>

    <span class="n">execution_context</span> <span class="o">=</span> <span class="n">ExecutionContext</span><span class="p">(</span><span class="n">pipeline_dir</span><span class="o">=</span><span class="n">pipeline_dir</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span>
        <span class="n">execution_context</span><span class="o">=</span><span class="n">execution_context</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.pipeline.PipelineConfig.validate_doc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_doc</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineConfig.validate_doc" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.pipeline.PipelineStep" class="doc doc-heading">
        <code>
PipelineStep            (<a class="autorefs autorefs-internal" title="kiara.models.module.manifest.Manifest" href="../module/manifest/#kiara.models.module.manifest.Manifest">Manifest</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineStep" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A step within a pipeline-structure, includes information about it's connection(s) and other metadata.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineStep</span><span class="p">(</span><span class="n">Manifest</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A step within a pipeline-structure, includes information about it&#39;s connection(s) and other metadata.&quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.pipeline_step&quot;</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">forbid</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_step</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">step</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;PipelineStep&quot;</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
        <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
        <span class="n">module_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">auto_step_id</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">taken_step_ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a step object from step data.</span>

<span class="sd">        Beware: the provided &#39;module_map&#39; dictionary will be modified, as will the &#39;taken_step_ids&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">module_map</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">module_map</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">taken_step_ids</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">taken_step_ids</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">PipelineStep</span><span class="p">):</span>

            <span class="n">module_type</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;module_type&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">module_type</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t create step, no &#39;module_type&#39; specified.&quot;</span><span class="p">)</span>

            <span class="n">module_config</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;module_config&quot;</span><span class="p">,</span> <span class="p">{})</span>

            <span class="n">src_manifest</span> <span class="o">=</span> <span class="n">Manifest</span><span class="p">(</span>
                <span class="n">module_type</span><span class="o">=</span><span class="n">module_type</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">module_config</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">module_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">module_type_names</span><span class="p">:</span>

                <span class="k">if</span> <span class="n">module_type</span> <span class="ow">in</span> <span class="n">module_map</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">resolved_module_type</span> <span class="o">=</span> <span class="n">module_map</span><span class="p">[</span><span class="n">module_type</span><span class="p">][</span><span class="s2">&quot;module_type&quot;</span><span class="p">]</span>
                    <span class="n">resolved_module_config</span> <span class="o">=</span> <span class="n">module_map</span><span class="p">[</span><span class="n">module_type</span><span class="p">][</span><span class="s2">&quot;module_config&quot;</span><span class="p">]</span>
                    <span class="n">manifest</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">create_manifest</span><span class="p">(</span>
                        <span class="n">module_or_operation</span><span class="o">=</span><span class="n">resolved_module_type</span><span class="p">,</span>
                        <span class="n">config</span><span class="o">=</span><span class="n">resolved_module_config</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="k">elif</span> <span class="p">(</span>
                    <span class="n">kiara</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">is_initialized</span>
                    <span class="ow">and</span> <span class="n">module_type</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operation_ids</span>
                <span class="p">):</span>
                    <span class="n">op</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operations</span><span class="p">[</span><span class="n">module_type</span><span class="p">]</span>
                    <span class="n">resolved_module_type</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">module_type</span>
                    <span class="n">resolved_module_config</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">module_config</span>
                    <span class="n">manifest</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">create_manifest</span><span class="p">(</span>
                        <span class="n">module_or_operation</span><span class="o">=</span><span class="n">resolved_module_type</span><span class="p">,</span>
                        <span class="n">config</span><span class="o">=</span><span class="n">resolved_module_config</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t resolve module type: </span><span class="si">{</span><span class="n">module_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">manifest</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">create_manifest</span><span class="p">(</span>
                    <span class="n">module_or_operation</span><span class="o">=</span><span class="n">module_type</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">module_config</span>
                <span class="p">)</span>
                <span class="n">resolved_module_type</span> <span class="o">=</span> <span class="n">module_type</span>
                <span class="n">resolved_module_config</span> <span class="o">=</span> <span class="n">module_config</span>

            <span class="n">module</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">create_module</span><span class="p">(</span><span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">)</span>

            <span class="n">step_id</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;step_id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">step_id</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">auto_step_id</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t create step, no &#39;step_id&#39; specified.&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">step_id</span> <span class="o">=</span> <span class="n">find_free_id</span><span class="p">(</span>
                        <span class="n">slugify</span><span class="p">(</span><span class="n">manifest</span><span class="o">.</span><span class="n">module_type</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;_&quot;</span><span class="p">),</span>
                        <span class="n">current_ids</span><span class="o">=</span><span class="n">taken_step_ids</span><span class="p">,</span>
                    <span class="p">)</span>

            <span class="k">if</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">taken_step_ids</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t create step: duplicate step id &#39;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

            <span class="n">taken_step_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>

            <span class="n">input_links</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">input_field</span><span class="p">,</span> <span class="n">sources</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;input_links&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sources</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">sources</span> <span class="o">=</span> <span class="p">[</span><span class="n">sources</span><span class="p">]</span>
                <span class="n">input_links</span><span class="p">[</span><span class="n">input_field</span><span class="p">]</span> <span class="o">=</span> <span class="n">sources</span>

            <span class="n">doc</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

            <span class="c1"># TODO: do we really need the deepcopy here?</span>
            <span class="n">_s</span> <span class="o">=</span> <span class="n">PipelineStep</span><span class="p">(</span>
                <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span>
                <span class="n">module_type</span><span class="o">=</span><span class="n">resolved_module_type</span><span class="p">,</span>
                <span class="n">module_config</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">resolved_module_config</span><span class="p">),</span>
                <span class="n">input_links</span><span class="o">=</span><span class="n">input_links</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                <span class="n">doc</span><span class="o">=</span><span class="n">doc</span><span class="p">,</span>
                <span class="n">module_details</span><span class="o">=</span><span class="n">KiaraModuleInstance</span><span class="o">.</span><span class="n">from_module</span><span class="p">(</span><span class="n">module</span><span class="o">=</span><span class="n">module</span><span class="p">),</span>
                <span class="n">manifest_src</span><span class="o">=</span><span class="n">src_manifest</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">_s</span><span class="o">.</span><span class="n">_module</span> <span class="o">=</span> <span class="n">module</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_s</span> <span class="o">=</span> <span class="n">step</span>

        <span class="k">return</span> <span class="n">_s</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_steps</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="o">*</span><span class="n">steps</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;PipelineStep&quot;</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
        <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
        <span class="n">module_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">auto_step_ids</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineStep&quot;</span><span class="p">]:</span>

        <span class="k">if</span> <span class="n">module_map</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">module_map</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">module_map</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">module_map</span><span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PipelineStep</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">step_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">steps</span><span class="p">:</span>

            <span class="n">_s</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_step</span><span class="p">(</span>
                <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
                <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span>
                <span class="n">module_map</span><span class="o">=</span><span class="n">module_map</span><span class="p">,</span>
                <span class="n">auto_step_id</span><span class="o">=</span><span class="n">auto_step_ids</span><span class="p">,</span>
                <span class="n">taken_step_ids</span><span class="o">=</span><span class="n">step_ids</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_s</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;step_id&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_validate_step_id</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>

        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">v</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Step ids can&#39;t contain &#39;.&#39; characters.&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">v</span>

    <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Locally unique id (within a pipeline) of this step.&quot;</span>
    <span class="p">)</span>

    <span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The module type.&quot;</span><span class="p">)</span>
    <span class="n">module_config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The module config.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>
    <span class="n">manifest_src</span><span class="p">:</span> <span class="n">Manifest</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The original manfifest provided by the user.&quot;</span>
    <span class="p">)</span>
    <span class="c1"># required: bool = Field(</span>
    <span class="c1">#     description=&quot;Whether this step is required within the workflow.\n\nIn some cases, when none of the pipeline outputs have a required input that connects to a step, then it is not necessary for this step to have been executed, even if it is placed before a step in the execution hierarchy. This also means that the pipeline inputs that are connected to this step might not be required.&quot;,</span>
    <span class="c1">#     default=True,</span>
    <span class="c1"># )</span>
    <span class="c1"># processing_stage: Optional[int] = Field(</span>
    <span class="c1">#     default=None,</span>
    <span class="c1">#     description=&quot;The stage number this step is executed within the pipeline.&quot;,</span>
    <span class="c1"># )</span>
    <span class="n">input_links</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">StepValueAddress</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The links that connect to inputs of the module. Keys are field names, value(s) are connected outputs.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">module_details</span><span class="p">:</span> <span class="n">KiaraModuleInstance</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The class of the underlying module.&quot;</span>
    <span class="p">)</span>
    <span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A description what this step does.&quot;</span>
    <span class="p">)</span>
    <span class="n">_module</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;KiaraModule&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">create_step_id</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>

        <span class="k">if</span> <span class="s2">&quot;module_type&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No &#39;module_type&#39; specified.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;step_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">values</span><span class="p">[</span><span class="s2">&quot;step_id&quot;</span><span class="p">]:</span>
            <span class="n">values</span><span class="p">[</span><span class="s2">&quot;step_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="s2">&quot;module_type&quot;</span><span class="p">],</span> <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;_&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">values</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">doc</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;step_id&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">ensure_valid_id</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>

        <span class="c1"># TODO: check with regex</span>
        <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">v</span> <span class="ow">or</span> <span class="s2">&quot; &quot;</span> <span class="ow">in</span> <span class="n">v</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Step id can&#39;t contain special characters or whitespaces: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">v</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;module_config&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">ensure_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="n">v</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;input_links&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">ensure_input_links_valid</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">input_name</span><span class="p">,</span> <span class="n">output</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="n">input_links</span> <span class="o">=</span> <span class="n">ensure_step_value_addresses</span><span class="p">(</span>
                <span class="n">default_field_name</span><span class="o">=</span><span class="n">input_name</span><span class="p">,</span> <span class="n">link</span><span class="o">=</span><span class="n">output</span>
            <span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">input_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">input_links</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">module</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraModule&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">m_cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_details</span><span class="o">.</span><span class="n">get_class</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_module</span> <span class="o">=</span> <span class="n">m_cls</span><span class="p">(</span><span class="n">module_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(step_id=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2"> module_type=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">module_type</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;step: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2"> (module: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">module_type</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">in_panel</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;in_panel&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">in_panel</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_jupyter</span><span class="p">():</span>
                <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">Markdown</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">full_doc</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;step_id&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;module type&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">module_config_is_empty</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">):</span>
            <span class="n">mc</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">mc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;defaults&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
                <span class="n">mc</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;defaults&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">mc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;constants&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
                <span class="n">mc</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;constants&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

            <span class="k">if</span> <span class="s2">&quot;steps&quot;</span> <span class="ow">in</span> <span class="n">mc</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">_steps</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">mc</span><span class="p">[</span><span class="s2">&quot;steps&quot;</span><span class="p">]:</span>
                    <span class="n">_s</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s2">&quot;step_id&quot;</span><span class="p">:</span> <span class="n">step</span><span class="p">[</span><span class="s2">&quot;step_id&quot;</span><span class="p">],</span>
                        <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="n">step</span><span class="p">[</span><span class="s2">&quot;manifest_src&quot;</span><span class="p">][</span><span class="s2">&quot;module_type&quot;</span><span class="p">],</span>
                    <span class="p">}</span>
                    <span class="n">sc</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;module_config&quot;</span><span class="p">,</span> <span class="p">{})</span>
                    <span class="k">if</span> <span class="n">sc</span><span class="p">:</span>
                        <span class="n">_s</span><span class="p">[</span><span class="s2">&quot;module_config&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sc</span>
                    <span class="n">_steps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_s</span><span class="p">)</span>
                <span class="n">mc</span><span class="p">[</span><span class="s2">&quot;steps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_steps</span>
            <span class="n">config_str</span> <span class="o">=</span> <span class="n">orjson_dumps</span><span class="p">(</span><span class="n">mc</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                <span class="s2">&quot;module_config&quot;</span><span class="p">,</span>
                <span class="n">Syntax</span><span class="p">(</span><span class="n">config_str</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="n">theme</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="n">module_doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">from_class_doc</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;module doc&quot;</span><span class="p">,</span> <span class="n">Markdown</span><span class="p">(</span><span class="n">module_doc</span><span class="o">.</span><span class="n">full_doc</span><span class="p">))</span>
        <span class="n">inputs</span> <span class="o">=</span> <span class="n">create_table_from_field_schemas</span><span class="p">(</span>
            <span class="n">_add_default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">_add_required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">_show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">fields</span><span class="o">=</span><span class="p">{</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">inputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">},</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;inputs&quot;</span><span class="p">,</span> <span class="n">inputs</span><span class="p">)</span>
        <span class="n">outputs</span> <span class="o">=</span> <span class="n">create_table_from_field_schemas</span><span class="p">(</span>
            <span class="n">_add_default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">_add_required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">_show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">fields</span><span class="o">=</span><span class="p">{</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">},</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;outputs&quot;</span><span class="p">,</span> <span class="n">outputs</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">in_panel</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Panel</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Step: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">title_align</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.module.pipeline.PipelineStep-attributes">Attributes<a href="#kiara.models.module.pipeline.PipelineStep-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.PipelineStep.doc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineStep.doc" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A description what this step does.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.PipelineStep.input_links" class="doc doc-heading">
<code class="highlight language-python"><span class="n">input_links</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">value_refs</span><span class="o">.</span><span class="n">StepValueAddress</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineStep.input_links" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The links that connect to inputs of the module. Keys are field names, value(s) are connected outputs.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.PipelineStep.manifest_src" class="doc doc-heading">
<code class="highlight language-python"><span class="n">manifest_src</span><span class="p">:</span> <span class="n">Manifest</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineStep.manifest_src" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The original manfifest provided by the user.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.PipelineStep.module" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module</span><span class="p">:</span> <span class="n">KiaraModule</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineStep.module" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.PipelineStep.module_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_details</span><span class="p">:</span> <span class="n">KiaraModuleInstance</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineStep.module_details" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The class of the underlying module.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.PipelineStep.step_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineStep.step_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Locally unique id (within a pipeline) of this step.</p>
    </div>

  </div>




  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.PipelineStep.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.module.pipeline.PipelineStep.Config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">forbid</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.PipelineStep.Config.extra" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extra</span></code>


<a href="#kiara.models.module.pipeline.PipelineStep.Config.extra" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.PipelineStep.Config.validate_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_assignment</span></code>


<a href="#kiara.models.module.pipeline.PipelineStep.Config.validate_assignment" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



<h8 id="kiara.models.module.pipeline.PipelineStep-methods">Methods<a href="#kiara.models.module.pipeline.PipelineStep-methods" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.pipeline.PipelineStep.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.PipelineStep.create_renderable" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Create a renderable for this module configuration.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">in_panel</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;in_panel&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">in_panel</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_jupyter</span><span class="p">():</span>
            <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">Markdown</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">full_doc</span><span class="p">))</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;step_id&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;module type&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_type</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">module_config_is_empty</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">):</span>
        <span class="n">mc</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">mc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;defaults&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">mc</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;defaults&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">mc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;constants&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">mc</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;constants&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;steps&quot;</span> <span class="ow">in</span> <span class="n">mc</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">_steps</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">mc</span><span class="p">[</span><span class="s2">&quot;steps&quot;</span><span class="p">]:</span>
                <span class="n">_s</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;step_id&quot;</span><span class="p">:</span> <span class="n">step</span><span class="p">[</span><span class="s2">&quot;step_id&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="n">step</span><span class="p">[</span><span class="s2">&quot;manifest_src&quot;</span><span class="p">][</span><span class="s2">&quot;module_type&quot;</span><span class="p">],</span>
                <span class="p">}</span>
                <span class="n">sc</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;module_config&quot;</span><span class="p">,</span> <span class="p">{})</span>
                <span class="k">if</span> <span class="n">sc</span><span class="p">:</span>
                    <span class="n">_s</span><span class="p">[</span><span class="s2">&quot;module_config&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sc</span>
                <span class="n">_steps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_s</span><span class="p">)</span>
            <span class="n">mc</span><span class="p">[</span><span class="s2">&quot;steps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_steps</span>
        <span class="n">config_str</span> <span class="o">=</span> <span class="n">orjson_dumps</span><span class="p">(</span><span class="n">mc</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="s2">&quot;module_config&quot;</span><span class="p">,</span>
            <span class="n">Syntax</span><span class="p">(</span><span class="n">config_str</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="n">theme</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="n">module_doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">from_class_doc</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;module doc&quot;</span><span class="p">,</span> <span class="n">Markdown</span><span class="p">(</span><span class="n">module_doc</span><span class="o">.</span><span class="n">full_doc</span><span class="p">))</span>
    <span class="n">inputs</span> <span class="o">=</span> <span class="n">create_table_from_field_schemas</span><span class="p">(</span>
        <span class="n">_add_default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">_add_required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">_show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">fields</span><span class="o">=</span><span class="p">{</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">inputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">},</span>
    <span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;inputs&quot;</span><span class="p">,</span> <span class="n">inputs</span><span class="p">)</span>
    <span class="n">outputs</span> <span class="o">=</span> <span class="n">create_table_from_field_schemas</span><span class="p">(</span>
        <span class="n">_add_default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">_add_required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">_show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">fields</span><span class="o">=</span><span class="p">{</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">},</span>
    <span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;outputs&quot;</span><span class="p">,</span> <span class="n">outputs</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">in_panel</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Panel</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Step: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">title_align</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.pipeline.PipelineStep.create_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_step</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">kiara</span><span class="p">,</span> <span class="n">module_map</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auto_step_id</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">taken_step_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineStep.create_step" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Create a step object from step data.</p>
<p>Beware: the provided 'module_map' dictionary will be modified, as will the 'taken_step_ids'.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_step</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">step</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;PipelineStep&quot;</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
    <span class="n">module_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">auto_step_id</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">taken_step_ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a step object from step data.</span>

<span class="sd">    Beware: the provided &#39;module_map&#39; dictionary will be modified, as will the &#39;taken_step_ids&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">module_map</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">module_map</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">taken_step_ids</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">taken_step_ids</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">PipelineStep</span><span class="p">):</span>

        <span class="n">module_type</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;module_type&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">module_type</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t create step, no &#39;module_type&#39; specified.&quot;</span><span class="p">)</span>

        <span class="n">module_config</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;module_config&quot;</span><span class="p">,</span> <span class="p">{})</span>

        <span class="n">src_manifest</span> <span class="o">=</span> <span class="n">Manifest</span><span class="p">(</span>
            <span class="n">module_type</span><span class="o">=</span><span class="n">module_type</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">module_config</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">module_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">module_type_names</span><span class="p">:</span>

            <span class="k">if</span> <span class="n">module_type</span> <span class="ow">in</span> <span class="n">module_map</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">resolved_module_type</span> <span class="o">=</span> <span class="n">module_map</span><span class="p">[</span><span class="n">module_type</span><span class="p">][</span><span class="s2">&quot;module_type&quot;</span><span class="p">]</span>
                <span class="n">resolved_module_config</span> <span class="o">=</span> <span class="n">module_map</span><span class="p">[</span><span class="n">module_type</span><span class="p">][</span><span class="s2">&quot;module_config&quot;</span><span class="p">]</span>
                <span class="n">manifest</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">create_manifest</span><span class="p">(</span>
                    <span class="n">module_or_operation</span><span class="o">=</span><span class="n">resolved_module_type</span><span class="p">,</span>
                    <span class="n">config</span><span class="o">=</span><span class="n">resolved_module_config</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span>
                <span class="n">kiara</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">is_initialized</span>
                <span class="ow">and</span> <span class="n">module_type</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operation_ids</span>
            <span class="p">):</span>
                <span class="n">op</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">operation_registry</span><span class="o">.</span><span class="n">operations</span><span class="p">[</span><span class="n">module_type</span><span class="p">]</span>
                <span class="n">resolved_module_type</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">module_type</span>
                <span class="n">resolved_module_config</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">module_config</span>
                <span class="n">manifest</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">create_manifest</span><span class="p">(</span>
                    <span class="n">module_or_operation</span><span class="o">=</span><span class="n">resolved_module_type</span><span class="p">,</span>
                    <span class="n">config</span><span class="o">=</span><span class="n">resolved_module_config</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t resolve module type: </span><span class="si">{</span><span class="n">module_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">manifest</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">create_manifest</span><span class="p">(</span>
                <span class="n">module_or_operation</span><span class="o">=</span><span class="n">module_type</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">module_config</span>
            <span class="p">)</span>
            <span class="n">resolved_module_type</span> <span class="o">=</span> <span class="n">module_type</span>
            <span class="n">resolved_module_config</span> <span class="o">=</span> <span class="n">module_config</span>

        <span class="n">module</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">create_module</span><span class="p">(</span><span class="n">manifest</span><span class="o">=</span><span class="n">manifest</span><span class="p">)</span>

        <span class="n">step_id</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;step_id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">step_id</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">auto_step_id</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t create step, no &#39;step_id&#39; specified.&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">step_id</span> <span class="o">=</span> <span class="n">find_free_id</span><span class="p">(</span>
                    <span class="n">slugify</span><span class="p">(</span><span class="n">manifest</span><span class="o">.</span><span class="n">module_type</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;_&quot;</span><span class="p">),</span>
                    <span class="n">current_ids</span><span class="o">=</span><span class="n">taken_step_ids</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="k">if</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">taken_step_ids</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t create step: duplicate step id &#39;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

        <span class="n">taken_step_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>

        <span class="n">input_links</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">input_field</span><span class="p">,</span> <span class="n">sources</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;input_links&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sources</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">sources</span> <span class="o">=</span> <span class="p">[</span><span class="n">sources</span><span class="p">]</span>
            <span class="n">input_links</span><span class="p">[</span><span class="n">input_field</span><span class="p">]</span> <span class="o">=</span> <span class="n">sources</span>

        <span class="n">doc</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="c1"># TODO: do we really need the deepcopy here?</span>
        <span class="n">_s</span> <span class="o">=</span> <span class="n">PipelineStep</span><span class="p">(</span>
            <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span>
            <span class="n">module_type</span><span class="o">=</span><span class="n">resolved_module_type</span><span class="p">,</span>
            <span class="n">module_config</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">resolved_module_config</span><span class="p">),</span>
            <span class="n">input_links</span><span class="o">=</span><span class="n">input_links</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="n">doc</span><span class="o">=</span><span class="n">doc</span><span class="p">,</span>
            <span class="n">module_details</span><span class="o">=</span><span class="n">KiaraModuleInstance</span><span class="o">.</span><span class="n">from_module</span><span class="p">(</span><span class="n">module</span><span class="o">=</span><span class="n">module</span><span class="p">),</span>
            <span class="n">manifest_src</span><span class="o">=</span><span class="n">src_manifest</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">_s</span><span class="o">.</span><span class="n">_module</span> <span class="o">=</span> <span class="n">module</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_s</span> <span class="o">=</span> <span class="n">step</span>

    <span class="k">return</span> <span class="n">_s</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.pipeline.PipelineStep.create_step_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_step_id</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineStep.create_step_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_step_id</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>

    <span class="k">if</span> <span class="s2">&quot;module_type&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No &#39;module_type&#39; specified.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="s2">&quot;step_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">values</span><span class="p">[</span><span class="s2">&quot;step_id&quot;</span><span class="p">]:</span>
        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;step_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="s2">&quot;module_type&quot;</span><span class="p">],</span> <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;_&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">values</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.pipeline.PipelineStep.create_steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_steps</span><span class="p">(</span><span class="o">*</span><span class="n">steps</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">kiara</span><span class="p">,</span> <span class="n">module_map</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auto_step_ids</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineStep.create_steps" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_steps</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="o">*</span><span class="n">steps</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;PipelineStep&quot;</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
    <span class="n">module_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">auto_step_ids</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineStep&quot;</span><span class="p">]:</span>

    <span class="k">if</span> <span class="n">module_map</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">module_map</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">module_map</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">module_map</span><span class="p">)</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PipelineStep</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">step_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">steps</span><span class="p">:</span>

        <span class="n">_s</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_step</span><span class="p">(</span>
            <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
            <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span>
            <span class="n">module_map</span><span class="o">=</span><span class="n">module_map</span><span class="p">,</span>
            <span class="n">auto_step_id</span><span class="o">=</span><span class="n">auto_step_ids</span><span class="p">,</span>
            <span class="n">taken_step_ids</span><span class="o">=</span><span class="n">step_ids</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_s</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.pipeline.PipelineStep.ensure_dict" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ensure_dict</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineStep.ensure_dict" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;module_config&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ensure_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">v</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.pipeline.PipelineStep.ensure_input_links_valid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ensure_input_links_valid</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineStep.ensure_input_links_valid" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;input_links&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ensure_input_links_valid</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">v</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">input_name</span><span class="p">,</span> <span class="n">output</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

        <span class="n">input_links</span> <span class="o">=</span> <span class="n">ensure_step_value_addresses</span><span class="p">(</span>
            <span class="n">default_field_name</span><span class="o">=</span><span class="n">input_name</span><span class="p">,</span> <span class="n">link</span><span class="o">=</span><span class="n">output</span>
        <span class="p">)</span>
        <span class="n">result</span><span class="p">[</span><span class="n">input_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">input_links</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.pipeline.PipelineStep.ensure_valid_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ensure_valid_id</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineStep.ensure_valid_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;step_id&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ensure_valid_id</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>

    <span class="c1"># TODO: check with regex</span>
    <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">v</span> <span class="ow">or</span> <span class="s2">&quot; &quot;</span> <span class="ow">in</span> <span class="n">v</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Step id can&#39;t contain special characters or whitespaces: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.module.pipeline.PipelineStep.validate_doc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_doc</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.PipelineStep.validate_doc" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">doc</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.module.pipeline.StepStatus" class="doc doc-heading">
        <code>
StepStatus            (<span title="enum.Enum">Enum</span>)
        </code>



<a href="#kiara.models.module.pipeline.StepStatus" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Enum to describe the state of a workflow.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StepStatus</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Enum to describe the state of a workflow.&quot;&quot;&quot;</span>

    <span class="n">INPUTS_INVALID</span> <span class="o">=</span> <span class="s2">&quot;inputs_invalid&quot;</span>
    <span class="n">INPUTS_READY</span> <span class="o">=</span> <span class="s2">&quot;inputs_ready&quot;</span>
    <span class="n">RESULTS_READY</span> <span class="o">=</span> <span class="s2">&quot;results_ready&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.StepStatus.INPUTS_INVALID" class="doc doc-heading">
<code class="highlight language-python"><span class="n">INPUTS_INVALID</span></code>


<a href="#kiara.models.module.pipeline.StepStatus.INPUTS_INVALID" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.StepStatus.INPUTS_READY" class="doc doc-heading">
<code class="highlight language-python"><span class="n">INPUTS_READY</span></code>


<a href="#kiara.models.module.pipeline.StepStatus.INPUTS_READY" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.StepStatus.RESULTS_READY" class="doc doc-heading">
<code class="highlight language-python"><span class="n">RESULTS_READY</span></code>


<a href="#kiara.models.module.pipeline.StepStatus.RESULTS_READY" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h7 id="kiara.models.module.pipeline.create_input_alias_map" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_alias_map</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.create_input_alias_map" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_alias_map</span><span class="p">(</span><span class="n">steps</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">PipelineStep</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>

    <span class="n">aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">steps</span><span class="p">:</span>
        <span class="n">field_names</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">input_names</span>
        <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="n">field_names</span><span class="p">:</span>
            <span class="n">alias</span> <span class="o">=</span> <span class="n">generate_pipeline_endpoint_name</span><span class="p">(</span>
                <span class="n">step_id</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="n">field_name</span>
            <span class="p">)</span>
            <span class="k">assert</span> <span class="n">alias</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="n">aliases</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">alias</span>

    <span class="k">return</span> <span class="n">aliases</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h7 id="kiara.models.module.pipeline.create_output_alias_map" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_alias_map</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.create_output_alias_map" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_alias_map</span><span class="p">(</span><span class="n">steps</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">PipelineStep</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>

    <span class="n">aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">steps</span><span class="p">:</span>
        <span class="n">field_names</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">output_names</span>
        <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="n">field_names</span><span class="p">:</span>
            <span class="n">alias</span> <span class="o">=</span> <span class="n">generate_pipeline_endpoint_name</span><span class="p">(</span>
                <span class="n">step_id</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="n">field_name</span>
            <span class="p">)</span>
            <span class="k">assert</span> <span class="n">alias</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="n">aliases</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">alias</span>

    <span class="k">return</span> <span class="n">aliases</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h7 id="kiara.models.module.pipeline.generate_pipeline_endpoint_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_pipeline_endpoint_name</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="n">value_name</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.generate_pipeline_endpoint_name" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_pipeline_endpoint_name</span><span class="p">(</span><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>

    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">__</span><span class="si">{</span><span class="n">value_name</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



<h6 id="kiara.models.module.pipeline-modules">Modules<a href="#kiara.models.module.pipeline-modules" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-module">



<h7 id="kiara.models.module.pipeline.controller" class="doc doc-heading">
        <code>controller</code>



<a href="#kiara.models.module.pipeline.controller" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.controller.logger" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logger</span></code>


<a href="#kiara.models.module.pipeline.controller.logger" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>


<h8 id="kiara.models.module.pipeline.controller-classes">Classes<a href="#kiara.models.module.pipeline.controller-classes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.controller.PipelineController" class="doc doc-heading">
        <code>
PipelineController            (<a class="autorefs autorefs-internal" title="kiara.models.module.pipeline.pipeline.PipelineListener" href="../module/pipeline/pipeline/#kiara.models.module.pipeline.pipeline.PipelineListener">PipelineListener</a>)
        </code>



<a href="#kiara.models.module.pipeline.controller.PipelineController" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/controller.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineController</span><span class="p">(</span><span class="n">PipelineListener</span><span class="p">):</span>

    <span class="k">pass</span>
</code></pre></div>
        </details>


    </div>

  </div>



  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.controller.SinglePipelineBatchController" class="doc doc-heading">
        <code>
SinglePipelineBatchController            (<a class="autorefs autorefs-internal" title="kiara.models.module.pipeline.controller.SinglePipelineController" href="../module/pipeline/controller/#kiara.models.module.pipeline.controller.SinglePipelineController">SinglePipelineController</a>)
        </code>



<a href="#kiara.models.module.pipeline.controller.SinglePipelineBatchController" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A [PipelineController][kiara.models.modules.pipeline.controller.PipelineController] that executes all pipeline steps non-interactively.</p>
<p>This is the default implementation of a <code>PipelineController</code>, and probably the most simple implementation of one.
It waits until all inputs are set, after which it executes all pipeline steps in the required order.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>Pipeline</code></td>
        <td><p>the pipeline to control</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auto_process</code></td>
        <td><code>bool</code></td>
        <td><p>whether to automatically start processing the pipeline as soon as the input set is valid</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/controller.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SinglePipelineBatchController</span><span class="p">(</span><span class="n">SinglePipelineController</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A [PipelineController][kiara.models.modules.pipeline.controller.PipelineController] that executes all pipeline steps non-interactively.</span>

<span class="sd">    This is the default implementation of a ``PipelineController``, and probably the most simple implementation of one.</span>
<span class="sd">    It waits until all inputs are set, after which it executes all pipeline steps in the required order.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        pipeline: the pipeline to control</span>
<span class="sd">        auto_process: whether to automatically start processing the pipeline as soon as the input set is valid</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="n">Pipeline</span><span class="p">,</span>
        <span class="n">job_registry</span><span class="p">:</span> <span class="n">JobRegistry</span><span class="p">,</span>
        <span class="n">auto_process</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_auto_process</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">auto_process</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_running</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">job_registry</span><span class="o">=</span><span class="n">job_registry</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">auto_process</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_auto_process</span>

    <span class="nd">@auto_process</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">auto_process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auto_process</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_auto_process</span> <span class="o">=</span> <span class="n">auto_process</span>

    <span class="k">def</span> <span class="nf">process_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">log</span> <span class="o">=</span> <span class="n">logger</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">pipeline_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_running</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;ignore.pipeline_process&quot;</span><span class="p">,</span>
                <span class="n">reason</span><span class="o">=</span><span class="s2">&quot;Pipeline already running.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Pipeline already running.&quot;</span><span class="p">)</span>

        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;execute.pipeline&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_running</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">processing_stages</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span>
            <span class="p">):</span>

                <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;execute.pipeline.stage&quot;</span><span class="p">,</span>
                    <span class="n">stage</span><span class="o">=</span><span class="n">idx</span><span class="p">,</span>
                <span class="p">)</span>

                <span class="n">job_ids</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>

                    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                        <span class="s2">&quot;execute.pipeline.step&quot;</span><span class="p">,</span>
                        <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span>
                    <span class="p">)</span>

                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
                        <span class="n">job_ids</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_id</span>
                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                        <span class="c1"># TODO: cancel running jobs?</span>
                        <span class="n">log_exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                        <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                            <span class="s2">&quot;error.processing.pipeline&quot;</span><span class="p">,</span>
                            <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span>
                            <span class="n">error</span><span class="o">=</span><span class="n">e</span><span class="p">,</span>
                        <span class="p">)</span>
                        <span class="k">return</span> <span class="kc">False</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">set_processing_results</span><span class="p">(</span><span class="n">job_ids</span><span class="o">=</span><span class="n">job_ids</span><span class="p">)</span>
                <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;execute_finished.pipeline.stage&quot;</span><span class="p">,</span>
                    <span class="n">stage</span><span class="o">=</span><span class="n">idx</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_running</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;execute_finished.pipeline&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.controller.SinglePipelineBatchController.auto_process" class="doc doc-heading">
<code class="highlight language-python"><span class="n">auto_process</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

<a href="#kiara.models.module.pipeline.controller.SinglePipelineBatchController.auto_process" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.controller.SinglePipelineBatchController.process_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">process_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.controller.SinglePipelineBatchController.process_pipeline" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/controller.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">process_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

    <span class="n">log</span> <span class="o">=</span> <span class="n">logger</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">pipeline_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_running</span><span class="p">:</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;ignore.pipeline_process&quot;</span><span class="p">,</span>
            <span class="n">reason</span><span class="o">=</span><span class="s2">&quot;Pipeline already running.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Pipeline already running.&quot;</span><span class="p">)</span>

    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;execute.pipeline&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_is_running</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">processing_stages</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span>
        <span class="p">):</span>

            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;execute.pipeline.stage&quot;</span><span class="p">,</span>
                <span class="n">stage</span><span class="o">=</span><span class="n">idx</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">job_ids</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>

                <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;execute.pipeline.step&quot;</span><span class="p">,</span>
                    <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span>
                <span class="p">)</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
                    <span class="n">job_ids</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_id</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="c1"># TODO: cancel running jobs?</span>
                    <span class="n">log_exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                    <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                        <span class="s2">&quot;error.processing.pipeline&quot;</span><span class="p">,</span>
                        <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span>
                        <span class="n">error</span><span class="o">=</span><span class="n">e</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">return</span> <span class="kc">False</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">set_processing_results</span><span class="p">(</span><span class="n">job_ids</span><span class="o">=</span><span class="n">job_ids</span><span class="p">)</span>
            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;execute_finished.pipeline.stage&quot;</span><span class="p">,</span>
                <span class="n">stage</span><span class="o">=</span><span class="n">idx</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">finally</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_running</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;execute_finished.pipeline&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.controller.SinglePipelineController" class="doc doc-heading">
        <code>
SinglePipelineController            (<a class="autorefs autorefs-internal" title="kiara.models.module.pipeline.controller.PipelineController" href="../module/pipeline/controller/#kiara.models.module.pipeline.controller.PipelineController">PipelineController</a>)
        </code>



<a href="#kiara.models.module.pipeline.controller.SinglePipelineController" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/controller.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SinglePipelineController</span><span class="p">(</span><span class="n">PipelineController</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">job_registry</span><span class="p">:</span> <span class="n">JobRegistry</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Pipeline</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Pipeline</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_job_registry</span><span class="p">:</span> <span class="n">JobRegistry</span> <span class="o">=</span> <span class="n">job_registry</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline_details</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">PipelineState</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">pipeline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">pipeline</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Pipeline</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Pipeline not set (yet).&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span>

    <span class="nd">@pipeline</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">:</span> <span class="n">Pipeline</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># TODO: destroy object?</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span><span class="o">.</span><span class="n">_listeners</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span> <span class="o">=</span> <span class="n">pipeline</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span><span class="o">.</span><span class="n">add_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">current_pipeline_state</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineState</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline_details</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline_details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">get_pipeline_details</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline_details</span>

    <span class="k">def</span> <span class="nf">can_be_processed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Check whether the step with the provided id is ready to be processed.&quot;&quot;&quot;</span>

        <span class="n">pipeline_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_pipeline_state</span><span class="p">()</span>
        <span class="n">step_state</span> <span class="o">=</span> <span class="n">pipeline_state</span><span class="o">.</span><span class="n">step_states</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span>

        <span class="k">return</span> <span class="ow">not</span> <span class="n">step_state</span><span class="o">.</span><span class="n">invalid_details</span>

    <span class="k">def</span> <span class="nf">can_be_skipped</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Check whether the processing of a step can be skipped.&quot;&quot;&quot;</span>

        <span class="n">required</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">step_is_required</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">required</span><span class="p">:</span>
            <span class="n">required</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">can_be_processed</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">required</span>

    <span class="k">def</span> <span class="nf">_pipeline_event_occurred</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">PipelineEvent</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">pipeline_id</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline_details</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">set_processing_results</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">job_ids</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Set the processing results as values of the approrpiate step outputs.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dict with the result value id as key, and the id of the job that produced it as value</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_job_registry</span><span class="o">.</span><span class="n">wait_for</span><span class="p">(</span><span class="o">*</span><span class="n">job_ids</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">combined_outputs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step_id</span><span class="p">,</span> <span class="n">job_id</span> <span class="ow">in</span> <span class="n">job_ids</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">record</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_job_registry</span><span class="o">.</span><span class="n">get_job_record</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">record</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">combined_outputs</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">outputs</span>
            <span class="k">for</span> <span class="n">output_id</span> <span class="ow">in</span> <span class="n">record</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="k">assert</span> <span class="n">output_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                <span class="n">result</span><span class="p">[</span><span class="n">output_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_id</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">set_multiple_step_outputs</span><span class="p">(</span>
            <span class="n">changed_outputs</span><span class="o">=</span><span class="n">combined_outputs</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">pipeline_is_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return whether the pipeline is ready to be processed.</span>

<span class="sd">        A ``True`` result means that all pipeline inputs are set with valid values, and therefore every step within the</span>
<span class="sd">        pipeline can be processed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            whether the pipeline can be processed as a whole (``True``) or not (``False``)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">pipeline_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">pipeline_inputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">pipeline_inputs</span><span class="o">.</span><span class="n">all_items_valid</span>

    <span class="k">def</span> <span class="nf">process_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">wait</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Kick off processing for the step with the provided id.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            step_id: the id of the step that should be started</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">job_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">create_job_config_for_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>

        <span class="n">job_metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;is_pipeline_step&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;step_id&quot;</span><span class="p">:</span> <span class="n">step_id</span><span class="p">}</span>
        <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_job_registry</span><span class="o">.</span><span class="n">execute_job</span><span class="p">(</span>
            <span class="n">job_config</span><span class="o">=</span><span class="n">job_config</span><span class="p">,</span> <span class="n">job_metadata</span><span class="o">=</span><span class="n">job_metadata</span>
        <span class="p">)</span>
        <span class="c1"># job_id = self._processor.create_job(job_config=job_config)</span>
        <span class="c1"># self._processor.queue_job(job_id=job_id)</span>

        <span class="k">if</span> <span class="n">wait</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_job_registry</span><span class="o">.</span><span class="n">wait_for</span><span class="p">(</span><span class="n">job_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">job_id</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.controller.SinglePipelineController.pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline</span><span class="p">:</span> <span class="n">Pipeline</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

<a href="#kiara.models.module.pipeline.controller.SinglePipelineController.pipeline" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>




<h10 id="kiara.models.module.pipeline.controller.SinglePipelineController-methods">Methods<a href="#kiara.models.module.pipeline.controller.SinglePipelineController-methods" class="headerlink" title="Permanent link">&para;</a></h10>

  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.controller.SinglePipelineController.can_be_processed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">can_be_processed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.controller.SinglePipelineController.can_be_processed" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Check whether the step with the provided id is ready to be processed.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/controller.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">can_be_processed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check whether the step with the provided id is ready to be processed.&quot;&quot;&quot;</span>

    <span class="n">pipeline_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_pipeline_state</span><span class="p">()</span>
    <span class="n">step_state</span> <span class="o">=</span> <span class="n">pipeline_state</span><span class="o">.</span><span class="n">step_states</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span>

    <span class="k">return</span> <span class="ow">not</span> <span class="n">step_state</span><span class="o">.</span><span class="n">invalid_details</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.controller.SinglePipelineController.can_be_skipped" class="doc doc-heading">
<code class="highlight language-python"><span class="n">can_be_skipped</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.controller.SinglePipelineController.can_be_skipped" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Check whether the processing of a step can be skipped.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/controller.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">can_be_skipped</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check whether the processing of a step can be skipped.&quot;&quot;&quot;</span>

    <span class="n">required</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">step_is_required</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">required</span><span class="p">:</span>
        <span class="n">required</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">can_be_processed</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">required</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.controller.SinglePipelineController.current_pipeline_state" class="doc doc-heading">
<code class="highlight language-python"><span class="n">current_pipeline_state</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.controller.SinglePipelineController.current_pipeline_state" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/controller.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">current_pipeline_state</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineState</span><span class="p">:</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline_details</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline_details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">get_pipeline_details</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline_details</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.controller.SinglePipelineController.pipeline_is_ready" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_is_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.controller.SinglePipelineController.pipeline_is_ready" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Return whether the pipeline is ready to be processed.</p>
<p>A <code>True</code> result means that all pipeline inputs are set with valid values, and therefore every step within the
pipeline can be processed.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>whether the pipeline can be processed as a whole (<code>True</code>) or not (<code>False</code>)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/controller.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">pipeline_is_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Return whether the pipeline is ready to be processed.</span>

<span class="sd">    A ``True`` result means that all pipeline inputs are set with valid values, and therefore every step within the</span>
<span class="sd">    pipeline can be processed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        whether the pipeline can be processed as a whole (``True``) or not (``False``)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">pipeline_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">pipeline_inputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">pipeline_inputs</span><span class="o">.</span><span class="n">all_items_valid</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.controller.SinglePipelineController.process_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">process_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.controller.SinglePipelineController.process_step" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Kick off processing for the step with the provided id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_id</code></td>
        <td><code>str</code></td>
        <td><p>the id of the step that should be started</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/controller.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">process_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">wait</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Kick off processing for the step with the provided id.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        step_id: the id of the step that should be started</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">job_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">create_job_config_for_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>

    <span class="n">job_metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;is_pipeline_step&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;step_id&quot;</span><span class="p">:</span> <span class="n">step_id</span><span class="p">}</span>
    <span class="n">job_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_job_registry</span><span class="o">.</span><span class="n">execute_job</span><span class="p">(</span>
        <span class="n">job_config</span><span class="o">=</span><span class="n">job_config</span><span class="p">,</span> <span class="n">job_metadata</span><span class="o">=</span><span class="n">job_metadata</span>
    <span class="p">)</span>
    <span class="c1"># job_id = self._processor.create_job(job_config=job_config)</span>
    <span class="c1"># self._processor.queue_job(job_id=job_id)</span>

    <span class="k">if</span> <span class="n">wait</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_job_registry</span><span class="o">.</span><span class="n">wait_for</span><span class="p">(</span><span class="n">job_id</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">job_id</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.controller.SinglePipelineController.set_processing_results" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_processing_results</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job_ids</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.controller.SinglePipelineController.set_processing_results" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Set the processing results as values of the approrpiate step outputs.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Mapping[uuid.UUID, uuid.UUID]</code></td>
      <td><p>a dict with the result value id as key, and the id of the job that produced it as value</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/controller.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_processing_results</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">job_ids</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Set the processing results as values of the approrpiate step outputs.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a dict with the result value id as key, and the id of the job that produced it as value</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_job_registry</span><span class="o">.</span><span class="n">wait_for</span><span class="p">(</span><span class="o">*</span><span class="n">job_ids</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">combined_outputs</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step_id</span><span class="p">,</span> <span class="n">job_id</span> <span class="ow">in</span> <span class="n">job_ids</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">record</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_job_registry</span><span class="o">.</span><span class="n">get_job_record</span><span class="p">(</span><span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">record</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">combined_outputs</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">outputs</span>
        <span class="k">for</span> <span class="n">output_id</span> <span class="ow">in</span> <span class="n">record</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">assert</span> <span class="n">output_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="n">result</span><span class="p">[</span><span class="n">output_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_id</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">set_multiple_step_outputs</span><span class="p">(</span>
        <span class="n">changed_outputs</span><span class="o">=</span><span class="n">combined_outputs</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h7 id="kiara.models.module.pipeline.pipeline" class="doc doc-heading">
        <code>pipeline</code>



<a href="#kiara.models.module.pipeline.pipeline" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.module.pipeline.pipeline.yaml" class="doc doc-heading">
<code class="highlight language-python"><span class="n">yaml</span></code>


<a href="#kiara.models.module.pipeline.pipeline.yaml" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>


<h8 id="kiara.models.module.pipeline.pipeline-classes">Classes<a href="#kiara.models.module.pipeline.pipeline-classes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.pipeline.Pipeline" class="doc doc-heading">
        <code>
Pipeline        </code>



<a href="#kiara.models.module.pipeline.pipeline.Pipeline" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>An instance of a [PipelineStructure][kiara.pipeline.structure.PipelineStructure] that holds state for all of the inputs/outputs of the steps within.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Pipeline</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An instance of a [PipelineStructure][kiara.pipeline.structure.PipelineStructure] that holds state for all of the inputs/outputs of the steps within.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_pipeline</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">PipelineConfig</span><span class="p">,</span> <span class="n">PipelineStructure</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Pipeline&quot;</span><span class="p">:</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">pipeline_structure</span><span class="p">:</span> <span class="n">PipelineStructure</span> <span class="o">=</span> <span class="n">PipelineConfig</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span>
                <span class="n">pipeline_name</span><span class="o">=</span><span class="s2">&quot;__pipeline__&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span>
            <span class="p">)</span><span class="o">.</span><span class="n">structure</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">PipelineConfig</span><span class="p">):</span>
            <span class="n">pipeline_structure</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">structure</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">PipelineStructure</span><span class="p">):</span>
            <span class="n">pipeline_structure</span> <span class="o">=</span> <span class="n">pipeline</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">operation</span> <span class="o">=</span> <span class="n">create_operation</span><span class="p">(</span><span class="n">module_or_operation</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">)</span>
            <span class="n">module</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="n">module</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">PipelineConfig</span><span class="p">):</span>
                <span class="n">config</span><span class="p">:</span> <span class="n">PipelineConfig</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">config</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
            <span class="n">pipeline_structure</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">structure</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type for argument &#39;pipeline&#39;: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">pipeline</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">pipeline_obj</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="n">pipeline_structure</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">pipeline_obj</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structure</span><span class="p">:</span> <span class="n">PipelineStructure</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="p">:</span> <span class="n">PipelineStructure</span> <span class="o">=</span> <span class="n">structure</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_value_refs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">AliasValueMap</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">ValueRef</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
        <span class="c1"># self._status: StepStatus = StepStatus.STALE</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineStep</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_inputs_by_stage</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_outputs_by_stage</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">:</span> <span class="n">Kiara</span> <span class="o">=</span> <span class="n">kiara</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="p">:</span> <span class="n">DataRegistry</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">data_registry</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="p">:</span> <span class="n">AliasValueMap</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PipelineListener</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_init_values</span><span class="p">()</span>

        <span class="c1"># self._update_status()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pipeline_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pipeline_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">pipeline_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">kiara_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="o">.</span><span class="n">id</span>

    <span class="k">def</span> <span class="nf">_init_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize this object. This should only be called once.</span>

<span class="sd">        Basically, this goes through all the inputs and outputs of all steps, and &#39;allocates&#39; a PipelineValueInfo object</span>
<span class="sd">        for each of them. In case where output/input or pipeline-input/input points are connected, only one</span>
<span class="sd">        value item is allocated, since those refer to the same value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">values</span> <span class="o">=</span> <span class="n">AliasValueMap</span><span class="p">(</span>
            <span class="n">alias</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">),</span> <span class="n">version</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">assoc_value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">values_schema</span><span class="o">=</span><span class="p">{}</span>
        <span class="p">)</span>
        <span class="n">values</span><span class="o">.</span><span class="n">_data_registry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span>
        <span class="n">inputs_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">pipeline_inputs_schema</span>
        <span class="n">outputs_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">pipeline_outputs_schema</span>
        <span class="k">if</span> <span class="n">inputs_schema</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">inputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">values</span><span class="o">.</span><span class="n">set_alias_schema</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;pipeline.inputs.</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">values</span><span class="o">.</span><span class="n">set_alias_schema</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">ValueSchema</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">outputs_schema</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">outputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">values</span><span class="o">.</span><span class="n">set_alias_schema</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;pipeline.outputs.</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">values</span><span class="o">.</span><span class="n">set_alias_schema</span><span class="p">(</span><span class="s2">&quot;pipeline.outputs&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">ValueSchema</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
            <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">value_schema</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">inputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">values</span><span class="o">.</span><span class="n">set_alias_schema</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.inputs.</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">value_schema</span>
                <span class="p">)</span>
            <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">value_schema</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">values</span><span class="o">.</span><span class="n">set_alias_schema</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.outputs.</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">value_schema</span>
                <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span> <span class="o">=</span> <span class="n">values</span>

        <span class="n">initial_inputs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">k</span><span class="p">:</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">pipeline_inputs_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_pipeline_inputs</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">initial_inputs</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Pipeline</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">_id</span>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">listener</span><span class="p">:</span> <span class="n">PipelineListener</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listener</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">structure</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineStructure</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">doc</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DocumentationMetadataModel</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">doc</span>

    <span class="k">def</span> <span class="nf">get_current_pipeline_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;All (pipeline) input values of this pipeline.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span> <span class="nf">get_current_pipeline_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;All (pipeline) output values of this pipeline.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.outputs&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span> <span class="nf">get_current_step_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>

        <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.inputs&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span> <span class="nf">get_current_step_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>

        <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.outputs&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span> <span class="nf">get_inputs_for_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">step_ids</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve value ids for the inputs of the specified steps (or all steps, if no argument provided.&quot;&quot;&quot;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">step_ids</span> <span class="ow">and</span> <span class="n">step_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">step_ids</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">ids</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_outputs_for_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">step_ids</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve value ids for the outputs of the specified steps (or all steps, if no argument provided.&quot;&quot;&quot;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">step_ids</span> <span class="ow">and</span> <span class="n">step_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">step_ids</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_outputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">ids</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">_notify_pipeline_listeners</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">PipelineEvent</span><span class="p">):</span>

        <span class="k">for</span> <span class="n">listener</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="p">:</span>
            <span class="n">listener</span><span class="o">.</span><span class="n">_pipeline_event_occurred</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="n">event</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_pipeline_details</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineState</span><span class="p">:</span>

        <span class="n">pipeline_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">)</span>
        <span class="n">pipeline_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.outputs&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">pipeline_inputs</span><span class="p">:</span>
            <span class="n">invalid</span> <span class="o">=</span> <span class="n">pipeline_inputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">invalid</span><span class="p">:</span>
                <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_READY</span>
                <span class="n">step_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.outputs&quot;</span><span class="p">)</span>
                <span class="k">assert</span> <span class="n">step_outputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="n">invalid_outputs</span> <span class="o">=</span> <span class="n">step_outputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
                <span class="c1"># TODO: also check that all the pedigrees match up with current inputs</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">invalid_outputs</span><span class="p">:</span>
                    <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">RESULTS_READY</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_INVALID</span>
            <span class="n">_pipeline_inputs</span> <span class="o">=</span> <span class="n">pipeline_inputs</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_pipeline_inputs</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">invalid</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_READY</span>

        <span class="k">if</span> <span class="n">pipeline_outputs</span><span class="p">:</span>
            <span class="n">_pipeline_outputs</span> <span class="o">=</span> <span class="n">pipeline_outputs</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_pipeline_outputs</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">step_states</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
            <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step_details</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
            <span class="n">step_states</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span>

        <span class="n">details</span> <span class="o">=</span> <span class="n">PipelineState</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
            <span class="n">kiara_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">kiara_id</span><span class="p">,</span>
            <span class="n">pipeline_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">,</span>
            <span class="n">pipeline_status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
            <span class="n">pipeline_inputs</span><span class="o">=</span><span class="n">_pipeline_inputs</span><span class="p">,</span>
            <span class="n">pipeline_outputs</span><span class="o">=</span><span class="n">_pipeline_outputs</span><span class="p">,</span>
            <span class="n">invalid_details</span><span class="o">=</span><span class="n">invalid</span><span class="p">,</span>
            <span class="n">step_states</span><span class="o">=</span><span class="n">step_states</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">details</span>

    <span class="k">def</span> <span class="nf">get_step_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepDetails</span><span class="p">:</span>

        <span class="n">step_input_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">step_output_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_outputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">step_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.inputs&quot;</span><span class="p">)</span>

        <span class="k">assert</span> <span class="n">step_inputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="n">step_inputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>

        <span class="n">processing_stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_processing_stage</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">invalid</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_READY</span>
            <span class="n">step_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.outputs&quot;</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">step_outputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">invalid_outputs</span> <span class="o">=</span> <span class="n">step_outputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
            <span class="c1"># TODO: also check that all the pedigrees match up with current inputs</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">invalid_outputs</span><span class="p">:</span>
                <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">RESULTS_READY</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_INVALID</span>

        <span class="n">details</span> <span class="o">=</span> <span class="n">StepDetails</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
            <span class="n">kiara_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">kiara_id</span><span class="p">,</span>
            <span class="n">pipeline_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">,</span>
            <span class="n">step</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">),</span>
            <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span>
            <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
            <span class="n">inputs</span><span class="o">=</span><span class="n">step_input_ids</span><span class="p">,</span>
            <span class="n">outputs</span><span class="o">=</span><span class="n">step_output_ids</span><span class="p">,</span>
            <span class="n">invalid_details</span><span class="o">=</span><span class="n">invalid</span><span class="p">,</span>
            <span class="n">processing_stage</span><span class="o">=</span><span class="n">processing_stage</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">details</span>

    <span class="k">def</span> <span class="nf">set_pipeline_inputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">sync_to_step_inputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>

        <span class="n">values_to_set</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">:</span>
                <span class="n">values_to_set</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">NOT_SET_VALUE_ID</span>
            <span class="k">elif</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NO_VALUE</span><span class="p">]:</span>
                <span class="n">values_to_set</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">NONE_VALUE_ID</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">)</span>
                <span class="k">assert</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="c1"># dbg(alias_map.__dict__)</span>
                <span class="n">schema</span> <span class="o">=</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Can&#39;t set pipeline input for input &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39;: no such input field. Available fields: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">alias_map</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">register_data</span><span class="p">(</span>
                    <span class="n">data</span><span class="o">=</span><span class="n">v</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span> <span class="n">pedigree</span><span class="o">=</span><span class="n">ORPHAN</span><span class="p">,</span> <span class="n">reuse_existing</span><span class="o">=</span><span class="kc">True</span>
                <span class="p">)</span>
                <span class="n">values_to_set</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">value_id</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">values_to_set</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="n">changed_pipeline_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_values</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">values_to_set</span><span class="p">)</span>

        <span class="n">changed_results</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;__pipeline__&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="n">changed_pipeline_inputs</span><span class="p">}}</span>

        <span class="k">if</span> <span class="n">sync_to_step_inputs</span><span class="p">:</span>
            <span class="n">changed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_pipeline_inputs</span><span class="p">(</span><span class="n">notify_listeners</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">dpath</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">changed_results</span><span class="p">,</span> <span class="n">changed</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="n">notify_listeners</span><span class="p">:</span>
            <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed</span><span class="o">=</span><span class="n">changed_results</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_notify_pipeline_listeners</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">changed_results</span>

    <span class="k">def</span> <span class="nf">sync_pipeline_inputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>

        <span class="n">pipeline_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_pipeline_inputs</span><span class="p">()</span>

        <span class="n">values_to_sync</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">pipeline_input_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">step_input</span> <span class="ow">in</span> <span class="n">ref</span><span class="o">.</span><span class="n">connected_inputs</span><span class="p">:</span>
                <span class="n">step_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_input</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">step_inputs</span><span class="p">[</span><span class="n">step_input</span><span class="o">.</span><span class="n">value_name</span><span class="p">]</span> <span class="o">!=</span> <span class="n">pipeline_inputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]:</span>
                    <span class="n">values_to_sync</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">step_input</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="p">{})[</span>
                        <span class="n">step_input</span><span class="o">.</span><span class="n">value_name</span>
                    <span class="p">]</span> <span class="o">=</span> <span class="n">pipeline_inputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>

        <span class="n">results</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">values_to_sync</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">values_to_sync</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span>
            <span class="n">step_changed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">values</span><span class="p">)</span>
            <span class="n">dpath</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">step_changed</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="n">notify_listeners</span><span class="p">:</span>
            <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed</span><span class="o">=</span><span class="n">results</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_notify_pipeline_listeners</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">results</span>

    <span class="k">def</span> <span class="nf">_set_step_inputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>

        <span class="n">changed_step_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_values</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.inputs&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">inputs</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">changed_step_inputs</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">step_id</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="n">changed_step_inputs</span><span class="p">}</span>
        <span class="p">}</span>

        <span class="n">step_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_step_output_refs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">null_outputs</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">NOT_SET_VALUE_ID</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">step_outputs</span><span class="o">.</span><span class="n">keys</span><span class="p">()}</span>

        <span class="n">changed_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_step_outputs</span><span class="p">(</span>
            <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">null_outputs</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span>
        <span class="c1"># assert step_id in changed_outputs.keys()</span>

        <span class="n">result</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">changed_outputs</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">set_multiple_step_outputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">changed_outputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]],</span>
        <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>

        <span class="n">results</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step_id</span><span class="p">,</span> <span class="n">outputs</span> <span class="ow">in</span> <span class="n">changed_outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">step_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_step_outputs</span><span class="p">(</span>
                <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span>
            <span class="n">dpath</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">step_results</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="n">notify_listeners</span><span class="p">:</span>
            <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed</span><span class="o">=</span><span class="n">results</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_notify_pipeline_listeners</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">results</span>

    <span class="k">def</span> <span class="nf">set_step_outputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">outputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]],</span>
        <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>

        <span class="c1"># make sure pedigrees match with respective inputs?</span>

        <span class="n">changed_step_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_values</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.outputs&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">outputs</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">changed_step_outputs</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">step_id</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="n">changed_step_outputs</span><span class="p">}</span>
        <span class="p">}</span>

        <span class="n">output_refs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_step_output_refs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>

        <span class="n">pipeline_outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">inputs_to_set</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">ref</span> <span class="ow">in</span> <span class="n">output_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">ref</span><span class="o">.</span><span class="n">pipeline_output</span><span class="p">:</span>
                <span class="k">assert</span> <span class="n">ref</span><span class="o">.</span><span class="n">pipeline_output</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pipeline_outputs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                <span class="n">pipeline_outputs</span><span class="p">[</span><span class="n">ref</span><span class="o">.</span><span class="n">pipeline_output</span><span class="p">]</span> <span class="o">=</span> <span class="n">outputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">input_ref</span> <span class="ow">in</span> <span class="n">ref</span><span class="o">.</span><span class="n">connected_inputs</span><span class="p">:</span>
                <span class="n">inputs_to_set</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">input_ref</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="p">{})[</span>
                    <span class="n">input_ref</span><span class="o">.</span><span class="n">value_name</span>
                <span class="p">]</span> <span class="o">=</span> <span class="n">outputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">step_id</span><span class="p">,</span> <span class="n">step_inputs</span> <span class="ow">in</span> <span class="n">inputs_to_set</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">changed_step_fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_step_inputs</span><span class="p">(</span>
                <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">step_inputs</span>
            <span class="p">)</span>
            <span class="n">dpath</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">changed_step_fields</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="n">pipeline_outputs</span><span class="p">:</span>
            <span class="n">changed_pipeline_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_pipeline_outputs</span><span class="p">(</span><span class="o">**</span><span class="n">pipeline_outputs</span><span class="p">)</span>
            <span class="n">dpath</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
                <span class="n">result</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;__pipeline__&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="n">changed_pipeline_outputs</span><span class="p">}}</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">notify_listeners</span><span class="p">:</span>
            <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed</span><span class="o">=</span><span class="n">result</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_notify_pipeline_listeners</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">_set_pipeline_outputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">outputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]:</span>

        <span class="n">changed_pipeline_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_values</span><span class="p">(</span><span class="s2">&quot;pipeline.outputs&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">outputs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">changed_pipeline_outputs</span>

    <span class="k">def</span> <span class="nf">_set_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Set values (value-ids) for the sub-alias-map with the specified alias path.&quot;&quot;&quot;</span>

        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">_alias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">_alias</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_alias</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">invalid</span><span class="p">[</span>
                    <span class="n">k</span>
                <span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invalid field &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39;. Available fields: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_current_pipeline_inputs</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="k">if</span> <span class="n">invalid</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidValuesException</span><span class="p">(</span><span class="n">invalid_values</span><span class="o">=</span><span class="n">invalid</span><span class="p">)</span>

        <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">AliasValueMap</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="n">values_to_set</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">current</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">changed</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">new_value</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="n">current_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">current_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">current_value_id</span> <span class="o">=</span> <span class="n">current_value</span><span class="o">.</span><span class="n">assoc_value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">current_value_id</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">current</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_value_id</span>

            <span class="k">if</span> <span class="n">current_value_id</span> <span class="o">!=</span> <span class="n">new_value</span><span class="p">:</span>
                <span class="n">values_to_set</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_value</span>
                <span class="n">changed</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">ChangedValue</span><span class="p">(</span><span class="n">old</span><span class="o">=</span><span class="n">current_value_id</span><span class="p">,</span> <span class="n">new</span><span class="o">=</span><span class="n">new_value</span><span class="p">)</span>

        <span class="n">_alias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">_alias</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">_alias</span><span class="o">.</span><span class="n">_set_aliases</span><span class="p">(</span><span class="o">**</span><span class="n">values_to_set</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">changed</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">step_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return all ids of the steps of this pipeline.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">step_ids</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">execution_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">execution_graph</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data_flow_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">data_flow_graph</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data_flow_graph_simple</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">data_flow_graph_simple</span>

    <span class="k">def</span> <span class="nf">get_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineStep</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return the object representing a step in this workflow, identified by the step id.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_steps_by_stage</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineStep</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Return a all pipeline steps, ordered by stage they belong to.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineStep</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
            <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
            <span class="n">stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_processing_stage</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">stage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">stage</span><span class="p">,</span> <span class="p">{})[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">step</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span> <span class="o">=</span> <span class="n">result</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span>

    <span class="k">def</span> <span class="nf">create_job_config_for_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JobConfig</span><span class="p">:</span>

        <span class="n">step_inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">step_details</span><span class="p">:</span> <span class="n">StepDetails</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step_details</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">step</span><span class="p">:</span> <span class="n">PipelineStep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>

        <span class="c1"># if the inputs are not valid, ignore this step</span>
        <span class="k">if</span> <span class="n">step_details</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_INVALID</span><span class="p">:</span>
            <span class="n">invalid_details</span> <span class="o">=</span> <span class="n">step_details</span><span class="o">.</span><span class="n">invalid_details</span>
            <span class="k">assert</span> <span class="n">invalid_details</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Can&#39;t execute step &#39;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;, invalid inputs: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_details</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidValuesException</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">,</span> <span class="n">invalid_values</span><span class="o">=</span><span class="n">invalid_details</span><span class="p">)</span>

        <span class="n">job_config</span> <span class="o">=</span> <span class="n">JobConfig</span><span class="o">.</span><span class="n">create_from_module</span><span class="p">(</span>
            <span class="n">data_registry</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="p">,</span> <span class="n">module</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">step_inputs</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">job_config</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="k">return</span> <span class="n">PipelineInfo</span><span class="o">.</span><span class="n">create_from_pipeline</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span>
        <span class="p">)</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h10 id="kiara.models.module.pipeline.pipeline.Pipeline-attributes">Attributes<a href="#kiara.models.module.pipeline.pipeline.Pipeline-attributes" class="headerlink" title="Permanent link">&para;</a></h10>

  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.data_flow_graph" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_flow_graph</span><span class="p">:</span> <span class="n">DiGraph</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.Pipeline.data_flow_graph" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.data_flow_graph_simple" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_flow_graph_simple</span><span class="p">:</span> <span class="n">DiGraph</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.Pipeline.data_flow_graph_simple" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.doc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.Pipeline.doc" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.execution_graph" class="doc doc-heading">
<code class="highlight language-python"><span class="n">execution_graph</span><span class="p">:</span> <span class="n">DiGraph</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.Pipeline.execution_graph" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.Pipeline.id" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.kiara_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">kiara_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.Pipeline.kiara_id" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.pipeline_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.Pipeline.pipeline_id" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.pipeline_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.Pipeline.pipeline_name" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.step_ids" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step_ids</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.Pipeline.step_ids" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Return all ids of the steps of this pipeline.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.structure" class="doc doc-heading">
<code class="highlight language-python"><span class="n">structure</span><span class="p">:</span> <span class="n">PipelineStructure</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.Pipeline.structure" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>




<h10 id="kiara.models.module.pipeline.pipeline.Pipeline-methods">Methods<a href="#kiara.models.module.pipeline.pipeline.Pipeline-methods" class="headerlink" title="Permanent link">&para;</a></h10>

  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.add_listener" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">listener</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.add_listener" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">listener</span><span class="p">:</span> <span class="n">PipelineListener</span><span class="p">):</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_listeners</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listener</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.create_job_config_for_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_job_config_for_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.create_job_config_for_step" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_job_config_for_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JobConfig</span><span class="p">:</span>

    <span class="n">step_inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
    <span class="n">step_details</span><span class="p">:</span> <span class="n">StepDetails</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step_details</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
    <span class="n">step</span><span class="p">:</span> <span class="n">PipelineStep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>

    <span class="c1"># if the inputs are not valid, ignore this step</span>
    <span class="k">if</span> <span class="n">step_details</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_INVALID</span><span class="p">:</span>
        <span class="n">invalid_details</span> <span class="o">=</span> <span class="n">step_details</span><span class="o">.</span><span class="n">invalid_details</span>
        <span class="k">assert</span> <span class="n">invalid_details</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Can&#39;t execute step &#39;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;, invalid inputs: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_details</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">raise</span> <span class="n">InvalidValuesException</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">,</span> <span class="n">invalid_values</span><span class="o">=</span><span class="n">invalid_details</span><span class="p">)</span>

    <span class="n">job_config</span> <span class="o">=</span> <span class="n">JobConfig</span><span class="o">.</span><span class="n">create_from_module</span><span class="p">(</span>
        <span class="n">data_registry</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="p">,</span> <span class="n">module</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">step_inputs</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">job_config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.create_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_pipeline</span><span class="p">(</span><span class="n">kiara</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.Pipeline.create_pipeline" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_pipeline</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">PipelineConfig</span><span class="p">,</span> <span class="n">PipelineStructure</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Pipeline&quot;</span><span class="p">:</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
        <span class="n">pipeline_structure</span><span class="p">:</span> <span class="n">PipelineStructure</span> <span class="o">=</span> <span class="n">PipelineConfig</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="s2">&quot;__pipeline__&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span>
        <span class="p">)</span><span class="o">.</span><span class="n">structure</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">PipelineConfig</span><span class="p">):</span>
        <span class="n">pipeline_structure</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">structure</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">PipelineStructure</span><span class="p">):</span>
        <span class="n">pipeline_structure</span> <span class="o">=</span> <span class="n">pipeline</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">operation</span> <span class="o">=</span> <span class="n">create_operation</span><span class="p">(</span><span class="n">module_or_operation</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">)</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="n">module</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">PipelineConfig</span><span class="p">):</span>
            <span class="n">config</span><span class="p">:</span> <span class="n">PipelineConfig</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">config</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
        <span class="n">pipeline_structure</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">structure</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type for argument &#39;pipeline&#39;: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">pipeline</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">pipeline_obj</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="n">pipeline_structure</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pipeline_obj</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.create_renderable" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="k">return</span> <span class="n">PipelineInfo</span><span class="o">.</span><span class="n">create_from_pipeline</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span>
    <span class="p">)</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.get_current_pipeline_inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_current_pipeline_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_current_pipeline_inputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>All (pipeline) input values of this pipeline.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_current_pipeline_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;All (pipeline) input values of this pipeline.&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.get_current_pipeline_outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_current_pipeline_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_current_pipeline_outputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>All (pipeline) output values of this pipeline.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_current_pipeline_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;All (pipeline) output values of this pipeline.&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.outputs&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.get_current_step_inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_current_step_inputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_current_step_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>

    <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.inputs&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.get_current_step_outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_current_step_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_current_step_outputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_current_step_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>

    <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.outputs&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.get_inputs_for_steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_inputs_for_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">step_ids</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_inputs_for_steps" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Retrieve value ids for the inputs of the specified steps (or all steps, if no argument provided.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_inputs_for_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">step_ids</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Retrieve value ids for the inputs of the specified steps (or all steps, if no argument provided.&quot;&quot;&quot;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">step_ids</span> <span class="ow">and</span> <span class="n">step_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">step_ids</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">result</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">ids</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.get_outputs_for_steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_outputs_for_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">step_ids</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_outputs_for_steps" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Retrieve value ids for the outputs of the specified steps (or all steps, if no argument provided.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_outputs_for_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">step_ids</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Retrieve value ids for the outputs of the specified steps (or all steps, if no argument provided.&quot;&quot;&quot;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">step_ids</span> <span class="ow">and</span> <span class="n">step_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">step_ids</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_outputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">result</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">ids</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.get_pipeline_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pipeline_details</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_pipeline_details" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_pipeline_details</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineState</span><span class="p">:</span>

    <span class="n">pipeline_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">)</span>
    <span class="n">pipeline_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.outputs&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">pipeline_inputs</span><span class="p">:</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="n">pipeline_inputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">invalid</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_READY</span>
            <span class="n">step_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.outputs&quot;</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">step_outputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">invalid_outputs</span> <span class="o">=</span> <span class="n">step_outputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
            <span class="c1"># TODO: also check that all the pedigrees match up with current inputs</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">invalid_outputs</span><span class="p">:</span>
                <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">RESULTS_READY</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_INVALID</span>
        <span class="n">_pipeline_inputs</span> <span class="o">=</span> <span class="n">pipeline_inputs</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_pipeline_inputs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_READY</span>

    <span class="k">if</span> <span class="n">pipeline_outputs</span><span class="p">:</span>
        <span class="n">_pipeline_outputs</span> <span class="o">=</span> <span class="n">pipeline_outputs</span><span class="o">.</span><span class="n">get_all_value_ids</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_pipeline_outputs</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">step_states</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step_details</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">step_states</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span>

    <span class="n">details</span> <span class="o">=</span> <span class="n">PipelineState</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
        <span class="n">kiara_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">kiara_id</span><span class="p">,</span>
        <span class="n">pipeline_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">,</span>
        <span class="n">pipeline_status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
        <span class="n">pipeline_inputs</span><span class="o">=</span><span class="n">_pipeline_inputs</span><span class="p">,</span>
        <span class="n">pipeline_outputs</span><span class="o">=</span><span class="n">_pipeline_outputs</span><span class="p">,</span>
        <span class="n">invalid_details</span><span class="o">=</span><span class="n">invalid</span><span class="p">,</span>
        <span class="n">step_states</span><span class="o">=</span><span class="n">step_states</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">details</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.get_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_step" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Return the object representing a step in this workflow, identified by the step id.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineStep</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Return the object representing a step in this workflow, identified by the step id.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.get_step_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_step_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_step_details" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_step_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepDetails</span><span class="p">:</span>

    <span class="n">step_input_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
    <span class="n">step_output_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_outputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
    <span class="n">step_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.inputs&quot;</span><span class="p">)</span>

    <span class="k">assert</span> <span class="n">step_inputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="n">invalid</span> <span class="o">=</span> <span class="n">step_inputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>

    <span class="n">processing_stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_processing_stage</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">invalid</span><span class="p">:</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_READY</span>
        <span class="n">step_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.outputs&quot;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">step_outputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">invalid_outputs</span> <span class="o">=</span> <span class="n">step_outputs</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
        <span class="c1"># TODO: also check that all the pedigrees match up with current inputs</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">invalid_outputs</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">RESULTS_READY</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">StepStatus</span><span class="o">.</span><span class="n">INPUTS_INVALID</span>

    <span class="n">details</span> <span class="o">=</span> <span class="n">StepDetails</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
        <span class="n">kiara_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">kiara_id</span><span class="p">,</span>
        <span class="n">pipeline_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">,</span>
        <span class="n">step</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">),</span>
        <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span>
        <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
        <span class="n">inputs</span><span class="o">=</span><span class="n">step_input_ids</span><span class="p">,</span>
        <span class="n">outputs</span><span class="o">=</span><span class="n">step_output_ids</span><span class="p">,</span>
        <span class="n">invalid_details</span><span class="o">=</span><span class="n">invalid</span><span class="p">,</span>
        <span class="n">processing_stage</span><span class="o">=</span><span class="n">processing_stage</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">details</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.get_steps_by_stage" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_steps_by_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.get_steps_by_stage" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Return a all pipeline steps, ordered by stage they belong to.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_steps_by_stage</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineStep</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Return a all pipeline steps, ordered by stage they belong to.&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineStep</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_ids</span><span class="p">:</span>
        <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">)</span>
        <span class="n">stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_processing_stage</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">stage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">stage</span><span class="p">,</span> <span class="p">{})[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">step</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span> <span class="o">=</span> <span class="n">result</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_by_stage</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.set_multiple_step_outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_multiple_step_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed_outputs</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.set_multiple_step_outputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_multiple_step_outputs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">changed_outputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]],</span>
    <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>

    <span class="n">results</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step_id</span><span class="p">,</span> <span class="n">outputs</span> <span class="ow">in</span> <span class="n">changed_outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">step_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_step_outputs</span><span class="p">(</span>
            <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span>
        <span class="n">dpath</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">step_results</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="n">notify_listeners</span><span class="p">:</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed</span><span class="o">=</span><span class="n">results</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_notify_pipeline_listeners</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.set_pipeline_inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_pipeline_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">,</span> <span class="n">sync_to_step_inputs</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.set_pipeline_inputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_pipeline_inputs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">sync_to_step_inputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>

    <span class="n">values_to_set</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">:</span>
            <span class="n">values_to_set</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">NOT_SET_VALUE_ID</span>
        <span class="k">elif</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NO_VALUE</span><span class="p">]:</span>
            <span class="n">values_to_set</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">NONE_VALUE_ID</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">alias_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_all_values</span><span class="o">.</span><span class="n">get_alias</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="c1"># dbg(alias_map.__dict__)</span>
            <span class="n">schema</span> <span class="o">=</span> <span class="n">alias_map</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t set pipeline input for input &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39;: no such input field. Available fields: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">alias_map</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">register_data</span><span class="p">(</span>
                <span class="n">data</span><span class="o">=</span><span class="n">v</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span> <span class="n">pedigree</span><span class="o">=</span><span class="n">ORPHAN</span><span class="p">,</span> <span class="n">reuse_existing</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
            <span class="n">values_to_set</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">value_id</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">values_to_set</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="n">changed_pipeline_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_values</span><span class="p">(</span><span class="s2">&quot;pipeline.inputs&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">values_to_set</span><span class="p">)</span>

    <span class="n">changed_results</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;__pipeline__&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="n">changed_pipeline_inputs</span><span class="p">}}</span>

    <span class="k">if</span> <span class="n">sync_to_step_inputs</span><span class="p">:</span>
        <span class="n">changed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_pipeline_inputs</span><span class="p">(</span><span class="n">notify_listeners</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">dpath</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">changed_results</span><span class="p">,</span> <span class="n">changed</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="n">notify_listeners</span><span class="p">:</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed</span><span class="o">=</span><span class="n">changed_results</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_notify_pipeline_listeners</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">changed_results</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.set_step_outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_step_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">,</span> <span class="n">outputs</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.set_step_outputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_step_outputs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">outputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]],</span>
    <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>

    <span class="c1"># make sure pedigrees match with respective inputs?</span>

    <span class="n">changed_step_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_values</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;steps.</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.outputs&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">outputs</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">changed_step_outputs</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">step_id</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="n">changed_step_outputs</span><span class="p">}</span>
    <span class="p">}</span>

    <span class="n">output_refs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">get_step_output_refs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>

    <span class="n">pipeline_outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">inputs_to_set</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">ref</span> <span class="ow">in</span> <span class="n">output_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">ref</span><span class="o">.</span><span class="n">pipeline_output</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">ref</span><span class="o">.</span><span class="n">pipeline_output</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pipeline_outputs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="n">pipeline_outputs</span><span class="p">[</span><span class="n">ref</span><span class="o">.</span><span class="n">pipeline_output</span><span class="p">]</span> <span class="o">=</span> <span class="n">outputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">input_ref</span> <span class="ow">in</span> <span class="n">ref</span><span class="o">.</span><span class="n">connected_inputs</span><span class="p">:</span>
            <span class="n">inputs_to_set</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">input_ref</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="p">{})[</span>
                <span class="n">input_ref</span><span class="o">.</span><span class="n">value_name</span>
            <span class="p">]</span> <span class="o">=</span> <span class="n">outputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">step_id</span><span class="p">,</span> <span class="n">step_inputs</span> <span class="ow">in</span> <span class="n">inputs_to_set</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">changed_step_fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_step_inputs</span><span class="p">(</span>
            <span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">step_inputs</span>
        <span class="p">)</span>
        <span class="n">dpath</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">changed_step_fields</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="n">pipeline_outputs</span><span class="p">:</span>
        <span class="n">changed_pipeline_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_pipeline_outputs</span><span class="p">(</span><span class="o">**</span><span class="n">pipeline_outputs</span><span class="p">)</span>
        <span class="n">dpath</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
            <span class="n">result</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;__pipeline__&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="n">changed_pipeline_outputs</span><span class="p">}}</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">notify_listeners</span><span class="p">:</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed</span><span class="o">=</span><span class="n">result</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_notify_pipeline_listeners</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.Pipeline.sync_pipeline_inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sync_pipeline_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.Pipeline.sync_pipeline_inputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">sync_pipeline_inputs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">notify_listeners</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]:</span>

    <span class="n">pipeline_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_pipeline_inputs</span><span class="p">()</span>

    <span class="n">values_to_sync</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_structure</span><span class="o">.</span><span class="n">pipeline_input_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">step_input</span> <span class="ow">in</span> <span class="n">ref</span><span class="o">.</span><span class="n">connected_inputs</span><span class="p">:</span>
            <span class="n">step_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_step_inputs</span><span class="p">(</span><span class="n">step_input</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">step_inputs</span><span class="p">[</span><span class="n">step_input</span><span class="o">.</span><span class="n">value_name</span><span class="p">]</span> <span class="o">!=</span> <span class="n">pipeline_inputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]:</span>
                <span class="n">values_to_sync</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">step_input</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="p">{})[</span>
                    <span class="n">step_input</span><span class="o">.</span><span class="n">value_name</span>
                <span class="p">]</span> <span class="o">=</span> <span class="n">pipeline_inputs</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>

    <span class="n">results</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ChangedValue</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">values_to_sync</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">values_to_sync</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span>
        <span class="n">step_changed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_step_inputs</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">values</span><span class="p">)</span>
        <span class="n">dpath</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">step_changed</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="n">notify_listeners</span><span class="p">:</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">PipelineEvent</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">changed</span><span class="o">=</span><span class="n">results</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_notify_pipeline_listeners</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.pipeline.PipelineInfo" class="doc doc-heading">
        <code>
PipelineInfo            (<a class="autorefs autorefs-internal" title="kiara.interfaces.python_api.models.info.ItemInfo" href="../../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.ItemInfo">ItemInfo</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.PipelineInfo" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineInfo</span><span class="p">(</span><span class="n">ItemInfo</span><span class="p">[</span><span class="n">Pipeline</span><span class="p">]):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;info.pipeline&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">base_instance_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">Pipeline</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">Pipeline</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">instance</span><span class="p">:</span> <span class="n">Pipeline</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_from_pipeline</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">=</span><span class="n">instance</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">category_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;pipeline&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_pipeline</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">:</span> <span class="n">Pipeline</span><span class="p">):</span>

        <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="n">authors</span> <span class="o">=</span> <span class="n">AuthorsMetadataModel</span><span class="p">()</span>
        <span class="n">context</span> <span class="o">=</span> <span class="n">ContextMetadataModel</span><span class="p">()</span>

        <span class="c1"># stages = PipelineStage.from_pipeline_structure(structure=pipeline.structure)</span>

        <span class="n">pipeline_info</span> <span class="o">=</span> <span class="n">PipelineInfo</span><span class="p">(</span>
            <span class="n">type_name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">),</span>
            <span class="n">documentation</span><span class="o">=</span><span class="n">doc</span><span class="p">,</span>
            <span class="n">authors</span><span class="o">=</span><span class="n">authors</span><span class="p">,</span>
            <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">,</span>
            <span class="c1"># pipeline_structure=pipeline.structure,</span>
            <span class="n">pipeline_config</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">pipeline_config</span><span class="p">,</span>
            <span class="n">pipeline_state</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">get_pipeline_details</span><span class="p">(),</span>
            <span class="c1"># stages=stages</span>
        <span class="p">)</span>
        <span class="n">pipeline_info</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">kiara</span>
        <span class="k">return</span> <span class="n">pipeline_info</span>

    <span class="c1"># pipeline_structure: PipelineStructure = Field(description=&quot;The pipeline structure.&quot;)</span>
    <span class="n">pipeline_config</span><span class="p">:</span> <span class="n">PipelineConfig</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The configuration of the pipeline.&quot;</span>
    <span class="p">)</span>
    <span class="n">pipeline_state</span><span class="p">:</span> <span class="n">PipelineState</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The current input details.&quot;</span><span class="p">)</span>
    <span class="c1"># stages: Mapping[int, PipelineStage] = Field(description=&quot;Details about this pipelines stages/execution order.&quot;)</span>
    <span class="n">_kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_structure</span><span class="p">:</span> <span class="s2">&quot;PipelineStructure&quot;</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pipeline_structure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">structure</span>

    <span class="k">def</span> <span class="nf">create_pipeline_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Table</span><span class="p">:</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;property&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_fill_table</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">table</span>

    <span class="k">def</span> <span class="nf">_fill_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="n">Table</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]):</span>

        <span class="n">include_pipeline_inputs</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_pipeline_inputs&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">include_pipeline_outputs</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_pipeline_outputs&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">include_steps</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_steps&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">include_pipeline_inputs</span><span class="p">:</span>
            <span class="n">input_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">create_valuemap</span><span class="p">(</span>
                <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_state</span><span class="o">.</span><span class="n">pipeline_inputs</span><span class="p">,</span>
                <span class="n">schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_structure</span><span class="o">.</span><span class="n">pipeline_inputs_schema</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">ordered_fields</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_structure</span><span class="o">.</span><span class="n">pipeline_input_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">con_input</span> <span class="ow">in</span> <span class="n">ref</span><span class="o">.</span><span class="n">connected_inputs</span><span class="p">:</span>
                    <span class="n">details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_structure</span><span class="o">.</span><span class="n">get_step_details</span><span class="p">(</span>
                        <span class="n">step_id</span><span class="o">=</span><span class="n">con_input</span><span class="o">.</span><span class="n">step_id</span>
                    <span class="p">)</span>
                    <span class="n">stage</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">processing_stage</span>
                    <span class="n">ordered_fields</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">stage</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>

            <span class="n">fields</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">ordered_fields</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>

                <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">ordered_fields</span><span class="p">[</span><span class="n">stage</span><span class="p">]):</span>
                    <span class="k">if</span> <span class="n">f</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">:</span>
                        <span class="n">fields</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

            <span class="n">inputs</span> <span class="o">=</span> <span class="n">create_value_map_status_renderable</span><span class="p">(</span>
                <span class="n">input_values</span><span class="p">,</span>
                <span class="n">render_config</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;show_description&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="s2">&quot;show_type&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="s2">&quot;show_default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                    <span class="s2">&quot;show_value_ids&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">fields</span><span class="o">=</span><span class="n">fields</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;pipeline inputs&quot;</span><span class="p">,</span> <span class="n">inputs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">include_steps</span><span class="p">:</span>
            <span class="n">steps</span> <span class="o">=</span> <span class="n">create_pipeline_steps_tree</span><span class="p">(</span>
                <span class="n">pipeline_structure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_structure</span><span class="p">,</span>
                <span class="n">pipeline_details</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_state</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;steps&quot;</span><span class="p">,</span> <span class="n">steps</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">include_pipeline_outputs</span><span class="p">:</span>
            <span class="n">output_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">load_values</span><span class="p">(</span>
                <span class="n">values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_state</span><span class="o">.</span><span class="n">pipeline_outputs</span>
            <span class="p">)</span>
            <span class="n">ordered_fields</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="p">(</span>
                <span class="n">field_name</span><span class="p">,</span>
                <span class="n">o_ref</span><span class="p">,</span>
            <span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_structure</span><span class="o">.</span><span class="n">pipeline_output_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">con_step_id</span> <span class="o">=</span> <span class="n">o_ref</span><span class="o">.</span><span class="n">connected_output</span><span class="o">.</span><span class="n">step_id</span>
                <span class="n">details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_structure</span><span class="o">.</span><span class="n">get_step_details</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">con_step_id</span><span class="p">)</span>
                <span class="n">stage</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">processing_stage</span>
                <span class="n">ordered_fields</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">stage</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>

            <span class="n">fields</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">ordered_fields</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">ordered_fields</span><span class="p">[</span><span class="n">stage</span><span class="p">]):</span>
                    <span class="n">fields</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

            <span class="n">t_outputs</span> <span class="o">=</span> <span class="n">create_value_map_status_renderable</span><span class="p">(</span>
                <span class="n">output_values</span><span class="p">,</span>
                <span class="n">render_config</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;show_description&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="s2">&quot;show_type&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                    <span class="s2">&quot;show_default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="s2">&quot;show_required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="s2">&quot;show_value_ids&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">fields</span><span class="o">=</span><span class="n">fields</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;pipeline outputs&quot;</span><span class="p">,</span> <span class="n">t_outputs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">include_details</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_details&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">include_doc</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_doc&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">include_authors</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_authors&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">include_context</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_context&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">include_structure</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_structure&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_pipeline_table</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">include_details</span><span class="p">:</span>
            <span class="n">t_details</span> <span class="o">=</span> <span class="n">create_table_from_model_object</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_state</span><span class="p">,</span> <span class="n">render_config</span><span class="o">=</span><span class="n">config</span>
            <span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;details&quot;</span><span class="p">,</span> <span class="n">t_details</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">include_doc</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                <span class="s2">&quot;Documentation&quot;</span><span class="p">,</span>
                <span class="n">Panel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(),</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">include_authors</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Author(s)&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">include_context</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Context&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">include_structure</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                <span class="s2">&quot;Pipeline structure&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_structure</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">),</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h10 id="kiara.models.module.pipeline.pipeline.PipelineInfo-attributes">Attributes<a href="#kiara.models.module.pipeline.pipeline.PipelineInfo-attributes" class="headerlink" title="Permanent link">&para;</a></h10>

  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.pipeline.PipelineInfo.pipeline_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_config</span><span class="p">:</span> <span class="n">PipelineConfig</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.pipeline_config" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The configuration of the pipeline.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.pipeline.PipelineInfo.pipeline_state" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_state</span><span class="p">:</span> <span class="n">PipelineState</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.pipeline_state" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The current input details.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.pipeline.PipelineInfo.pipeline_structure" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_structure</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.pipeline_structure" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.PipelineInfo.base_instance_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">base_instance_class</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.base_instance_class" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">base_instance_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">Pipeline</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">Pipeline</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.PipelineInfo.category_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">category_name</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.category_name" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">category_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;pipeline&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.PipelineInfo.create_from_instance" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_instance</span><span class="p">(</span><span class="n">kiara</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.create_from_instance" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">instance</span><span class="p">:</span> <span class="n">Pipeline</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_from_pipeline</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">=</span><span class="n">instance</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.PipelineInfo.create_from_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_pipeline</span><span class="p">(</span><span class="n">kiara</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.create_from_pipeline" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_pipeline</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">:</span> <span class="n">Pipeline</span><span class="p">):</span>

    <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">authors</span> <span class="o">=</span> <span class="n">AuthorsMetadataModel</span><span class="p">()</span>
    <span class="n">context</span> <span class="o">=</span> <span class="n">ContextMetadataModel</span><span class="p">()</span>

    <span class="c1"># stages = PipelineStage.from_pipeline_structure(structure=pipeline.structure)</span>

    <span class="n">pipeline_info</span> <span class="o">=</span> <span class="n">PipelineInfo</span><span class="p">(</span>
        <span class="n">type_name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">),</span>
        <span class="n">documentation</span><span class="o">=</span><span class="n">doc</span><span class="p">,</span>
        <span class="n">authors</span><span class="o">=</span><span class="n">authors</span><span class="p">,</span>
        <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">,</span>
        <span class="c1"># pipeline_structure=pipeline.structure,</span>
        <span class="n">pipeline_config</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">pipeline_config</span><span class="p">,</span>
        <span class="n">pipeline_state</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">get_pipeline_details</span><span class="p">(),</span>
        <span class="c1"># stages=stages</span>
    <span class="p">)</span>
    <span class="n">pipeline_info</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">kiara</span>
    <span class="k">return</span> <span class="n">pipeline_info</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.PipelineInfo.create_pipeline_table" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_pipeline_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.create_pipeline_table" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_pipeline_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Table</span><span class="p">:</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;property&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_fill_table</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.pipeline.PipelineInfo.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.pipeline.PipelineInfo.create_renderable" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">include_details</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_details&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">include_doc</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_doc&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">include_authors</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_authors&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">include_context</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_context&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">include_structure</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_structure&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_pipeline_table</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">include_details</span><span class="p">:</span>
        <span class="n">t_details</span> <span class="o">=</span> <span class="n">create_table_from_model_object</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_state</span><span class="p">,</span> <span class="n">render_config</span><span class="o">=</span><span class="n">config</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;details&quot;</span><span class="p">,</span> <span class="n">t_details</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">include_doc</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="s2">&quot;Documentation&quot;</span><span class="p">,</span>
            <span class="n">Panel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(),</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">include_authors</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Author(s)&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">include_context</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Context&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">include_structure</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="s2">&quot;Pipeline structure&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_structure</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.pipeline.PipelineListener" class="doc doc-heading">
        <code>
PipelineListener            (<span title="abc.ABC">ABC</span>)
        </code>



<a href="#kiara.models.module.pipeline.pipeline.PipelineListener" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineListener</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">ABC</span><span class="p">):</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">_pipeline_event_occurred</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">PipelineEvent</span><span class="p">):</span>
        <span class="k">pass</span>
</code></pre></div>
        </details>


    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h7 id="kiara.models.module.pipeline.structure" class="doc doc-heading">
        <code>structure</code>



<a href="#kiara.models.module.pipeline.structure" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h8 id="kiara.models.module.pipeline.structure-classes">Classes<a href="#kiara.models.module.pipeline.structure-classes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.structure.PipelineStage" class="doc doc-heading">
        <code>
PipelineStage            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStage" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/structure.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineStage</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;info.pipeline_stage&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_pipeline_structure</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">structure</span><span class="p">:</span> <span class="s2">&quot;PipelineStructure&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;PipelineStage&quot;</span><span class="p">]:</span>
        <span class="n">used_pipeline_inputs</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">used_pipeline_outputs</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">structure</span><span class="o">.</span><span class="n">processing_stages</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">stage_steps</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">inputs</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">outputs</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
                <span class="n">step</span> <span class="o">=</span> <span class="n">structure</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
                <span class="n">stage_steps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">pipeline_input</span><span class="p">,</span> <span class="n">ref</span> <span class="ow">in</span> <span class="n">structure</span><span class="o">.</span><span class="n">pipeline_input_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">pipeline_input</span> <span class="ow">in</span> <span class="n">used_pipeline_inputs</span><span class="p">:</span>
                        <span class="k">continue</span>
                    <span class="k">for</span> <span class="n">con_inp</span> <span class="ow">in</span> <span class="n">ref</span><span class="o">.</span><span class="n">connected_inputs</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">con_inp</span><span class="o">.</span><span class="n">step_id</span> <span class="o">==</span> <span class="n">step_id</span> <span class="ow">and</span> <span class="n">pipeline_input</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">inputs</span><span class="p">:</span>
                            <span class="n">inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pipeline_input</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">pipeline_output</span><span class="p">,</span> <span class="n">out_ref</span> <span class="ow">in</span> <span class="n">structure</span><span class="o">.</span><span class="n">pipeline_output_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">pipeline_output</span> <span class="ow">in</span> <span class="n">used_pipeline_outputs</span><span class="p">:</span>
                        <span class="k">continue</span>
                    <span class="k">if</span> <span class="n">out_ref</span><span class="o">.</span><span class="n">connected_output</span><span class="o">.</span><span class="n">step_id</span> <span class="o">==</span> <span class="n">step_id</span><span class="p">:</span>
                        <span class="n">outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pipeline_output</span><span class="p">)</span>

            <span class="n">stage_used_inputs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">used_pipeline_inputs</span><span class="p">)</span>
            <span class="n">stage_used_outputs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">used_pipeline_outputs</span><span class="p">)</span>

            <span class="n">result</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">PipelineStage</span><span class="p">(</span>
                <span class="n">stage_index</span><span class="o">=</span><span class="n">idx</span><span class="p">,</span>
                <span class="n">steps</span><span class="o">=</span><span class="n">stage_steps</span><span class="p">,</span>
                <span class="n">pipeline_inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
                <span class="n">pipeline_outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">,</span>
                <span class="n">previous_inputs</span><span class="o">=</span><span class="n">stage_used_inputs</span><span class="p">,</span>
                <span class="n">previous_outputs</span><span class="o">=</span><span class="n">stage_used_outputs</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">used_pipeline_inputs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>
            <span class="n">used_pipeline_outputs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">outputs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="n">stage_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The index of this stage.&quot;</span><span class="p">)</span>
    <span class="n">steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The pipeline steps that are executed in this stage.&quot;</span>
    <span class="p">)</span>
    <span class="n">pipeline_inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The pipeline inputs required for this stage.&quot;</span>
    <span class="p">)</span>
    <span class="n">pipeline_outputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The pipeline outputs that are ready once this stage is processed.&quot;</span>
    <span class="p">)</span>
    <span class="n">previous_inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Pipeline inputs that are already set by this stage.&quot;</span>
    <span class="p">)</span>
    <span class="n">previous_outputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Pipeline outputs that are already computed by this stage.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h10 id="kiara.models.module.pipeline.structure.PipelineStage-attributes">Attributes<a href="#kiara.models.module.pipeline.structure.PipelineStage-attributes" class="headerlink" title="Permanent link">&para;</a></h10>

  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStage.pipeline_inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStage.pipeline_inputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The pipeline inputs required for this stage.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStage.pipeline_outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_outputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStage.pipeline_outputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The pipeline outputs that are ready once this stage is processed.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStage.previous_inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">previous_inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStage.previous_inputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Pipeline inputs that are already set by this stage.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStage.previous_outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">previous_outputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStage.previous_outputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Pipeline outputs that are already computed by this stage.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStage.stage_index" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stage_index</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStage.stage_index" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The index of this stage.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStage.steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStage.steps" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The pipeline steps that are executed in this stage.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.structure.PipelineStage.from_pipeline_structure" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_pipeline_structure</span><span class="p">(</span><span class="n">structure</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStage.from_pipeline_structure" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/structure.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_pipeline_structure</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">structure</span><span class="p">:</span> <span class="s2">&quot;PipelineStructure&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;PipelineStage&quot;</span><span class="p">]:</span>
    <span class="n">used_pipeline_inputs</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">used_pipeline_outputs</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">structure</span><span class="o">.</span><span class="n">processing_stages</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">stage_steps</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">inputs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">outputs</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
            <span class="n">step</span> <span class="o">=</span> <span class="n">structure</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
            <span class="n">stage_steps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">pipeline_input</span><span class="p">,</span> <span class="n">ref</span> <span class="ow">in</span> <span class="n">structure</span><span class="o">.</span><span class="n">pipeline_input_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">pipeline_input</span> <span class="ow">in</span> <span class="n">used_pipeline_inputs</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">for</span> <span class="n">con_inp</span> <span class="ow">in</span> <span class="n">ref</span><span class="o">.</span><span class="n">connected_inputs</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">con_inp</span><span class="o">.</span><span class="n">step_id</span> <span class="o">==</span> <span class="n">step_id</span> <span class="ow">and</span> <span class="n">pipeline_input</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">inputs</span><span class="p">:</span>
                        <span class="n">inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pipeline_input</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">pipeline_output</span><span class="p">,</span> <span class="n">out_ref</span> <span class="ow">in</span> <span class="n">structure</span><span class="o">.</span><span class="n">pipeline_output_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">pipeline_output</span> <span class="ow">in</span> <span class="n">used_pipeline_outputs</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="n">out_ref</span><span class="o">.</span><span class="n">connected_output</span><span class="o">.</span><span class="n">step_id</span> <span class="o">==</span> <span class="n">step_id</span><span class="p">:</span>
                    <span class="n">outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pipeline_output</span><span class="p">)</span>

        <span class="n">stage_used_inputs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">used_pipeline_inputs</span><span class="p">)</span>
        <span class="n">stage_used_outputs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">used_pipeline_outputs</span><span class="p">)</span>

        <span class="n">result</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">PipelineStage</span><span class="p">(</span>
            <span class="n">stage_index</span><span class="o">=</span><span class="n">idx</span><span class="p">,</span>
            <span class="n">steps</span><span class="o">=</span><span class="n">stage_steps</span><span class="p">,</span>
            <span class="n">pipeline_inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
            <span class="n">pipeline_outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">,</span>
            <span class="n">previous_inputs</span><span class="o">=</span><span class="n">stage_used_inputs</span><span class="p">,</span>
            <span class="n">previous_outputs</span><span class="o">=</span><span class="n">stage_used_outputs</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">used_pipeline_inputs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>
        <span class="n">used_pipeline_outputs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">outputs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.structure.PipelineStructure" class="doc doc-heading">
        <code>
PipelineStructure            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>An object that holds one or several steps, and describes the connections between them.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/structure.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineStructure</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An object that holds one or several steps, and describes the connections between them.&quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.pipeline_structure&quot;</span>

    <span class="n">pipeline_config</span><span class="p">:</span> <span class="n">PipelineConfig</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The underlying pipeline config.&quot;</span>
    <span class="p">)</span>
    <span class="n">steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PipelineStep</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The pipeline steps &quot;</span><span class="p">)</span>
    <span class="c1"># stages: Mapping[int, PipelineStage] = Field(description=&quot;Details about each of the pipeline stages.&quot;)</span>
    <span class="n">input_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The input aliases.&quot;</span><span class="p">)</span>
    <span class="n">output_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The output aliases.&quot;</span><span class="p">)</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_pipeline_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

        <span class="n">pipeline_config</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pipeline_config&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">pipeline_config</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No &#39;pipeline_config&#39; provided.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Only &#39;pipeline_config&#39; key allowed when creating a pipeline structure object.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline_config</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">pipeline_config</span> <span class="o">=</span> <span class="n">PipelineConfig</span><span class="p">(</span><span class="o">**</span><span class="n">pipeline_config</span><span class="p">)</span>
        <span class="n">_config</span><span class="p">:</span> <span class="n">PipelineConfig</span> <span class="o">=</span> <span class="n">pipeline_config</span>
        <span class="n">_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PipelineStep</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">_config</span><span class="o">.</span><span class="n">steps</span><span class="p">)</span>

        <span class="n">_input_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">_config</span><span class="o">.</span><span class="n">input_aliases</span><span class="p">)</span>
        <span class="n">_output_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">_config</span><span class="o">.</span><span class="n">output_aliases</span><span class="p">)</span>

        <span class="n">invalid_input_aliases</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">_input_aliases</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">a</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">invalid_input_aliases</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid input aliases, aliases can&#39;t contain special characters: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_input_aliases</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
        <span class="n">invalid_output_aliases</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">_input_aliases</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">a</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">invalid_input_aliases</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid input aliases, aliases can&#39;t contain special characters: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_output_aliases</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="n">valid_input_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">_steps</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">input_names</span><span class="p">:</span>
                <span class="n">valid_input_names</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">invalid_input_aliases</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">_input_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">a</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_input_names</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="n">invalid_input_aliases</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid input reference(s): </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_input_aliases</span><span class="p">)</span><span class="si">}</span><span class="s2">. Must be one of: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">valid_input_names</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="n">valid_output_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">_steps</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">output_name</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">output_names</span><span class="p">:</span>
                <span class="n">valid_output_names</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">output_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">invalid_output_names</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">_output_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">a</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_output_names</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="n">invalid_output_names</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid output reference(s): </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_output_names</span><span class="p">)</span><span class="si">}</span><span class="s2">. Must be one of: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">valid_output_names</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="c1"># stages = PipelineStage.from_pipeline_structure(stages=)</span>

        <span class="c1"># values[&quot;steps&quot;] = {step.step_id: step for step in _steps}</span>
        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;steps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_steps</span>
        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;input_aliases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_input_aliases</span>
        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;output_aliases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_output_aliases</span>
        <span class="k">return</span> <span class="n">values</span>

    <span class="c1"># this is hardcoded for now</span>
    <span class="n">_add_all_workflow_outputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">_constants</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="n">_defaults</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="n">_execution_graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="n">_data_flow_graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="n">_data_flow_graph_simple</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="n">_processing_stages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="n">_stages_info</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">PipelineStage</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="c1"># holds details about the (current) processing steps contained in this workflow</span>
    <span class="n">_steps_details</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepInfo</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="c1"># _info: &quot;PipelineStructureInfo&quot; = PrivateAttr(None)  # type: ignore</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;steps&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">instance_cid</span> <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="p">],</span>
            <span class="s2">&quot;input_aliases&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_aliases</span><span class="p">,</span>
            <span class="s2">&quot;output_aliases&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_aliases</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_retrieve_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">instance_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">steps_details</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepInfo</span><span class="p">]:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_details</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_details</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">step_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_details</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_details</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">constants</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_constants</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_constants</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">defaults</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span> <span class="nf">get_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineStep</span><span class="p">:</span>

        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No step with id: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="n">step</span>

    <span class="k">def</span> <span class="nf">get_step_input_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepInputRef</span><span class="p">]:</span>

        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No step with id: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">get_step_output_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepOutputRef</span><span class="p">]:</span>

        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No step with id: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">get_step_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepInfo</span><span class="p">:</span>

        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No step with id: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">d</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">execution_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execution_graph</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execution_graph</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data_flow_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_flow_graph</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_flow_graph</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data_flow_graph_simple</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_flow_graph_simple</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_flow_graph_simple</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">processing_stages</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_details</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processing_stages</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">processing_stages_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">PipelineStage</span><span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stages_info</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stages_info</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_stages_info</span> <span class="o">=</span> <span class="n">PipelineStage</span><span class="o">.</span><span class="n">from_pipeline_structure</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stages_info</span>

    <span class="nd">@lru_cache</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_get_node_of_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_steps_details</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_steps</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">[</span>
            <span class="n">node</span>
            <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">attr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_flow_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">attr</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">node_type</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">steps_input_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepInputRef</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">node</span><span class="o">.</span><span class="n">alias</span><span class="p">:</span> <span class="n">node</span>
            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_of_type</span><span class="p">(</span><span class="n">node_type</span><span class="o">=</span><span class="n">StepInputRef</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">steps_output_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepOutputRef</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">node</span><span class="o">.</span><span class="n">alias</span><span class="p">:</span> <span class="n">node</span>
            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_of_type</span><span class="p">(</span><span class="n">node_type</span><span class="o">=</span><span class="n">StepOutputRef</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pipeline_input_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineInputRef</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">node</span><span class="o">.</span><span class="n">value_name</span><span class="p">:</span> <span class="n">node</span>
            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_of_type</span><span class="p">(</span><span class="n">node_type</span><span class="o">=</span><span class="n">PipelineInputRef</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pipeline_output_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineOutputRef</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">node</span><span class="o">.</span><span class="n">value_name</span><span class="p">:</span> <span class="n">node</span>
            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_of_type</span><span class="p">(</span><span class="n">node_type</span><span class="o">=</span><span class="n">PipelineOutputRef</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pipeline_inputs_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>

        <span class="n">schemas</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">input_name</span><span class="p">:</span> <span class="n">w_in</span><span class="o">.</span><span class="n">value_schema</span>
            <span class="k">for</span> <span class="n">input_name</span><span class="p">,</span> <span class="n">w_in</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_input_refs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">schemas</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pipeline_outputs_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">output_name</span><span class="p">:</span> <span class="n">w_out</span><span class="o">.</span><span class="n">value_schema</span>
            <span class="k">for</span> <span class="n">output_name</span><span class="p">,</span> <span class="n">w_out</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_output_refs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">get_processing_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return the processing stage for the specified step_id.</span>

<span class="sd">        Returns the stage nr (starting with &#39;1&#39;).</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">processing_stages</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">index</span>

        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid step id &#39;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">step_is_required</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Check if the specified step is required, or can be omitted.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step_details</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span><span class="o">.</span><span class="n">required</span>

    <span class="k">def</span> <span class="nf">_process_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The core method of this class, it connects all the processing modules, their inputs and outputs.&quot;&quot;&quot;</span>

        <span class="n">steps_details</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">execution_graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
        <span class="n">execution_graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;__root__&quot;</span><span class="p">)</span>
        <span class="n">data_flow_graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
        <span class="n">data_flow_graph_simple</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
        <span class="n">processing_stages</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">constants</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">structure_defaults</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># temp variable, to hold all outputs</span>
        <span class="n">outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepOutputRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># process all pipeline and step outputs first</span>
        <span class="n">_temp_steps_map</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineStep</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">pipeline_outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineOutputRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>

            <span class="n">_temp_steps_map</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">step</span>

            <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">step_id</span> <span class="ow">in</span> <span class="n">steps_details</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t process steps: duplicate step_id &#39;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
                <span class="p">)</span>

            <span class="n">steps_details</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="n">step</span><span class="p">,</span>
                <span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="p">{},</span>
                <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{},</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">}</span>

            <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">)</span>
            <span class="n">data_flow_graph_simple</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">)</span>

            <span class="c1"># go through all the module outputs, create points for them and connect them to pipeline outputs</span>
            <span class="k">for</span> <span class="n">output_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

                <span class="n">step_output</span> <span class="o">=</span> <span class="n">StepOutputRef</span><span class="p">(</span>
                    <span class="n">value_name</span><span class="o">=</span><span class="n">output_name</span><span class="p">,</span>
                    <span class="n">value_schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
                    <span class="n">step_id</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span>
                    <span class="n">pipeline_output</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="p">)</span>

                <span class="n">steps_details</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">][</span><span class="s2">&quot;outputs&quot;</span><span class="p">][</span><span class="n">output_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">step_output</span>
                <span class="n">step_alias</span> <span class="o">=</span> <span class="n">generate_step_alias</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="n">output_name</span><span class="p">)</span>
                <span class="n">outputs</span><span class="p">[</span><span class="n">step_alias</span><span class="p">]</span> <span class="o">=</span> <span class="n">step_output</span>

                <span class="c1"># step_output_name = generate_pipeline_endpoint_name(</span>
                <span class="c1">#     step_id=step.step_id, value_name=output_name</span>
                <span class="c1"># )</span>
                <span class="n">step_output_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">output_name</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_aliases</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">step_output_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">step_output_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_aliases</span><span class="p">[</span><span class="n">step_output_name</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_all_workflow_outputs</span><span class="p">:</span>
                        <span class="c1"># this output is not interesting for the workflow</span>
                        <span class="n">step_output_name</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="k">if</span> <span class="n">step_output_name</span><span class="p">:</span>
                    <span class="n">step_output_address</span> <span class="o">=</span> <span class="n">StepValueAddress</span><span class="p">(</span>
                        <span class="n">step_id</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="n">output_name</span>
                    <span class="p">)</span>
                    <span class="n">pipeline_output</span> <span class="o">=</span> <span class="n">PipelineOutputRef</span><span class="p">(</span>
                        <span class="n">value_name</span><span class="o">=</span><span class="n">step_output_name</span><span class="p">,</span>
                        <span class="n">connected_output</span><span class="o">=</span><span class="n">step_output_address</span><span class="p">,</span>
                        <span class="n">value_schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="n">pipeline_outputs</span><span class="p">[</span><span class="n">step_output_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pipeline_output</span>
                    <span class="n">step_output</span><span class="o">.</span><span class="n">pipeline_output</span> <span class="o">=</span> <span class="n">pipeline_output</span><span class="o">.</span><span class="n">value_name</span>

                    <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
                        <span class="n">pipeline_output</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">PipelineOutputRef</span><span class="o">.</span><span class="vm">__name__</span>
                    <span class="p">)</span>
                    <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">step_output</span><span class="p">,</span> <span class="n">pipeline_output</span><span class="p">)</span>

                    <span class="n">data_flow_graph_simple</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
                        <span class="n">pipeline_output</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">PipelineOutputRef</span><span class="o">.</span><span class="vm">__name__</span>
                    <span class="p">)</span>
                    <span class="n">data_flow_graph_simple</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">pipeline_output</span><span class="p">)</span>

                <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">step_output</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">StepOutputRef</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
                <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">step_output</span><span class="p">)</span>

        <span class="c1"># now process inputs, and connect them to the appropriate output/pipeline-input points</span>
        <span class="n">existing_pipeline_input_points</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PipelineInputRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>

            <span class="n">other_step_dependency</span><span class="p">:</span> <span class="n">Set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="c1"># go through all the inputs of a module, create input points and connect them to either</span>
            <span class="c1"># other module outputs, or pipeline inputs (which need to be created)</span>

            <span class="n">module_constants</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span>
                <span class="s2">&quot;constants&quot;</span>
            <span class="p">)</span>

            <span class="k">for</span> <span class="n">input_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">inputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

                <span class="n">matching_input_links</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">StepValueAddress</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">is_constant</span> <span class="o">=</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="n">module_constants</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

                <span class="k">for</span> <span class="n">value_name</span><span class="p">,</span> <span class="n">input_links</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">input_links</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">value_name</span> <span class="o">==</span> <span class="n">input_name</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">input_link</span> <span class="ow">in</span> <span class="n">input_links</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">input_link</span> <span class="ow">in</span> <span class="n">matching_input_links</span><span class="p">:</span>
                                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate input link: </span><span class="si">{</span><span class="n">input_link</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                            <span class="n">matching_input_links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input_link</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">matching_input_links</span><span class="p">:</span>
                    <span class="c1"># this means we connect to other steps output</span>

                    <span class="n">connected_output_points</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">StepOutputRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="n">connected_outputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">StepValueAddress</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

                    <span class="k">for</span> <span class="n">input_link</span> <span class="ow">in</span> <span class="n">matching_input_links</span><span class="p">:</span>
                        <span class="n">output_id</span> <span class="o">=</span> <span class="n">generate_step_alias</span><span class="p">(</span>
                            <span class="n">input_link</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="n">input_link</span><span class="o">.</span><span class="n">value_name</span>
                        <span class="p">)</span>

                        <span class="k">if</span> <span class="n">output_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">outputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                                <span class="sa">f</span><span class="s2">&quot;Can&#39;t connect input &#39;</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2">&#39; for step &#39;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;: no output &#39;</span><span class="si">{</span><span class="n">output_id</span><span class="si">}</span><span class="s2">&#39; available. Available output names: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">outputs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
                            <span class="p">)</span>
                        <span class="n">connected_output_points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">outputs</span><span class="p">[</span><span class="n">output_id</span><span class="p">])</span>
                        <span class="n">connected_outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input_link</span><span class="p">)</span>

                        <span class="n">other_step_dependency</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">input_link</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>

                    <span class="n">step_input_point</span> <span class="o">=</span> <span class="n">StepInputRef</span><span class="p">(</span>
                        <span class="n">step_id</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span>
                        <span class="n">value_name</span><span class="o">=</span><span class="n">input_name</span><span class="p">,</span>
                        <span class="n">value_schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
                        <span class="n">is_constant</span><span class="o">=</span><span class="n">is_constant</span><span class="p">,</span>
                        <span class="n">connected_pipeline_input</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">connected_outputs</span><span class="o">=</span><span class="n">connected_outputs</span><span class="p">,</span>
                    <span class="p">)</span>

                    <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">connected_output_points</span><span class="p">:</span>
                        <span class="n">op</span><span class="o">.</span><span class="n">connected_inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">step_input_point</span><span class="o">.</span><span class="n">address</span><span class="p">)</span>
                        <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">step_input_point</span><span class="p">)</span>
                        <span class="n">data_flow_graph_simple</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span>
                            <span class="n">_temp_steps_map</span><span class="p">[</span><span class="n">op</span><span class="o">.</span><span class="n">step_id</span><span class="p">],</span> <span class="n">step_input_point</span>
                        <span class="p">)</span>  <span class="c1"># TODO: name edge</span>
                        <span class="n">data_flow_graph_simple</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span>
                            <span class="n">step_input_point</span><span class="p">,</span> <span class="n">step</span>
                        <span class="p">)</span>  <span class="c1"># TODO: name edge</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># this means we connect to pipeline input</span>
                    <span class="c1"># pipeline_input_name = generate_pipeline_endpoint_name(</span>
                    <span class="c1">#     step_id=step.step_id, value_name=input_name</span>
                    <span class="c1"># )</span>
                    <span class="n">pipeline_input_ref</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2">&quot;</span>

                    <span class="c1"># check whether this input has an alias associated with it</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_aliases</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

                    <span class="k">if</span> <span class="n">pipeline_input_ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="c1"># this means we use the pipeline alias</span>
                        <span class="n">pipeline_input_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_aliases</span><span class="p">[</span><span class="n">pipeline_input_ref</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">pipeline_input_name</span> <span class="o">=</span> <span class="n">generate_pipeline_endpoint_name</span><span class="p">(</span>
                            <span class="n">step_id</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="n">input_name</span>
                        <span class="p">)</span>

                    <span class="k">if</span> <span class="n">pipeline_input_name</span> <span class="ow">in</span> <span class="n">existing_pipeline_input_points</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="c1"># we already created a pipeline input with this name</span>
                        <span class="c1"># TODO: check whether schema fits</span>
                        <span class="n">connected_pipeline_input</span> <span class="o">=</span> <span class="n">existing_pipeline_input_points</span><span class="p">[</span>
                            <span class="n">pipeline_input_name</span>
                        <span class="p">]</span>
                        <span class="k">assert</span> <span class="n">connected_pipeline_input</span><span class="o">.</span><span class="n">is_constant</span> <span class="o">==</span> <span class="n">is_constant</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># we need to create the pipeline input</span>
                        <span class="n">connected_pipeline_input</span> <span class="o">=</span> <span class="n">PipelineInputRef</span><span class="p">(</span>
                            <span class="n">value_name</span><span class="o">=</span><span class="n">pipeline_input_name</span><span class="p">,</span>
                            <span class="n">value_schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
                            <span class="n">is_constant</span><span class="o">=</span><span class="n">is_constant</span><span class="p">,</span>
                        <span class="p">)</span>

                        <span class="n">existing_pipeline_input_points</span><span class="p">[</span>
                            <span class="n">pipeline_input_name</span>
                        <span class="p">]</span> <span class="o">=</span> <span class="n">connected_pipeline_input</span>

                        <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
                            <span class="n">connected_pipeline_input</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">PipelineInputRef</span><span class="o">.</span><span class="vm">__name__</span>
                        <span class="p">)</span>
                        <span class="n">data_flow_graph_simple</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
                            <span class="n">connected_pipeline_input</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">PipelineInputRef</span><span class="o">.</span><span class="vm">__name__</span>
                        <span class="p">)</span>
                        <span class="k">if</span> <span class="n">is_constant</span><span class="p">:</span>
                            <span class="n">constants</span><span class="p">[</span>
                                <span class="n">pipeline_input_name</span>
                            <span class="p">]</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;constants&quot;</span><span class="p">)[</span><span class="n">input_name</span><span class="p">]</span>

                        <span class="n">default_val</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;defaults&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                            <span class="n">input_name</span><span class="p">,</span> <span class="kc">None</span>
                        <span class="p">)</span>
                        <span class="k">if</span> <span class="n">is_constant</span> <span class="ow">and</span> <span class="n">default_val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                                <span class="sa">f</span><span class="s2">&quot;Module config invalid for step &#39;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;: both default value and constant provided for input &#39;</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                            <span class="p">)</span>
                        <span class="k">elif</span> <span class="n">default_val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                            <span class="n">structure_defaults</span><span class="p">[</span><span class="n">pipeline_input_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">default_val</span>

                    <span class="n">step_input_point</span> <span class="o">=</span> <span class="n">StepInputRef</span><span class="p">(</span>
                        <span class="n">step_id</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span>
                        <span class="n">value_name</span><span class="o">=</span><span class="n">input_name</span><span class="p">,</span>
                        <span class="n">value_schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
                        <span class="n">connected_pipeline_input</span><span class="o">=</span><span class="n">connected_pipeline_input</span><span class="o">.</span><span class="n">value_name</span><span class="p">,</span>
                        <span class="n">connected_outputs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">is_constant</span><span class="o">=</span><span class="n">is_constant</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="n">connected_pipeline_input</span><span class="o">.</span><span class="n">connected_inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">step_input_point</span><span class="o">.</span><span class="n">address</span>
                    <span class="p">)</span>
                    <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">connected_pipeline_input</span><span class="p">,</span> <span class="n">step_input_point</span><span class="p">)</span>
                    <span class="n">data_flow_graph_simple</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">connected_pipeline_input</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span>

                <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">step_input_point</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">StepInputRef</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>

                <span class="n">steps_details</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">][</span><span class="s2">&quot;inputs&quot;</span><span class="p">][</span><span class="n">input_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">step_input_point</span>

                <span class="n">data_flow_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">step_input_point</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">other_step_dependency</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">module_id</span> <span class="ow">in</span> <span class="n">other_step_dependency</span><span class="p">:</span>
                    <span class="n">execution_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">module_id</span><span class="p">,</span> <span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">execution_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s2">&quot;__root__&quot;</span><span class="p">,</span> <span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>

        <span class="c1"># calculate execution order</span>
        <span class="n">path_lengths</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>

            <span class="n">step_id</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">step_id</span>

            <span class="n">paths</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">all_simple_paths</span><span class="p">(</span><span class="n">execution_graph</span><span class="p">,</span> <span class="s2">&quot;__root__&quot;</span><span class="p">,</span> <span class="n">step_id</span><span class="p">))</span>

            <span class="n">max_steps</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">paths</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
            <span class="n">path_lengths</span><span class="p">[</span><span class="n">step_id</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">max_steps</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">path_lengths</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">max_length</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">path_lengths</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">stage</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">m</span> <span class="k">for</span> <span class="n">m</span><span class="p">,</span> <span class="n">length</span> <span class="ow">in</span> <span class="n">path_lengths</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">length</span> <span class="o">==</span> <span class="n">i</span>
                <span class="p">]</span>
                <span class="n">processing_stages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">stage</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">_step_id</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
                    <span class="n">steps_details</span><span class="p">[</span><span class="n">_step_id</span><span class="p">][</span><span class="s2">&quot;processing_stage&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>
                    <span class="c1"># steps_details[_step_id][&quot;step&quot;].processing_stage = i</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_constants</span> <span class="o">=</span> <span class="n">constants</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults</span> <span class="o">=</span> <span class="n">structure_defaults</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_steps_details</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">step_id</span><span class="p">:</span> <span class="n">StepInfo</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span> <span class="k">for</span> <span class="n">step_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">steps_details</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_execution_graph</span> <span class="o">=</span> <span class="n">execution_graph</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_flow_graph</span> <span class="o">=</span> <span class="n">data_flow_graph</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_flow_graph_simple</span> <span class="o">=</span> <span class="n">data_flow_graph_simple</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_processing_stages</span> <span class="o">=</span> <span class="n">processing_stages</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_of_type</span><span class="o">.</span><span class="n">cache_clear</span><span class="p">()</span>

    <span class="c1"># def info(self) -&gt; &quot;PipelineStructureInfo&quot;:</span>
    <span class="c1">#</span>
    <span class="c1">#     if self._info is not None:</span>
    <span class="c1">#         return self._info</span>
    <span class="c1">#</span>
    <span class="c1">#     from kiara.interfaces.python_api.models.info import PipelineStructureInfo</span>
    <span class="c1">#</span>
    <span class="c1">#     self._info = PipelineStructureInfo.create_from_instance(kiara=None, instance=self)  # type: ignore</span>
    <span class="c1">#     return self._info</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="s2">&quot;pipeline&quot;</span><span class="p">)</span>
        <span class="n">inputs</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;inputs&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_inputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">inputs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[i]</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">[i] (type: </span><span class="si">{</span><span class="n">schema</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

        <span class="n">steps</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;steps&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">processing_stages</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">stage_node</span> <span class="o">=</span> <span class="n">steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;stage </span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
                <span class="n">step_node</span> <span class="o">=</span> <span class="n">stage_node</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;step: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                    <span class="n">step_node</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;desc: </span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">step_node</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;module: </span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">manifest_src</span><span class="o">.</span><span class="n">module_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">outputs</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;outputs&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_outputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">outputs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[i]</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">[i] (type: </span><span class="si">{</span><span class="n">schema</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">tree</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h10 id="kiara.models.module.pipeline.structure.PipelineStructure-attributes">Attributes<a href="#kiara.models.module.pipeline.structure.PipelineStructure-attributes" class="headerlink" title="Permanent link">&para;</a></h10>

  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.constants" class="doc doc-heading">
<code class="highlight language-python"><span class="n">constants</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.constants" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.data_flow_graph" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_flow_graph</span><span class="p">:</span> <span class="n">DiGraph</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.data_flow_graph" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.data_flow_graph_simple" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_flow_graph_simple</span><span class="p">:</span> <span class="n">DiGraph</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.data_flow_graph_simple" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.defaults" class="doc doc-heading">
<code class="highlight language-python"><span class="n">defaults</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.defaults" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.execution_graph" class="doc doc-heading">
<code class="highlight language-python"><span class="n">execution_graph</span><span class="p">:</span> <span class="n">DiGraph</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.execution_graph" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.input_aliases" class="doc doc-heading">
<code class="highlight language-python"><span class="n">input_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.input_aliases" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The input aliases.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.output_aliases" class="doc doc-heading">
<code class="highlight language-python"><span class="n">output_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.output_aliases" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The output aliases.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.pipeline_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_config</span><span class="p">:</span> <span class="n">PipelineConfig</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.pipeline_config" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The underlying pipeline config.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.pipeline_input_refs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_input_refs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">value_refs</span><span class="o">.</span><span class="n">PipelineInputRef</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.pipeline_input_refs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.pipeline_inputs_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_inputs_schema</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">ValueSchema</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.pipeline_inputs_schema" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.pipeline_output_refs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_output_refs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">value_refs</span><span class="o">.</span><span class="n">PipelineOutputRef</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.pipeline_output_refs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.pipeline_outputs_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_outputs_schema</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">ValueSchema</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.pipeline_outputs_schema" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.processing_stages" class="doc doc-heading">
<code class="highlight language-python"><span class="n">processing_stages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.processing_stages" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.processing_stages_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">processing_stages_info</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">PipelineStage</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.processing_stages_info" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.step_ids" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step_ids</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.step_ids" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">PipelineStep</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.steps" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The pipeline steps </p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.steps_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">steps_details</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">StepInfo</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.steps_details" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.steps_input_refs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">steps_input_refs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">value_refs</span><span class="o">.</span><span class="n">StepInputRef</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.steps_input_refs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.steps_output_refs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">steps_output_refs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">value_refs</span><span class="o">.</span><span class="n">StepOutputRef</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.steps_output_refs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>




<h10 id="kiara.models.module.pipeline.structure.PipelineStructure-methods">Methods<a href="#kiara.models.module.pipeline.structure.PipelineStructure-methods" class="headerlink" title="Permanent link">&para;</a></h10>

  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.structure.PipelineStructure.create_renderable" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/structure.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="s2">&quot;pipeline&quot;</span><span class="p">)</span>
    <span class="n">inputs</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;inputs&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_inputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">inputs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[i]</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">[i] (type: </span><span class="si">{</span><span class="n">schema</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

    <span class="n">steps</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;steps&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">processing_stages</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">stage_node</span> <span class="o">=</span> <span class="n">steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;stage </span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
            <span class="n">step_node</span> <span class="o">=</span> <span class="n">stage_node</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;step: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                <span class="n">step_node</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;desc: </span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">step_node</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;module: </span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">manifest_src</span><span class="o">.</span><span class="n">module_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">outputs</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;outputs&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_outputs_schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[i]</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">[i] (type: </span><span class="si">{</span><span class="n">schema</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">tree</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.get_processing_stage" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_processing_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.structure.PipelineStructure.get_processing_stage" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Return the processing stage for the specified step_id.</p>
<p>Returns the stage nr (starting with '1').</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/structure.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_processing_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Return the processing stage for the specified step_id.</span>

<span class="sd">    Returns the stage nr (starting with &#39;1&#39;).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">processing_stages</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">step_id</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">index</span>

    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid step id &#39;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.get_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.structure.PipelineStructure.get_step" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/structure.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineStep</span><span class="p">:</span>

    <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No step with id: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="n">step</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.get_step_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_step_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.structure.PipelineStructure.get_step_details" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/structure.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_step_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepInfo</span><span class="p">:</span>

    <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No step with id: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">d</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.get_step_input_refs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_step_input_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.structure.PipelineStructure.get_step_input_refs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/structure.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_step_input_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepInputRef</span><span class="p">]:</span>

    <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No step with id: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.get_step_output_refs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_step_output_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.structure.PipelineStructure.get_step_output_refs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/structure.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_step_output_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepOutputRef</span><span class="p">]:</span>

    <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No step with id: </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.step_is_required" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step_is_required</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.structure.PipelineStructure.step_is_required" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Check if the specified step is required, or can be omitted.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/structure.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">step_is_required</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check if the specified step is required, or can be omitted.&quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_step_details</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">)</span><span class="o">.</span><span class="n">required</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.structure.PipelineStructure.validate_pipeline_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_pipeline_config</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.PipelineStructure.validate_pipeline_config" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/structure.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_pipeline_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

    <span class="n">pipeline_config</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pipeline_config&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">pipeline_config</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No &#39;pipeline_config&#39; provided.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Only &#39;pipeline_config&#39; key allowed when creating a pipeline structure object.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipeline_config</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
        <span class="n">pipeline_config</span> <span class="o">=</span> <span class="n">PipelineConfig</span><span class="p">(</span><span class="o">**</span><span class="n">pipeline_config</span><span class="p">)</span>
    <span class="n">_config</span><span class="p">:</span> <span class="n">PipelineConfig</span> <span class="o">=</span> <span class="n">pipeline_config</span>
    <span class="n">_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PipelineStep</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">_config</span><span class="o">.</span><span class="n">steps</span><span class="p">)</span>

    <span class="n">_input_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">_config</span><span class="o">.</span><span class="n">input_aliases</span><span class="p">)</span>
    <span class="n">_output_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">_config</span><span class="o">.</span><span class="n">output_aliases</span><span class="p">)</span>

    <span class="n">invalid_input_aliases</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">_input_aliases</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">a</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">invalid_input_aliases</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid input aliases, aliases can&#39;t contain special characters: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_input_aliases</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="n">invalid_output_aliases</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">_input_aliases</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">a</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">invalid_input_aliases</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid input aliases, aliases can&#39;t contain special characters: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_output_aliases</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="n">valid_input_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">_steps</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">input_names</span><span class="p">:</span>
            <span class="n">valid_input_names</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">invalid_input_aliases</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">_input_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">a</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_input_names</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="n">invalid_input_aliases</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid input reference(s): </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_input_aliases</span><span class="p">)</span><span class="si">}</span><span class="s2">. Must be one of: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">valid_input_names</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="n">valid_output_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">_steps</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">output_name</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">output_names</span><span class="p">:</span>
            <span class="n">valid_output_names</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">output_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">invalid_output_names</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">_output_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">a</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_output_names</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="n">invalid_output_names</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid output reference(s): </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">invalid_output_names</span><span class="p">)</span><span class="si">}</span><span class="s2">. Must be one of: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">valid_output_names</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="c1"># stages = PipelineStage.from_pipeline_structure(stages=)</span>

    <span class="c1"># values[&quot;steps&quot;] = {step.step_id: step for step in _steps}</span>
    <span class="n">values</span><span class="p">[</span><span class="s2">&quot;steps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_steps</span>
    <span class="n">values</span><span class="p">[</span><span class="s2">&quot;input_aliases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_input_aliases</span>
    <span class="n">values</span><span class="p">[</span><span class="s2">&quot;output_aliases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_output_aliases</span>
    <span class="k">return</span> <span class="n">values</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.structure.StepInfo" class="doc doc-heading">
        <code>
StepInfo            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.StepInfo" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/structure.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StepInfo</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;info.pipeline_step&quot;</span>

    <span class="n">step</span><span class="p">:</span> <span class="n">PipelineStep</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The pipeline step object.&quot;</span><span class="p">)</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepInputRef</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Reference(s) to the fields that feed this steps inputs.&quot;</span>
    <span class="p">)</span>
    <span class="n">outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">StepOutputRef</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Reference(s) to the fields that are fed by this steps outputs.&quot;</span>
    <span class="p">)</span>
    <span class="n">required</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this step is always required or whether all his outputs feed into optional input fields.&quot;</span>
    <span class="p">)</span>
    <span class="n">processing_stage</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The index of the processing stage of this step.&quot;</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">step_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">step</span><span class="o">.</span><span class="n">step_id</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h10 id="kiara.models.module.pipeline.structure.StepInfo-attributes">Attributes<a href="#kiara.models.module.pipeline.structure.StepInfo-attributes" class="headerlink" title="Permanent link">&para;</a></h10>

  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.StepInfo.inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">value_refs</span><span class="o">.</span><span class="n">StepInputRef</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.StepInfo.inputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Reference(s) to the fields that feed this steps inputs.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.StepInfo.outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">value_refs</span><span class="o">.</span><span class="n">StepOutputRef</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.StepInfo.outputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Reference(s) to the fields that are fed by this steps outputs.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.StepInfo.processing_stage" class="doc doc-heading">
<code class="highlight language-python"><span class="n">processing_stage</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.StepInfo.processing_stage" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The index of the processing stage of this step.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.StepInfo.required" class="doc doc-heading">
<code class="highlight language-python"><span class="n">required</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.StepInfo.required" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Whether this step is always required or whether all his outputs feed into optional input fields.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.StepInfo.step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step</span><span class="p">:</span> <span class="n">PipelineStep</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.StepInfo.step" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The pipeline step object.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.structure.StepInfo.step_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.structure.StepInfo.step_id" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h9 id="kiara.models.module.pipeline.structure.generate_pipeline_endpoint_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_pipeline_endpoint_name</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="n">value_name</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.structure.generate_pipeline_endpoint_name" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/structure.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_pipeline_endpoint_name</span><span class="p">(</span><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>

    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">__</span><span class="si">{</span><span class="n">value_name</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h7 id="kiara.models.module.pipeline.value_refs" class="doc doc-heading">
        <code>value_refs</code>



<a href="#kiara.models.module.pipeline.value_refs" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h8 id="kiara.models.module.pipeline.value_refs-classes">Classes<a href="#kiara.models.module.pipeline.value_refs-classes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.value_refs.PipelineInputRef" class="doc doc-heading">
        <code>
PipelineInputRef            (<a class="autorefs autorefs-internal" title="kiara.models.module.pipeline.value_refs.ValueRef" href="../module/pipeline/value_refs/#kiara.models.module.pipeline.value_refs.ValueRef">ValueRef</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.PipelineInputRef" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>An input to a pipeline.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/value_refs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineInputRef</span><span class="p">(</span><span class="n">ValueRef</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An input to a pipeline.&quot;&quot;&quot;</span>

    <span class="n">connected_inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">StepValueAddress</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The step inputs that are connected to this pipeline input&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">is_constant</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this input is a constant and can&#39;t be changed by the user.&quot;</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">generate_step_alias</span><span class="p">(</span><span class="n">PIPELINE_PARENT_MARKER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_name</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h10 id="kiara.models.module.pipeline.value_refs.PipelineInputRef-attributes">Attributes<a href="#kiara.models.module.pipeline.value_refs.PipelineInputRef-attributes" class="headerlink" title="Permanent link">&para;</a></h10>

  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.PipelineInputRef.alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">alias</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.PipelineInputRef.alias" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.PipelineInputRef.connected_inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connected_inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">value_refs</span><span class="o">.</span><span class="n">StepValueAddress</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.PipelineInputRef.connected_inputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The step inputs that are connected to this pipeline input</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.PipelineInputRef.is_constant" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_constant</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.PipelineInputRef.is_constant" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Whether this input is a constant and can't be changed by the user.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.value_refs.PipelineOutputRef" class="doc doc-heading">
        <code>
PipelineOutputRef            (<a class="autorefs autorefs-internal" title="kiara.models.module.pipeline.value_refs.ValueRef" href="../module/pipeline/value_refs/#kiara.models.module.pipeline.value_refs.ValueRef">ValueRef</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.PipelineOutputRef" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>An output to a pipeline.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/value_refs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineOutputRef</span><span class="p">(</span><span class="n">ValueRef</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An output to a pipeline.&quot;&quot;&quot;</span>

    <span class="n">connected_output</span><span class="p">:</span> <span class="n">StepValueAddress</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Connected step outputs.&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">generate_step_alias</span><span class="p">(</span><span class="n">PIPELINE_PARENT_MARKER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_name</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h10 id="kiara.models.module.pipeline.value_refs.PipelineOutputRef-attributes">Attributes<a href="#kiara.models.module.pipeline.value_refs.PipelineOutputRef-attributes" class="headerlink" title="Permanent link">&para;</a></h10>

  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.PipelineOutputRef.alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">alias</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.PipelineOutputRef.alias" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.PipelineOutputRef.connected_output" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connected_output</span><span class="p">:</span> <span class="n">StepValueAddress</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.PipelineOutputRef.connected_output" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Connected step outputs.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.value_refs.StepInputRef" class="doc doc-heading">
        <code>
StepInputRef            (<a class="autorefs autorefs-internal" title="kiara.models.module.pipeline.value_refs.ValueRef" href="../module/pipeline/value_refs/#kiara.models.module.pipeline.value_refs.ValueRef">ValueRef</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepInputRef" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>An input to a step.</p>
<p>This object can either have a 'connected_outputs' set, or a 'connected_pipeline_input', not both.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/value_refs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StepInputRef</span><span class="p">(</span><span class="n">ValueRef</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An input to a step.</span>

<span class="sd">    This object can either have a &#39;connected_outputs&#39; set, or a &#39;connected_pipeline_input&#39;, not both.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The step id.&quot;</span><span class="p">)</span>
    <span class="n">connected_outputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">StepValueAddress</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A potential connected list of one or several module outputs.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">connected_pipeline_input</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A potential pipeline input.&quot;</span>
    <span class="p">)</span>
    <span class="n">is_constant</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this input is a constant and can&#39;t be changed by the user.&quot;</span>
    <span class="p">)</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">ensure_single_connected_item</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;connected_outputs&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s2">&quot;connected_pipeline_input&quot;</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Multiple connected items, only one allowed.&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">values</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">generate_step_alias</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_name</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">address</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepValueAddress</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">StepValueAddress</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">value_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">camel_case_to_snake_case</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">5</span><span class="p">],</span> <span class="n">repl</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">)&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h10 id="kiara.models.module.pipeline.value_refs.StepInputRef-attributes">Attributes<a href="#kiara.models.module.pipeline.value_refs.StepInputRef-attributes" class="headerlink" title="Permanent link">&para;</a></h10>

  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.StepInputRef.address" class="doc doc-heading">
<code class="highlight language-python"><span class="n">address</span><span class="p">:</span> <span class="n">StepValueAddress</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepInputRef.address" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.StepInputRef.alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">alias</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepInputRef.alias" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.StepInputRef.connected_outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connected_outputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">value_refs</span><span class="o">.</span><span class="n">StepValueAddress</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepInputRef.connected_outputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>A potential connected list of one or several module outputs.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.StepInputRef.connected_pipeline_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connected_pipeline_input</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepInputRef.connected_pipeline_input" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>A potential pipeline input.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.StepInputRef.is_constant" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_constant</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepInputRef.is_constant" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Whether this input is a constant and can't be changed by the user.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.StepInputRef.step_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepInputRef.step_id" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The step id.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h11 id="kiara.models.module.pipeline.value_refs.StepInputRef.ensure_single_connected_item" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ensure_single_connected_item</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepInputRef.ensure_single_connected_item" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/value_refs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ensure_single_connected_item</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;connected_outputs&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;connected_pipeline_input&quot;</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Multiple connected items, only one allowed.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">values</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.value_refs.StepOutputRef" class="doc doc-heading">
        <code>
StepOutputRef            (<a class="autorefs autorefs-internal" title="kiara.models.module.pipeline.value_refs.ValueRef" href="../module/pipeline/value_refs/#kiara.models.module.pipeline.value_refs.ValueRef">ValueRef</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepOutputRef" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>An output to a step.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/value_refs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StepOutputRef</span><span class="p">(</span><span class="n">ValueRef</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An output to a step.&quot;&quot;&quot;</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">allow_mutation</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The step id.&quot;</span><span class="p">)</span>
    <span class="n">pipeline_output</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The connected pipeline output.&quot;</span>
    <span class="p">)</span>
    <span class="n">connected_inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">StepValueAddress</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The step inputs that are connected to this step output&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">generate_step_alias</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_name</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">address</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepValueAddress</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">StepValueAddress</span><span class="p">(</span><span class="n">step_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">value_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">camel_case_to_snake_case</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">5</span><span class="p">],</span> <span class="n">repl</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">)&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h10 id="kiara.models.module.pipeline.value_refs.StepOutputRef-attributes">Attributes<a href="#kiara.models.module.pipeline.value_refs.StepOutputRef-attributes" class="headerlink" title="Permanent link">&para;</a></h10>

  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.StepOutputRef.address" class="doc doc-heading">
<code class="highlight language-python"><span class="n">address</span><span class="p">:</span> <span class="n">StepValueAddress</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepOutputRef.address" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.StepOutputRef.alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">alias</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepOutputRef.alias" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.StepOutputRef.connected_inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connected_inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">value_refs</span><span class="o">.</span><span class="n">StepValueAddress</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepOutputRef.connected_inputs" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The step inputs that are connected to this step output</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.StepOutputRef.pipeline_output" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_output</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepOutputRef.pipeline_output" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The connected pipeline output.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.StepOutputRef.step_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepOutputRef.step_id" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The step id.</p>
    </div>

  </div>




  <div class="doc doc-object doc-class">



<h11 id="kiara.models.module.pipeline.value_refs.StepOutputRef.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.module.pipeline.value_refs.StepOutputRef.Config" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/value_refs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">allow_mutation</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>


    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.value_refs.StepValueAddress" class="doc doc-heading">
        <code>
StepValueAddress            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepValueAddress" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Small model to describe the address of a value of a step, within a Pipeline/PipelineStructure.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/value_refs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StepValueAddress</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Small model to describe the address of a value of a step, within a Pipeline/PipelineStructure.&quot;&quot;&quot;</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">forbid</span>

    <span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The id of a step within a pipeline.&quot;</span><span class="p">)</span>
    <span class="n">value_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the value (output name or pipeline input name).&quot;</span>
    <span class="p">)</span>
    <span class="n">sub_value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A reference to a subitem of a value (e.g. column, list item)&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">alias</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;An alias string for this address (in the form ``[step_id].[value_name]``).&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">generate_step_alias</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">StepValueAddress</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_value</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span>
            <span class="n">other</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span>
            <span class="n">other</span><span class="o">.</span><span class="n">value_name</span><span class="p">,</span>
            <span class="n">other</span><span class="o">.</span><span class="n">sub_value</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_value</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_value</span><span class="p">:</span>
            <span class="n">sub_value</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; sub_value=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sub_value</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sub_value</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(step_id=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">, value_name=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_name</span><span class="si">}{</span><span class="n">sub_value</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h10 id="kiara.models.module.pipeline.value_refs.StepValueAddress-attributes">Attributes<a href="#kiara.models.module.pipeline.value_refs.StepValueAddress-attributes" class="headerlink" title="Permanent link">&para;</a></h10>

  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.StepValueAddress.alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">alias</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepValueAddress.alias" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>An alias string for this address (in the form <code>[step_id].[value_name]</code>).</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.StepValueAddress.step_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepValueAddress.step_id" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The id of a step within a pipeline.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.StepValueAddress.sub_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sub_value</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepValueAddress.sub_value" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>A reference to a subitem of a value (e.g. column, list item)</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.StepValueAddress.value_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.StepValueAddress.value_name" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The name of the value (output name or pipeline input name).</p>
    </div>

  </div>




  <div class="doc doc-object doc-class">



<h11 id="kiara.models.module.pipeline.value_refs.StepValueAddress.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.module.pipeline.value_refs.StepValueAddress.Config" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/value_refs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">forbid</span>
</code></pre></div>
        </details>


    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h9 id="kiara.models.module.pipeline.value_refs.ValueRef" class="doc doc-heading">
        <code>
ValueRef            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.ValueRef" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>An object that holds information about the location of a value within a pipeline (or other structure).</p>
<p>Basically, a <code>ValueRef</code> helps the containing object where in its structure the value belongs (for example so
it can update dependent other values). A <code>ValueRef</code> object (obviously) does not contain the value itself.</p>
<p>There are four different ValueRef type that are relevant for pipelines:</p>
<ul>
<li>[kiara.pipeline.values.StepInputRef][]: an input to a step</li>
<li>[kiara.pipeline.values.StepOutputRef][]: an output of a step</li>
<li>[kiara.pipeline.values.PipelineInputRef][]: an input to a pipeline</li>
<li>[kiara.pipeline.values.PipelineOutputRef][]: an output for a pipeline</li>
</ul>
<p>Several <code>ValueRef</code> objects can target the same value, for example a step output and a connected step input would
reference the same <code>Value</code> (in most cases)..</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/value_refs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueRef</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An object that holds information about the location of a value within a pipeline (or other structure).</span>

<span class="sd">    Basically, a `ValueRef` helps the containing object where in its structure the value belongs (for example so</span>
<span class="sd">    it can update dependent other values). A `ValueRef` object (obviously) does not contain the value itself.</span>

<span class="sd">    There are four different ValueRef type that are relevant for pipelines:</span>

<span class="sd">    - [kiara.pipeline.values.StepInputRef][]: an input to a step</span>
<span class="sd">    - [kiara.pipeline.values.StepOutputRef][]: an output of a step</span>
<span class="sd">    - [kiara.pipeline.values.PipelineInputRef][]: an input to a pipeline</span>
<span class="sd">    - [kiara.pipeline.values.PipelineOutputRef][]: an output for a pipeline</span>

<span class="sd">    Several `ValueRef` objects can target the same value, for example a step output and a connected step input would</span>
<span class="sd">    reference the same `Value` (in most cases)..</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">allow_mutation</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">forbid</span>

    <span class="n">_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">)</span>
    <span class="n">value_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">value_schema</span><span class="p">:</span> <span class="n">ValueSchema</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">_id</span>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">step_id</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;step_id&quot;</span><span class="p">):</span>
            <span class="n">step_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; step_id=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_id</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(value_name=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_name</span><span class="si">}</span><span class="s2">&#39; </span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">camel_case_to_snake_case</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">5</span><span class="p">],</span> <span class="n">repl</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">)&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.ValueRef.value_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.ValueRef.value_name" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.module.pipeline.value_refs.ValueRef.value_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_schema</span><span class="p">:</span> <span class="n">ValueSchema</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.module.pipeline.value_refs.ValueRef.value_schema" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h11 id="kiara.models.module.pipeline.value_refs.ValueRef.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.module.pipeline.value_refs.ValueRef.Config" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/value_refs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">allow_mutation</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">forbid</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h13 id="kiara.models.module.pipeline.value_refs.ValueRef.Config.allow_mutation" class="doc doc-heading">
<code class="highlight language-python"><span class="n">allow_mutation</span></code>


<a href="#kiara.models.module.pipeline.value_refs.ValueRef.Config.allow_mutation" class="headerlink" title="Permanent link">&para;</a></h13>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h13 id="kiara.models.module.pipeline.value_refs.ValueRef.Config.extra" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extra</span></code>


<a href="#kiara.models.module.pipeline.value_refs.ValueRef.Config.extra" class="headerlink" title="Permanent link">&para;</a></h13>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h9 id="kiara.models.module.pipeline.value_refs.generate_step_alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_step_alias</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="n">value_name</span><span class="p">)</span></code>


<a href="#kiara.models.module.pipeline.value_refs.generate_step_alias" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/module/pipeline/value_refs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_step_alias</span><span class="p">(</span><span class="n">step_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value_name</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step_id</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">value_name</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="kiara.models.python_class" class="doc doc-heading">
        <code>python_class</code>



<a href="#kiara.models.python_class" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h4 id="kiara.models.python_class-classes">Classes<a href="#kiara.models.python_class-classes" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-class">



<h5 id="kiara.models.python_class.KiaraModuleInstance" class="doc doc-heading">
        <code>
KiaraModuleInstance            (<a class="autorefs autorefs-internal" title="kiara.models.python_class.PythonClass" href="../python_class/#kiara.models.python_class.PythonClass">PythonClass</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.python_class.KiaraModuleInstance" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/python_class.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KiaraModuleInstance</span><span class="p">(</span><span class="n">PythonClass</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;metadata.kiara_module_class&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_module</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">module</span><span class="p">:</span> <span class="s2">&quot;KiaraModule&quot;</span><span class="p">):</span>

        <span class="n">item_cls</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="vm">__class__</span>

        <span class="n">cls_name</span> <span class="o">=</span> <span class="n">item_cls</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="n">module_name</span> <span class="o">=</span> <span class="n">item_cls</span><span class="o">.</span><span class="vm">__module__</span>
        <span class="k">if</span> <span class="n">module_name</span> <span class="o">==</span> <span class="s2">&quot;builtins&quot;</span><span class="p">:</span>
            <span class="n">full_name</span> <span class="o">=</span> <span class="n">cls_name</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">full_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">item_cls</span><span class="o">.</span><span class="vm">__module__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">item_cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">conf</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;python_class_name&quot;</span><span class="p">:</span> <span class="n">cls_name</span><span class="p">,</span>
            <span class="s2">&quot;python_module_name&quot;</span><span class="p">:</span> <span class="n">module_name</span><span class="p">,</span>
            <span class="s2">&quot;full_name&quot;</span><span class="p">:</span> <span class="n">full_name</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">conf</span><span class="p">[</span><span class="s2">&quot;module_config&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">config</span>
        <span class="n">conf</span><span class="p">[</span><span class="s2">&quot;inputs_schema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">inputs_schema</span>
        <span class="n">conf</span><span class="p">[</span><span class="s2">&quot;outputs_schema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">KiaraModuleInstance</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span><span class="o">**</span><span class="n">conf</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">_cls_cache</span> <span class="o">=</span> <span class="n">item_cls</span>
        <span class="n">result</span><span class="o">.</span><span class="n">_module_instance_cache</span> <span class="o">=</span> <span class="n">module</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="n">module_config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The module config.&quot;</span><span class="p">)</span>
    <span class="n">inputs_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The schema for the module input(s).&quot;</span>
    <span class="p">)</span>
    <span class="n">outputs_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The schema for the module output(s).&quot;</span>
    <span class="p">)</span>

    <span class="n">_module_instance_cache</span><span class="p">:</span> <span class="s2">&quot;KiaraModule&quot;</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_kiara_module_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraModule&quot;</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_instance_cache</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_instance_cache</span>

        <span class="n">m_cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_class</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_module_instance_cache</span> <span class="o">=</span> <span class="n">m_cls</span><span class="p">(</span><span class="n">module_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_instance_cache</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.python_class.KiaraModuleInstance-attributes">Attributes<a href="#kiara.models.python_class.KiaraModuleInstance-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.python_class.KiaraModuleInstance.inputs_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inputs_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">ValueSchema</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.python_class.KiaraModuleInstance.inputs_schema" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The schema for the module input(s).</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.python_class.KiaraModuleInstance.module_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.python_class.KiaraModuleInstance.module_config" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The module config.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.python_class.KiaraModuleInstance.outputs_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">outputs_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">ValueSchema</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.python_class.KiaraModuleInstance.outputs_schema" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The schema for the module output(s).</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h7 id="kiara.models.python_class.KiaraModuleInstance.from_module" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_module</span><span class="p">(</span><span class="n">module</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.python_class.KiaraModuleInstance.from_module" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/python_class.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_module</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">module</span><span class="p">:</span> <span class="s2">&quot;KiaraModule&quot;</span><span class="p">):</span>

    <span class="n">item_cls</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="vm">__class__</span>

    <span class="n">cls_name</span> <span class="o">=</span> <span class="n">item_cls</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="n">module_name</span> <span class="o">=</span> <span class="n">item_cls</span><span class="o">.</span><span class="vm">__module__</span>
    <span class="k">if</span> <span class="n">module_name</span> <span class="o">==</span> <span class="s2">&quot;builtins&quot;</span><span class="p">:</span>
        <span class="n">full_name</span> <span class="o">=</span> <span class="n">cls_name</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">full_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">item_cls</span><span class="o">.</span><span class="vm">__module__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">item_cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">conf</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;python_class_name&quot;</span><span class="p">:</span> <span class="n">cls_name</span><span class="p">,</span>
        <span class="s2">&quot;python_module_name&quot;</span><span class="p">:</span> <span class="n">module_name</span><span class="p">,</span>
        <span class="s2">&quot;full_name&quot;</span><span class="p">:</span> <span class="n">full_name</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">conf</span><span class="p">[</span><span class="s2">&quot;module_config&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">config</span>
    <span class="n">conf</span><span class="p">[</span><span class="s2">&quot;inputs_schema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">inputs_schema</span>
    <span class="n">conf</span><span class="p">[</span><span class="s2">&quot;outputs_schema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">outputs_schema</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">KiaraModuleInstance</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span><span class="o">**</span><span class="n">conf</span><span class="p">)</span>
    <span class="n">result</span><span class="o">.</span><span class="n">_cls_cache</span> <span class="o">=</span> <span class="n">item_cls</span>
    <span class="n">result</span><span class="o">.</span><span class="n">_module_instance_cache</span> <span class="o">=</span> <span class="n">module</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.python_class.KiaraModuleInstance.get_kiara_module_instance" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_kiara_module_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.python_class.KiaraModuleInstance.get_kiara_module_instance" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/python_class.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_kiara_module_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraModule&quot;</span><span class="p">:</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_instance_cache</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_instance_cache</span>

    <span class="n">m_cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_class</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_module_instance_cache</span> <span class="o">=</span> <span class="n">m_cls</span><span class="p">(</span><span class="n">module_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_instance_cache</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.python_class.PythonClass" class="doc doc-heading">
        <code>
PythonClass            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.python_class.PythonClass" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Python class and module information.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/python_class.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PythonClass</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Python class and module information.&quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.wrapped_python_class&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">item_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">,</span> <span class="n">attach_context_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>

        <span class="n">cls_name</span> <span class="o">=</span> <span class="n">item_cls</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="n">module_name</span> <span class="o">=</span> <span class="n">item_cls</span><span class="o">.</span><span class="vm">__module__</span>

        <span class="k">if</span> <span class="n">module_name</span> <span class="o">==</span> <span class="s2">&quot;builtins&quot;</span><span class="p">:</span>
            <span class="n">full_name</span> <span class="o">=</span> <span class="n">cls_name</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">full_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">item_cls</span><span class="o">.</span><span class="vm">__module__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">item_cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">conf</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;python_class_name&quot;</span><span class="p">:</span> <span class="n">cls_name</span><span class="p">,</span>
            <span class="s2">&quot;python_module_name&quot;</span><span class="p">:</span> <span class="n">module_name</span><span class="p">,</span>
            <span class="s2">&quot;full_name&quot;</span><span class="p">:</span> <span class="n">full_name</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">attach_context_metadata</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
            <span class="n">ctx_md</span> <span class="o">=</span> <span class="n">ContextMetadataModel</span><span class="o">.</span><span class="n">from_class</span><span class="p">(</span><span class="n">item_cls</span><span class="o">=</span><span class="n">item_cls</span><span class="p">)</span>
            <span class="n">conf</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctx_md</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">PythonClass</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span><span class="o">**</span><span class="n">conf</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">_cls_cache</span> <span class="o">=</span> <span class="n">item_cls</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="n">python_class_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the Python class.&quot;</span><span class="p">)</span>
    <span class="n">python_module_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the Python module this class lives in.&quot;</span>
    <span class="p">)</span>
    <span class="n">full_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The full class namespace.&quot;</span><span class="p">)</span>

    <span class="c1"># context_metadata: Optional[ContextMetadataModel] = Field(</span>
    <span class="c1">#     description=&quot;Context metadata for the class.&quot;, default=None</span>
    <span class="c1"># )</span>

    <span class="n">_module_cache</span><span class="p">:</span> <span class="n">ModuleType</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_cls_cache</span><span class="p">:</span> <span class="n">Type</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_name</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_name</span>

    <span class="k">def</span> <span class="nf">get_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cls_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_python_module</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cls_cache</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">python_class_name</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cls_cache</span>

    <span class="k">def</span> <span class="nf">get_python_module</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModuleType</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_module_cache</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">python_module_name</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_cache</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.python_class.PythonClass-attributes">Attributes<a href="#kiara.models.python_class.PythonClass-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.python_class.PythonClass.full_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">full_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.python_class.PythonClass.full_name" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The full class namespace.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.python_class.PythonClass.python_class_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">python_class_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.python_class.PythonClass.python_class_name" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The name of the Python class.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.python_class.PythonClass.python_module_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">python_module_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.python_class.PythonClass.python_module_name" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The name of the Python module this class lives in.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h7 id="kiara.models.python_class.PythonClass.from_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_class</span><span class="p">(</span><span class="n">item_cls</span><span class="p">,</span> <span class="n">attach_context_metadata</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.python_class.PythonClass.from_class" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/python_class.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">item_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">,</span> <span class="n">attach_context_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>

    <span class="n">cls_name</span> <span class="o">=</span> <span class="n">item_cls</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="n">module_name</span> <span class="o">=</span> <span class="n">item_cls</span><span class="o">.</span><span class="vm">__module__</span>

    <span class="k">if</span> <span class="n">module_name</span> <span class="o">==</span> <span class="s2">&quot;builtins&quot;</span><span class="p">:</span>
        <span class="n">full_name</span> <span class="o">=</span> <span class="n">cls_name</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">full_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">item_cls</span><span class="o">.</span><span class="vm">__module__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">item_cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">conf</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;python_class_name&quot;</span><span class="p">:</span> <span class="n">cls_name</span><span class="p">,</span>
        <span class="s2">&quot;python_module_name&quot;</span><span class="p">:</span> <span class="n">module_name</span><span class="p">,</span>
        <span class="s2">&quot;full_name&quot;</span><span class="p">:</span> <span class="n">full_name</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="n">attach_context_metadata</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
        <span class="n">ctx_md</span> <span class="o">=</span> <span class="n">ContextMetadataModel</span><span class="o">.</span><span class="n">from_class</span><span class="p">(</span><span class="n">item_cls</span><span class="o">=</span><span class="n">item_cls</span><span class="p">)</span>
        <span class="n">conf</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctx_md</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">PythonClass</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span><span class="o">**</span><span class="n">conf</span><span class="p">)</span>
    <span class="n">result</span><span class="o">.</span><span class="n">_cls_cache</span> <span class="o">=</span> <span class="n">item_cls</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.python_class.PythonClass.get_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.python_class.PythonClass.get_class" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/python_class.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">:</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cls_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_python_module</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cls_cache</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">python_class_name</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cls_cache</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.python_class.PythonClass.get_python_module" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_python_module</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.python_class.PythonClass.get_python_module" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/python_class.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_python_module</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModuleType</span><span class="p">:</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_module_cache</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">python_module_name</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_cache</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="kiara.models.rendering" class="doc doc-heading">
        <code>rendering</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara.models.rendering" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="kiara.models.rendering.DataT" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DataT</span></code>


<a href="#kiara.models.rendering.DataT" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>


<h4 id="kiara.models.rendering-classes">Classes<a href="#kiara.models.rendering-classes" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-class">



<h5 id="kiara.models.rendering.RenderScene" class="doc doc-heading">
        <code>
RenderScene            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.rendering.RenderScene" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/rendering/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RenderScene</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.render_scene&quot;</span>

    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The title of this scene.&quot;</span><span class="p">)</span>
    <span class="n">disabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this scene should be displayed as &#39;disabled&#39; in a UI.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Description of what this scene renders.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">DEFAULT_NO_DESC_VALUE</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">manifest_hash</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The hash of the manifest of the referenced render scene.&quot;</span>
    <span class="p">)</span>
    <span class="n">render_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The inputs used with the referenced manifest.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">related_scenes</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;RenderScene&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Other render scenes, related to this one.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;manifest_hash&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_manifest_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;manifest_hash&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">manifest_hash</span>  <span class="c1"># type: ignore</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>

    <span class="c1"># @validator(&quot;description&quot;, pre=True)</span>
    <span class="c1"># def validate_desc(cls, value):</span>
    <span class="c1">#     return DocumentationMetadataModel.create(value)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.rendering.RenderScene-attributes">Attributes<a href="#kiara.models.rendering.RenderScene-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.rendering.RenderScene.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.rendering.RenderScene.description" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Description of what this scene renders.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.rendering.RenderScene.disabled" class="doc doc-heading">
<code class="highlight language-python"><span class="n">disabled</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.rendering.RenderScene.disabled" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Whether this scene should be displayed as 'disabled' in a UI.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.rendering.RenderScene.manifest_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">manifest_hash</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.rendering.RenderScene.manifest_hash" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The hash of the manifest of the referenced render scene.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.rendering.RenderScene.related_scenes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">related_scenes</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="n">RenderScene</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.rendering.RenderScene.related_scenes" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Other render scenes, related to this one.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.rendering.RenderScene.render_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">render_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.rendering.RenderScene.render_config" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The inputs used with the referenced manifest.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.rendering.RenderScene.title" class="doc doc-heading">
<code class="highlight language-python"><span class="n">title</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.rendering.RenderScene.title" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The title of this scene.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h7 id="kiara.models.rendering.RenderScene.validate_manifest_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_manifest_hash</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.rendering.RenderScene.validate_manifest_hash" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/rendering/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;manifest_hash&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_manifest_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>

    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;manifest_hash&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">manifest_hash</span>  <span class="c1"># type: ignore</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">value</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.rendering.RenderValueResult" class="doc doc-heading">
        <code>
RenderValueResult            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.rendering.RenderValueResult" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Object containing all the result properties of a 'render_value' operation.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/rendering/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RenderValueResult</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Object containing all the result properties of a &#39;render_value&#39; operation.&quot;&quot;&quot;</span>

    <span class="n">value_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The value that was rendered.&quot;</span><span class="p">)</span>
    <span class="n">render_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The config that was used to render this.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>
    <span class="n">render_manifest</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The id of the manifest that was used to render this.&quot;</span>
    <span class="p">)</span>
    <span class="n">related_scenes</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">RenderScene</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Other render scenes, related to this one.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>
    <span class="n">manifest_lookup</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Manifest</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The manifests referenced in this model, indexed by the hashes.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">rendered</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The rendered object.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">EncodableType</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;value_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="p">),</span>
            <span class="s2">&quot;render_config&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_config</span><span class="p">,</span>
            <span class="s2">&quot;render_manifest&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_manifest</span><span class="p">,</span>
        <span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.rendering.RenderValueResult-attributes">Attributes<a href="#kiara.models.rendering.RenderValueResult-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.rendering.RenderValueResult.manifest_lookup" class="doc doc-heading">
<code class="highlight language-python"><span class="n">manifest_lookup</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">Manifest</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.rendering.RenderValueResult.manifest_lookup" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The manifests referenced in this model, indexed by the hashes.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.rendering.RenderValueResult.related_scenes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">related_scenes</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">rendering</span><span class="o">.</span><span class="n">RenderScene</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.rendering.RenderValueResult.related_scenes" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Other render scenes, related to this one.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.rendering.RenderValueResult.render_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">render_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.rendering.RenderValueResult.render_config" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The config that was used to render this.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.rendering.RenderValueResult.render_manifest" class="doc doc-heading">
<code class="highlight language-python"><span class="n">render_manifest</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.rendering.RenderValueResult.render_manifest" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The id of the manifest that was used to render this.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.rendering.RenderValueResult.rendered" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rendered</span><span class="p">:</span> <span class="n">Any</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.rendering.RenderValueResult.rendered" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The rendered object.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.rendering.RenderValueResult.value_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.rendering.RenderValueResult.value_id" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The value that was rendered.</p>
    </div>

  </div>








  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h5 id="kiara.models.rendering.values" class="doc doc-heading">
        <code>values</code>



<a href="#kiara.models.rendering.values" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">



    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="kiara.models.runtime_environment" class="doc doc-heading">
        <code>runtime_environment</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara.models.runtime_environment" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="kiara.models.runtime_environment.logger" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logger</span></code>


<a href="#kiara.models.runtime_environment.logger" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h5 id="kiara.models.runtime_environment.RuntimeEnvironment" class="doc doc-heading">
        <code>
RuntimeEnvironment            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.runtime_environment.RuntimeEnvironment" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RuntimeEnvironment</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">underscore_attrs_are_private</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">allow_mutation</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_environment_type_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="n">env_type</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__fields__</span><span class="p">[</span><span class="s2">&quot;environment_type&quot;</span><span class="p">]</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">get_args</span><span class="p">(</span><span class="n">env_type</span><span class="o">.</span><span class="n">type_</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_environment_model</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">type_name</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_environment_type_name</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">retrieve_environment_data</span><span class="p">()</span>
            <span class="k">assert</span> <span class="p">(</span>
                <span class="s2">&quot;environment_type&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                <span class="ow">or</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;environment_keys&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">type_name</span>
            <span class="p">)</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;environment_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">type_name</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t create environment model for &#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_category_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ENVIRONMENT_TYPE_CATEGORY_ID</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">environment_type</span><span class="si">}</span><span class="s2">&quot;</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@classmethod</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_environment_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">pass</span>

    <span class="n">_env_hashes</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_renderable_for_field</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">for_summary</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">RenderableType</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>

        <span class="k">return</span> <span class="n">extract_renderable</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_retrieve_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">get_environment_type_name</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">env_hashes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_env_hashes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_env_hashes</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_retrieve_sub_profile_env_data</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">_</span><span class="p">,</span> <span class="n">cid</span> <span class="o">=</span> <span class="n">compute_cid</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">v</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cid</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_env_hashes</span> <span class="o">=</span> <span class="n">result</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_env_hashes</span>

    <span class="k">def</span> <span class="nf">_retrieve_sub_profile_env_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return a dictionary with data that identifies one hash profile per key.</span>

<span class="sd">        In most cases, this will only return a single-key dictionary containing all the data in that environment. But</span>
<span class="sd">        in some cases one might want to have several sub-hash profiles, for example a list of Python packages with and</span>
<span class="sd">        without version information, to have more fine-grained control about when to consider two environments functionally</span>
<span class="sd">        equal.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="p">{</span><span class="n">DEFAULT_ENV_HASH_KEY</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_retrieve_data_to_hash</span><span class="p">()}</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">summary</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;summary&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;field&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;summary&quot;</span><span class="p">)</span>

        <span class="n">hashes_str</span> <span class="o">=</span> <span class="n">orjson_dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">env_hashes</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="s2">&quot;environment hashes&quot;</span><span class="p">,</span> <span class="n">Syntax</span><span class="p">(</span><span class="n">hashes_str</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">summary_item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_renderable_for_field</span><span class="p">(</span>
                <span class="n">field_name</span><span class="p">,</span> <span class="n">for_summary</span><span class="o">=</span><span class="n">summary</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">summary_item</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="n">summary_item</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.runtime_environment.RuntimeEnvironment.env_hashes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">env_hashes</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.runtime_environment.RuntimeEnvironment.env_hashes" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h7 id="kiara.models.runtime_environment.RuntimeEnvironment.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.runtime_environment.RuntimeEnvironment.Config" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">underscore_attrs_are_private</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">allow_mutation</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.RuntimeEnvironment.Config.allow_mutation" class="doc doc-heading">
<code class="highlight language-python"><span class="n">allow_mutation</span></code>


<a href="#kiara.models.runtime_environment.RuntimeEnvironment.Config.allow_mutation" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.RuntimeEnvironment.Config.underscore_attrs_are_private" class="doc doc-heading">
<code class="highlight language-python"><span class="n">underscore_attrs_are_private</span></code>


<a href="#kiara.models.runtime_environment.RuntimeEnvironment.Config.underscore_attrs_are_private" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h7 id="kiara.models.runtime_environment.RuntimeEnvironment.create_environment_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_environment_model</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.runtime_environment.RuntimeEnvironment.create_environment_model" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_environment_model</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">type_name</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_environment_type_name</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">retrieve_environment_data</span><span class="p">()</span>
        <span class="k">assert</span> <span class="p">(</span>
            <span class="s2">&quot;environment_type&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="ow">or</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;environment_keys&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">type_name</span>
        <span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;environment_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">type_name</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t create environment model for &#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.runtime_environment.RuntimeEnvironment.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.runtime_environment.RuntimeEnvironment.create_renderable" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">summary</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;summary&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;field&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;summary&quot;</span><span class="p">)</span>

    <span class="n">hashes_str</span> <span class="o">=</span> <span class="n">orjson_dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">env_hashes</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
        <span class="s2">&quot;environment hashes&quot;</span><span class="p">,</span> <span class="n">Syntax</span><span class="p">(</span><span class="n">hashes_str</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">summary_item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_renderable_for_field</span><span class="p">(</span>
            <span class="n">field_name</span><span class="p">,</span> <span class="n">for_summary</span><span class="o">=</span><span class="n">summary</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">summary_item</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="n">summary_item</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.runtime_environment.RuntimeEnvironment.get_category_alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_category_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.runtime_environment.RuntimeEnvironment.get_category_alias" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_category_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ENVIRONMENT_TYPE_CATEGORY_ID</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">environment_type</span><span class="si">}</span><span class="s2">&quot;</span>  <span class="c1"># type: ignore</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.runtime_environment.RuntimeEnvironment.get_environment_type_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_environment_type_name</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.runtime_environment.RuntimeEnvironment.get_environment_type_name" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_environment_type_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

    <span class="n">env_type</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__fields__</span><span class="p">[</span><span class="s2">&quot;environment_type&quot;</span><span class="p">]</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">get_args</span><span class="p">(</span><span class="n">env_type</span><span class="o">.</span><span class="n">type_</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.runtime_environment.RuntimeEnvironment.retrieve_environment_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_environment_data</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.runtime_environment.RuntimeEnvironment.retrieve_environment_data" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">retrieve_environment_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




<h4 id="kiara.models.runtime_environment-modules">Modules<a href="#kiara.models.runtime_environment-modules" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-module">



<h5 id="kiara.models.runtime_environment.kiara" class="doc doc-heading">
        <code>kiara</code>



<a href="#kiara.models.runtime_environment.kiara" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.runtime_environment.kiara-classes">Classes<a href="#kiara.models.runtime_environment.kiara-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.runtime_environment.kiara.KiaraTypesRuntimeEnvironment" class="doc doc-heading">
        <code>
KiaraTypesRuntimeEnvironment            (<a class="autorefs autorefs-internal" title="kiara.models.runtime_environment.RuntimeEnvironment" href="../runtime_environment/__init__/#kiara.models.runtime_environment.RuntimeEnvironment">RuntimeEnvironment</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.runtime_environment.kiara.KiaraTypesRuntimeEnvironment" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/kiara.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KiaraTypesRuntimeEnvironment</span><span class="p">(</span><span class="n">RuntimeEnvironment</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;info.runtime.kiara_types&quot;</span>

    <span class="n">environment_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;kiara_types&quot;</span><span class="p">]</span>
    <span class="n">archive_types</span><span class="p">:</span> <span class="n">ArchiveTypeClassesInfo</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The available implemented store types.&quot;</span>
    <span class="p">)</span>
    <span class="n">metadata_types</span><span class="p">:</span> <span class="n">MetadataTypeClassesInfo</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The available metadata types.&quot;</span>
    <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_environment_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;metadata_types&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">find_metadata_models</span><span class="p">()</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;archive_types&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">find_archive_types</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.runtime_environment.kiara.KiaraTypesRuntimeEnvironment-attributes">Attributes<a href="#kiara.models.runtime_environment.kiara.KiaraTypesRuntimeEnvironment-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.kiara.KiaraTypesRuntimeEnvironment.archive_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">archive_types</span><span class="p">:</span> <span class="n">ArchiveTypeClassesInfo</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.runtime_environment.kiara.KiaraTypesRuntimeEnvironment.archive_types" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The available implemented store types.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.kiara.KiaraTypesRuntimeEnvironment.environment_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">environment_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;kiara_types&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.runtime_environment.kiara.KiaraTypesRuntimeEnvironment.environment_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.kiara.KiaraTypesRuntimeEnvironment.metadata_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">metadata_types</span><span class="p">:</span> <span class="n">MetadataTypeClassesInfo</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.runtime_environment.kiara.KiaraTypesRuntimeEnvironment.metadata_types" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The available metadata types.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.runtime_environment.kiara.KiaraTypesRuntimeEnvironment.retrieve_environment_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_environment_data</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.runtime_environment.kiara.KiaraTypesRuntimeEnvironment.retrieve_environment_data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/kiara.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_environment_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">result</span><span class="p">[</span><span class="s2">&quot;metadata_types&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">find_metadata_models</span><span class="p">()</span>
    <span class="n">result</span><span class="p">[</span><span class="s2">&quot;archive_types&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">find_archive_types</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h7 id="kiara.models.runtime_environment.kiara.find_archive_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_archive_types</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">only_for_package</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#kiara.models.runtime_environment.kiara.find_archive_types" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/kiara.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">find_archive_types</span><span class="p">(</span>
    <span class="n">alias</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">only_for_package</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArchiveTypeClassesInfo</span><span class="p">:</span>

    <span class="n">archive_types</span> <span class="o">=</span> <span class="n">find_all_archive_types</span><span class="p">()</span>

    <span class="n">kiara</span><span class="p">:</span> <span class="n">Kiara</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
    <span class="n">group</span><span class="p">:</span> <span class="n">ArchiveTypeClassesInfo</span> <span class="o">=</span> <span class="n">ArchiveTypeClassesInfo</span><span class="o">.</span><span class="n">create_from_type_items</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
        <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span> <span class="n">group_title</span><span class="o">=</span><span class="n">alias</span><span class="p">,</span> <span class="o">**</span><span class="n">archive_types</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">only_for_package</span><span class="p">:</span>
        <span class="n">temp</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">TypeInfo</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">group</span><span class="o">.</span><span class="n">item_infos</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">info</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">labels</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;package&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">only_for_package</span><span class="p">:</span>
                <span class="n">temp</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">info</span>  <span class="c1"># type: ignore</span>

        <span class="n">group</span> <span class="o">=</span> <span class="n">ArchiveTypeClassesInfo</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
            <span class="n">group_id</span><span class="o">=</span><span class="n">group</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span> <span class="n">group_alias</span><span class="o">=</span><span class="n">group</span><span class="o">.</span><span class="n">group_alias</span><span class="p">,</span> <span class="n">item_infos</span><span class="o">=</span><span class="n">temp</span>  <span class="c1"># type: ignore</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">group</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.runtime_environment.operating_system" class="doc doc-heading">
        <code>operating_system</code>



<a href="#kiara.models.runtime_environment.operating_system" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.runtime_environment.operating_system-classes">Classes<a href="#kiara.models.runtime_environment.operating_system-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment" class="doc doc-heading">
        <code>
OSRuntimeEnvironment            (<a class="autorefs autorefs-internal" title="kiara.models.runtime_environment.RuntimeEnvironment" href="../runtime_environment/__init__/#kiara.models.runtime_environment.RuntimeEnvironment">RuntimeEnvironment</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Manages information about the OS this kiara instance is running in.</p>
<h6 id="kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment--todo-details-for-other-oss-mainly-bsds">TODO: details for other OS's (mainly BSDs)<a class="headerlink" href="#kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment--todo-details-for-other-oss-mainly-bsds" title="Permanent link">&para;</a></h6>

        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/operating_system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">OSRuntimeEnvironment</span><span class="p">(</span><span class="n">RuntimeEnvironment</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Manages information about the OS this kiara instance is running in.</span>

<span class="sd">    # TODO: details for other OS&#39;s (mainly BSDs)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;info.runtime.os&quot;</span>

    <span class="n">environment_type</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;operating_system&quot;</span><span class="p">]</span>
    <span class="n">operation_system</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The operation system name.&quot;</span><span class="p">)</span>
    <span class="n">platform</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The platform name.&quot;</span><span class="p">)</span>
    <span class="n">release</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The platform release name.&quot;</span><span class="p">)</span>
    <span class="n">version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The platform version name.&quot;</span><span class="p">)</span>
    <span class="n">machine</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The architecture.&quot;</span><span class="p">)</span>
    <span class="n">os_specific</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;OS specific platform metadata.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_environment_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

        <span class="n">os_specific</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">platform_system</span> <span class="o">=</span> <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">platform_system</span> <span class="o">==</span> <span class="s2">&quot;Linux&quot;</span><span class="p">:</span>
            <span class="kn">import</span> <span class="nn">distro</span>

            <span class="n">os_specific</span><span class="p">[</span><span class="s2">&quot;distribution&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">distro</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span>
                <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">distro</span><span class="o">.</span><span class="n">version</span><span class="p">(),</span>
                <span class="s2">&quot;codename&quot;</span><span class="p">:</span> <span class="n">distro</span><span class="o">.</span><span class="n">codename</span><span class="p">(),</span>
            <span class="p">}</span>
        <span class="k">elif</span> <span class="n">platform_system</span> <span class="o">==</span> <span class="s2">&quot;Darwin&quot;</span><span class="p">:</span>
            <span class="n">mac_version</span> <span class="o">=</span> <span class="n">platform</span><span class="o">.</span><span class="n">mac_ver</span><span class="p">()</span>
            <span class="n">os_specific</span><span class="p">[</span><span class="s2">&quot;mac_ver_release&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mac_version</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">os_specific</span><span class="p">[</span><span class="s2">&quot;mac_ver_machine&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mac_version</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;operation_system&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;platform&quot;</span><span class="p">:</span> <span class="n">platform_system</span><span class="p">,</span>
            <span class="s2">&quot;release&quot;</span><span class="p">:</span> <span class="n">platform</span><span class="o">.</span><span class="n">release</span><span class="p">(),</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">platform</span><span class="o">.</span><span class="n">version</span><span class="p">(),</span>
            <span class="s2">&quot;machine&quot;</span><span class="p">:</span> <span class="n">platform</span><span class="o">.</span><span class="n">machine</span><span class="p">(),</span>
            <span class="s2">&quot;os_specific&quot;</span><span class="p">:</span> <span class="n">os_specific</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="c1"># if config.include_all_info:</span>
        <span class="c1">#     result[&quot;uname&quot;] = platform.uname()._asdict()</span>

        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment-attributes">Attributes<a href="#kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment.environment_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">environment_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;operating_system&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment.environment_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment.machine" class="doc doc-heading">
<code class="highlight language-python"><span class="n">machine</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment.machine" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The architecture.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment.operation_system" class="doc doc-heading">
<code class="highlight language-python"><span class="n">operation_system</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment.operation_system" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The operation system name.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment.os_specific" class="doc doc-heading">
<code class="highlight language-python"><span class="n">os_specific</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment.os_specific" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>OS specific platform metadata.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment.platform" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platform</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment.platform" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The platform name.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment.release" class="doc doc-heading">
<code class="highlight language-python"><span class="n">release</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment.release" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The platform release name.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment.version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">version</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment.version" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The platform version name.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment.retrieve_environment_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_environment_data</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.runtime_environment.operating_system.OSRuntimeEnvironment.retrieve_environment_data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/operating_system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_environment_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

    <span class="n">os_specific</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">platform_system</span> <span class="o">=</span> <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">platform_system</span> <span class="o">==</span> <span class="s2">&quot;Linux&quot;</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">distro</span>

        <span class="n">os_specific</span><span class="p">[</span><span class="s2">&quot;distribution&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">distro</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">distro</span><span class="o">.</span><span class="n">version</span><span class="p">(),</span>
            <span class="s2">&quot;codename&quot;</span><span class="p">:</span> <span class="n">distro</span><span class="o">.</span><span class="n">codename</span><span class="p">(),</span>
        <span class="p">}</span>
    <span class="k">elif</span> <span class="n">platform_system</span> <span class="o">==</span> <span class="s2">&quot;Darwin&quot;</span><span class="p">:</span>
        <span class="n">mac_version</span> <span class="o">=</span> <span class="n">platform</span><span class="o">.</span><span class="n">mac_ver</span><span class="p">()</span>
        <span class="n">os_specific</span><span class="p">[</span><span class="s2">&quot;mac_ver_release&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mac_version</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">os_specific</span><span class="p">[</span><span class="s2">&quot;mac_ver_machine&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mac_version</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;operation_system&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s2">&quot;platform&quot;</span><span class="p">:</span> <span class="n">platform_system</span><span class="p">,</span>
        <span class="s2">&quot;release&quot;</span><span class="p">:</span> <span class="n">platform</span><span class="o">.</span><span class="n">release</span><span class="p">(),</span>
        <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">platform</span><span class="o">.</span><span class="n">version</span><span class="p">(),</span>
        <span class="s2">&quot;machine&quot;</span><span class="p">:</span> <span class="n">platform</span><span class="o">.</span><span class="n">machine</span><span class="p">(),</span>
        <span class="s2">&quot;os_specific&quot;</span><span class="p">:</span> <span class="n">os_specific</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># if config.include_all_info:</span>
    <span class="c1">#     result[&quot;uname&quot;] = platform.uname()._asdict()</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.runtime_environment.python" class="doc doc-heading">
        <code>python</code>



<a href="#kiara.models.runtime_environment.python" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.runtime_environment.python-classes">Classes<a href="#kiara.models.runtime_environment.python-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.runtime_environment.python.KiaraPluginsRuntimeEnvironment" class="doc doc-heading">
        <code>
KiaraPluginsRuntimeEnvironment            (<a class="autorefs autorefs-internal" title="kiara.models.runtime_environment.RuntimeEnvironment" href="../runtime_environment/__init__/#kiara.models.runtime_environment.RuntimeEnvironment">RuntimeEnvironment</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.runtime_environment.python.KiaraPluginsRuntimeEnvironment" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/python.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KiaraPluginsRuntimeEnvironment</span><span class="p">(</span><span class="n">RuntimeEnvironment</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;info.runtime.kiara_plugins&quot;</span>

    <span class="n">environment_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;kiara_plugins&quot;</span><span class="p">]</span>
    <span class="n">kiara_plugins</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PythonPackage</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The kiara plugin packages installed in the Python (virtual) environment.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_renderable_for_field</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">for_summary</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">RenderableType</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>

        <span class="k">if</span> <span class="n">field_name</span> <span class="o">!=</span> <span class="s2">&quot;packages&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">extract_renderable</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">for_summary</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara_plugins</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;package name&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">package</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara_plugins</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">package</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">package</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>

    <span class="k">def</span> <span class="nf">_retrieve_sub_profile_env_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

        <span class="n">only_packages</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara_plugins</span><span class="p">]</span>
        <span class="n">full</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">k</span><span class="o">.</span><span class="n">version</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara_plugins</span><span class="p">}</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;package_names&quot;</span><span class="p">:</span> <span class="n">only_packages</span><span class="p">,</span> <span class="s2">&quot;packages&quot;</span><span class="p">:</span> <span class="n">full</span><span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_environment_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

        <span class="n">packages</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">all_packages</span> <span class="o">=</span> <span class="n">find_all_distributions</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">pkgs</span> <span class="ow">in</span> <span class="n">all_packages</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="k">for</span> <span class="n">pkg</span> <span class="ow">in</span> <span class="n">pkgs</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">pkg</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;kiara_plugin.&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">pkg</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span>
                    <span class="s2">&quot;kiara-plugin.&quot;</span>
                <span class="p">):</span>
                    <span class="k">continue</span>
                <span class="n">dist</span> <span class="o">=</span> <span class="n">distribution</span><span class="p">(</span><span class="n">pkg</span><span class="p">)</span>
                <span class="n">packages</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">pkg</span><span class="p">,</span> <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">dist</span><span class="o">.</span><span class="n">version</span><span class="p">})</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;kiara_plugins&quot;</span><span class="p">:</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">packages</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
        <span class="p">}</span>

        <span class="c1"># if config.include_all_info:</span>
        <span class="c1">#     import sysconfig</span>
        <span class="c1">#     result[&quot;python_config&quot;] = sysconfig.get_config_vars()</span>

        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.runtime_environment.python.KiaraPluginsRuntimeEnvironment-attributes">Attributes<a href="#kiara.models.runtime_environment.python.KiaraPluginsRuntimeEnvironment-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.python.KiaraPluginsRuntimeEnvironment.environment_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">environment_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;kiara_plugins&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.runtime_environment.python.KiaraPluginsRuntimeEnvironment.environment_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.python.KiaraPluginsRuntimeEnvironment.kiara_plugins" class="doc doc-heading">
<code class="highlight language-python"><span class="n">kiara_plugins</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">runtime_environment</span><span class="o">.</span><span class="n">python</span><span class="o">.</span><span class="n">PythonPackage</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.runtime_environment.python.KiaraPluginsRuntimeEnvironment.kiara_plugins" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The kiara plugin packages installed in the Python (virtual) environment.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.runtime_environment.python.KiaraPluginsRuntimeEnvironment.retrieve_environment_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_environment_data</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.runtime_environment.python.KiaraPluginsRuntimeEnvironment.retrieve_environment_data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/python.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_environment_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

    <span class="n">packages</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">all_packages</span> <span class="o">=</span> <span class="n">find_all_distributions</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">pkgs</span> <span class="ow">in</span> <span class="n">all_packages</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

        <span class="k">for</span> <span class="n">pkg</span> <span class="ow">in</span> <span class="n">pkgs</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">pkg</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;kiara_plugin.&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">pkg</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span>
                <span class="s2">&quot;kiara-plugin.&quot;</span>
            <span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">dist</span> <span class="o">=</span> <span class="n">distribution</span><span class="p">(</span><span class="n">pkg</span><span class="p">)</span>
            <span class="n">packages</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">pkg</span><span class="p">,</span> <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">dist</span><span class="o">.</span><span class="n">version</span><span class="p">})</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;kiara_plugins&quot;</span><span class="p">:</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">packages</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
    <span class="p">}</span>

    <span class="c1"># if config.include_all_info:</span>
    <span class="c1">#     import sysconfig</span>
    <span class="c1">#     result[&quot;python_config&quot;] = sysconfig.get_config_vars()</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.runtime_environment.python.PythonPackage" class="doc doc-heading">
        <code>
PythonPackage            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.runtime_environment.python.PythonPackage" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/python.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PythonPackage</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the Python package.&quot;</span><span class="p">)</span>
    <span class="n">version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The version of the package.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.runtime_environment.python.PythonPackage-attributes">Attributes<a href="#kiara.models.runtime_environment.python.PythonPackage-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.python.PythonPackage.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.runtime_environment.python.PythonPackage.name" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The name of the Python package.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.python.PythonPackage.version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">version</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.runtime_environment.python.PythonPackage.version" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The version of the package.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.runtime_environment.python.PythonRuntimeEnvironment" class="doc doc-heading">
        <code>
PythonRuntimeEnvironment            (<a class="autorefs autorefs-internal" title="kiara.models.runtime_environment.RuntimeEnvironment" href="../runtime_environment/__init__/#kiara.models.runtime_environment.RuntimeEnvironment">RuntimeEnvironment</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.runtime_environment.python.PythonRuntimeEnvironment" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/python.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PythonRuntimeEnvironment</span><span class="p">(</span><span class="n">RuntimeEnvironment</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;info.runtime.python&quot;</span>

    <span class="n">environment_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;python&quot;</span><span class="p">]</span>
    <span class="n">python_version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The version of Python.&quot;</span><span class="p">)</span>
    <span class="n">packages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PythonPackage</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The packages installed in the Python (virtual) environment.&quot;</span>
    <span class="p">)</span>
    <span class="c1"># python_config: typing.Dict[str, str] = Field(</span>
    <span class="c1">#     description=&quot;Configuration details about the Python installation.&quot;</span>
    <span class="c1"># )</span>

    <span class="k">def</span> <span class="nf">_create_renderable_for_field</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">for_summary</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">RenderableType</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>

        <span class="k">if</span> <span class="n">field_name</span> <span class="o">!=</span> <span class="s2">&quot;packages&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">extract_renderable</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">for_summary</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">packages</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;package name&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">package</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">packages</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">package</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">package</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>

    <span class="k">def</span> <span class="nf">_retrieve_sub_profile_env_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

        <span class="n">only_packages</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">packages</span><span class="p">]</span>
        <span class="n">full</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">k</span><span class="o">.</span><span class="n">version</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">packages</span><span class="p">}</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;package_names&quot;</span><span class="p">:</span> <span class="n">only_packages</span><span class="p">,</span>
            <span class="s2">&quot;packages&quot;</span><span class="p">:</span> <span class="n">full</span><span class="p">,</span>
            <span class="s2">&quot;package_names_incl_python_version&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;python_version&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">python_version</span><span class="p">,</span>
                <span class="s2">&quot;packages&quot;</span><span class="p">:</span> <span class="n">only_packages</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;packages_incl_python_version&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;python_version&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">python_version</span><span class="p">,</span>
                <span class="s2">&quot;packages&quot;</span><span class="p">:</span> <span class="n">full</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_environment_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

        <span class="n">packages</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">all_packages</span> <span class="o">=</span> <span class="n">find_all_distributions</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">pkgs</span> <span class="ow">in</span> <span class="n">all_packages</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">pkg</span> <span class="ow">in</span> <span class="n">pkgs</span><span class="p">:</span>
                <span class="n">dist</span> <span class="o">=</span> <span class="n">distribution</span><span class="p">(</span><span class="n">pkg</span><span class="p">)</span>
                <span class="n">packages</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">pkg</span><span class="p">,</span> <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">dist</span><span class="o">.</span><span class="n">version</span><span class="p">})</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;python_version&quot;</span><span class="p">:</span> <span class="n">sys</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="s2">&quot;packages&quot;</span><span class="p">:</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">packages</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
        <span class="p">}</span>

        <span class="c1"># if config.include_all_info:</span>
        <span class="c1">#     import sysconfig</span>
        <span class="c1">#     result[&quot;python_config&quot;] = sysconfig.get_config_vars()</span>

        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.runtime_environment.python.PythonRuntimeEnvironment-attributes">Attributes<a href="#kiara.models.runtime_environment.python.PythonRuntimeEnvironment-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.python.PythonRuntimeEnvironment.environment_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">environment_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;python&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.runtime_environment.python.PythonRuntimeEnvironment.environment_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.python.PythonRuntimeEnvironment.packages" class="doc doc-heading">
<code class="highlight language-python"><span class="n">packages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">runtime_environment</span><span class="o">.</span><span class="n">python</span><span class="o">.</span><span class="n">PythonPackage</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.runtime_environment.python.PythonRuntimeEnvironment.packages" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The packages installed in the Python (virtual) environment.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.runtime_environment.python.PythonRuntimeEnvironment.python_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">python_version</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.runtime_environment.python.PythonRuntimeEnvironment.python_version" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The version of Python.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.runtime_environment.python.PythonRuntimeEnvironment.retrieve_environment_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_environment_data</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.runtime_environment.python.PythonRuntimeEnvironment.retrieve_environment_data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/python.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_environment_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

    <span class="n">packages</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">all_packages</span> <span class="o">=</span> <span class="n">find_all_distributions</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">pkgs</span> <span class="ow">in</span> <span class="n">all_packages</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">pkg</span> <span class="ow">in</span> <span class="n">pkgs</span><span class="p">:</span>
            <span class="n">dist</span> <span class="o">=</span> <span class="n">distribution</span><span class="p">(</span><span class="n">pkg</span><span class="p">)</span>
            <span class="n">packages</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">pkg</span><span class="p">,</span> <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">dist</span><span class="o">.</span><span class="n">version</span><span class="p">})</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;python_version&quot;</span><span class="p">:</span> <span class="n">sys</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="s2">&quot;packages&quot;</span><span class="p">:</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">packages</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
    <span class="p">}</span>

    <span class="c1"># if config.include_all_info:</span>
    <span class="c1">#     import sysconfig</span>
    <span class="c1">#     result[&quot;python_config&quot;] = sysconfig.get_config_vars()</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h7 id="kiara.models.runtime_environment.python.find_all_distributions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_all_distributions</span><span class="p">()</span></code>


<a href="#kiara.models.runtime_environment.python.find_all_distributions" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/runtime_environment/python.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@lru_cache</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">find_all_distributions</span><span class="p">():</span>
    <span class="n">all_packages</span> <span class="o">=</span> <span class="n">packages_distributions</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">all_packages</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="kiara.models.values" class="doc doc-heading">
        <code>values</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara.models.values" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="kiara.models.values.DEFAULT_SCALAR_DATATYPE_CHARACTERISTICS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DEFAULT_SCALAR_DATATYPE_CHARACTERISTICS</span></code>


<a href="#kiara.models.values.DEFAULT_SCALAR_DATATYPE_CHARACTERISTICS" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>


<h4 id="kiara.models.values-classes">Classes<a href="#kiara.models.values-classes" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-class">



<h5 id="kiara.models.values.DataTypeCharacteristics" class="doc doc-heading">
        <code>
DataTypeCharacteristics            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.DataTypeCharacteristics" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DataTypeCharacteristics</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>

    <span class="n">is_scalar</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether the data desribed by this data type behaves like a skalar.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">is_json_serializable</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether the data can be serialized to json without information loss.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.values.DataTypeCharacteristics-attributes">Attributes<a href="#kiara.models.values.DataTypeCharacteristics-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.values.DataTypeCharacteristics.is_json_serializable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_json_serializable</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.DataTypeCharacteristics.is_json_serializable" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Whether the data can be serialized to json without information loss.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.values.DataTypeCharacteristics.is_scalar" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_scalar</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.DataTypeCharacteristics.is_scalar" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Whether the data desribed by this data type behaves like a skalar.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.values.ValueStatus" class="doc doc-heading">
        <code>
ValueStatus            (<span title="enum.Enum">Enum</span>)
        </code>



<a href="#kiara.models.values.ValueStatus" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>An enumeration.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueStatus</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>

    <span class="n">UNKNONW</span> <span class="o">=</span> <span class="s2">&quot;unknown&quot;</span>
    <span class="n">NOT_SET</span> <span class="o">=</span> <span class="s2">&quot;not set&quot;</span>
    <span class="n">NONE</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span>
    <span class="n">DEFAULT</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
    <span class="n">SET</span> <span class="o">=</span> <span class="s2">&quot;set&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.values.ValueStatus.DEFAULT" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DEFAULT</span></code>


<a href="#kiara.models.values.ValueStatus.DEFAULT" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.values.ValueStatus.NONE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">NONE</span></code>


<a href="#kiara.models.values.ValueStatus.NONE" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.values.ValueStatus.NOT_SET" class="doc doc-heading">
<code class="highlight language-python"><span class="n">NOT_SET</span></code>


<a href="#kiara.models.values.ValueStatus.NOT_SET" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.values.ValueStatus.SET" class="doc doc-heading">
<code class="highlight language-python"><span class="n">SET</span></code>


<a href="#kiara.models.values.ValueStatus.SET" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.values.ValueStatus.UNKNONW" class="doc doc-heading">
<code class="highlight language-python"><span class="n">UNKNONW</span></code>


<a href="#kiara.models.values.ValueStatus.UNKNONW" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>




<h4 id="kiara.models.values-modules">Modules<a href="#kiara.models.values-modules" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-module">



<h5 id="kiara.models.values.data_type" class="doc doc-heading">
        <code>data_type</code>



<a href="#kiara.models.values.data_type" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">



    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.values.lineage" class="doc doc-heading">
        <code>lineage</code>



<a href="#kiara.models.values.lineage" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.values.lineage.COLOR_LIST" class="doc doc-heading">
<code class="highlight language-python"><span class="n">COLOR_LIST</span></code>


<a href="#kiara.models.values.lineage.COLOR_LIST" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.lineage.ValueLineage" class="doc doc-heading">
        <code>
ValueLineage            (<span title="rich.jupyter.JupyterMixin">JupyterMixin</span>)
        </code>



<a href="#kiara.models.values.lineage.ValueLineage" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/lineage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueLineage</span><span class="p">(</span><span class="n">JupyterMixin</span><span class="p">):</span>
    <span class="c1"># @classmethod</span>
    <span class="c1"># def from_value(cls, value: Value) -&gt; &quot;ValueLineage&quot;:</span>
    <span class="c1">#     pass</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">:</span> <span class="n">Value</span> <span class="o">=</span> <span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">:</span> <span class="n">Kiara</span> <span class="o">=</span> <span class="n">kiara</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_full_graph</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">DiGraph</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_module_graph</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">DiGraph</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">full_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DiGraph</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_full_graph</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_full_graph</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_full_graph</span> <span class="o">=</span> <span class="n">create_lineage_graph</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_full_graph</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">module_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DiGraph</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_graph</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_graph</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_module_graph</span> <span class="o">=</span> <span class="n">create_lineage_graph_modules</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_value</span>
        <span class="p">)</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_graph</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">include_ids</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_ids&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">fill_renderable_lineage_tree</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">,</span> <span class="n">pedigree</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="o">.</span><span class="n">pedigree</span><span class="p">,</span> <span class="n">include_ids</span><span class="o">=</span><span class="n">include_ids</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">tree</span>

    <span class="k">def</span> <span class="nf">__rich_console__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">console</span><span class="p">:</span> <span class="n">Console</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">ConsoleOptions</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderResult</span><span class="p">:</span>

        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.lineage.ValueLineage.full_graph" class="doc doc-heading">
<code class="highlight language-python"><span class="n">full_graph</span><span class="p">:</span> <span class="n">DiGraph</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.lineage.ValueLineage.full_graph" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.lineage.ValueLineage.module_graph" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_graph</span><span class="p">:</span> <span class="n">DiGraph</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.lineage.ValueLineage.module_graph" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.lineage.ValueLineage.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.values.lineage.ValueLineage.create_renderable" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/lineage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">include_ids</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_ids&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">tree</span> <span class="o">=</span> <span class="n">fill_renderable_lineage_tree</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">,</span> <span class="n">pedigree</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="o">.</span><span class="n">pedigree</span><span class="p">,</span> <span class="n">include_ids</span><span class="o">=</span><span class="n">include_ids</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">tree</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h7 id="kiara.models.values.lineage.create_lineage_graph" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_lineage_graph</span><span class="p">(</span><span class="n">kiara</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>


<a href="#kiara.models.values.lineage.create_lineage_graph" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/lineage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_lineage_graph</span><span class="p">(</span>
    <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span>
    <span class="n">graph</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">DiGraph</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">parent</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DiGraph</span><span class="p">:</span>

    <span class="k">if</span> <span class="n">graph</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">graph</span> <span class="o">=</span> <span class="n">DiGraph</span><span class="p">()</span>
        <span class="n">graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;value:</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">data_type</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="s2">&quot;root_value&quot;</span><span class="p">,</span>
            <span class="n">node_type</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">,</span>
            <span class="n">data_type_config</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_config</span><span class="p">,</span>
            <span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;value:</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">module_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;module:</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">pedigree</span><span class="o">.</span><span class="n">job_hash</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">module_label</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;module:</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">pedigree</span><span class="o">.</span><span class="n">module_type</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
        <span class="n">module_id</span><span class="p">,</span>
        <span class="n">module_type</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">pedigree</span><span class="o">.</span><span class="n">module_type</span><span class="p">,</span>
        <span class="n">module_config</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">pedigree</span><span class="o">.</span><span class="n">module_config</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="n">module_label</span><span class="p">,</span>
        <span class="n">node_type</span><span class="o">=</span><span class="s2">&quot;operation&quot;</span><span class="p">,</span>
        <span class="n">level</span><span class="o">=</span><span class="p">(</span><span class="n">level</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span>
        <span class="n">parent</span><span class="p">,</span>
        <span class="n">module_id</span><span class="p">,</span>
        <span class="nb">id</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">parent</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">module_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">field_name</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">pedigree_output_name</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">pedigree_output_name</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">for</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">pedigree</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>

        <span class="n">child_value_id</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">pedigree</span><span class="o">.</span><span class="n">inputs</span><span class="p">[</span><span class="n">input_name</span><span class="p">]</span>
        <span class="n">child_value</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">child_value_id</span><span class="p">)</span>

        <span class="n">input_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;value:</span><span class="si">{</span><span class="n">child_value</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">input_label</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
            <span class="n">input_id</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="n">input_label</span><span class="p">,</span>
            <span class="n">node_type</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">,</span>
            <span class="n">data_type</span><span class="o">=</span><span class="n">child_value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">,</span>
            <span class="n">data_type_config</span><span class="o">=</span><span class="n">child_value</span><span class="o">.</span><span class="n">data_type_config</span><span class="p">,</span>
            <span class="n">level</span><span class="o">=</span><span class="p">(</span><span class="n">level</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span>
            <span class="n">module_id</span><span class="p">,</span>
            <span class="n">input_id</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">module_id</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">input_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">field_name</span><span class="o">=</span><span class="n">input_name</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="n">input_name</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">child_value</span><span class="o">.</span><span class="n">pedigree</span> <span class="o">!=</span> <span class="n">ORPHAN</span><span class="p">:</span>
            <span class="n">create_lineage_graph</span><span class="p">(</span>
                <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="n">child_value</span><span class="p">,</span>
                <span class="n">graph</span><span class="o">=</span><span class="n">graph</span><span class="p">,</span>
                <span class="n">parent</span><span class="o">=</span><span class="n">input_id</span><span class="p">,</span>
                <span class="n">level</span><span class="o">=</span><span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
            <span class="p">)</span>
    <span class="k">return</span> <span class="n">graph</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h7 id="kiara.models.values.lineage.create_lineage_graph_modules" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_lineage_graph_modules</span><span class="p">(</span><span class="n">kiara</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">graph</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">input_field</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>


<a href="#kiara.models.values.lineage.create_lineage_graph_modules" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/lineage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_lineage_graph_modules</span><span class="p">(</span>
    <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span>
    <span class="n">graph</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">DiGraph</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">parent</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">input_field</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DiGraph</span><span class="p">:</span>

    <span class="k">if</span> <span class="n">graph</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">graph</span> <span class="o">=</span> <span class="n">DiGraph</span><span class="p">()</span>
        <span class="n">graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;value:</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">data_type</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="s2">&quot;[this value]&quot;</span><span class="p">,</span>
            <span class="n">node_type</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">,</span>
            <span class="n">data_type_config</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_config</span><span class="p">,</span>
            <span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">module_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;module:</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">pedigree</span><span class="o">.</span><span class="n">job_hash</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">module_label</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">pedigree</span><span class="o">.</span><span class="n">module_type</span>
    <span class="n">graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
        <span class="n">module_id</span><span class="p">,</span>
        <span class="n">module_type</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">pedigree</span><span class="o">.</span><span class="n">module_type</span><span class="p">,</span>
        <span class="n">module_config</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">pedigree</span><span class="o">.</span><span class="n">module_config</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="n">module_label</span><span class="p">,</span>
        <span class="n">node_type</span><span class="o">=</span><span class="s2">&quot;operation&quot;</span><span class="p">,</span>
        <span class="n">level</span><span class="o">=</span><span class="p">(</span><span class="n">level</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">parent</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;value:</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span>
            <span class="n">parent</span><span class="p">,</span>
            <span class="n">module_id</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">parent</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">module_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">field_name</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">pedigree_output_name</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">pedigree_output_name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">input_field</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span>
            <span class="n">parent</span><span class="p">,</span>
            <span class="n">module_id</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">parent</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">input_field</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">field_name</span><span class="o">=</span><span class="n">input_field</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">input_field</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">for</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">pedigree</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>

        <span class="n">child_value_id</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">pedigree</span><span class="o">.</span><span class="n">inputs</span><span class="p">[</span><span class="n">input_name</span><span class="p">]</span>
        <span class="n">child_value</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">child_value_id</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">child_value</span><span class="o">.</span><span class="n">pedigree</span> <span class="o">!=</span> <span class="n">ORPHAN</span><span class="p">:</span>
            <span class="n">create_lineage_graph_modules</span><span class="p">(</span>
                <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="n">child_value</span><span class="p">,</span>
                <span class="n">graph</span><span class="o">=</span><span class="n">graph</span><span class="p">,</span>
                <span class="n">parent</span><span class="o">=</span><span class="n">module_id</span><span class="p">,</span>
                <span class="n">input_field</span><span class="o">=</span><span class="n">input_name</span><span class="p">,</span>
                <span class="n">level</span><span class="o">=</span><span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">input_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;value:</span><span class="si">{</span><span class="n">child_value</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">input_label</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">child_value</span><span class="o">.</span><span class="n">data_type_name</span><span class="si">}</span><span class="s2">)&quot;</span>

            <span class="n">graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
                <span class="n">input_id</span><span class="p">,</span>
                <span class="n">label</span><span class="o">=</span><span class="n">input_label</span><span class="p">,</span>
                <span class="n">node_type</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">,</span>
                <span class="n">data_type</span><span class="o">=</span><span class="n">child_value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">,</span>
                <span class="n">data_type_config</span><span class="o">=</span><span class="n">child_value</span><span class="o">.</span><span class="n">data_type_config</span><span class="p">,</span>
                <span class="n">level</span><span class="o">=</span><span class="p">(</span><span class="n">level</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span>
                <span class="n">module_id</span><span class="p">,</span>
                <span class="n">input_id</span><span class="p">,</span>
                <span class="nb">id</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">module_id</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">input_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">field_name</span><span class="o">=</span><span class="n">input_name</span><span class="p">,</span>
                <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">child_value</span><span class="o">.</span><span class="n">data_type_name</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">return</span> <span class="n">graph</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h7 id="kiara.models.values.lineage.fill_renderable_lineage_tree" class="doc doc-heading">
<code class="highlight language-python"><span class="n">fill_renderable_lineage_tree</span><span class="p">(</span><span class="n">kiara</span><span class="p">,</span> <span class="n">pedigree</span><span class="p">,</span> <span class="n">node</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_ids</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>


<a href="#kiara.models.values.lineage.fill_renderable_lineage_tree" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/lineage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">fill_renderable_lineage_tree</span><span class="p">(</span>
    <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
    <span class="n">pedigree</span><span class="p">:</span> <span class="n">ValuePedigree</span><span class="p">,</span>
    <span class="n">node</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Tree</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include_ids</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">):</span>

    <span class="n">color</span> <span class="o">=</span> <span class="n">COLOR_LIST</span><span class="p">[</span><span class="n">level</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">COLOR_LIST</span><span class="p">)]</span>
    <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[b </span><span class="si">{</span><span class="n">color</span><span class="si">}</span><span class="s2">]</span><span class="si">{</span><span class="n">pedigree</span><span class="o">.</span><span class="n">module_type</span><span class="si">}</span><span class="s2">[/b </span><span class="si">{</span><span class="n">color</span><span class="si">}</span><span class="s2">]&quot;</span>
    <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">main</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">main</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pedigree</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>

        <span class="n">child_value_id</span> <span class="o">=</span> <span class="n">pedigree</span><span class="o">.</span><span class="n">inputs</span><span class="p">[</span><span class="n">input_name</span><span class="p">]</span>

        <span class="n">child_value</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">child_value_id</span><span class="p">)</span>

        <span class="n">value_type</span> <span class="o">=</span> <span class="n">child_value</span><span class="o">.</span><span class="n">data_type_name</span>
        <span class="k">if</span> <span class="n">include_ids</span><span class="p">:</span>
            <span class="n">v_id_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; = </span><span class="si">{</span><span class="n">child_value</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">v_id_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">input_node</span> <span class="o">=</span> <span class="n">main</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;input: [i </span><span class="si">{</span><span class="n">color</span><span class="si">}</span><span class="s2">]</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">)[/i </span><span class="si">{</span><span class="n">color</span><span class="si">}</span><span class="s2">]</span><span class="si">{</span><span class="n">v_id_str</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">child_value</span><span class="o">.</span><span class="n">pedigree</span> <span class="o">!=</span> <span class="n">ORPHAN</span><span class="p">:</span>
            <span class="n">fill_renderable_lineage_tree</span><span class="p">(</span>
                <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span><span class="p">,</span>
                <span class="n">pedigree</span><span class="o">=</span><span class="n">child_value</span><span class="o">.</span><span class="n">pedigree</span><span class="p">,</span>
                <span class="n">node</span><span class="o">=</span><span class="n">input_node</span><span class="p">,</span>
                <span class="n">level</span><span class="o">=</span><span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                <span class="n">include_ids</span><span class="o">=</span><span class="n">include_ids</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">return</span> <span class="n">main</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.values.matchers" class="doc doc-heading">
        <code>matchers</code>



<a href="#kiara.models.values.matchers" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.values.matchers-classes">Classes<a href="#kiara.models.values.matchers-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.matchers.ValueMatcher" class="doc doc-heading">
        <code>
ValueMatcher            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.matchers.ValueMatcher" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>An object describing requirements values should satisfy in order to be included in a query result.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/matchers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueMatcher</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An object describing requirements values should satisfy in order to be included in a query result.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_matcher</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">match_options</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>

        <span class="n">m</span> <span class="o">=</span> <span class="n">ValueMatcher</span><span class="p">(</span><span class="o">**</span><span class="n">match_options</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">m</span>

    <span class="n">data_types</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The data type.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">allow_sub_types</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Allow subtypes.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">min_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The minimum size for the dataset.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">max_size</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The maximum size for the dataset.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>
    <span class="n">allow_internal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Allow internal data types.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>
    <span class="n">has_alias</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Value must have at least one alias.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_types</span><span class="p">:</span>
            <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_sub_types</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">data_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_types</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">data_type</span> <span class="o">==</span> <span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">:</span>
                        <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">data_type_names</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">False</span>
                <span class="n">lineage</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">get_type_lineage</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">data_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_types</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">data_type</span> <span class="ow">in</span> <span class="n">lineage</span><span class="p">:</span>
                        <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">break</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">match</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_size</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">value_size</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_size</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_size</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">value_size</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_size</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_internal</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">is_internal_type</span><span class="p">(</span>
                <span class="n">data_type_name</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_alias</span><span class="p">:</span>
            <span class="n">aliases</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">find_aliases_for_value_id</span><span class="p">(</span>
                <span class="n">value_id</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">aliases</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.matchers.ValueMatcher-attributes">Attributes<a href="#kiara.models.values.matchers.ValueMatcher-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.matchers.ValueMatcher.allow_internal" class="doc doc-heading">
<code class="highlight language-python"><span class="n">allow_internal</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.matchers.ValueMatcher.allow_internal" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Allow internal data types.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.matchers.ValueMatcher.allow_sub_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">allow_sub_types</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.matchers.ValueMatcher.allow_sub_types" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Allow subtypes.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.matchers.ValueMatcher.data_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_types</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.matchers.ValueMatcher.data_types" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The data type.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.matchers.ValueMatcher.has_alias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">has_alias</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.matchers.ValueMatcher.has_alias" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Value must have at least one alias.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.matchers.ValueMatcher.max_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">max_size</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.matchers.ValueMatcher.max_size" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The maximum size for the dataset.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.matchers.ValueMatcher.min_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">min_size</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.matchers.ValueMatcher.min_size" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The minimum size for the dataset.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.matchers.ValueMatcher.create_matcher" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_matcher</span><span class="p">(</span><span class="o">**</span><span class="n">match_options</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.matchers.ValueMatcher.create_matcher" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/matchers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_matcher</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">match_options</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>

    <span class="n">m</span> <span class="o">=</span> <span class="n">ValueMatcher</span><span class="p">(</span><span class="o">**</span><span class="n">match_options</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">m</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.matchers.ValueMatcher.is_match" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">kiara</span><span class="p">)</span></code>


<a href="#kiara.models.values.matchers.ValueMatcher.is_match" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/matchers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_types</span><span class="p">:</span>
        <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_sub_types</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">data_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_types</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">data_type</span> <span class="o">==</span> <span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">:</span>
                    <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">data_type_names</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="n">lineage</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">get_type_lineage</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">data_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_types</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">data_type</span> <span class="ow">in</span> <span class="n">lineage</span><span class="p">:</span>
                    <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">match</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_size</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">value_size</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_size</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_size</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">value_size</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_size</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_internal</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_registry</span><span class="o">.</span><span class="n">is_internal_type</span><span class="p">(</span>
            <span class="n">data_type_name</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">data_type_name</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_alias</span><span class="p">:</span>
        <span class="n">aliases</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">alias_registry</span><span class="o">.</span><span class="n">find_aliases_for_value_id</span><span class="p">(</span>
            <span class="n">value_id</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">aliases</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.values.value" class="doc doc-heading">
        <code>value</code>



<a href="#kiara.models.values.value" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.values.value.ORPHAN" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ORPHAN</span></code>


<a href="#kiara.models.values.value.ORPHAN" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.values.value.SERIALIZE_TYPES" class="doc doc-heading">
<code class="highlight language-python"><span class="n">SERIALIZE_TYPES</span></code>


<a href="#kiara.models.values.value.SERIALIZE_TYPES" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.values.value.log" class="doc doc-heading">
<code class="highlight language-python"><span class="n">log</span></code>


<a href="#kiara.models.values.value.log" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.values.value.yaml" class="doc doc-heading">
<code class="highlight language-python"><span class="n">yaml</span></code>


<a href="#kiara.models.values.value.yaml" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>


<h6 id="kiara.models.values.value-classes">Classes<a href="#kiara.models.values.value-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.DataTypeInfo" class="doc doc-heading">
        <code>
DataTypeInfo            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.DataTypeInfo" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DataTypeInfo</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;info.data_type_instance&quot;</span>

    <span class="n">data_type_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The registered name of this data type.&quot;</span><span class="p">)</span>
    <span class="n">data_type_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The (optional) configuration for this data type.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">characteristics</span><span class="p">:</span> <span class="n">DataTypeCharacteristics</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Characteristics of this data type.&quot;</span>
    <span class="p">)</span>
    <span class="n">data_type_class</span><span class="p">:</span> <span class="n">PythonClass</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The python class that is associated with this model.&quot;</span>
    <span class="p">)</span>
    <span class="n">_data_type_instance</span><span class="p">:</span> <span class="s2">&quot;DataType&quot;</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data_type_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;DataType&quot;</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_type_instance</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_type_instance</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_data_type_instance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type_class</span><span class="o">.</span><span class="n">get_class</span><span class="p">()(</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type_config</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_type_instance</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.DataTypeInfo-attributes">Attributes<a href="#kiara.models.values.value.DataTypeInfo-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.DataTypeInfo.characteristics" class="doc doc-heading">
<code class="highlight language-python"><span class="n">characteristics</span><span class="p">:</span> <span class="n">DataTypeCharacteristics</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.DataTypeInfo.characteristics" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Characteristics of this data type.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.DataTypeInfo.data_type_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_type_class</span><span class="p">:</span> <span class="n">PythonClass</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.DataTypeInfo.data_type_class" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The python class that is associated with this model.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.DataTypeInfo.data_type_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_type_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.DataTypeInfo.data_type_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The (optional) configuration for this data type.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.DataTypeInfo.data_type_instance" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_type_instance</span><span class="p">:</span> <span class="n">DataType</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.DataTypeInfo.data_type_instance" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.DataTypeInfo.data_type_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_type_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.DataTypeInfo.data_type_name" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The registered name of this data type.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.PersistedData" class="doc doc-heading">
        <code>
PersistedData            (<a class="autorefs autorefs-internal" title="kiara.models.values.value.SerializedData" href="../values/value/#kiara.models.values.value.SerializedData">SerializedData</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.PersistedData" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PersistedData</span><span class="p">(</span><span class="n">SerializedData</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.persisted_data&quot;</span>

    <span class="n">archive_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The id of the store that persisted the data.&quot;</span>
    <span class="p">)</span>
    <span class="n">chunk_id_map</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">SerializedChunkIDs</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Reference-ids that resolve to the values&#39; serialized chunks.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">chunk_id_map</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_serialized_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SerializedChunks</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">chunk_id_map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.PersistedData-attributes">Attributes<a href="#kiara.models.values.value.PersistedData-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.PersistedData.archive_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">archive_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.PersistedData.archive_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The id of the store that persisted the data.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.PersistedData.chunk_id_map" class="doc doc-heading">
<code class="highlight language-python"><span class="n">chunk_id_map</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">SerializedChunkIDs</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.PersistedData.chunk_id_map" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Reference-ids that resolve to the values' serialized chunks.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.PersistedData.get_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.PersistedData.get_keys" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">chunk_id_map</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.PersistedData.get_serialized_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_serialized_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.PersistedData.get_serialized_data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_serialized_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SerializedChunks</span><span class="p">:</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">chunk_id_map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.SerializationMetadata" class="doc doc-heading">
        <code>
SerializationMetadata            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.SerializationMetadata" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SerializationMetadata</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;metadata.serialized_data&quot;</span>

    <span class="n">environment</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Hash(es) for the environments the value was created/serialized.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">deserialize</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Manifest</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Suggested manifest configs to use to de-serialize the data.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.SerializationMetadata-attributes">Attributes<a href="#kiara.models.values.value.SerializationMetadata-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializationMetadata.deserialize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deserialize</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">Manifest</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.SerializationMetadata.deserialize" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Suggested manifest configs to use to de-serialize the data.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializationMetadata.environment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">environment</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.SerializationMetadata.environment" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Hash(es) for the environments the value was created/serialized.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.SerializationResult" class="doc doc-heading">
        <code>
SerializationResult            (<a class="autorefs autorefs-internal" title="kiara.models.values.value.SerializedData" href="../values/value/#kiara.models.values.value.SerializedData">SerializedData</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.SerializationResult" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SerializationResult</span><span class="p">(</span><span class="n">SerializedData</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.serialization_result&quot;</span>

    <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span>
        <span class="n">Union</span><span class="p">[</span>
            <span class="n">SerializedBytes</span><span class="p">,</span>
            <span class="n">SerializedListOfBytes</span><span class="p">,</span>
            <span class="n">SerializedFile</span><span class="p">,</span>
            <span class="n">SerializedFiles</span><span class="p">,</span>
            <span class="n">SerializedInlineJson</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;One or several byte arrays representing the serialized state of the value.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_serialized_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SerializedChunks</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>

        <span class="n">codec</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;codec&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">codec</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">codec</span> <span class="o">=</span> <span class="s2">&quot;sha2-256&quot;</span>
            <span class="n">values</span><span class="p">[</span><span class="s2">&quot;hash_codec&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">codec</span>

        <span class="n">v</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">SerializedChunks</span><span class="p">):</span>
                <span class="n">result</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
                <span class="n">s_type</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">s_type</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Invalid serialized data config, missing &#39;type&#39; key: </span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="n">s_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">SERIALIZE_TYPES</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Invalid serialized data type &#39;</span><span class="si">{</span><span class="n">s_type</span><span class="si">}</span><span class="s2">&#39;. Allowed types: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SERIALIZE_TYPES</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>

                <span class="k">assert</span> <span class="n">s_type</span> <span class="o">!=</span> <span class="s2">&quot;chunk-ids&quot;</span>
                <span class="bp">cls</span> <span class="o">=</span> <span class="n">SERIALIZE_TYPES</span><span class="p">[</span><span class="n">s_type</span><span class="p">]</span>
                <span class="n">result</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>

        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
        <span class="k">return</span> <span class="n">values</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;data_type&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span>
        <span class="n">_config</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
            <span class="n">orjson_dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type_config</span><span class="p">),</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;data_type_config&quot;</span><span class="p">,</span> <span class="n">_config</span><span class="p">)</span>

        <span class="n">data_fields</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">model</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">data_fields</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">type</span><span class="p">}</span>
        <span class="n">data_json</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
            <span class="n">orjson_dumps</span><span class="p">(</span><span class="n">data_fields</span><span class="p">),</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="n">data_json</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;size&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_size</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;hash&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(type=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="si">}</span><span class="s2"> size=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_size</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.SerializationResult-attributes">Attributes<a href="#kiara.models.values.value.SerializationResult-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializationResult.data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">SerializedBytes</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">SerializedListOfBytes</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">SerializedFile</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">SerializedFiles</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">SerializedInlineJson</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.SerializationResult.data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>One or several byte arrays representing the serialized state of the value.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializationResult.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializationResult.create_renderable" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;data_type&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span>
    <span class="n">_config</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
        <span class="n">orjson_dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type_config</span><span class="p">),</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span>
    <span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;data_type_config&quot;</span><span class="p">,</span> <span class="n">_config</span><span class="p">)</span>

    <span class="n">data_fields</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">model</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">data_fields</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">type</span><span class="p">}</span>
    <span class="n">data_json</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
        <span class="n">orjson_dumps</span><span class="p">(</span><span class="n">data_fields</span><span class="p">),</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span>
    <span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="n">data_json</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;size&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_size</span><span class="p">))</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;hash&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializationResult.get_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializationResult.get_keys" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializationResult.get_serialized_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_serialized_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializationResult.get_serialized_data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_serialized_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SerializedChunks</span><span class="p">:</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializationResult.validate_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_data</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.value.SerializationResult.validate_data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>

    <span class="n">codec</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;codec&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">codec</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">codec</span> <span class="o">=</span> <span class="s2">&quot;sha2-256&quot;</span>
        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;hash_codec&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">codec</span>

    <span class="n">v</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">SerializedChunks</span><span class="p">):</span>
            <span class="n">result</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">s_type</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">s_type</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid serialized data config, missing &#39;type&#39; key: </span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">s_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">SERIALIZE_TYPES</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid serialized data type &#39;</span><span class="si">{</span><span class="n">s_type</span><span class="si">}</span><span class="s2">&#39;. Allowed types: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SERIALIZE_TYPES</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

            <span class="k">assert</span> <span class="n">s_type</span> <span class="o">!=</span> <span class="s2">&quot;chunk-ids&quot;</span>
            <span class="bp">cls</span> <span class="o">=</span> <span class="n">SERIALIZE_TYPES</span><span class="p">[</span><span class="n">s_type</span><span class="p">]</span>
            <span class="n">result</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>

    <span class="n">values</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
    <span class="k">return</span> <span class="n">values</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.SerializedBytes" class="doc doc-heading">
        <code>
SerializedBytes            (<a class="autorefs autorefs-internal" title="kiara.models.values.value.SerializedPreStoreChunks" href="../values/value/#kiara.models.values.value.SerializedPreStoreChunks">SerializedPreStoreChunks</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedBytes" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SerializedBytes</span><span class="p">(</span><span class="n">SerializedPreStoreChunks</span><span class="p">):</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;chunk&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;chunk&quot;</span>
    <span class="n">chunk</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;A byte-array&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_chunks</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BytesLike</span><span class="p">]]:</span>

        <span class="k">if</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">chunk</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">file</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">as_files</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">file</span> <span class="o">=</span> <span class="n">as_files</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">as_files</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
                <span class="n">file</span> <span class="o">=</span> <span class="n">as_files</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_store_bytes_to_file</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">chunk</span><span class="p">],</span> <span class="n">file</span><span class="o">=</span><span class="n">file</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">path</span>

    <span class="k">def</span> <span class="nf">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">_get_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chunk</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_cids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hash_codec</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CID</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_cid_from_chunk</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chunk</span><span class="p">,</span> <span class="n">hash_codec</span><span class="o">=</span><span class="n">hash_codec</span><span class="p">)]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.SerializedBytes-attributes">Attributes<a href="#kiara.models.values.value.SerializedBytes-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedBytes.chunk" class="doc doc-heading">
<code class="highlight language-python"><span class="n">chunk</span><span class="p">:</span> <span class="nb">bytes</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedBytes.chunk" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A byte-array</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedBytes.type" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;chunk&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedBytes.type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>




<h8 id="kiara.models.values.value.SerializedBytes-methods">Methods<a href="#kiara.models.values.value.SerializedBytes-methods" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedBytes.get_chunks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedBytes.get_chunks" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Retrieve the chunks belonging to this data instance.</p>
<p>If 'as_file' is False, return the data as bytes. If set to 'True' store it to an arbitrary location (or use
an existing one), and return the path to that file. If 'as_file' is a string, write the data (bytes) into
a new file using the string as path. If 'symlink_ok' is set to True, symlinking an existing file to the value of
'as_file' is also ok, otherwise copy the content.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_chunks</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BytesLike</span><span class="p">]]:</span>

    <span class="k">if</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">chunk</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">file</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">as_files</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">file</span> <span class="o">=</span> <span class="n">as_files</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">as_files</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
            <span class="n">file</span> <span class="o">=</span> <span class="n">as_files</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_store_bytes_to_file</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">chunk</span><span class="p">],</span> <span class="n">file</span><span class="o">=</span><span class="n">file</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedBytes.get_number_of_chunks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedBytes.get_number_of_chunks" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="mi">1</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.SerializedChunkIDs" class="doc doc-heading">
        <code>
SerializedChunkIDs            (<a class="autorefs autorefs-internal" title="kiara.models.values.value.SerializedChunks" href="../values/value/#kiara.models.values.value.SerializedChunks">SerializedChunks</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedChunkIDs" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SerializedChunkIDs</span><span class="p">(</span><span class="n">SerializedChunks</span><span class="p">):</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;chunk-ids&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;chunk-ids&quot;</span>
    <span class="n">chunk_id_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A list of chunk ids, which will be resolved via the attached data registry.&quot;</span>
    <span class="p">)</span>
    <span class="n">archive_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The preferred data archive to get the chunks from.&quot;</span>
    <span class="p">)</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The size of all chunks combined.&quot;</span><span class="p">)</span>
    <span class="n">_data_registry</span><span class="p">:</span> <span class="s2">&quot;DataRegistry&quot;</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_chunks</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BytesLike</span><span class="p">]]:</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">as_files</span><span class="p">,</span> <span class="p">(</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">)):</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">retrieve_chunk</span><span class="p">(</span>
                    <span class="n">chunk_id</span><span class="o">=</span><span class="n">chunk</span><span class="p">,</span>
                    <span class="n">archive_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_id</span><span class="p">,</span>
                    <span class="n">as_file</span><span class="o">=</span><span class="n">as_files</span><span class="p">,</span>
                    <span class="n">symlink_ok</span><span class="o">=</span><span class="n">symlink_ok</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">chunk_id_list</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">chunk_id</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chunk_id_list</span><span class="p">):</span>
                <span class="n">file</span> <span class="o">=</span> <span class="n">as_files</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">retrieve_chunk</span><span class="p">(</span>
                    <span class="n">chunk_id</span><span class="o">=</span><span class="n">chunk_id</span><span class="p">,</span>
                    <span class="n">archive_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_id</span><span class="p">,</span>
                    <span class="n">as_file</span><span class="o">=</span><span class="n">file</span><span class="p">,</span>
                    <span class="n">symlink_ok</span><span class="o">=</span><span class="n">symlink_ok</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chunk_id_list</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>

    <span class="k">def</span> <span class="nf">_create_cids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hash_codec</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CID</span><span class="p">]:</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">chunk_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">chunk_id_list</span><span class="p">:</span>
            <span class="n">cid</span> <span class="o">=</span> <span class="n">CID</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">chunk_id</span><span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cid</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.SerializedChunkIDs-attributes">Attributes<a href="#kiara.models.values.value.SerializedChunkIDs-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedChunkIDs.archive_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">archive_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedChunkIDs.archive_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The preferred data archive to get the chunks from.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedChunkIDs.chunk_id_list" class="doc doc-heading">
<code class="highlight language-python"><span class="n">chunk_id_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedChunkIDs.chunk_id_list" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A list of chunk ids, which will be resolved via the attached data registry.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedChunkIDs.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedChunkIDs.size" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The size of all chunks combined.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedChunkIDs.type" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;chunk-ids&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedChunkIDs.type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>




<h8 id="kiara.models.values.value.SerializedChunkIDs-methods">Methods<a href="#kiara.models.values.value.SerializedChunkIDs-methods" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedChunkIDs.get_chunks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedChunkIDs.get_chunks" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Retrieve the chunks belonging to this data instance.</p>
<p>If 'as_file' is False, return the data as bytes. If set to 'True' store it to an arbitrary location (or use
an existing one), and return the path to that file. If 'as_file' is a string, write the data (bytes) into
a new file using the string as path. If 'symlink_ok' is set to True, symlinking an existing file to the value of
'as_file' is also ok, otherwise copy the content.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_chunks</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BytesLike</span><span class="p">]]:</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">as_files</span><span class="p">,</span> <span class="p">(</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">)):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">retrieve_chunk</span><span class="p">(</span>
                <span class="n">chunk_id</span><span class="o">=</span><span class="n">chunk</span><span class="p">,</span>
                <span class="n">archive_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_id</span><span class="p">,</span>
                <span class="n">as_file</span><span class="o">=</span><span class="n">as_files</span><span class="p">,</span>
                <span class="n">symlink_ok</span><span class="o">=</span><span class="n">symlink_ok</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">chunk_id_list</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">chunk_id</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chunk_id_list</span><span class="p">):</span>
            <span class="n">file</span> <span class="o">=</span> <span class="n">as_files</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">retrieve_chunk</span><span class="p">(</span>
                <span class="n">chunk_id</span><span class="o">=</span><span class="n">chunk_id</span><span class="p">,</span>
                <span class="n">archive_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_id</span><span class="p">,</span>
                <span class="n">as_file</span><span class="o">=</span><span class="n">file</span><span class="p">,</span>
                <span class="n">symlink_ok</span><span class="o">=</span><span class="n">symlink_ok</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedChunkIDs.get_number_of_chunks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedChunkIDs.get_number_of_chunks" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chunk_id_list</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.SerializedChunks" class="doc doc-heading">
        <code>
SerializedChunks            (<span title="pydantic.main.BaseModel">BaseModel</span>, <span title="abc.ABC">ABC</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedChunks" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SerializedChunks</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">ABC</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">json_loads</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">loads</span>
        <span class="n">json_dumps</span> <span class="o">=</span> <span class="n">orjson_dumps</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">forbid</span>

    <span class="n">_size_cache</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_hashes_cache</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CID</span><span class="p">]]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_chunks</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BytesLike</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve the chunks belonging to this data instance.</span>

<span class="sd">        If &#39;as_file&#39; is False, return the data as bytes. If set to &#39;True&#39; store it to an arbitrary location (or use</span>
<span class="sd">        an existing one), and return the path to that file. If &#39;as_file&#39; is a string, write the data (bytes) into</span>
<span class="sd">        a new file using the string as path. If &#39;symlink_ok&#39; is set to True, symlinking an existing file to the value of</span>
<span class="sd">        &#39;as_file&#39; is also ok, otherwise copy the content.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">_get_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">_create_cids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hash_codec</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CID</span><span class="p">]:</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">get_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_size</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span>

    <span class="k">def</span> <span class="nf">get_cids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hash_codec</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CID</span><span class="p">]:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hashes_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">hash_codec</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_hashes_cache</span><span class="p">[</span><span class="n">hash_codec</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_cids</span><span class="p">(</span><span class="n">hash_codec</span><span class="o">=</span><span class="n">hash_codec</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hashes_cache</span><span class="p">[</span><span class="n">hash_codec</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_store_bytes_to_file</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">chunks</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">bytes</span><span class="p">],</span> <span class="n">file</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="s2">&quot;Utility method to store bytes to a file.&quot;</span>

        <span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">file_desc</span><span class="p">,</span> <span class="n">file</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkstemp</span><span class="p">()</span>

            <span class="k">def</span> <span class="nf">del_temp_file</span><span class="p">():</span>
                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

            <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">del_temp_file</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t write to file, file exists: </span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">file_desc</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="mo">0o600</span><span class="p">)</span>

        <span class="k">with</span> <span class="n">os</span><span class="o">.</span><span class="n">fdopen</span><span class="p">(</span><span class="n">file_desc</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">tmp</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">chunks</span><span class="p">:</span>
                <span class="n">tmp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">file</span>

    <span class="k">def</span> <span class="nf">_read_bytes_from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">content</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h9 id="kiara.models.values.value.SerializedChunks.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.values.value.SerializedChunks.Config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">json_loads</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">loads</span>
    <span class="n">json_dumps</span> <span class="o">=</span> <span class="n">orjson_dumps</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">forbid</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.values.value.SerializedChunks.Config.extra" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extra</span></code>


<a href="#kiara.models.values.value.SerializedChunks.Config.extra" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.values.value.SerializedChunks.Config.json_loads" class="doc doc-heading">
<code class="highlight language-python"><span class="n">json_loads</span></code>


<a href="#kiara.models.values.value.SerializedChunks.Config.json_loads" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h11 id="kiara.models.values.value.SerializedChunks.Config.json_dumps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">json_dumps</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedChunks.Config.json_dumps" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">orjson_dumps</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">):</span>
    <span class="c1"># orjson.dumps returns bytes, to match standard json.dumps we need to decode</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">orjson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_debug</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error dumping json data: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="kn">from</span> <span class="nn">kiara</span> <span class="kn">import</span> <span class="n">dbg</span>

            <span class="n">dbg</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

        <span class="k">raise</span> <span class="n">e</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



<h8 id="kiara.models.values.value.SerializedChunks-methods">Methods<a href="#kiara.models.values.value.SerializedChunks-methods" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedChunks.get_chunks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedChunks.get_chunks" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Retrieve the chunks belonging to this data instance.</p>
<p>If 'as_file' is False, return the data as bytes. If set to 'True' store it to an arbitrary location (or use
an existing one), and return the path to that file. If 'as_file' is a string, write the data (bytes) into
a new file using the string as path. If 'symlink_ok' is set to True, symlinking an existing file to the value of
'as_file' is also ok, otherwise copy the content.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">get_chunks</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BytesLike</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Retrieve the chunks belonging to this data instance.</span>

<span class="sd">    If &#39;as_file&#39; is False, return the data as bytes. If set to &#39;True&#39; store it to an arbitrary location (or use</span>
<span class="sd">    an existing one), and return the path to that file. If &#39;as_file&#39; is a string, write the data (bytes) into</span>
<span class="sd">    a new file using the string as path. If &#39;symlink_ok&#39; is set to True, symlinking an existing file to the value of</span>
<span class="sd">    &#39;as_file&#39; is also ok, otherwise copy the content.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedChunks.get_cids" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_cids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hash_codec</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedChunks.get_cids" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_cids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hash_codec</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CID</span><span class="p">]:</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hashes_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">hash_codec</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hashes_cache</span><span class="p">[</span><span class="n">hash_codec</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_cids</span><span class="p">(</span><span class="n">hash_codec</span><span class="o">=</span><span class="n">hash_codec</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hashes_cache</span><span class="p">[</span><span class="n">hash_codec</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedChunks.get_number_of_chunks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedChunks.get_number_of_chunks" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedChunks.get_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedChunks.get_size" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_size</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.SerializedData" class="doc doc-heading">
        <code>
SerializedData            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedData" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SerializedData</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>

    <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the data type for this serialized value.&quot;</span>
    <span class="p">)</span>
    <span class="n">data_type_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The (optional) config for the data type for this serialized value.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">serialization_profile</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;An identifying name for the serialization method used.&quot;</span>
    <span class="p">)</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">SerializationMetadata</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Optional metadata describing aspects of the serialization used.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">SerializationMetadata</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">hash_codec</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The codec used to hash the value.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;sha2-256&quot;</span>
    <span class="p">)</span>
    <span class="n">_cids_cache</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CID</span><span class="p">]]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>

    <span class="n">_cached_data_size</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_cached_dag</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CID</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="c1"># _cached_cid: Optional[CID] = PrivateAttr(default=None)</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dag</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_data_size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_data_size</span>

        <span class="n">size</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_keys</span><span class="p">():</span>
            <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_serialized_data</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            <span class="n">size</span> <span class="o">=</span> <span class="n">size</span> <span class="o">+</span> <span class="n">model</span><span class="o">.</span><span class="n">get_size</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cached_data_size</span> <span class="o">=</span> <span class="n">size</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_data_size</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">pass</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_serialized_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SerializedChunks</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">get_cids_for_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CID</span><span class="p">]:</span>

        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cids_cache</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cids_cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

        <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_serialized_data</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cids_cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">get_cids</span><span class="p">(</span><span class="n">hash_codec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hash_codec</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cids_cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dag</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CID</span><span class="p">]]:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_dag</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_dag</span>

        <span class="n">dag</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CID</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_keys</span><span class="p">():</span>
            <span class="n">dag</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cids_for_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_cached_dag</span> <span class="o">=</span> <span class="n">dag</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_dag</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.SerializedData-attributes">Attributes<a href="#kiara.models.values.value.SerializedData-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedData.dag" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dag</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">multiformats</span><span class="o">.</span><span class="n">cid</span><span class="o">.</span><span class="n">CID</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedData.dag" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedData.data_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_size</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedData.data_size" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedData.data_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedData.data_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The name of the data type for this serialized value.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedData.data_type_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_type_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedData.data_type_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The (optional) config for the data type for this serialized value.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedData.hash_codec" class="doc doc-heading">
<code class="highlight language-python"><span class="n">hash_codec</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedData.hash_codec" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The codec used to hash the value.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedData.metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">metadata</span><span class="p">:</span> <span class="n">SerializationMetadata</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedData.metadata" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Optional metadata describing aspects of the serialization used.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedData.serialization_profile" class="doc doc-heading">
<code class="highlight language-python"><span class="n">serialization_profile</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedData.serialization_profile" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>An identifying name for the serialization method used.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedData.get_cids_for_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_cids_for_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedData.get_cids_for_key" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_cids_for_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CID</span><span class="p">]:</span>

    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cids_cache</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cids_cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_serialized_data</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_cids_cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">get_cids</span><span class="p">(</span><span class="n">hash_codec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hash_codec</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cids_cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedData.get_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedData.get_keys" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">get_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedData.get_serialized_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_serialized_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedData.get_serialized_data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">get_serialized_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SerializedChunks</span><span class="p">:</span>
    <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.SerializedFile" class="doc doc-heading">
        <code>
SerializedFile            (<a class="autorefs autorefs-internal" title="kiara.models.values.value.SerializedPreStoreChunks" href="../values/value/#kiara.models.values.value.SerializedPreStoreChunks">SerializedPreStoreChunks</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedFile" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SerializedFile</span><span class="p">(</span><span class="n">SerializedPreStoreChunks</span><span class="p">):</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;file&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;file&quot;</span>
    <span class="n">file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;A path to a file containing the serialized data.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_chunks</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BytesLike</span><span class="p">]]:</span>

        <span class="k">if</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
            <span class="n">chunk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_bytes_from_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">chunk</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">as_files</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">file</span> <span class="o">=</span> <span class="n">as_files</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">as_files</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
                    <span class="n">file</span> <span class="o">=</span> <span class="n">as_files</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t write to file &#39;</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">&#39;: file exists.&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">symlink_ok</span><span class="p">:</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
                    <span class="k">return</span> <span class="p">[</span><span class="n">file</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">_get_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_create_cids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hash_codec</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CID</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_cid_from_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="p">,</span> <span class="n">hash_codec</span><span class="o">=</span><span class="n">hash_codec</span><span class="p">)]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.SerializedFile-attributes">Attributes<a href="#kiara.models.values.value.SerializedFile-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedFile.file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedFile.file" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A path to a file containing the serialized data.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedFile.type" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;file&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedFile.type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>




<h8 id="kiara.models.values.value.SerializedFile-methods">Methods<a href="#kiara.models.values.value.SerializedFile-methods" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedFile.get_chunks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedFile.get_chunks" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Retrieve the chunks belonging to this data instance.</p>
<p>If 'as_file' is False, return the data as bytes. If set to 'True' store it to an arbitrary location (or use
an existing one), and return the path to that file. If 'as_file' is a string, write the data (bytes) into
a new file using the string as path. If 'symlink_ok' is set to True, symlinking an existing file to the value of
'as_file' is also ok, otherwise copy the content.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_chunks</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BytesLike</span><span class="p">]]:</span>

    <span class="k">if</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="n">chunk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_bytes_from_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">chunk</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">as_files</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">file</span> <span class="o">=</span> <span class="n">as_files</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">as_files</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
                <span class="n">file</span> <span class="o">=</span> <span class="n">as_files</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t write to file &#39;</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">&#39;: file exists.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">symlink_ok</span><span class="p">:</span>
                <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">file</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedFile.get_number_of_chunks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedFile.get_number_of_chunks" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="mi">1</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.SerializedFiles" class="doc doc-heading">
        <code>
SerializedFiles            (<a class="autorefs autorefs-internal" title="kiara.models.values.value.SerializedPreStoreChunks" href="../values/value/#kiara.models.values.value.SerializedPreStoreChunks">SerializedPreStoreChunks</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedFiles" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SerializedFiles</span><span class="p">(</span><span class="n">SerializedPreStoreChunks</span><span class="p">):</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;files&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;files&quot;</span>
    <span class="n">files</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A list of strings, pointing to files containing parts of the serialized data.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_chunks</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BytesLike</span><span class="p">]]:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">files</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">size</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">files</span><span class="p">:</span>
            <span class="n">size</span> <span class="o">=</span> <span class="n">size</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">file</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">size</span>

    <span class="k">def</span> <span class="nf">_create_cids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hash_codec</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CID</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_create_cid_from_file</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">hash_codec</span><span class="o">=</span><span class="n">hash_codec</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">files</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.SerializedFiles-attributes">Attributes<a href="#kiara.models.values.value.SerializedFiles-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedFiles.files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">files</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedFiles.files" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A list of strings, pointing to files containing parts of the serialized data.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedFiles.type" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;files&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedFiles.type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>




<h8 id="kiara.models.values.value.SerializedFiles-methods">Methods<a href="#kiara.models.values.value.SerializedFiles-methods" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedFiles.get_chunks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedFiles.get_chunks" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Retrieve the chunks belonging to this data instance.</p>
<p>If 'as_file' is False, return the data as bytes. If set to 'True' store it to an arbitrary location (or use
an existing one), and return the path to that file. If 'as_file' is a string, write the data (bytes) into
a new file using the string as path. If 'symlink_ok' is set to True, symlinking an existing file to the value of
'as_file' is also ok, otherwise copy the content.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_chunks</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BytesLike</span><span class="p">]]:</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedFiles.get_number_of_chunks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedFiles.get_number_of_chunks" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">files</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.SerializedInlineJson" class="doc doc-heading">
        <code>
SerializedInlineJson            (<a class="autorefs autorefs-internal" title="kiara.models.values.value.SerializedPreStoreChunks" href="../values/value/#kiara.models.values.value.SerializedPreStoreChunks">SerializedPreStoreChunks</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedInlineJson" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SerializedInlineJson</span><span class="p">(</span><span class="n">SerializedPreStoreChunks</span><span class="p">):</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;inline-json&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;inline-json&quot;</span>
    <span class="n">inline_data</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Data that will not be stored externally, but inline in the containing model. This should only contain data types that can be serialized reliably using json (scalars, etc.).&quot;</span>
    <span class="p">)</span>
    <span class="n">_json_cache</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">as_json</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">inline_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_json_cache</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">inline_data</span><span class="p">,</span>
                <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_NON_STR_KEYS</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_cache</span>

    <span class="k">def</span> <span class="nf">get_chunks</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BytesLike</span><span class="p">]]:</span>

        <span class="k">if</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">as_json</span><span class="p">()]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">_get_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">as_json</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">_create_cids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hash_codec</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CID</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_cid_from_chunk</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">as_json</span><span class="p">(),</span> <span class="n">hash_codec</span><span class="o">=</span><span class="n">hash_codec</span><span class="p">)]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.SerializedInlineJson-attributes">Attributes<a href="#kiara.models.values.value.SerializedInlineJson-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedInlineJson.inline_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inline_data</span><span class="p">:</span> <span class="n">Any</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedInlineJson.inline_data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Data that will not be stored externally, but inline in the containing model. This should only contain data types that can be serialized reliably using json (scalars, etc.).</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedInlineJson.type" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;inline-json&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedInlineJson.type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>




<h8 id="kiara.models.values.value.SerializedInlineJson-methods">Methods<a href="#kiara.models.values.value.SerializedInlineJson-methods" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedInlineJson.as_json" class="doc doc-heading">
<code class="highlight language-python"><span class="n">as_json</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedInlineJson.as_json" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">as_json</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">inline_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_json_cache</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">inline_data</span><span class="p">,</span>
            <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_NON_STR_KEYS</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_cache</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedInlineJson.get_chunks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedInlineJson.get_chunks" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Retrieve the chunks belonging to this data instance.</p>
<p>If 'as_file' is False, return the data as bytes. If set to 'True' store it to an arbitrary location (or use
an existing one), and return the path to that file. If 'as_file' is a string, write the data (bytes) into
a new file using the string as path. If 'symlink_ok' is set to True, symlinking an existing file to the value of
'as_file' is also ok, otherwise copy the content.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_chunks</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BytesLike</span><span class="p">]]:</span>

    <span class="k">if</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">as_json</span><span class="p">()]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedInlineJson.get_number_of_chunks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedInlineJson.get_number_of_chunks" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="mi">1</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.SerializedListOfBytes" class="doc doc-heading">
        <code>
SerializedListOfBytes            (<a class="autorefs autorefs-internal" title="kiara.models.values.value.SerializedPreStoreChunks" href="../values/value/#kiara.models.values.value.SerializedPreStoreChunks">SerializedPreStoreChunks</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedListOfBytes" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SerializedListOfBytes</span><span class="p">(</span><span class="n">SerializedPreStoreChunks</span><span class="p">):</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;chunks&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;chunks&quot;</span>
    <span class="n">chunks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;A list of byte arrays.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_chunks</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BytesLike</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">chunks</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">True</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">as_files</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="c1"># means we write all the chunks into one file</span>
                <span class="n">file</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">True</span> <span class="k">else</span> <span class="n">as_files</span>
                <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_store_bytes_to_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chunks</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">file</span><span class="p">)</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">path</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">as_files</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_number_of_chunks</span><span class="p">()</span>
                <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chunks</span><span class="p">):</span>
                    <span class="n">_file</span> <span class="o">=</span> <span class="n">as_files</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
                    <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_store_bytes_to_file</span><span class="p">([</span><span class="n">chunk</span><span class="p">],</span> <span class="n">file</span><span class="o">=</span><span class="n">_file</span><span class="p">)</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chunks</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">size</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">chunks</span><span class="p">:</span>
            <span class="n">size</span> <span class="o">=</span> <span class="n">size</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">size</span>

    <span class="k">def</span> <span class="nf">_create_cids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hash_codec</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CID</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_create_cid_from_chunk</span><span class="p">(</span><span class="n">chunk</span><span class="p">,</span> <span class="n">hash_codec</span><span class="o">=</span><span class="n">hash_codec</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">chunks</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.SerializedListOfBytes-attributes">Attributes<a href="#kiara.models.values.value.SerializedListOfBytes-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedListOfBytes.chunks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">chunks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedListOfBytes.chunks" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A list of byte arrays.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedListOfBytes.type" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;chunks&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedListOfBytes.type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>




<h8 id="kiara.models.values.value.SerializedListOfBytes-methods">Methods<a href="#kiara.models.values.value.SerializedListOfBytes-methods" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedListOfBytes.get_chunks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedListOfBytes.get_chunks" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Retrieve the chunks belonging to this data instance.</p>
<p>If 'as_file' is False, return the data as bytes. If set to 'True' store it to an arbitrary location (or use
an existing one), and return the path to that file. If 'as_file' is a string, write the data (bytes) into
a new file using the string as path. If 'symlink_ok' is set to True, symlinking an existing file to the value of
'as_file' is also ok, otherwise copy the content.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_chunks</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">as_files</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">symlink_ok</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BytesLike</span><span class="p">]]:</span>
    <span class="k">if</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">chunks</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">True</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">as_files</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="c1"># means we write all the chunks into one file</span>
            <span class="n">file</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">as_files</span> <span class="ow">is</span> <span class="kc">True</span> <span class="k">else</span> <span class="n">as_files</span>
            <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_store_bytes_to_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chunks</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">file</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">path</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">as_files</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_number_of_chunks</span><span class="p">()</span>
            <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chunks</span><span class="p">):</span>
                <span class="n">_file</span> <span class="o">=</span> <span class="n">as_files</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
                <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_store_bytes_to_file</span><span class="p">([</span><span class="n">chunk</span><span class="p">],</span> <span class="n">file</span><span class="o">=</span><span class="n">_file</span><span class="p">)</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.SerializedListOfBytes.get_number_of_chunks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.SerializedListOfBytes.get_number_of_chunks" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_number_of_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chunks</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.SerializedPreStoreChunks" class="doc doc-heading">
        <code>
SerializedPreStoreChunks            (<a class="autorefs autorefs-internal" title="kiara.models.values.value.SerializedChunks" href="../values/value/#kiara.models.values.value.SerializedChunks">SerializedChunks</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedPreStoreChunks" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SerializedPreStoreChunks</span><span class="p">(</span><span class="n">SerializedChunks</span><span class="p">):</span>

    <span class="n">codec</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The codec used to encode the chunks in this model. Using the [multicodecs](https://github.com/multiformats/multicodec) codec table.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_cid_from_chunk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chunk</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">hash_codec</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CID</span><span class="p">:</span>

        <span class="n">multihash</span> <span class="o">=</span> <span class="n">Multihash</span><span class="p">(</span><span class="n">codec</span><span class="o">=</span><span class="n">hash_codec</span><span class="p">)</span>
        <span class="nb">hash</span> <span class="o">=</span> <span class="n">multihash</span><span class="o">.</span><span class="n">digest</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">create_cid_digest</span><span class="p">(</span><span class="n">digest</span><span class="o">=</span><span class="nb">hash</span><span class="p">,</span> <span class="n">codec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">codec</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_cid_from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">hash_codec</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CID</span><span class="p">:</span>

        <span class="k">assert</span> <span class="n">hash_codec</span> <span class="o">==</span> <span class="s2">&quot;sha2-256&quot;</span>

        <span class="n">hash_func</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span>
        <span class="n">file_hash</span> <span class="o">=</span> <span class="n">hash_func</span><span class="p">()</span>

        <span class="n">CHUNK_SIZE</span> <span class="o">=</span> <span class="mi">65536</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">fb</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">CHUNK_SIZE</span><span class="p">)</span>
            <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">fb</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">file_hash</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">fb</span><span class="p">)</span>
                <span class="n">fb</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">CHUNK_SIZE</span><span class="p">)</span>

        <span class="n">wrapped</span> <span class="o">=</span> <span class="n">multihash</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">file_hash</span><span class="o">.</span><span class="n">digest</span><span class="p">(),</span> <span class="s2">&quot;sha2-256&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">create_cid_digest</span><span class="p">(</span><span class="n">digest</span><span class="o">=</span><span class="n">wrapped</span><span class="p">,</span> <span class="n">codec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">codec</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.SerializedPreStoreChunks-attributes">Attributes<a href="#kiara.models.values.value.SerializedPreStoreChunks-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.SerializedPreStoreChunks.codec" class="doc doc-heading">
<code class="highlight language-python"><span class="n">codec</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.SerializedPreStoreChunks.codec" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The codec used to encode the chunks in this model. Using the <a href="https://github.com/multiformats/multicodec">multicodecs</a> codec table.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.UnloadableData" class="doc doc-heading">
        <code>
UnloadableData            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.UnloadableData" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A special 'marker' model, indicating that the data of value can't be loaded.</p>
<p>In most cases, the reason this happens is because the current kiara context is missing some value types and/or modules.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">UnloadableData</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A special &#39;marker&#39; model, indicating that the data of value can&#39;t be loaded.</span>

<span class="sd">    In most cases, the reason this happens is because the current kiara context is missing some value types and/or modules.&quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.unloadable_data&quot;</span>

    <span class="n">value</span><span class="p">:</span> <span class="n">Value</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;A reference to the value.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">instance_id</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="o">.</span><span class="n">bytes</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.UnloadableData-attributes">Attributes<a href="#kiara.models.values.value.UnloadableData-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.UnloadableData.value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value</span><span class="p">:</span> <span class="n">Value</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.UnloadableData.value" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A reference to the value.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.Value" class="doc doc-heading">
        <code>
Value            (<a class="autorefs autorefs-internal" title="kiara.models.values.value.ValueDetails" href="../values/value/#kiara.models.values.value.ValueDetails">ValueDetails</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.Value" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Value</span><span class="p">(</span><span class="n">ValueDetails</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.value&quot;</span>

    <span class="n">_value_data</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">)</span>
    <span class="n">_serialized_data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">SerializedData</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_data_retrieved</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">_data_registry</span><span class="p">:</span> <span class="s2">&quot;DataRegistry&quot;</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="c1"># _data_type: &quot;DataType&quot; = PrivateAttr(default=None)</span>
    <span class="n">_is_stored</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">_cached_properties</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;ValueMap&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_lineage</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;ValueLineage&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="n">environment_hashes</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Hashes for the environments this value was created in.&quot;</span>
    <span class="p">)</span>
    <span class="n">enviroments</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Information about the environments this value was created in.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">property_links</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Links to values that are properties of this value.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">destiny_backlinks</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Backlinks to values that this value acts as destiny/or property for.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_property</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">],</span>
        <span class="n">property_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">add_origin_to_property_value</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">):</span>

        <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value_temp</span> <span class="o">=</span> <span class="n">value</span>
            <span class="n">value_id</span> <span class="o">=</span> <span class="n">value_id</span><span class="o">.</span><span class="n">value_id</span>  <span class="c1"># type: ignore</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value_temp</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="c1"># in case a Value object was provided</span>
            <span class="k">pass</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">value_temp</span>

        <span class="k">if</span> <span class="n">add_origin_to_property_value</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value_id</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">_is_stored</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t add property to value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: referenced value &#39;</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39; already locked, so it&#39;s not possible to add the property backlink (as requested).&quot;</span>
                <span class="p">)</span>

        <span class="k">assert</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_stored</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t add property to value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: value already locked.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">property_path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t add property to value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: property &#39;</span><span class="si">{</span><span class="n">property_path</span><span class="si">}</span><span class="s2">&#39; already set.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">[</span><span class="n">property_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_id</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="n">add_origin_to_property_value</span><span class="p">:</span>
            <span class="n">value</span><span class="o">.</span><span class="n">add_destiny_details</span><span class="p">(</span>
                <span class="n">value_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="p">,</span> <span class="n">destiny_alias</span><span class="o">=</span><span class="n">property_path</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_cached_properties</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">add_destiny_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">destiny_alias</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_stored</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t set destiny_refs to value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: value already locked.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">destiny_backlinks</span><span class="p">[</span><span class="n">value_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">destiny_alias</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_serializable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialized_data</span> <span class="o">==</span> <span class="n">NO_SERIALIZATION_MARKER</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">serialized_data</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="c1"># @property</span>
    <span class="c1"># def data_type_class(self) -&gt; &quot;PythonClass&quot;:</span>
    <span class="c1">#     &quot;&quot;&quot;Return the (Python) type of the underlying &#39;DataType&#39; subclass.&quot;&quot;&quot;</span>
    <span class="c1">#     return self.data_type_info.data_type_class</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">serialized_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SerializedData</span><span class="p">:</span>

        <span class="c1"># if not self.is_set:</span>
        <span class="c1">#     raise Exception(f&quot;Can&#39;t retrieve serialized data: value not set.&quot;)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialized_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_serialized_data</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Data type &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type_name</span><span class="si">}</span><span class="s2">&#39; does not support serializing: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_serialized_data</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialized_data</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_serialized_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">retrieve_persisted_value_details</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value_id</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialized_data</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_initialized</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t retrieve data for value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: value not initialized yet. This is most likely a bug.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_retrieve_data</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_retrieve_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value_data</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_status</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ValueStatus</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">,</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">NONE</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value_data</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value_data</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_status</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ValueStatus</span><span class="o">.</span><span class="n">SET</span><span class="p">,</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid internal state of value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

        <span class="n">retrieved</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">retrieve_value_data</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">retrieved</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">retrieved</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t set value data, invalid data type: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">retrieved</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_value_data</span> <span class="o">=</span> <span class="n">retrieved</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_retrieved</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value_data</span>

    <span class="c1"># def retrieve_load_config(self) -&gt; Optional[LoadConfig]:</span>
    <span class="c1">#     return self._data_registry.retrieve_persisted_value_details(</span>
    <span class="c1">#         value_id=self.value_id</span>
    <span class="c1">#     )</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(id=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">, type=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type_name</span><span class="si">}</span><span class="s2">, status=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_status</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">, initialized=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">is_initialized</span><span class="si">}</span><span class="s2"> optional=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">optional</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="nf">_set_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_registry</span><span class="p">:</span> <span class="s2">&quot;DataRegistry&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span> <span class="o">=</span> <span class="n">data_registry</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_initialized</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_set</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_stored</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_stored</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;DataType&quot;</span><span class="p">:</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type_info</span><span class="o">.</span><span class="n">data_type_instance</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">lineage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueLineage&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lineage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lineage</span>

        <span class="kn">from</span> <span class="nn">kiara.models.values.lineage</span> <span class="kn">import</span> <span class="n">ValueLineage</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_lineage</span> <span class="o">=</span> <span class="n">ValueLineage</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">_kiara</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lineage</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">property_values</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMap&quot;</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_properties</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_properties</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_cached_properties</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">load_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_properties</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">property_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_property_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_key</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Value&quot;</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">property_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39; has no property with key &#39;</span><span class="si">{</span><span class="n">property_key</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">[</span><span class="n">property_key</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">get_property_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_property_value</span><span class="p">(</span><span class="n">property_key</span><span class="o">=</span><span class="n">property_key</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>

    <span class="k">def</span> <span class="nf">get_all_property_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_property_data</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_names</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">lookup_self_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t lookup aliases for value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: data registry not set (yet).&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">lookup_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueInfo&quot;</span><span class="p">:</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t create info object for value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: data registry not set (yet).&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">create_value_info</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_info_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

        <span class="n">show_pedigree</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_pedigree&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_lineage</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_lineage&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_properties</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_properties&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="c1"># show_destinies = config.get(&quot;show_destinies&quot;, False)</span>
        <span class="c1"># show_destiny_backlinks = config.get(&quot;show_destiny_backlinks&quot;, False)</span>
        <span class="c1"># show_data = config.get(&quot;show_data_preview&quot;, False)</span>
        <span class="n">show_serialized</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_serialized&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_env_data_hashes</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_environment_hashes&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_env_data</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_environment_data&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">ignore_fields</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ignore_fields&quot;</span><span class="p">,</span> <span class="p">[])</span>

        <span class="n">table</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="s2">&quot;value_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;value_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_id</span>
        <span class="k">if</span> <span class="s2">&quot;aliases&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;aliases&quot;</span><span class="p">):</span>
                <span class="n">table</span><span class="p">[</span><span class="s2">&quot;aliases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aliases</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="s2">&quot;kiara_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;kiara_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara_id</span>

        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="n">k</span>
                <span class="ow">in</span> <span class="p">[</span>
                    <span class="s2">&quot;serialized&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;value_id&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;aliases&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;kiara_id&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;environments&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;lineage&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;environment_hashes&quot;</span><span class="p">,</span>
                <span class="p">]</span>
                <span class="ow">or</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ignore_fields</span>
            <span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">,</span> <span class="s2">&quot;pedigree&quot;</span><span class="p">]:</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">attr</span>

            <span class="n">table</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

        <span class="k">if</span> <span class="n">show_pedigree</span><span class="p">:</span>
            <span class="n">pedigree</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;pedigree&quot;</span><span class="p">)</span>

            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;pedigree&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pedigree</span>
            <span class="k">if</span> <span class="n">pedigree</span> <span class="o">==</span> <span class="n">ORPHAN</span><span class="p">:</span>
                <span class="n">pedigree_output_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">pedigree_output_name</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">)</span>

            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pedigree_output_name</span>

        <span class="k">if</span> <span class="n">show_lineage</span><span class="p">:</span>
            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;lineage&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lineage</span>

        <span class="k">if</span> <span class="n">show_serialized</span><span class="p">:</span>
            <span class="n">serialized</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">retrieve_persisted_value_details</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">value_id</span>
            <span class="p">)</span>
            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;serialized&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">serialized</span>

        <span class="k">if</span> <span class="n">show_env_data_hashes</span><span class="p">:</span>
            <span class="n">env_hashes</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
                <span class="n">orjson_dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">environment_hashes</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">),</span>
                <span class="s2">&quot;json&quot;</span><span class="p">,</span>
                <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;environment_hashes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">env_hashes</span>

        <span class="k">if</span> <span class="n">show_env_data</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">show_properties</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">:</span>
                <span class="n">table</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">properties</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">load_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">)</span>
                <span class="n">table</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">properties</span>

        <span class="c1"># if hasattr(self, &quot;destiny_links&quot;) and show_destinies:</span>
        <span class="c1">#     if not self.destiny_links:  # type: ignore</span>
        <span class="c1">#         table[&quot;destinies&quot;] = {}</span>
        <span class="c1">#     else:</span>
        <span class="c1">#         destinies = self._data_registry.load_values(self.destiny_links)  # type: ignore</span>
        <span class="c1">#         table[&quot;destinies&quot;] = destinies</span>
        <span class="c1">#</span>
        <span class="c1"># if show_destiny_backlinks:</span>
        <span class="c1">#     if not self.destiny_backlinks:</span>
        <span class="c1">#         table[&quot;destiny backlinks&quot;] = {}</span>
        <span class="c1">#     else:</span>
        <span class="c1">#         destiny_items: List[Any] = []</span>
        <span class="c1">#         for v_id, alias in self.destiny_backlinks.items():</span>
        <span class="c1">#             destiny_items.append(</span>
        <span class="c1">#                 f&quot;[b]Value: [i]{v_id}[/i] (destiny alias: {alias})[/b]&quot;</span>
        <span class="c1">#             )</span>
        <span class="c1">#             rendered = self._data_registry.pretty_print_data(</span>
        <span class="c1">#                 value_id=v_id, **config</span>
        <span class="c1">#             )</span>
        <span class="c1">#             destiny_items.append(rendered)</span>
        <span class="c1">#         table[&quot;destiny backlinks&quot;] = destiny_items</span>
        <span class="c1">#</span>
        <span class="c1"># if show_data:</span>
        <span class="c1">#     rendered = self._data_registry.pretty_print_data(</span>
        <span class="c1">#         self.value_id, target_type=&quot;terminal_renderable&quot;</span>
        <span class="c1">#     )</span>
        <span class="c1">#     table[&quot;data preview&quot;] = rendered</span>

        <span class="k">return</span> <span class="n">table</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">render_config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="kn">from</span> <span class="nn">kiara.utils.output</span> <span class="kn">import</span> <span class="n">extract_renderable</span>

        <span class="n">show_pedigree</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_pedigree&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_lineage</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_lineage&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_properties</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_properties&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_destinies</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_destinies&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_destiny_backlinks</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_destiny_backlinks&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_data</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_data_preview&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_serialized</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_serialized&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_env_data_hashes</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_environment_hashes&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">show_env_data</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_environment_data&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">ignore_fields</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ignore_fields&quot;</span><span class="p">,</span> <span class="p">[])</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Key&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>

        <span class="n">info_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_info_data</span><span class="p">(</span><span class="o">**</span><span class="n">render_config</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;value_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;value_id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;value_id&quot;</span><span class="p">]))</span>
        <span class="k">if</span> <span class="s2">&quot;aliases&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">info_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;aliases&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
                <span class="n">aliases_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;aliases&quot;</span><span class="p">])</span>  <span class="c1"># type: ignore</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;aliases&quot;</span><span class="p">,</span> <span class="n">aliases_str</span><span class="p">)</span>
            <span class="c1"># else:</span>
            <span class="c1">#     aliases_str = &quot;-- n/a --&quot;</span>
            <span class="c1">#     table.add_row(&quot;aliases&quot;, aliases_str)</span>

        <span class="k">if</span> <span class="s2">&quot;kiara_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;kiara_id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;kiara_id&quot;</span><span class="p">]))</span>

        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">Rule</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">info_data</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="n">k</span>
                <span class="ow">in</span> <span class="p">[</span>
                    <span class="s2">&quot;serialized&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;value_id&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;aliases&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;kiara_id&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;lineage&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;environments&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;environment_hashes&quot;</span><span class="p">,</span>
                <span class="p">]</span>
                <span class="ow">or</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ignore_fields</span>
            <span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">attr</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">,</span> <span class="s2">&quot;pedigree&quot;</span><span class="p">]:</span>
                <span class="k">continue</span>

            <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;value_status&quot;</span><span class="p">:</span>
                <span class="n">v</span><span class="p">:</span> <span class="n">RenderableType</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[i]-- </span><span class="si">{</span><span class="n">attr</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> --[/i]&quot;</span>
            <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;value_size&quot;</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">format_size</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">extract_renderable</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>

            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="n">show_pedigree</span>
            <span class="ow">or</span> <span class="n">show_lineage</span>
            <span class="ow">or</span> <span class="n">show_serialized</span>
            <span class="ow">or</span> <span class="n">show_properties</span>
            <span class="ow">or</span> <span class="n">show_destinies</span>
            <span class="ow">or</span> <span class="n">show_destiny_backlinks</span>
            <span class="ow">or</span> <span class="n">show_env_data_hashes</span>
            <span class="ow">or</span> <span class="n">show_env_data</span>
        <span class="p">):</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">Rule</span><span class="p">())</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">show_pedigree</span><span class="p">:</span>
            <span class="n">pedigree</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;pedigree&quot;</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">pedigree</span> <span class="o">==</span> <span class="n">ORPHAN</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="s2">&quot;[i]-- external data --[/i]&quot;</span>
                <span class="n">pedigree_output_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">extract_renderable</span><span class="p">(</span><span class="n">pedigree</span><span class="p">)</span>
                <span class="n">pedigree_output_name</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">]</span>

            <span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;pedigree&quot;</span><span class="p">,</span> <span class="n">v</span><span class="p">]</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">pedigree_output_name</span><span class="p">:</span>
                <span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">,</span> <span class="n">pedigree_output_name</span><span class="p">]</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">show_lineage</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                <span class="s2">&quot;lineage&quot;</span><span class="p">,</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;lineage&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="n">include_ids</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">show_serialized</span><span class="p">:</span>
            <span class="n">serialized</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;serialized&quot;</span><span class="p">]</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;serialized&quot;</span><span class="p">,</span> <span class="n">serialized</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">show_env_data_hashes</span><span class="p">:</span>
            <span class="n">env_hashes</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
                <span class="n">orjson_dumps</span><span class="p">(</span>
                    <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;environment_hashes&quot;</span><span class="p">],</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span>
                <span class="p">),</span>
                <span class="s2">&quot;json&quot;</span><span class="p">,</span>
                <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;environment_hashes&quot;</span><span class="p">,</span> <span class="n">env_hashes</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">show_env_data</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">show_properties</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">]:</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">properties</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">]</span>
                <span class="n">pr</span> <span class="o">=</span> <span class="n">properties</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="n">pr</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;destiny_links&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">show_destinies</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">destiny_links</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;destinies&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">destinies</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">load_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">destiny_links</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="n">dr</span> <span class="o">=</span> <span class="n">destinies</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;destinies&quot;</span><span class="p">,</span> <span class="n">dr</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">show_destiny_backlinks</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">destiny_backlinks</span><span class="p">:</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;destiny backlinks&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">destiny_items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">v_id</span><span class="p">,</span> <span class="n">alias</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">destiny_backlinks</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">destiny_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Rule</span><span class="p">())</span>
                    <span class="n">destiny_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;[b]Value: [i]</span><span class="si">{</span><span class="n">v_id</span><span class="si">}</span><span class="s2">[/i] (destiny alias: </span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2">)[/b]&quot;</span>
                    <span class="p">)</span>
                    <span class="n">rendered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">pretty_print_data</span><span class="p">(</span>
                        <span class="n">value_id</span><span class="o">=</span><span class="n">v_id</span><span class="p">,</span> <span class="o">**</span><span class="n">render_config</span>
                    <span class="p">)</span>
                    <span class="n">destiny_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rendered</span><span class="p">)</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;destiny backlinks&quot;</span><span class="p">,</span> <span class="n">Group</span><span class="p">(</span><span class="o">*</span><span class="n">destiny_items</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">show_data</span><span class="p">:</span>
            <span class="n">rendered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">pretty_print_data</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="p">,</span> <span class="n">target_type</span><span class="o">=</span><span class="s2">&quot;terminal_renderable&quot;</span>
            <span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">Rule</span><span class="p">())</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;data preview&quot;</span><span class="p">,</span> <span class="n">rendered</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.Value-attributes">Attributes<a href="#kiara.models.values.value.Value-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.Value.data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data</span><span class="p">:</span> <span class="n">Any</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.Value.data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.Value.data_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_type</span><span class="p">:</span> <span class="n">DataType</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.Value.data_type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.Value.destiny_backlinks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">destiny_backlinks</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.Value.destiny_backlinks" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Backlinks to values that this value acts as destiny/or property for.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.Value.enviroments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enviroments</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.Value.enviroments" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Information about the environments this value was created in.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.Value.environment_hashes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">environment_hashes</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.Value.environment_hashes" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Hashes for the environments this value was created in.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.Value.is_initialized" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_initialized</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.Value.is_initialized" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.Value.is_serializable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_serializable</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.Value.is_serializable" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.Value.is_stored" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_stored</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.Value.is_stored" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.Value.lineage" class="doc doc-heading">
<code class="highlight language-python"><span class="n">lineage</span><span class="p">:</span> <span class="n">ValueLineage</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.Value.lineage" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.Value.property_links" class="doc doc-heading">
<code class="highlight language-python"><span class="n">property_links</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.Value.property_links" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Links to values that are properties of this value.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.Value.property_names" class="doc doc-heading">
<code class="highlight language-python"><span class="n">property_names</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.Value.property_names" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.Value.property_values" class="doc doc-heading">
<code class="highlight language-python"><span class="n">property_values</span><span class="p">:</span> <span class="n">ValueMap</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.Value.property_values" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.Value.serialized_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">serialized_data</span><span class="p">:</span> <span class="n">SerializedData</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.Value.serialized_data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.Value.add_destiny_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_destiny_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_id</span><span class="p">,</span> <span class="n">destiny_alias</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.Value.add_destiny_details" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_destiny_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="n">destiny_alias</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_stored</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t set destiny_refs to value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: value already locked.&quot;</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">destiny_backlinks</span><span class="p">[</span><span class="n">value_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">destiny_alias</span>  <span class="c1"># type: ignore</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.Value.add_property" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_id</span><span class="p">,</span> <span class="n">property_path</span><span class="p">,</span> <span class="n">add_origin_to_property_value</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.Value.add_property" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_property</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">value_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">],</span>
    <span class="n">property_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">add_origin_to_property_value</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>

    <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">value_temp</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">value_id</span> <span class="o">=</span> <span class="n">value_id</span><span class="o">.</span><span class="n">value_id</span>  <span class="c1"># type: ignore</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value_temp</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="c1"># in case a Value object was provided</span>
        <span class="k">pass</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">del</span> <span class="n">value_temp</span>

    <span class="k">if</span> <span class="n">add_origin_to_property_value</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value_id</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">_is_stored</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t add property to value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: referenced value &#39;</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39; already locked, so it&#39;s not possible to add the property backlink (as requested).&quot;</span>
            <span class="p">)</span>

    <span class="k">assert</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_stored</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t add property to value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: value already locked.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">property_path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t add property to value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: property &#39;</span><span class="si">{</span><span class="n">property_path</span><span class="si">}</span><span class="s2">&#39; already set.&quot;</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">[</span><span class="n">property_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_id</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="n">add_origin_to_property_value</span><span class="p">:</span>
        <span class="n">value</span><span class="o">.</span><span class="n">add_destiny_details</span><span class="p">(</span>
            <span class="n">value_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="p">,</span> <span class="n">destiny_alias</span><span class="o">=</span><span class="n">property_path</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_cached_properties</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.Value.create_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.Value.create_info" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueInfo&quot;</span><span class="p">:</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t create info object for value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: data registry not set (yet).&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">create_value_info</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.Value.create_info_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_info_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.Value.create_info_data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_info_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

    <span class="n">show_pedigree</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_pedigree&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_lineage</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_lineage&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_properties</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_properties&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="c1"># show_destinies = config.get(&quot;show_destinies&quot;, False)</span>
    <span class="c1"># show_destiny_backlinks = config.get(&quot;show_destiny_backlinks&quot;, False)</span>
    <span class="c1"># show_data = config.get(&quot;show_data_preview&quot;, False)</span>
    <span class="n">show_serialized</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_serialized&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_env_data_hashes</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_environment_hashes&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_env_data</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_environment_data&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="n">ignore_fields</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ignore_fields&quot;</span><span class="p">,</span> <span class="p">[])</span>

    <span class="n">table</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="s2">&quot;value_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
        <span class="n">table</span><span class="p">[</span><span class="s2">&quot;value_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_id</span>
    <span class="k">if</span> <span class="s2">&quot;aliases&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;aliases&quot;</span><span class="p">):</span>
            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;aliases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aliases</span>  <span class="c1"># type: ignore</span>

    <span class="k">if</span> <span class="s2">&quot;kiara_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
        <span class="n">table</span><span class="p">[</span><span class="s2">&quot;kiara_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara_id</span>

    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="n">k</span>
            <span class="ow">in</span> <span class="p">[</span>
                <span class="s2">&quot;serialized&quot;</span><span class="p">,</span>
                <span class="s2">&quot;value_id&quot;</span><span class="p">,</span>
                <span class="s2">&quot;aliases&quot;</span><span class="p">,</span>
                <span class="s2">&quot;kiara_id&quot;</span><span class="p">,</span>
                <span class="s2">&quot;environments&quot;</span><span class="p">,</span>
                <span class="s2">&quot;lineage&quot;</span><span class="p">,</span>
                <span class="s2">&quot;environment_hashes&quot;</span><span class="p">,</span>
            <span class="p">]</span>
            <span class="ow">or</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ignore_fields</span>
        <span class="p">):</span>
            <span class="k">continue</span>

        <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">,</span> <span class="s2">&quot;pedigree&quot;</span><span class="p">]:</span>
            <span class="k">continue</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">attr</span>

        <span class="n">table</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

    <span class="k">if</span> <span class="n">show_pedigree</span><span class="p">:</span>
        <span class="n">pedigree</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;pedigree&quot;</span><span class="p">)</span>

        <span class="n">table</span><span class="p">[</span><span class="s2">&quot;pedigree&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pedigree</span>
        <span class="k">if</span> <span class="n">pedigree</span> <span class="o">==</span> <span class="n">ORPHAN</span><span class="p">:</span>
            <span class="n">pedigree_output_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pedigree_output_name</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">)</span>

        <span class="n">table</span><span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pedigree_output_name</span>

    <span class="k">if</span> <span class="n">show_lineage</span><span class="p">:</span>
        <span class="n">table</span><span class="p">[</span><span class="s2">&quot;lineage&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lineage</span>

    <span class="k">if</span> <span class="n">show_serialized</span><span class="p">:</span>
        <span class="n">serialized</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">retrieve_persisted_value_details</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value_id</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="p">[</span><span class="s2">&quot;serialized&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">serialized</span>

    <span class="k">if</span> <span class="n">show_env_data_hashes</span><span class="p">:</span>
        <span class="n">env_hashes</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
            <span class="n">orjson_dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">environment_hashes</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">),</span>
            <span class="s2">&quot;json&quot;</span><span class="p">,</span>
            <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="p">[</span><span class="s2">&quot;environment_hashes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">env_hashes</span>

    <span class="k">if</span> <span class="n">show_env_data</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">show_properties</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">:</span>
            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">properties</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">load_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">)</span>
            <span class="n">table</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">properties</span>

    <span class="c1"># if hasattr(self, &quot;destiny_links&quot;) and show_destinies:</span>
    <span class="c1">#     if not self.destiny_links:  # type: ignore</span>
    <span class="c1">#         table[&quot;destinies&quot;] = {}</span>
    <span class="c1">#     else:</span>
    <span class="c1">#         destinies = self._data_registry.load_values(self.destiny_links)  # type: ignore</span>
    <span class="c1">#         table[&quot;destinies&quot;] = destinies</span>
    <span class="c1">#</span>
    <span class="c1"># if show_destiny_backlinks:</span>
    <span class="c1">#     if not self.destiny_backlinks:</span>
    <span class="c1">#         table[&quot;destiny backlinks&quot;] = {}</span>
    <span class="c1">#     else:</span>
    <span class="c1">#         destiny_items: List[Any] = []</span>
    <span class="c1">#         for v_id, alias in self.destiny_backlinks.items():</span>
    <span class="c1">#             destiny_items.append(</span>
    <span class="c1">#                 f&quot;[b]Value: [i]{v_id}[/i] (destiny alias: {alias})[/b]&quot;</span>
    <span class="c1">#             )</span>
    <span class="c1">#             rendered = self._data_registry.pretty_print_data(</span>
    <span class="c1">#                 value_id=v_id, **config</span>
    <span class="c1">#             )</span>
    <span class="c1">#             destiny_items.append(rendered)</span>
    <span class="c1">#         table[&quot;destiny backlinks&quot;] = destiny_items</span>
    <span class="c1">#</span>
    <span class="c1"># if show_data:</span>
    <span class="c1">#     rendered = self._data_registry.pretty_print_data(</span>
    <span class="c1">#         self.value_id, target_type=&quot;terminal_renderable&quot;</span>
    <span class="c1">#     )</span>
    <span class="c1">#     table[&quot;data preview&quot;] = rendered</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.Value.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">render_config</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.Value.create_renderable" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">render_config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="kn">from</span> <span class="nn">kiara.utils.output</span> <span class="kn">import</span> <span class="n">extract_renderable</span>

    <span class="n">show_pedigree</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_pedigree&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_lineage</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_lineage&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_properties</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_properties&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_destinies</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_destinies&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_destiny_backlinks</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_destiny_backlinks&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_data</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_data_preview&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_serialized</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_serialized&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_env_data_hashes</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_environment_hashes&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">show_env_data</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_environment_data&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="n">ignore_fields</span> <span class="o">=</span> <span class="n">render_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ignore_fields&quot;</span><span class="p">,</span> <span class="p">[])</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Key&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>

    <span class="n">info_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_info_data</span><span class="p">(</span><span class="o">**</span><span class="n">render_config</span><span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;value_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;value_id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;value_id&quot;</span><span class="p">]))</span>
    <span class="k">if</span> <span class="s2">&quot;aliases&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">info_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;aliases&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">aliases_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;aliases&quot;</span><span class="p">])</span>  <span class="c1"># type: ignore</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;aliases&quot;</span><span class="p">,</span> <span class="n">aliases_str</span><span class="p">)</span>
        <span class="c1"># else:</span>
        <span class="c1">#     aliases_str = &quot;-- n/a --&quot;</span>
        <span class="c1">#     table.add_row(&quot;aliases&quot;, aliases_str)</span>

    <span class="k">if</span> <span class="s2">&quot;kiara_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore_fields</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;kiara_id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;kiara_id&quot;</span><span class="p">]))</span>

    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">Rule</span><span class="p">())</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">info_data</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="n">k</span>
            <span class="ow">in</span> <span class="p">[</span>
                <span class="s2">&quot;serialized&quot;</span><span class="p">,</span>
                <span class="s2">&quot;value_id&quot;</span><span class="p">,</span>
                <span class="s2">&quot;aliases&quot;</span><span class="p">,</span>
                <span class="s2">&quot;kiara_id&quot;</span><span class="p">,</span>
                <span class="s2">&quot;lineage&quot;</span><span class="p">,</span>
                <span class="s2">&quot;environments&quot;</span><span class="p">,</span>
                <span class="s2">&quot;environment_hashes&quot;</span><span class="p">,</span>
            <span class="p">]</span>
            <span class="ow">or</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ignore_fields</span>
        <span class="p">):</span>
            <span class="k">continue</span>

        <span class="n">attr</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">,</span> <span class="s2">&quot;pedigree&quot;</span><span class="p">]:</span>
            <span class="k">continue</span>

        <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;value_status&quot;</span><span class="p">:</span>
            <span class="n">v</span><span class="p">:</span> <span class="n">RenderableType</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[i]-- </span><span class="si">{</span><span class="n">attr</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> --[/i]&quot;</span>
        <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;value_size&quot;</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">format_size</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">extract_renderable</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>

        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="n">show_pedigree</span>
        <span class="ow">or</span> <span class="n">show_lineage</span>
        <span class="ow">or</span> <span class="n">show_serialized</span>
        <span class="ow">or</span> <span class="n">show_properties</span>
        <span class="ow">or</span> <span class="n">show_destinies</span>
        <span class="ow">or</span> <span class="n">show_destiny_backlinks</span>
        <span class="ow">or</span> <span class="n">show_env_data_hashes</span>
        <span class="ow">or</span> <span class="n">show_env_data</span>
    <span class="p">):</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">Rule</span><span class="p">())</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">show_pedigree</span><span class="p">:</span>
        <span class="n">pedigree</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;pedigree&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">pedigree</span> <span class="o">==</span> <span class="n">ORPHAN</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="s2">&quot;[i]-- external data --[/i]&quot;</span>
            <span class="n">pedigree_output_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">extract_renderable</span><span class="p">(</span><span class="n">pedigree</span><span class="p">)</span>
            <span class="n">pedigree_output_name</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">]</span>

        <span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;pedigree&quot;</span><span class="p">,</span> <span class="n">v</span><span class="p">]</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">pedigree_output_name</span><span class="p">:</span>
            <span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;pedigree_output_name&quot;</span><span class="p">,</span> <span class="n">pedigree_output_name</span><span class="p">]</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">show_lineage</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="s2">&quot;lineage&quot;</span><span class="p">,</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;lineage&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="n">include_ids</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">show_serialized</span><span class="p">:</span>
        <span class="n">serialized</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;serialized&quot;</span><span class="p">]</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;serialized&quot;</span><span class="p">,</span> <span class="n">serialized</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">show_env_data_hashes</span><span class="p">:</span>
        <span class="n">env_hashes</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
            <span class="n">orjson_dumps</span><span class="p">(</span>
                <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;environment_hashes&quot;</span><span class="p">],</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span>
            <span class="p">),</span>
            <span class="s2">&quot;json&quot;</span><span class="p">,</span>
            <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;environment_hashes&quot;</span><span class="p">,</span> <span class="n">env_hashes</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">show_env_data</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">show_properties</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">]:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">properties</span> <span class="o">=</span> <span class="n">info_data</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">]</span>
            <span class="n">pr</span> <span class="o">=</span> <span class="n">properties</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">,</span> <span class="n">pr</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;destiny_links&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">show_destinies</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">destiny_links</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;destinies&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">destinies</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">load_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">destiny_links</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="n">dr</span> <span class="o">=</span> <span class="n">destinies</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;destinies&quot;</span><span class="p">,</span> <span class="n">dr</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">show_destiny_backlinks</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">destiny_backlinks</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;destiny backlinks&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">destiny_items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">v_id</span><span class="p">,</span> <span class="n">alias</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">destiny_backlinks</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">destiny_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Rule</span><span class="p">())</span>
                <span class="n">destiny_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;[b]Value: [i]</span><span class="si">{</span><span class="n">v_id</span><span class="si">}</span><span class="s2">[/i] (destiny alias: </span><span class="si">{</span><span class="n">alias</span><span class="si">}</span><span class="s2">)[/b]&quot;</span>
                <span class="p">)</span>
                <span class="n">rendered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">pretty_print_data</span><span class="p">(</span>
                    <span class="n">value_id</span><span class="o">=</span><span class="n">v_id</span><span class="p">,</span> <span class="o">**</span><span class="n">render_config</span>
                <span class="p">)</span>
                <span class="n">destiny_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rendered</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;destiny backlinks&quot;</span><span class="p">,</span> <span class="n">Group</span><span class="p">(</span><span class="o">*</span><span class="n">destiny_items</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">show_data</span><span class="p">:</span>
        <span class="n">rendered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">pretty_print_data</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="p">,</span> <span class="n">target_type</span><span class="o">=</span><span class="s2">&quot;terminal_renderable&quot;</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">Rule</span><span class="p">())</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;data preview&quot;</span><span class="p">,</span> <span class="n">rendered</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.Value.get_all_property_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_all_property_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.Value.get_all_property_data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_all_property_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_property_data</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_names</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.Value.get_property_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_property_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_key</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.Value.get_property_data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_property_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_property_value</span><span class="p">(</span><span class="n">property_key</span><span class="o">=</span><span class="n">property_key</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.Value.get_property_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_property_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_key</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.Value.get_property_value" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_property_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_key</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Value&quot;</span><span class="p">:</span>

    <span class="k">if</span> <span class="n">property_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39; has no property with key &#39;</span><span class="si">{</span><span class="n">property_key</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">property_links</span><span class="p">[</span><span class="n">property_key</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.Value.lookup_self_aliases" class="doc doc-heading">
<code class="highlight language-python"><span class="n">lookup_self_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.Value.lookup_self_aliases" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">lookup_self_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t lookup aliases for value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;: data registry not set (yet).&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">lookup_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.ValueDetails" class="doc doc-heading">
        <code>
ValueDetails            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.ValueDetails" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A wrapper class that manages and retieves value data and its details.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueDetails</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A wrapper class that manages and retieves value data and its details.&quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.value_details&quot;</span>

    <span class="n">value_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The id of the value.&quot;</span><span class="p">)</span>

    <span class="n">kiara_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The id of the kiara context this value belongs to.&quot;</span>
    <span class="p">)</span>

    <span class="n">value_schema</span><span class="p">:</span> <span class="n">ValueSchema</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The schema that was used for this Value.&quot;</span>
    <span class="p">)</span>

    <span class="n">value_status</span><span class="p">:</span> <span class="n">ValueStatus</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The set/unset status of this value.&quot;</span><span class="p">)</span>
    <span class="n">value_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The size of this value, in bytes.&quot;</span><span class="p">)</span>
    <span class="n">value_hash</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The hash of this value.&quot;</span><span class="p">)</span>
    <span class="n">pedigree</span><span class="p">:</span> <span class="n">ValuePedigree</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Information about the module and inputs that went into creating this value.&quot;</span>
    <span class="p">)</span>
    <span class="n">pedigree_output_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The output name that produced this value (using the manifest inside the pedigree).&quot;</span>
    <span class="p">)</span>
    <span class="n">data_type_info</span><span class="p">:</span> <span class="n">DataTypeInfo</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Information about the data type this value is made of.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="s2">&quot;value_hash&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_hash</span><span class="p">,</span>
            <span class="s2">&quot;value_size&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_size</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data_type_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type_info</span><span class="o">.</span><span class="n">data_type_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data_type_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type_info</span><span class="o">.</span><span class="n">data_type_config</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_optional</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">optional</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_valid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Check whether the current value is valid&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_optional</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_status</span> <span class="o">==</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">SET</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_set</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_status</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ValueStatus</span><span class="o">.</span><span class="n">SET</span><span class="p">,</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">value_status_string</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Print a human readable short description of this values status.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_status</span> <span class="o">==</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;set (default)&quot;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_status</span> <span class="o">==</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">SET</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;set&quot;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_status</span> <span class="o">==</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">NONE</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;no value&quot;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_status</span> <span class="o">==</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;not set&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid internal status of value &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">&#39;. This is most likely a bug.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_optional</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2"> (not required)&quot;</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(id=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="si">}</span><span class="s2">, type=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type_name</span><span class="si">}</span><span class="s2">, status=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_status</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.ValueDetails-attributes">Attributes<a href="#kiara.models.values.value.ValueDetails-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueDetails.data_type_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_type_config</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.ValueDetails.data_type_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueDetails.data_type_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_type_info</span><span class="p">:</span> <span class="n">DataTypeInfo</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.ValueDetails.data_type_info" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Information about the data type this value is made of.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueDetails.data_type_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_type_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.ValueDetails.data_type_name" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueDetails.is_optional" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_optional</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.ValueDetails.is_optional" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueDetails.is_set" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_set</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.ValueDetails.is_set" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueDetails.is_valid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_valid</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.ValueDetails.is_valid" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Check whether the current value is valid</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueDetails.kiara_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">kiara_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.ValueDetails.kiara_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The id of the kiara context this value belongs to.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueDetails.pedigree" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pedigree</span><span class="p">:</span> <span class="n">ValuePedigree</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.ValueDetails.pedigree" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Information about the module and inputs that went into creating this value.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueDetails.pedigree_output_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pedigree_output_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.ValueDetails.pedigree_output_name" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The output name that produced this value (using the manifest inside the pedigree).</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueDetails.value_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_hash</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.ValueDetails.value_hash" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The hash of this value.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueDetails.value_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.ValueDetails.value_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The id of the value.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueDetails.value_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_schema</span><span class="p">:</span> <span class="n">ValueSchema</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.ValueDetails.value_schema" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The schema that was used for this Value.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueDetails.value_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_size</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.ValueDetails.value_size" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The size of this value, in bytes.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueDetails.value_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_status</span><span class="p">:</span> <span class="n">ValueStatus</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.ValueDetails.value_status" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The set/unset status of this value.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueDetails.value_status_string" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_status_string</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.ValueDetails.value_status_string" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Print a human readable short description of this values status.</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.ValueMap" class="doc doc-heading">
        <code>
ValueMap            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>, <span title="collections.abc.MutableMapping">MutableMapping</span>, <span title="typing.Generic">Generic</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.ValueMap" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueMap</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">,</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">]):</span>  <span class="c1"># type: ignore</span>

    <span class="n">values_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The schemas for all the values in this set.&quot;</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">field_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_value_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">all_items_valid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="o">.</span><span class="n">is_valid</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">instance_cid</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">check_invalid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Check whether the value set is invalid, if it is, return a description of what&#39;s wrong.&quot;&quot;&quot;</span>

        <span class="n">invalid</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
            <span class="n">field_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">field_schema</span><span class="o">.</span><span class="n">optional</span><span class="p">:</span>
                <span class="n">msg</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="o">.</span><span class="n">value_status</span> <span class="o">==</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">SET</span><span class="p">:</span>

                    <span class="n">item_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">item_schema</span><span class="o">.</span><span class="n">is_required</span><span class="p">():</span>

                        <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;not set&quot;</span>
                        <span class="k">elif</span> <span class="n">item</span><span class="o">.</span><span class="n">value_status</span> <span class="o">==</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">NONE</span><span class="p">:</span>
                            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;no value&quot;</span>
                <span class="k">if</span> <span class="n">msg</span><span class="p">:</span>
                    <span class="n">invalid</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">msg</span>

        <span class="k">return</span> <span class="n">invalid</span>

    <span class="k">def</span> <span class="nf">get_value_data_for_fields</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">field_names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return the data for a one or several fields of this ValueMap.</span>

<span class="sd">        If a value is unset, by default &#39;None&#39; is returned for it. Unless &#39;raise_exception_when_unset&#39; is set to &#39;True&#39;,</span>
<span class="sd">        in which case an Exception will be raised (obviously).</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span>
            <span class="n">unset</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">field_names</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span>
                        <span class="n">unset</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">unset</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t get data for fields, one or several of the requested fields are not set yet: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">unset</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">field_names</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">data</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_value_data</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_data_for_fields</span><span class="p">(</span>
            <span class="n">field_name</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="o">=</span><span class="n">raise_exception_when_unset</span>
        <span class="p">)[</span><span class="n">field_name</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_all_value_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">value_id</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">get_all_value_data</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_data_for_fields</span><span class="p">(</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">,</span>
            <span class="n">raise_exception_when_unset</span><span class="o">=</span><span class="n">raise_exception_when_unset</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">values</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The value set implementation &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; is read-only, and does not support the setting or changing of values.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span><span class="p">:</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
        <span class="c1"># self.set_value(key, value)</span>

    <span class="k">def</span> <span class="fm">__delitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>

        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Removing items not supported: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(field_names=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">create_invalid_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">RenderableType</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>

        <span class="n">inv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">inv</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;field name&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;details&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;b red&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">err</span> <span class="ow">in</span> <span class="n">inv</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">in_panel</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;in_panel&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">in_panel</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_jupyter</span><span class="p">():</span>
                <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">render_value_data</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;render_value_data&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">field_title</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;field_title&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="p">)</span>
        <span class="n">value_title</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value_title&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="n">show_header</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_header&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">show_type</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_data_type&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_lines</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="n">show_header</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">field_title</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">show_type</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;data_type&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">value_title</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">:</span>

            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">render_value_data</span><span class="p">:</span>
                <span class="n">rendered</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">pretty_print_data</span><span class="p">(</span>
                    <span class="n">value_id</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="p">,</span> <span class="n">target_type</span><span class="o">=</span><span class="s2">&quot;terminal_renderable&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">rendered</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">show_type</span><span class="p">:</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">rendered</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="n">rendered</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">in_panel</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Panel</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.ValueMap-attributes">Attributes<a href="#kiara.models.values.value.ValueMap-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueMap.all_items_valid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">all_items_valid</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.ValueMap.all_items_valid" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueMap.field_names" class="doc doc-heading">
<code class="highlight language-python"><span class="n">field_names</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.values.value.ValueMap.field_names" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueMap.values_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">values_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">ValueSchema</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.ValueMap.values_schema" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The schemas for all the values in this set.</p>
    </div>

  </div>




<h8 id="kiara.models.values.value.ValueMap-methods">Methods<a href="#kiara.models.values.value.ValueMap-methods" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.ValueMap.check_invalid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_invalid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.ValueMap.check_invalid" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Check whether the value set is invalid, if it is, return a description of what's wrong.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_invalid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Check whether the value set is invalid, if it is, return a description of what&#39;s wrong.&quot;&quot;&quot;</span>

    <span class="n">invalid</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
        <span class="n">field_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">field_schema</span><span class="o">.</span><span class="n">optional</span><span class="p">:</span>
            <span class="n">msg</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="o">.</span><span class="n">value_status</span> <span class="o">==</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">SET</span><span class="p">:</span>

                <span class="n">item_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">item_schema</span><span class="o">.</span><span class="n">is_required</span><span class="p">():</span>

                    <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;not set&quot;</span>
                    <span class="k">elif</span> <span class="n">item</span><span class="o">.</span><span class="n">value_status</span> <span class="o">==</span> <span class="n">ValueStatus</span><span class="o">.</span><span class="n">NONE</span><span class="p">:</span>
                        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;no value&quot;</span>
            <span class="k">if</span> <span class="n">msg</span><span class="p">:</span>
                <span class="n">invalid</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">msg</span>

    <span class="k">return</span> <span class="n">invalid</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.ValueMap.create_invalid_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_invalid_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.ValueMap.create_invalid_renderable" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_invalid_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">RenderableType</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>

    <span class="n">inv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">inv</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;field name&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;details&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;b red&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">err</span> <span class="ow">in</span> <span class="n">inv</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.ValueMap.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.ValueMap.create_renderable" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">in_panel</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;in_panel&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">in_panel</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_jupyter</span><span class="p">():</span>
            <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">render_value_data</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;render_value_data&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">field_title</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;field_title&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="p">)</span>
    <span class="n">value_title</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value_title&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">)</span>
    <span class="n">show_header</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_header&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">show_type</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_data_type&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_lines</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="n">show_header</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">field_title</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">show_type</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;data_type&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">value_title</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">:</span>

        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">render_value_data</span><span class="p">:</span>
            <span class="n">rendered</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">pretty_print_data</span><span class="p">(</span>
                <span class="n">value_id</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">value_id</span><span class="p">,</span> <span class="n">target_type</span><span class="o">=</span><span class="s2">&quot;terminal_renderable&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rendered</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">show_type</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">rendered</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="n">rendered</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">in_panel</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Panel</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.ValueMap.get_all_value_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_all_value_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.ValueMap.get_all_value_data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_all_value_data</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_data_for_fields</span><span class="p">(</span>
        <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">,</span>
        <span class="n">raise_exception_when_unset</span><span class="o">=</span><span class="n">raise_exception_when_unset</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.ValueMap.get_all_value_ids" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_all_value_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.ValueMap.get_all_value_ids" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_all_value_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">value_id</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.ValueMap.get_value_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_value_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.ValueMap.get_value_data" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_value_data</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_data_for_fields</span><span class="p">(</span>
        <span class="n">field_name</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="o">=</span><span class="n">raise_exception_when_unset</span>
    <span class="p">)[</span><span class="n">field_name</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.ValueMap.get_value_data_for_fields" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_value_data_for_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">field_names</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.ValueMap.get_value_data_for_fields" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Return the data for a one or several fields of this ValueMap.</p>
<p>If a value is unset, by default 'None' is returned for it. Unless 'raise_exception_when_unset' is set to 'True',
in which case an Exception will be raised (obviously).</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_value_data_for_fields</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">field_names</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Return the data for a one or several fields of this ValueMap.</span>

<span class="sd">    If a value is unset, by default &#39;None&#39; is returned for it. Unless &#39;raise_exception_when_unset&#39; is set to &#39;True&#39;,</span>
<span class="sd">    in which case an Exception will be raised (obviously).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span>
        <span class="n">unset</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">field_names</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">raise_exception_when_unset</span><span class="p">:</span>
                    <span class="n">unset</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">unset</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t get data for fields, one or several of the requested fields are not set yet: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">unset</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">field_names</span><span class="p">:</span>
        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">data</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.ValueMap.get_value_obj" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_value_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.ValueMap.get_value_obj" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">get_value_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span><span class="p">:</span>
    <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.ValueMap.set_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.ValueMap.set_value" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;The value set implementation &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; is read-only, and does not support the setting or changing of values.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.ValueMap.set_values" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">values</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.ValueMap.set_values" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">values</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.ValueMapReadOnly" class="doc doc-heading">
        <code>
ValueMapReadOnly            (<a class="autorefs autorefs-internal" title="kiara.models.values.value.ValueMap" href="../values/value/#kiara.models.values.value.ValueMap">ValueMap</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.ValueMapReadOnly" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueMapReadOnly</span><span class="p">(</span><span class="n">ValueMap</span><span class="p">):</span>  <span class="c1"># type: ignore</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.value_map.readonly&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_ids</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data_registry</span><span class="p">:</span> <span class="s2">&quot;DataRegistry&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">value_ids</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">):</span>

        <span class="n">values</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value_ids</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="n">values_schema</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">value_schema</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="k">return</span> <span class="n">ValueMapReadOnly</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
            <span class="n">value_items</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">values_schema</span><span class="o">=</span><span class="n">values_schema</span>
        <span class="p">)</span>

    <span class="n">value_items</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The values contained in this set.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_value_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">field_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Field &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39; not available in value set. Available fields: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.ValueMapReadOnly-attributes">Attributes<a href="#kiara.models.values.value.ValueMapReadOnly-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueMapReadOnly.value_items" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_items</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">Value</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.ValueMapReadOnly.value_items" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The values contained in this set.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.ValueMapReadOnly.create_from_ids" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_ids</span><span class="p">(</span><span class="n">data_registry</span><span class="p">,</span> <span class="o">**</span><span class="n">value_ids</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.value.ValueMapReadOnly.create_from_ids" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_ids</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data_registry</span><span class="p">:</span> <span class="s2">&quot;DataRegistry&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">value_ids</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">):</span>

    <span class="n">values</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value_ids</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
    <span class="n">values_schema</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">value_schema</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
    <span class="k">return</span> <span class="n">ValueMapReadOnly</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
        <span class="n">value_items</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">values_schema</span><span class="o">=</span><span class="n">values_schema</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.ValueMapReadOnly.get_value_obj" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_value_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.ValueMapReadOnly.get_value_obj" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_value_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span><span class="p">:</span>

    <span class="k">if</span> <span class="n">field_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Field &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39; not available in value set. Available fields: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.ValueMapWritable" class="doc doc-heading">
        <code>
ValueMapWritable            (<a class="autorefs autorefs-internal" title="kiara.models.values.value.ValueMap" href="../values/value/#kiara.models.values.value.ValueMap">ValueMap</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.ValueMapWritable" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueMapWritable</span><span class="p">(</span><span class="n">ValueMap</span><span class="p">):</span>  <span class="c1"># type: ignore</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.value_map.writeable&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_schema</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
        <span class="n">schema</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">],</span>
        <span class="n">pedigree</span><span class="p">:</span> <span class="n">ValuePedigree</span><span class="p">,</span>
        <span class="n">unique_value_ids</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMapWritable&quot;</span><span class="p">:</span>

        <span class="n">v</span> <span class="o">=</span> <span class="n">ValueMapWritable</span><span class="p">(</span>
            <span class="n">values_schema</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">schema</span><span class="p">),</span>
            <span class="n">pedigree</span><span class="o">=</span><span class="n">pedigree</span><span class="p">,</span>
            <span class="n">unique_value_ids</span><span class="o">=</span><span class="n">unique_value_ids</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">v</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">kiara</span>
        <span class="n">v</span><span class="o">.</span><span class="n">_data_registry</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">data_registry</span>
        <span class="k">return</span> <span class="n">v</span>

    <span class="n">value_items</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Value</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The values contained in this set.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>
    <span class="n">pedigree</span><span class="p">:</span> <span class="n">ValuePedigree</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The pedigree to add to all of the result values.&quot;</span>
    <span class="p">)</span>
    <span class="n">unique_value_ids</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this value map always creates new value(id)s, even when a dataset with matching hash is found.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">_values_uncommitted</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
    <span class="n">_kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_data_registry</span><span class="p">:</span> <span class="s2">&quot;DataRegistry&quot;</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_auto_commit</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_value_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve the value object for the specified field.</span>

<span class="sd">        This class only creates the actual value object the first time it is requested, because there is a potential</span>
<span class="sd">        cost to assembling it, and it might not be needed ever.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">field_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t set data for field &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39;: field not valid, valid field names: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">field_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_values_uncommitted</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t retrieve value for field &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39;: value not set (yet).&quot;</span>
            <span class="p">)</span>

        <span class="n">schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
        <span class="n">value_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_values_uncommitted</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value_data</span><span class="p">,</span> <span class="n">Value</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value_data</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value_data</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value_data</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">register_data</span><span class="p">(</span>
                <span class="n">data</span><span class="o">=</span><span class="n">value_data</span><span class="p">,</span>
                <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
                <span class="n">pedigree</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pedigree</span><span class="p">,</span>
                <span class="n">pedigree_output_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">,</span>
                <span class="n">reuse_existing</span><span class="o">=</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">unique_value_ids</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_values_uncommitted</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">sync_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>

        <span class="n">invalid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">invalid</span><span class="p">:</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">InvalidValuesException</span><span class="p">(</span><span class="n">invalid_values</span><span class="o">=</span><span class="n">invalid</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">e</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="c1"># this is silly, I know</span>
                <span class="n">log_exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">e</span>

    <span class="k">def</span> <span class="nf">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the value for the specified field.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">field_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t set data for field &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39;: field not valid, valid field names: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t set data for field &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39;: field already committed.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_values_uncommitted</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t set data for field &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39;: field already set.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_values_uncommitted</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_auto_commit</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.ValueMapWritable-attributes">Attributes<a href="#kiara.models.values.value.ValueMapWritable-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueMapWritable.pedigree" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pedigree</span><span class="p">:</span> <span class="n">ValuePedigree</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.ValueMapWritable.pedigree" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The pedigree to add to all of the result values.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueMapWritable.unique_value_ids" class="doc doc-heading">
<code class="highlight language-python"><span class="n">unique_value_ids</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.ValueMapWritable.unique_value_ids" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Whether this value map always creates new value(id)s, even when a dataset with matching hash is found.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValueMapWritable.value_items" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_items</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">Value</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value.ValueMapWritable.value_items" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The values contained in this set.</p>
    </div>

  </div>




<h8 id="kiara.models.values.value.ValueMapWritable-methods">Methods<a href="#kiara.models.values.value.ValueMapWritable-methods" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.ValueMapWritable.create_from_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_schema</span><span class="p">(</span><span class="n">kiara</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="n">pedigree</span><span class="p">,</span> <span class="n">unique_value_ids</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.value.ValueMapWritable.create_from_schema" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_schema</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">],</span>
    <span class="n">pedigree</span><span class="p">:</span> <span class="n">ValuePedigree</span><span class="p">,</span>
    <span class="n">unique_value_ids</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ValueMapWritable&quot;</span><span class="p">:</span>

    <span class="n">v</span> <span class="o">=</span> <span class="n">ValueMapWritable</span><span class="p">(</span>
        <span class="n">values_schema</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">schema</span><span class="p">),</span>
        <span class="n">pedigree</span><span class="o">=</span><span class="n">pedigree</span><span class="p">,</span>
        <span class="n">unique_value_ids</span><span class="o">=</span><span class="n">unique_value_ids</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">v</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">kiara</span>
    <span class="n">v</span><span class="o">.</span><span class="n">_data_registry</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">data_registry</span>
    <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.ValueMapWritable.get_value_obj" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_value_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.ValueMapWritable.get_value_obj" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Retrieve the value object for the specified field.</p>
<p>This class only creates the actual value object the first time it is requested, because there is a potential
cost to assembling it, and it might not be needed ever.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_value_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Value</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Retrieve the value object for the specified field.</span>

<span class="sd">    This class only creates the actual value object the first time it is requested, because there is a potential</span>
<span class="sd">    cost to assembling it, and it might not be needed ever.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">field_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t set data for field &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39;: field not valid, valid field names: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">field_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_values_uncommitted</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t retrieve value for field &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39;: value not set (yet).&quot;</span>
        <span class="p">)</span>

    <span class="n">schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_schema</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
    <span class="n">value_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_values_uncommitted</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value_data</span><span class="p">,</span> <span class="n">Value</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value_data</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value_data</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">value_data</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_registry</span><span class="o">.</span><span class="n">register_data</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">value_data</span><span class="p">,</span>
            <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
            <span class="n">pedigree</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pedigree</span><span class="p">,</span>
            <span class="n">pedigree_output_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">,</span>
            <span class="n">reuse_existing</span><span class="o">=</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">unique_value_ids</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_values_uncommitted</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.ValueMapWritable.set_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.ValueMapWritable.set_value" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Set the value for the specified field.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Set the value for the specified field.&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">field_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t set data for field &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39;: field not valid, valid field names: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_items</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t set data for field &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39;: field already committed.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_values_uncommitted</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t set data for field &#39;</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&#39;: field already set.&quot;</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_values_uncommitted</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_auto_commit</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">field_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value.ValueMapWritable.sync_values" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sync_values</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value.ValueMapWritable.sync_values" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">sync_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

    <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_names</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>

    <span class="n">invalid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_invalid</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">invalid</span><span class="p">:</span>
        <span class="n">e</span> <span class="o">=</span> <span class="n">InvalidValuesException</span><span class="p">(</span><span class="n">invalid_values</span><span class="o">=</span><span class="n">invalid</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">e</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="c1"># this is silly, I know</span>
            <span class="n">log_exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">e</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value.ValuePedigree" class="doc doc-heading">
        <code>
ValuePedigree            (<a class="autorefs autorefs-internal" title="kiara.models.module.manifest.InputsManifest" href="../module/manifest/#kiara.models.module.manifest.InputsManifest">InputsManifest</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value.ValuePedigree" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValuePedigree</span><span class="p">(</span><span class="n">InputsManifest</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.value_pedigree&quot;</span>

    <span class="n">kiara_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The id of the kiara context a value was created in.&quot;</span>
    <span class="p">)</span>
    <span class="n">environments</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;References to the runtime environment details a value was created in.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;manifest&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">manifest_cid</span><span class="p">,</span>
            <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs_cid</span><span class="p">,</span>
            <span class="s2">&quot;environments&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">environments</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;ValuePedigree(module_type=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">module_type</span><span class="si">}</span><span class="s2">, inputs=[</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">], instance_id=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value.ValuePedigree-attributes">Attributes<a href="#kiara.models.values.value.ValuePedigree-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValuePedigree.environments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">environments</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.ValuePedigree.environments" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>References to the runtime environment details a value was created in.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value.ValuePedigree.kiara_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">kiara_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value.ValuePedigree.kiara_id" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The id of the kiara context a value was created in.</p>
    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.values.value_metadata" class="doc doc-heading">
        <code>value_metadata</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara.models.values.value_metadata" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.values.value_metadata-classes">Classes<a href="#kiara.models.values.value_metadata-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value_metadata.MetadataTypeClassesInfo" class="doc doc-heading">
        <code>
MetadataTypeClassesInfo            (<a class="autorefs autorefs-internal" title="kiara.interfaces.python_api.models.info.TypeInfoItemGroup" href="../../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.TypeInfoItemGroup">TypeInfoItemGroup</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.MetadataTypeClassesInfo" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MetadataTypeClassesInfo</span><span class="p">(</span><span class="n">TypeInfoItemGroup</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;info.metadata_types&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">base_info_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">TypeInfo</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">MetadataTypeInfo</span>

    <span class="n">type_name</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;value_metadata&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;value_metadata&quot;</span>
    <span class="n">item_infos</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataTypeInfo</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The value metadata info instances for each type.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value_metadata.MetadataTypeClassesInfo.type_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">type_name</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;value_metadata&#39;</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.MetadataTypeClassesInfo.type_name" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value_metadata.MetadataTypeClassesInfo.base_info_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">base_info_class</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.MetadataTypeClassesInfo.base_info_class" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">base_info_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">TypeInfo</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">MetadataTypeInfo</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value_metadata.MetadataTypeInfo" class="doc doc-heading">
        <code>
MetadataTypeInfo            (<a class="autorefs autorefs-internal" title="kiara.interfaces.python_api.models.info.TypeInfo" href="../../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.TypeInfo">TypeInfo</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.MetadataTypeInfo" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MetadataTypeInfo</span><span class="p">(</span><span class="n">TypeInfo</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;info.metadata_type&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_type_class</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">type_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">ValueMetadata</span><span class="p">],</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MetadataTypeInfo&quot;</span><span class="p">:</span>

        <span class="n">authors_md</span> <span class="o">=</span> <span class="n">AuthorsMetadataModel</span><span class="o">.</span><span class="n">from_class</span><span class="p">(</span><span class="n">type_cls</span><span class="p">)</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">from_class_doc</span><span class="p">(</span><span class="n">type_cls</span><span class="p">)</span>
        <span class="n">python_class</span> <span class="o">=</span> <span class="n">PythonClass</span><span class="o">.</span><span class="n">from_class</span><span class="p">(</span><span class="n">type_cls</span><span class="p">)</span>
        <span class="n">properties_md</span> <span class="o">=</span> <span class="n">ContextMetadataModel</span><span class="o">.</span><span class="n">from_class</span><span class="p">(</span><span class="n">type_cls</span><span class="p">)</span>
        <span class="n">type_name</span> <span class="o">=</span> <span class="n">type_cls</span><span class="o">.</span><span class="n">_metadata_key</span>  <span class="c1"># type: ignore</span>
        <span class="n">schema</span> <span class="o">=</span> <span class="n">type_cls</span><span class="o">.</span><span class="n">schema</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">MetadataTypeInfo</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
            <span class="n">type_name</span><span class="o">=</span><span class="n">type_name</span><span class="p">,</span>
            <span class="n">documentation</span><span class="o">=</span><span class="n">doc</span><span class="p">,</span>
            <span class="n">authors</span><span class="o">=</span><span class="n">authors_md</span><span class="p">,</span>
            <span class="n">context</span><span class="o">=</span><span class="n">properties_md</span><span class="p">,</span>
            <span class="n">python_class</span><span class="o">=</span><span class="n">python_class</span><span class="p">,</span>
            <span class="n">metadata_schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">base_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">ValueMetadata</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">ValueMetadata</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">category_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;value_metadata&quot;</span>

    <span class="n">metadata_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The (json) schema for this metadata value.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">include_doc</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_doc&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">include_schema</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_schema&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;property&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">include_doc</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                <span class="s2">&quot;Documentation&quot;</span><span class="p">,</span>
                <span class="n">Panel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(),</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Author(s)&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">())</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Context&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">())</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;python_class&quot;</span><span class="p">):</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Python class&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">python_class</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">include_schema</span><span class="p">:</span>
            <span class="n">schema</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
                <span class="n">orjson_dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata_schema</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">),</span>
                <span class="s2">&quot;json&quot;</span><span class="p">,</span>
                <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;metadata_schema&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value_metadata.MetadataTypeInfo-attributes">Attributes<a href="#kiara.models.values.value_metadata.MetadataTypeInfo-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value_metadata.MetadataTypeInfo.metadata_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">metadata_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.MetadataTypeInfo.metadata_schema" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The (json) schema for this metadata value.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value_metadata.MetadataTypeInfo.base_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">base_class</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.MetadataTypeInfo.base_class" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">base_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">ValueMetadata</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">ValueMetadata</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value_metadata.MetadataTypeInfo.category_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">category_name</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.MetadataTypeInfo.category_name" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">category_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;value_metadata&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value_metadata.MetadataTypeInfo.create_from_type_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_type_class</span><span class="p">(</span><span class="n">type_cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.MetadataTypeInfo.create_from_type_class" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_type_class</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">type_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">ValueMetadata</span><span class="p">],</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MetadataTypeInfo&quot;</span><span class="p">:</span>

    <span class="n">authors_md</span> <span class="o">=</span> <span class="n">AuthorsMetadataModel</span><span class="o">.</span><span class="n">from_class</span><span class="p">(</span><span class="n">type_cls</span><span class="p">)</span>
    <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">from_class_doc</span><span class="p">(</span><span class="n">type_cls</span><span class="p">)</span>
    <span class="n">python_class</span> <span class="o">=</span> <span class="n">PythonClass</span><span class="o">.</span><span class="n">from_class</span><span class="p">(</span><span class="n">type_cls</span><span class="p">)</span>
    <span class="n">properties_md</span> <span class="o">=</span> <span class="n">ContextMetadataModel</span><span class="o">.</span><span class="n">from_class</span><span class="p">(</span><span class="n">type_cls</span><span class="p">)</span>
    <span class="n">type_name</span> <span class="o">=</span> <span class="n">type_cls</span><span class="o">.</span><span class="n">_metadata_key</span>  <span class="c1"># type: ignore</span>
    <span class="n">schema</span> <span class="o">=</span> <span class="n">type_cls</span><span class="o">.</span><span class="n">schema</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">MetadataTypeInfo</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
        <span class="n">type_name</span><span class="o">=</span><span class="n">type_name</span><span class="p">,</span>
        <span class="n">documentation</span><span class="o">=</span><span class="n">doc</span><span class="p">,</span>
        <span class="n">authors</span><span class="o">=</span><span class="n">authors_md</span><span class="p">,</span>
        <span class="n">context</span><span class="o">=</span><span class="n">properties_md</span><span class="p">,</span>
        <span class="n">python_class</span><span class="o">=</span><span class="n">python_class</span><span class="p">,</span>
        <span class="n">metadata_schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value_metadata.MetadataTypeInfo.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.values.value_metadata.MetadataTypeInfo.create_renderable" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">include_doc</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_doc&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">include_schema</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_schema&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;property&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">include_doc</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="s2">&quot;Documentation&quot;</span><span class="p">,</span>
            <span class="n">Panel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(),</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Author(s)&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">())</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Context&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">())</span>

    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;python_class&quot;</span><span class="p">):</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Python class&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">python_class</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">include_schema</span><span class="p">:</span>
        <span class="n">schema</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
            <span class="n">orjson_dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata_schema</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_INDENT_2</span><span class="p">),</span>
            <span class="s2">&quot;json&quot;</span><span class="p">,</span>
            <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;metadata_schema&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value_metadata.ValueMetadata" class="doc doc-heading">
        <code>
ValueMetadata            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.ValueMetadata" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueMetadata</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_supported_data_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">pass</span>

    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_value_metadata</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;ValueMetadata&quot;</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="k">pass</span>

    <span class="c1"># @property</span>
    <span class="c1"># def metadata_key(self) -&gt; str:</span>
    <span class="c1">#     return self._metadata_key  # type: ignore  # this is added by the kiara class loading functionality</span>

    <span class="k">def</span> <span class="nf">_retrieve_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_key</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span> <span class="s2">&quot;schema&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_json</span><span class="p">()}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value_metadata.ValueMetadata.create_value_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_value_metadata</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.ValueMetadata.create_value_metadata" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">create_value_metadata</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;ValueMetadata&quot;</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
    <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value_metadata.ValueMetadata.retrieve_supported_data_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_supported_data_types</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.ValueMetadata.retrieve_supported_data_types" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">retrieve_supported_data_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




<h6 id="kiara.models.values.value_metadata-modules">Modules<a href="#kiara.models.values.value_metadata-modules" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-module">



<h7 id="kiara.models.values.value_metadata.included_metadata_types" class="doc doc-heading">
        <code>included_metadata_types</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.included_metadata_types" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h8 id="kiara.models.values.value_metadata.included_metadata_types-classes">Classes<a href="#kiara.models.values.value_metadata.included_metadata_types-classes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-class">



<h9 id="kiara.models.values.value_metadata.included_metadata_types.FileBundleMetadata" class="doc doc-heading">
        <code>
FileBundleMetadata            (<a class="autorefs autorefs-internal" title="kiara.models.values.value_metadata.ValueMetadata" href="../values/value_metadata/__init__/#kiara.models.values.value_metadata.ValueMetadata">ValueMetadata</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.included_metadata_types.FileBundleMetadata" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>File bundle stats.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/included_metadata_types/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FileBundleMetadata</span><span class="p">(</span><span class="n">ValueMetadata</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;File bundle stats.&quot;&quot;&quot;</span>

    <span class="n">_metadata_key</span> <span class="o">=</span> <span class="s2">&quot;file_bundle&quot;</span>
    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;metadata.file_bundle&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_supported_data_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;file_bundle&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_value_metadata</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FileBundleMetadata&quot;</span><span class="p">:</span>

        <span class="k">return</span> <span class="n">FileBundleMetadata</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span><span class="n">file_bundle</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

    <span class="n">file_bundle</span><span class="p">:</span> <span class="n">FileBundle</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The file-specific metadata.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h10 id="kiara.models.values.value_metadata.included_metadata_types.FileBundleMetadata-attributes">Attributes<a href="#kiara.models.values.value_metadata.included_metadata_types.FileBundleMetadata-attributes" class="headerlink" title="Permanent link">&para;</a></h10>

  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.values.value_metadata.included_metadata_types.FileBundleMetadata.file_bundle" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_bundle</span><span class="p">:</span> <span class="n">FileBundle</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.included_metadata_types.FileBundleMetadata.file_bundle" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The file-specific metadata.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h11 id="kiara.models.values.value_metadata.included_metadata_types.FileBundleMetadata.create_value_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_value_metadata</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.included_metadata_types.FileBundleMetadata.create_value_metadata" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/included_metadata_types/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_value_metadata</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FileBundleMetadata&quot;</span><span class="p">:</span>

    <span class="k">return</span> <span class="n">FileBundleMetadata</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span><span class="n">file_bundle</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.values.value_metadata.included_metadata_types.FileBundleMetadata.retrieve_supported_data_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_supported_data_types</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.included_metadata_types.FileBundleMetadata.retrieve_supported_data_types" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/included_metadata_types/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_supported_data_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;file_bundle&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h9 id="kiara.models.values.value_metadata.included_metadata_types.FileMetadata" class="doc doc-heading">
        <code>
FileMetadata            (<a class="autorefs autorefs-internal" title="kiara.models.values.value_metadata.ValueMetadata" href="../values/value_metadata/__init__/#kiara.models.values.value_metadata.ValueMetadata">ValueMetadata</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.included_metadata_types.FileMetadata" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>File stats.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/included_metadata_types/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FileMetadata</span><span class="p">(</span><span class="n">ValueMetadata</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;File stats.&quot;&quot;&quot;</span>

    <span class="n">_metadata_key</span> <span class="o">=</span> <span class="s2">&quot;file&quot;</span>
    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;metadata.file&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_supported_data_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;file&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_value_metadata</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FileMetadata&quot;</span><span class="p">:</span>

        <span class="k">return</span> <span class="n">FileMetadata</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

    <span class="n">file</span><span class="p">:</span> <span class="n">FileModel</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The file-specific metadata.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h10 id="kiara.models.values.value_metadata.included_metadata_types.FileMetadata-attributes">Attributes<a href="#kiara.models.values.value_metadata.included_metadata_types.FileMetadata-attributes" class="headerlink" title="Permanent link">&para;</a></h10>

  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.values.value_metadata.included_metadata_types.FileMetadata.file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file</span><span class="p">:</span> <span class="n">FileModel</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.included_metadata_types.FileMetadata.file" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>The file-specific metadata.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h11 id="kiara.models.values.value_metadata.included_metadata_types.FileMetadata.create_value_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_value_metadata</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.included_metadata_types.FileMetadata.create_value_metadata" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/included_metadata_types/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_value_metadata</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FileMetadata&quot;</span><span class="p">:</span>

    <span class="k">return</span> <span class="n">FileMetadata</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.values.value_metadata.included_metadata_types.FileMetadata.retrieve_supported_data_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_supported_data_types</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.included_metadata_types.FileMetadata.retrieve_supported_data_types" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/included_metadata_types/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_supported_data_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;file&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h9 id="kiara.models.values.value_metadata.included_metadata_types.PythonClassMetadata" class="doc doc-heading">
        <code>
PythonClassMetadata            (<a class="autorefs autorefs-internal" title="kiara.models.values.value_metadata.ValueMetadata" href="../values/value_metadata/__init__/#kiara.models.values.value_metadata.ValueMetadata">ValueMetadata</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.included_metadata_types.PythonClassMetadata" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Python class and module information.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/included_metadata_types/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PythonClassMetadata</span><span class="p">(</span><span class="n">ValueMetadata</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Python class and module information.&quot;&quot;&quot;</span>

    <span class="n">_metadata_key</span> <span class="o">=</span> <span class="s2">&quot;python_class&quot;</span>
    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;metadata.python_class&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_supported_data_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;any&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_value_metadata</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PythonClassMetadata&quot;</span><span class="p">:</span>

        <span class="k">return</span> <span class="n">PythonClassMetadata</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
            <span class="n">python_class</span><span class="o">=</span><span class="n">PythonClass</span><span class="o">.</span><span class="n">from_class</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="c1"># metadata_key: Literal[&quot;python_class&quot;]</span>
    <span class="n">python_class</span><span class="p">:</span> <span class="n">PythonClass</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Details about the Python class that backs this value.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h10 id="kiara.models.values.value_metadata.included_metadata_types.PythonClassMetadata-attributes">Attributes<a href="#kiara.models.values.value_metadata.included_metadata_types.PythonClassMetadata-attributes" class="headerlink" title="Permanent link">&para;</a></h10>

  <div class="doc doc-object doc-attribute">



<h11 id="kiara.models.values.value_metadata.included_metadata_types.PythonClassMetadata.python_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">python_class</span><span class="p">:</span> <span class="n">PythonClass</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.included_metadata_types.PythonClassMetadata.python_class" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">

      <p>Details about the Python class that backs this value.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h11 id="kiara.models.values.value_metadata.included_metadata_types.PythonClassMetadata.create_value_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_value_metadata</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.included_metadata_types.PythonClassMetadata.create_value_metadata" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/included_metadata_types/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_value_metadata</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PythonClassMetadata&quot;</span><span class="p">:</span>

    <span class="k">return</span> <span class="n">PythonClassMetadata</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
        <span class="n">python_class</span><span class="o">=</span><span class="n">PythonClass</span><span class="o">.</span><span class="n">from_class</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h11 id="kiara.models.values.value_metadata.included_metadata_types.PythonClassMetadata.retrieve_supported_data_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_supported_data_types</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.value_metadata.included_metadata_types.PythonClassMetadata.retrieve_supported_data_types" class="headerlink" title="Permanent link">&para;</a></h11>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_metadata/included_metadata_types/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_supported_data_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;any&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="kiara.models.values.value_schema" class="doc doc-heading">
        <code>value_schema</code>



<a href="#kiara.models.values.value_schema" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h6 id="kiara.models.values.value_schema-classes">Classes<a href="#kiara.models.values.value_schema-classes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-class">



<h7 id="kiara.models.values.value_schema.ValueSchema" class="doc doc-heading">
        <code>
ValueSchema            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.values.value_schema.ValueSchema" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The schema of a value.</p>
<p>The schema contains the [ValueTypeOrm][kiara.data.values.ValueTypeOrm] of a value, as well as an optional default that
will be used if no user input was given (yet) for a value.</p>
<p>For more complex container data_types like array, tables, unions etc, data_types can also be configured with values from the <code>type_config</code> field.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_schema.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueSchema</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The schema of a value.</span>

<span class="sd">    The schema contains the [ValueTypeOrm][kiara.data.values.ValueTypeOrm] of a value, as well as an optional default that</span>
<span class="sd">    will be used if no user input was given (yet) for a value.</span>

<span class="sd">    For more complex container data_types like array, tables, unions etc, data_types can also be configured with values from the ``type_config`` field.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.value_schema&quot;</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">use_enum_values</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># extra = Extra.forbid</span>

    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The type of the value.&quot;</span><span class="p">)</span>
    <span class="n">type_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Configuration for the type, in case it&#39;s complex.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A default value.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span>
    <span class="p">)</span>

    <span class="n">optional</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this value is required (True), or whether &#39;None&#39; value is allowed (False).&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">is_constant</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether the value is a constant.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>

    <span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">DocumentationMetadataModel</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A description for the value of this input field.&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">doc</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="s2">&quot;type_config&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_config</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">is_required</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">optional</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NO_VALUE</span><span class="p">]:</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

    <span class="c1"># def validate_types(self, kiara: &quot;Kiara&quot;):</span>
    <span class="c1">#</span>
    <span class="c1">#     if self.type not in kiara.value_type_names:</span>
    <span class="c1">#         raise ValueError(</span>
    <span class="c1">#             f&quot;Invalid value type &#39;{self.type}&#39;, available data_types: {kiara.value_type_names}&quot;</span>
    <span class="c1">#         )</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">default</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;ValueSchema(type=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">, default=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">default</span><span class="si">}</span><span class="s2">, optional=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">optional</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h8 id="kiara.models.values.value_schema.ValueSchema-attributes">Attributes<a href="#kiara.models.values.value_schema.ValueSchema-attributes" class="headerlink" title="Permanent link">&para;</a></h8>

  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value_schema.ValueSchema.default" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default</span><span class="p">:</span> <span class="n">Any</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value_schema.ValueSchema.default" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A default value.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value_schema.ValueSchema.doc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">doc</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value_schema.ValueSchema.doc" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>A description for the value of this input field.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value_schema.ValueSchema.is_constant" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_constant</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value_schema.ValueSchema.is_constant" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Whether the value is a constant.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value_schema.ValueSchema.optional" class="doc doc-heading">
<code class="highlight language-python"><span class="n">optional</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value_schema.ValueSchema.optional" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Whether this value is required (True), or whether 'None' value is allowed (False).</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value_schema.ValueSchema.type" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.values.value_schema.ValueSchema.type" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>The type of the value.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h9 id="kiara.models.values.value_schema.ValueSchema.type_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">type_config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.values.value_schema.ValueSchema.type_config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">

      <p>Configuration for the type, in case it's complex.</p>
    </div>

  </div>




  <div class="doc doc-object doc-class">



<h9 id="kiara.models.values.value_schema.ValueSchema.Config" class="doc doc-heading">
        <code>
Config        </code>



<a href="#kiara.models.values.value_schema.ValueSchema.Config" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_schema.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">use_enum_values</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="c1"># extra = Extra.forbid</span>
</code></pre></div>
        </details>


    </div>

  </div>





  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value_schema.ValueSchema.is_required" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_required</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.models.values.value_schema.ValueSchema.is_required" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_schema.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_required</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">optional</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NOT_SET</span><span class="p">,</span> <span class="n">SpecialValue</span><span class="o">.</span><span class="n">NO_VALUE</span><span class="p">]:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h9 id="kiara.models.values.value_schema.ValueSchema.validate_doc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_doc</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.values.value_schema.ValueSchema.validate_doc" class="headerlink" title="Permanent link">&para;</a></h9>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/values/value_schema.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">doc</span> <span class="o">=</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">doc</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="kiara.models.workflow" class="doc doc-heading">
        <code>workflow</code>



<a href="#kiara.models.workflow" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h4 id="kiara.models.workflow-classes">Classes<a href="#kiara.models.workflow-classes" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-object doc-class">



<h5 id="kiara.models.workflow.WorkflowGroupInfo" class="doc doc-heading">
        <code>
WorkflowGroupInfo            (<a class="autorefs autorefs-internal" title="kiara.interfaces.python_api.models.info.InfoItemGroup" href="../../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.InfoItemGroup">InfoItemGroup</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowGroupInfo" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/workflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WorkflowGroupInfo</span><span class="p">(</span><span class="n">InfoItemGroup</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;info.workflows&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">base_info_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">ItemInfo</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">WorkflowInfo</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_workflows</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="o">*</span><span class="n">items</span><span class="p">:</span> <span class="s2">&quot;Workflow&quot;</span><span class="p">,</span>
        <span class="n">group_title</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;WorkflowGroupInfo&quot;</span><span class="p">:</span>

        <span class="n">workflow_infos</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">w</span><span class="o">.</span><span class="n">workflow_id</span><span class="p">):</span> <span class="n">WorkflowInfo</span><span class="o">.</span><span class="n">create_from_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="o">=</span><span class="n">w</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">items</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">alias_map</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">workflow_group_info</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
            <span class="n">group_title</span><span class="o">=</span><span class="n">group_title</span><span class="p">,</span> <span class="n">item_infos</span><span class="o">=</span><span class="n">workflow_infos</span><span class="p">,</span> <span class="n">aliases</span><span class="o">=</span><span class="n">alias_map</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">workflow_group_info</span>

    <span class="n">item_infos</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">WorkflowInfo</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The workflow infos objects for each workflow.&quot;</span>
    <span class="p">)</span>
    <span class="n">aliases</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The available aliases.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;alias(es)&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;workflow_id&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;# steps&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;# stages&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;# states&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">workflow_id</span><span class="p">,</span> <span class="n">wf</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_infos</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">aliases</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">==</span> <span class="n">workflow_id</span><span class="p">]</span>
            <span class="n">steps</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">wf</span><span class="o">.</span><span class="n">pipeline_info</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">steps</span><span class="p">)</span>
            <span class="n">stages</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">wf</span><span class="o">.</span><span class="n">pipeline_info</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">processing_stages</span><span class="p">)</span>
            <span class="n">states</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">wf</span><span class="o">.</span><span class="n">workflow_state_ids</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">aliases</span><span class="p">:</span>
                <span class="n">alias_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">alias_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">aliases</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                <span class="n">alias_str</span><span class="p">,</span>
                <span class="n">workflow_id</span><span class="p">,</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">steps</span><span class="p">),</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">stages</span><span class="p">),</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">states</span><span class="p">),</span>
                <span class="n">wf</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.workflow.WorkflowGroupInfo-attributes">Attributes<a href="#kiara.models.workflow.WorkflowGroupInfo-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowGroupInfo.aliases" class="doc doc-heading">
<code class="highlight language-python"><span class="n">aliases</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowGroupInfo.aliases" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The available aliases.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h7 id="kiara.models.workflow.WorkflowGroupInfo.base_info_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">base_info_class</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowGroupInfo.base_info_class" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/workflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">base_info_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">ItemInfo</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">WorkflowInfo</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.workflow.WorkflowGroupInfo.create_from_workflows" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_workflows</span><span class="p">(</span><span class="o">*</span><span class="n">items</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">group_title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias_map</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowGroupInfo.create_from_workflows" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/workflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_workflows</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="o">*</span><span class="n">items</span><span class="p">:</span> <span class="s2">&quot;Workflow&quot;</span><span class="p">,</span>
    <span class="n">group_title</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">alias_map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;WorkflowGroupInfo&quot;</span><span class="p">:</span>

    <span class="n">workflow_infos</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">w</span><span class="o">.</span><span class="n">workflow_id</span><span class="p">):</span> <span class="n">WorkflowInfo</span><span class="o">.</span><span class="n">create_from_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="o">=</span><span class="n">w</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">items</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="n">alias_map</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">alias_map</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">workflow_group_info</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
        <span class="n">group_title</span><span class="o">=</span><span class="n">group_title</span><span class="p">,</span> <span class="n">item_infos</span><span class="o">=</span><span class="n">workflow_infos</span><span class="p">,</span> <span class="n">aliases</span><span class="o">=</span><span class="n">alias_map</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">workflow_group_info</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.workflow.WorkflowGroupInfo.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.workflow.WorkflowGroupInfo.create_renderable" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/workflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;alias(es)&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;workflow_id&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;# steps&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;# stages&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;# states&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">workflow_id</span><span class="p">,</span> <span class="n">wf</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_infos</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

        <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">aliases</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">==</span> <span class="n">workflow_id</span><span class="p">]</span>
        <span class="n">steps</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">wf</span><span class="o">.</span><span class="n">pipeline_info</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">steps</span><span class="p">)</span>
        <span class="n">stages</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">wf</span><span class="o">.</span><span class="n">pipeline_info</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">processing_stages</span><span class="p">)</span>
        <span class="n">states</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">wf</span><span class="o">.</span><span class="n">workflow_state_ids</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">aliases</span><span class="p">:</span>
            <span class="n">alias_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">alias_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">aliases</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="n">alias_str</span><span class="p">,</span>
            <span class="n">workflow_id</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">steps</span><span class="p">),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">stages</span><span class="p">),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">states</span><span class="p">),</span>
            <span class="n">wf</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.workflow.WorkflowInfo" class="doc doc-heading">
        <code>
WorkflowInfo            (<a class="autorefs autorefs-internal" title="kiara.interfaces.python_api.models.info.ItemInfo" href="../../interfaces/python_api/models/info/#kiara.interfaces.python_api.models.info.ItemInfo">ItemInfo</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowInfo" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/workflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WorkflowInfo</span><span class="p">(</span><span class="n">ItemInfo</span><span class="p">):</span>

    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;info.workflow&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_workflow</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">workflow</span><span class="p">:</span> <span class="s2">&quot;Workflow&quot;</span><span class="p">):</span>

        <span class="n">wf_info</span> <span class="o">=</span> <span class="n">WorkflowInfo</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
            <span class="n">type_name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">workflow</span><span class="o">.</span><span class="n">workflow_id</span><span class="p">),</span>
            <span class="n">workflow_metadata</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">workflow_metadata</span><span class="p">,</span>
            <span class="n">workflow_state_ids</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">all_state_ids</span><span class="p">,</span>
            <span class="n">pipeline_info</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">pipeline_info</span><span class="p">,</span>
            <span class="n">documentation</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">workflow_metadata</span><span class="o">.</span><span class="n">documentation</span><span class="p">,</span>
            <span class="n">authors</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">workflow_metadata</span><span class="o">.</span><span class="n">authors</span><span class="p">,</span>
            <span class="n">context</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">workflow_metadata</span><span class="o">.</span><span class="n">context</span><span class="p">,</span>
            <span class="n">current_input_values</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">current_input_values</span><span class="p">,</span>
            <span class="n">current_output_values</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">current_output_values</span><span class="p">,</span>
            <span class="n">input_aliases</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">workflow</span><span class="o">.</span><span class="n">input_aliases</span><span class="p">),</span>
            <span class="n">output_aliases</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">workflow</span><span class="o">.</span><span class="n">output_aliases</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">wf_info</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">category_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;workflow&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">base_instance_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Workflow&quot;</span><span class="p">]:</span>
        <span class="kn">from</span> <span class="nn">kiara.interfaces.python_api.workflow</span> <span class="kn">import</span> <span class="n">Workflow</span>

        <span class="k">return</span> <span class="n">Workflow</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">instance</span><span class="p">:</span> <span class="s2">&quot;Workflow&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_from_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="o">=</span><span class="n">instance</span><span class="p">)</span>

    <span class="n">workflow_metadata</span><span class="p">:</span> <span class="n">WorkflowMetadata</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The workflow details.&quot;</span><span class="p">)</span>
    <span class="n">workflow_state_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;All states for this workflow.&quot;</span><span class="p">)</span>
    <span class="n">pipeline_info</span><span class="p">:</span> <span class="n">PipelineInfo</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The current state of the workflows&#39; pipeline.&quot;</span>
    <span class="p">)</span>
    <span class="n">current_input_values</span><span class="p">:</span> <span class="n">ValueMap</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The current workflow inputs (after aliasing).&quot;</span>
    <span class="p">)</span>
    <span class="n">current_output_values</span><span class="p">:</span> <span class="n">ValueMap</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The current workflow outputs (after aliasing).&quot;</span>
    <span class="p">)</span>
    <span class="n">input_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The (current) input aliases for this workflow.&quot;</span>
    <span class="p">)</span>
    <span class="n">output_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The (current) output aliases for this workflow.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">in_panel</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;in_panel&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">in_panel</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_jupyter</span><span class="p">():</span>
                <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">include_doc</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_doc&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">include_authors</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_authors&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">include_id</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_id&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">include_context</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_context&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">include_history</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_history&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">include_current_inputs</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_current_inputs&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">include_current_outputs</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_current_outputs&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">include_aliases</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_aliases&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">include_current_state</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_current_state&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;property&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">include_doc</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                <span class="s2">&quot;documentation&quot;</span><span class="p">,</span>
                <span class="n">Panel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(),</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">include_authors</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;author(s)&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">include_id</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;workflow id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workflow_metadata</span><span class="o">.</span><span class="n">workflow_id</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">include_context</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;context&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">include_aliases</span><span class="p">:</span>
            <span class="n">aliases</span> <span class="o">=</span> <span class="n">orjson_dumps</span><span class="p">(</span>
                <span class="p">{</span><span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_aliases</span><span class="p">,</span> <span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_aliases</span><span class="p">}</span>
            <span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                <span class="s2">&quot;current aliases&quot;</span><span class="p">,</span> <span class="n">Syntax</span><span class="p">(</span><span class="n">aliases</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">include_current_inputs</span><span class="p">:</span>
            <span class="n">inputs_renderable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_input_values</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;current inputs&quot;</span><span class="p">,</span> <span class="n">inputs_renderable</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">include_current_outputs</span><span class="p">:</span>
            <span class="n">outputs_renderable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_output_values</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;current outputs&quot;</span><span class="p">,</span> <span class="n">outputs_renderable</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">include_history</span><span class="p">:</span>
            <span class="n">history_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
            <span class="n">history_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
            <span class="n">history_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">d</span><span class="p">,</span> <span class="n">s_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">workflow_metadata</span><span class="o">.</span><span class="n">workflow_history</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">history_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">d</span><span class="p">),</span> <span class="n">s_id</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;snapshot timeline&quot;</span><span class="p">,</span> <span class="n">history_table</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">include_current_state</span><span class="p">:</span>
            <span class="n">current_state_id</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;-- n/a --&quot;</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">workflow_metadata</span><span class="o">.</span><span class="n">current_state</span>
                <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">workflow_metadata</span><span class="o">.</span><span class="n">current_state</span>
            <span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;current state id&quot;</span><span class="p">,</span> <span class="n">current_state_id</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                <span class="s2">&quot;current state details&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_info</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">in_panel</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Panel</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.workflow.WorkflowInfo-attributes">Attributes<a href="#kiara.models.workflow.WorkflowInfo-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowInfo.current_input_values" class="doc doc-heading">
<code class="highlight language-python"><span class="n">current_input_values</span><span class="p">:</span> <span class="n">ValueMap</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowInfo.current_input_values" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The current workflow inputs (after aliasing).</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowInfo.current_output_values" class="doc doc-heading">
<code class="highlight language-python"><span class="n">current_output_values</span><span class="p">:</span> <span class="n">ValueMap</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowInfo.current_output_values" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The current workflow outputs (after aliasing).</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowInfo.input_aliases" class="doc doc-heading">
<code class="highlight language-python"><span class="n">input_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowInfo.input_aliases" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The (current) input aliases for this workflow.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowInfo.output_aliases" class="doc doc-heading">
<code class="highlight language-python"><span class="n">output_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowInfo.output_aliases" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The (current) output aliases for this workflow.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowInfo.pipeline_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_info</span><span class="p">:</span> <span class="n">PipelineInfo</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowInfo.pipeline_info" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The current state of the workflows' pipeline.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowInfo.workflow_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">workflow_metadata</span><span class="p">:</span> <span class="n">WorkflowMetadata</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowInfo.workflow_metadata" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The workflow details.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowInfo.workflow_state_ids" class="doc doc-heading">
<code class="highlight language-python"><span class="n">workflow_state_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowInfo.workflow_state_ids" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>All states for this workflow.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h7 id="kiara.models.workflow.WorkflowInfo.base_instance_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">base_instance_class</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowInfo.base_instance_class" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/workflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">base_instance_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Workflow&quot;</span><span class="p">]:</span>
    <span class="kn">from</span> <span class="nn">kiara.interfaces.python_api.workflow</span> <span class="kn">import</span> <span class="n">Workflow</span>

    <span class="k">return</span> <span class="n">Workflow</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.workflow.WorkflowInfo.category_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">category_name</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowInfo.category_name" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/workflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">category_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;workflow&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.workflow.WorkflowInfo.create_from_instance" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_instance</span><span class="p">(</span><span class="n">kiara</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowInfo.create_from_instance" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/workflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="n">instance</span><span class="p">:</span> <span class="s2">&quot;Workflow&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_from_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="o">=</span><span class="n">instance</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.workflow.WorkflowInfo.create_from_workflow" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowInfo.create_from_workflow" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/workflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_workflow</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">workflow</span><span class="p">:</span> <span class="s2">&quot;Workflow&quot;</span><span class="p">):</span>

    <span class="n">wf_info</span> <span class="o">=</span> <span class="n">WorkflowInfo</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span>
        <span class="n">type_name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">workflow</span><span class="o">.</span><span class="n">workflow_id</span><span class="p">),</span>
        <span class="n">workflow_metadata</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">workflow_metadata</span><span class="p">,</span>
        <span class="n">workflow_state_ids</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">all_state_ids</span><span class="p">,</span>
        <span class="n">pipeline_info</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">pipeline_info</span><span class="p">,</span>
        <span class="n">documentation</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">workflow_metadata</span><span class="o">.</span><span class="n">documentation</span><span class="p">,</span>
        <span class="n">authors</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">workflow_metadata</span><span class="o">.</span><span class="n">authors</span><span class="p">,</span>
        <span class="n">context</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">workflow_metadata</span><span class="o">.</span><span class="n">context</span><span class="p">,</span>
        <span class="n">current_input_values</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">current_input_values</span><span class="p">,</span>
        <span class="n">current_output_values</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">current_output_values</span><span class="p">,</span>
        <span class="n">input_aliases</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">workflow</span><span class="o">.</span><span class="n">input_aliases</span><span class="p">),</span>
        <span class="n">output_aliases</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">workflow</span><span class="o">.</span><span class="n">output_aliases</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">wf_info</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.workflow.WorkflowInfo.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.workflow.WorkflowInfo.create_renderable" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/workflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">in_panel</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;in_panel&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">in_panel</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_jupyter</span><span class="p">():</span>
            <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">include_doc</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_doc&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">include_authors</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_authors&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">include_id</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_id&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">include_context</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_context&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">include_history</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_history&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">include_current_inputs</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_current_inputs&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">include_current_outputs</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_current_outputs&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">include_aliases</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_aliases&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">include_current_state</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_current_state&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;property&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">include_doc</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="s2">&quot;documentation&quot;</span><span class="p">,</span>
            <span class="n">Panel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(),</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">include_authors</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;author(s)&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">include_id</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;workflow id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workflow_metadata</span><span class="o">.</span><span class="n">workflow_id</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">include_context</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;context&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">include_aliases</span><span class="p">:</span>
        <span class="n">aliases</span> <span class="o">=</span> <span class="n">orjson_dumps</span><span class="p">(</span>
            <span class="p">{</span><span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_aliases</span><span class="p">,</span> <span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_aliases</span><span class="p">}</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="s2">&quot;current aliases&quot;</span><span class="p">,</span> <span class="n">Syntax</span><span class="p">(</span><span class="n">aliases</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">include_current_inputs</span><span class="p">:</span>
        <span class="n">inputs_renderable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_input_values</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;current inputs&quot;</span><span class="p">,</span> <span class="n">inputs_renderable</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">include_current_outputs</span><span class="p">:</span>
        <span class="n">outputs_renderable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_output_values</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;current outputs&quot;</span><span class="p">,</span> <span class="n">outputs_renderable</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">include_history</span><span class="p">:</span>
        <span class="n">history_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">)</span>
        <span class="n">history_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">history_table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">d</span><span class="p">,</span> <span class="n">s_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">workflow_metadata</span><span class="o">.</span><span class="n">workflow_history</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">history_table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">d</span><span class="p">),</span> <span class="n">s_id</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;snapshot timeline&quot;</span><span class="p">,</span> <span class="n">history_table</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">include_current_state</span><span class="p">:</span>
        <span class="n">current_state_id</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;-- n/a --&quot;</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">workflow_metadata</span><span class="o">.</span><span class="n">current_state</span>
            <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">workflow_metadata</span><span class="o">.</span><span class="n">current_state</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;current state id&quot;</span><span class="p">,</span> <span class="n">current_state_id</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="s2">&quot;current state details&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_info</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">in_panel</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Panel</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.workflow.WorkflowMetadata" class="doc doc-heading">
        <code>
WorkflowMetadata            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowMetadata" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/workflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WorkflowMetadata</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="n">_kiara_model_id</span> <span class="o">=</span> <span class="s2">&quot;instance.workflow&quot;</span>

    <span class="n">workflow_id</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The globaly unique uuid for this workflow.&quot;</span>
    <span class="p">)</span>
    <span class="n">documentation</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A description for this workflow.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">authors</span><span class="p">:</span> <span class="n">AuthorsMetadataModel</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The author(s) of this workflow.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">AuthorsMetadataModel</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">context</span><span class="p">:</span> <span class="n">ContextMetadataModel</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Workflow context details.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="n">ContextMetadataModel</span>
    <span class="p">)</span>
    <span class="n">current_state</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A reference to the current state of this workflow.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>
    <span class="n">workflow_history</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A history of all the states of this workflow.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">input_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A set of aliases that can be used to forward inputs to their (unaliased) pipeline inputs.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">output_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A set of aliases to make output field names more user friendly.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">is_persisted</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this workflow is persisted in it&#39;s current state in a kiara store.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">_kiara</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Kiara&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="c1"># _last_update: datetime.datetime = PrivateAttr(default_factory=datetime.datetime.now)</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;documentation&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">DocumentationMetadataModel</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">last_state_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">workflow_history</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">last_date</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workflow_history</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">workflow_state_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">workflow_history</span><span class="p">[</span><span class="n">last_date</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">workflow_state_id</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.workflow.WorkflowMetadata-attributes">Attributes<a href="#kiara.models.workflow.WorkflowMetadata-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowMetadata.authors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">authors</span><span class="p">:</span> <span class="n">AuthorsMetadataModel</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowMetadata.authors" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The author(s) of this workflow.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowMetadata.context" class="doc doc-heading">
<code class="highlight language-python"><span class="n">context</span><span class="p">:</span> <span class="n">ContextMetadataModel</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowMetadata.context" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Workflow context details.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowMetadata.current_state" class="doc doc-heading">
<code class="highlight language-python"><span class="n">current_state</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowMetadata.current_state" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A reference to the current state of this workflow.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowMetadata.documentation" class="doc doc-heading">
<code class="highlight language-python"><span class="n">documentation</span><span class="p">:</span> <span class="n">DocumentationMetadataModel</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowMetadata.documentation" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A description for this workflow.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowMetadata.input_aliases" class="doc doc-heading">
<code class="highlight language-python"><span class="n">input_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowMetadata.input_aliases" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A set of aliases that can be used to forward inputs to their (unaliased) pipeline inputs.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowMetadata.is_persisted" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_persisted</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowMetadata.is_persisted" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Whether this workflow is persisted in it's current state in a kiara store.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowMetadata.last_state_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">last_state_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowMetadata.last_state_id" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowMetadata.output_aliases" class="doc doc-heading">
<code class="highlight language-python"><span class="n">output_aliases</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowMetadata.output_aliases" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A set of aliases to make output field names more user friendly.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowMetadata.workflow_history" class="doc doc-heading">
<code class="highlight language-python"><span class="n">workflow_history</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowMetadata.workflow_history" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>A history of all the states of this workflow.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowMetadata.workflow_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">workflow_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowMetadata.workflow_id" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The globaly unique uuid for this workflow.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h7 id="kiara.models.workflow.WorkflowMetadata.validate_doc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_doc</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowMetadata.validate_doc" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/workflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;documentation&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_doc</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">DocumentationMetadataModel</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">DocumentationMetadataModel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">value</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="kiara.models.workflow.WorkflowState" class="doc doc-heading">
        <code>
WorkflowState            (<a class="autorefs autorefs-internal" title="kiara.models.KiaraModel" href="#kiara.models.KiaraModel">KiaraModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowState" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/workflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WorkflowState</span><span class="p">(</span><span class="n">KiaraModel</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_workflow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workflow</span><span class="p">:</span> <span class="s2">&quot;Workflow&quot;</span><span class="p">):</span>

        <span class="n">steps</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">workflow</span><span class="o">.</span><span class="n">_steps</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
        <span class="n">inputs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">workflow</span><span class="o">.</span><span class="n">current_pipeline_inputs</span><span class="p">)</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">PipelineInfo</span><span class="o">.</span><span class="n">create_from_pipeline</span><span class="p">(</span>
            <span class="n">kiara</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">_kiara</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">pipeline</span>
        <span class="p">)</span>
        <span class="n">info</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">_kiara</span>

        <span class="n">ws</span> <span class="o">=</span> <span class="n">WorkflowState</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="n">steps</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span> <span class="n">pipeline_info</span><span class="o">=</span><span class="n">info</span><span class="p">)</span>
        <span class="n">ws</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">_kiara</span>
        <span class="n">ws</span><span class="o">.</span><span class="n">pipeline_info</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">_kiara</span>
        <span class="k">return</span> <span class="n">ws</span>

    <span class="n">steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PipelineStep</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The current steps in the workflow.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span>
    <span class="p">)</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The current (pipeline) input values.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>
    <span class="n">pipeline_info</span><span class="p">:</span> <span class="n">PipelineInfo</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Details about the pipeline and its state.&quot;</span>
    <span class="p">)</span>

    <span class="n">_pipeline</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Pipeline</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_data_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">EncodableType</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;steps&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">instance_cid</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="p">],</span>
            <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">set_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">inputs</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">):</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">pipeline_inputs_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pipeline_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineConfig</span><span class="p">:</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_info</span><span class="o">.</span><span class="n">pipeline_config</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pipeline_structure</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineStructure</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_info</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">structure</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

        <span class="n">in_panel</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;in_panel&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">in_panel</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_jupyter</span><span class="p">():</span>
                <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;property&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;state id&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_info</span><span class="o">.</span><span class="n">_fill_table</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">in_panel</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Panel</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h6 id="kiara.models.workflow.WorkflowState-attributes">Attributes<a href="#kiara.models.workflow.WorkflowState-attributes" class="headerlink" title="Permanent link">&para;</a></h6>

  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowState.inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowState.inputs" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The current (pipeline) input values.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowState.pipeline_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_config</span><span class="p">:</span> <span class="n">PipelineConfig</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowState.pipeline_config" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowState.pipeline_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_info</span><span class="p">:</span> <span class="n">PipelineInfo</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowState.pipeline_info" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>Details about the pipeline and its state.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowState.pipeline_structure" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_structure</span><span class="p">:</span> <span class="n">PipelineStructure</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowState.pipeline_structure" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="kiara.models.workflow.WorkflowState.steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">kiara</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">PipelineStep</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowState.steps" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">

      <p>The current steps in the workflow.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h7 id="kiara.models.workflow.WorkflowState.create_from_workflow" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.models.workflow.WorkflowState.create_from_workflow" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/workflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_workflow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workflow</span><span class="p">:</span> <span class="s2">&quot;Workflow&quot;</span><span class="p">):</span>

    <span class="n">steps</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">workflow</span><span class="o">.</span><span class="n">_steps</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
    <span class="n">inputs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">workflow</span><span class="o">.</span><span class="n">current_pipeline_inputs</span><span class="p">)</span>
    <span class="n">info</span> <span class="o">=</span> <span class="n">PipelineInfo</span><span class="o">.</span><span class="n">create_from_pipeline</span><span class="p">(</span>
        <span class="n">kiara</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">_kiara</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">=</span><span class="n">workflow</span><span class="o">.</span><span class="n">pipeline</span>
    <span class="p">)</span>
    <span class="n">info</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">_kiara</span>

    <span class="n">ws</span> <span class="o">=</span> <span class="n">WorkflowState</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="n">steps</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span> <span class="n">pipeline_info</span><span class="o">=</span><span class="n">info</span><span class="p">)</span>
    <span class="n">ws</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">_kiara</span>
    <span class="n">ws</span><span class="o">.</span><span class="n">pipeline_info</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">_kiara</span>
    <span class="k">return</span> <span class="n">ws</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.workflow.WorkflowState.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.models.workflow.WorkflowState.create_renderable" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/workflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>

    <span class="n">in_panel</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;in_panel&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">in_panel</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_jupyter</span><span class="p">():</span>
            <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">in_panel</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;property&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;state id&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance_id</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_info</span><span class="o">.</span><span class="n">_fill_table</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">in_panel</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Panel</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="kiara.models.workflow.WorkflowState.set_inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">inputs</span><span class="p">)</span></code>


<a href="#kiara.models.workflow.WorkflowState.set_inputs" class="headerlink" title="Permanent link">&para;</a></h7>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/models/workflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">inputs</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">):</span>

    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_config</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">pipeline_inputs_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../../interfaces/tui/pager/" class="md-footer__link md-footer__link--prev" aria-label="Previous: pager" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              pager
            </div>
          </div>
        </a>
      
      
        
        <a href="../aliases/__init__/" class="md-footer__link md-footer__link--next" aria-label="Next: aliases" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              aliases
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      DHARPA project
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.instant", "navigation.tracking"], "search": "../../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>