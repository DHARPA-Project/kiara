
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the Kiara project">
      
      
        <meta name="author" content="Markus Binsteiner">
      
      
        <link rel="canonical" href="https://dharpa.org/kiara/latest/reference/kiara/operations/__init__/">
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.2.5">
    
    
      
        <title>operations - Kiara</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.2d9f7617.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../../css/ansi-colours.css">
    
      <link rel="stylesheet" href="../../../../css/jupyter-cells.css">
    
      <link rel="stylesheet" href="../../../../css/pandas-dataframe.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#kiara.operations" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Kiara" class="md-header__button md-logo" aria-label="Kiara" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Kiara
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              operations
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/DHARPA-Project/kiara/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Kiara" class="md-nav__button md-logo" aria-label="Kiara" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Kiara
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/DHARPA-Project/kiara/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../install/" class="md-nav__link">
        Install
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../architecture/">Architecture</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Architecture" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Architecture
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../architecture/assumptions/" class="md-nav__link">
        Assumptions & considerations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../architecture/decisions/" class="md-nav__link">
        Decisions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../architecture/metadata/" class="md-nav__link">
        Metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../architecture/data/">Data</a>
          
            <label for="__nav_3_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Data" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../architecture/data/data_centric_approach/" class="md-nav__link">
        Data centric approach
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../architecture/data/data_formats/" class="md-nav__link">
        Data formats
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../architecture/data/dev/" class="md-nav__link">
        Dev
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../architecture/data/persistence/" class="md-nav__link">
        Data persistence
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../architecture/data/requirements/" class="md-nav__link">
        Requirements
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5" type="checkbox" id="__nav_3_5" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../architecture/workflows/">Workflows</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Workflows" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Workflows
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5_1" type="checkbox" id="__nav_3_5_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../architecture/workflows/modularity/modularity/">Modularity</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Modularity" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_5_1">
          <span class="md-nav__icon md-icon"></span>
          Modularity
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../architecture/workflows/modularity/modularity_2/" class="md-nav__link">
        Modularity 2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Value types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Value types" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Value types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/any/" class="md-nav__link">
        any
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/deserialize_config/" class="md-nav__link">
        deserialize_config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/load_config/" class="md-nav__link">
        load_config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/value_info/" class="md-nav__link">
        value_info
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/value_lineage/" class="md-nav__link">
        value_lineage
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Modules
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Modules" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Modules
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/metadata/" class="md-nav__link">
        metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/value/" class="md-nav__link">
        value
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Operation types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Operation types" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Operation types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../operation_types/all/" class="md-nav__link">
        all
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../operation_types/calculate_hash/" class="md-nav__link">
        calculate_hash
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../operation_types/create/" class="md-nav__link">
        create
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../operation_types/export/" class="md-nav__link">
        export
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../operation_types/extract_metadata/" class="md-nav__link">
        extract_metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../operation_types/import/" class="md-nav__link">
        import
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../operation_types/pretty_print/" class="md-nav__link">
        pretty_print
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../operation_types/sample/" class="md-nav__link">
        sample
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../operation_types/serialize/" class="md-nav__link">
        serialize
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../operation_types/store_value/" class="md-nav__link">
        store_value
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          API docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          API docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1" type="checkbox" id="__nav_7_1" checked>
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../__init__/">kiara</a>
          
            <label for="__nav_7_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="kiara" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_1">
          <span class="md-nav__icon md-icon"></span>
          kiara
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/" class="md-nav__link">
        config
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_2" type="checkbox" id="__nav_7_1_2" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../data/__init__/">data</a>
          
            <label for="__nav_7_1_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="data" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_2">
          <span class="md-nav__icon md-icon"></span>
          data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_2_1" type="checkbox" id="__nav_7_1_2_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../data/onboarding/__init__/">onboarding</a>
          
        </div>
      
      <nav class="md-nav" aria-label="onboarding" data-md-level="4">
        <label class="md-nav__title" for="__nav_7_1_2_1">
          <span class="md-nav__icon md-icon"></span>
          onboarding
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/onboarding/batch/" class="md-nav__link">
        batch
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_2_2" type="checkbox" id="__nav_7_1_2_2" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../data/registry/__init__/">registry</a>
          
        </div>
      
      <nav class="md-nav" aria-label="registry" data-md-level="4">
        <label class="md-nav__title" for="__nav_7_1_2_2">
          <span class="md-nav__icon md-icon"></span>
          registry
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/registry/store/" class="md-nav__link">
        store
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_2_3" type="checkbox" id="__nav_7_1_2_3" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../data/types/__init__/">types</a>
          
            <label for="__nav_7_1_2_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="types" data-md-level="4">
        <label class="md-nav__title" for="__nav_7_1_2_3">
          <span class="md-nav__icon md-icon"></span>
          types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/types/core/" class="md-nav__link">
        core
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/types/type_mgmt/" class="md-nav__link">
        type_mgmt
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_2_4" type="checkbox" id="__nav_7_1_2_4" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../data/values/__init__/">values</a>
          
        </div>
      
      <nav class="md-nav" aria-label="values" data-md-level="4">
        <label class="md-nav__title" for="__nav_7_1_2_4">
          <span class="md-nav__icon md-icon"></span>
          values
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/values/value_set/" class="md-nav__link">
        value_set
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../defaults/" class="md-nav__link">
        defaults
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_4" type="checkbox" id="__nav_7_1_4" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../doc/__init__/">doc</a>
          
            <label for="__nav_7_1_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="doc" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_4">
          <span class="md-nav__icon md-icon"></span>
          doc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../doc/gen_info_pages/" class="md-nav__link">
        gen_info_pages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../doc/generate_api_doc/" class="md-nav__link">
        generate_api_doc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../doc/mkdocs_macros_cli/" class="md-nav__link">
        mkdocs_macros_cli
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../doc/mkdocs_macros_kiara/" class="md-nav__link">
        mkdocs_macros_kiara
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_4_5" type="checkbox" id="__nav_7_1_4_5" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../doc/mkdocstrings/__init__/">mkdocstrings</a>
          
            <label for="__nav_7_1_4_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="mkdocstrings" data-md-level="4">
        <label class="md-nav__title" for="__nav_7_1_4_5">
          <span class="md-nav__icon md-icon"></span>
          mkdocstrings
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../doc/mkdocstrings/collector/" class="md-nav__link">
        collector
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../doc/mkdocstrings/handler/" class="md-nav__link">
        handler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../doc/mkdocstrings/renderer/" class="md-nav__link">
        renderer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_5" type="checkbox" id="__nav_7_1_5" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../environment/__init__/">environment</a>
          
            <label for="__nav_7_1_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="environment" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_5">
          <span class="md-nav__icon md-icon"></span>
          environment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../environment/operating_system/" class="md-nav__link">
        operating_system
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../environment/python/" class="md-nav__link">
        python
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../events/" class="md-nav__link">
        events
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_7" type="checkbox" id="__nav_7_1_7" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../examples/__init__/">examples</a>
          
        </div>
      
      <nav class="md-nav" aria-label="examples" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_7">
          <span class="md-nav__icon md-icon"></span>
          examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/example_controller/" class="md-nav__link">
        example_controller
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../exceptions/" class="md-nav__link">
        exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_9" type="checkbox" id="__nav_7_1_9" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../info/__init__/">info</a>
          
            <label for="__nav_7_1_9">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="info" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_9">
          <span class="md-nav__icon md-icon"></span>
          info
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../info/kiara/" class="md-nav__link">
        kiara
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../info/metadata/" class="md-nav__link">
        metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../info/modules/" class="md-nav__link">
        modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../info/operations/" class="md-nav__link">
        operations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../info/pipelines/" class="md-nav__link">
        pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../info/types/" class="md-nav__link">
        types
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_10" type="checkbox" id="__nav_7_1_10" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/__init__/">interfaces</a>
          
            <label for="__nav_7_1_10">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="interfaces" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_10">
          <span class="md-nav__icon md-icon"></span>
          interfaces
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_10_1" type="checkbox" id="__nav_7_1_10_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/__init__/">cli</a>
          
            <label for="__nav_7_1_10_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="cli" data-md-level="4">
        <label class="md-nav__title" for="__nav_7_1_10_1">
          <span class="md-nav__icon md-icon"></span>
          cli
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_10_1_1" type="checkbox" id="__nav_7_1_10_1_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/data/__init__/">data</a>
          
        </div>
      
      <nav class="md-nav" aria-label="data" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_1_10_1_1">
          <span class="md-nav__icon md-icon"></span>
          data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/data/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_10_1_2" type="checkbox" id="__nav_7_1_10_1_2" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/dev/__init__/">dev</a>
          
        </div>
      
      <nav class="md-nav" aria-label="dev" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_1_10_1_2">
          <span class="md-nav__icon md-icon"></span>
          dev
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/dev/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_10_1_3" type="checkbox" id="__nav_7_1_10_1_3" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/environment/__init__/">environment</a>
          
        </div>
      
      <nav class="md-nav" aria-label="environment" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_1_10_1_3">
          <span class="md-nav__icon md-icon"></span>
          environment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/environment/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/explain/" class="md-nav__link">
        explain
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_10_1_5" type="checkbox" id="__nav_7_1_10_1_5" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/info/__init__/">info</a>
          
        </div>
      
      <nav class="md-nav" aria-label="info" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_1_10_1_5">
          <span class="md-nav__icon md-icon"></span>
          info
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/info/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_10_1_6" type="checkbox" id="__nav_7_1_10_1_6" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/metadata/__init__/">metadata</a>
          
        </div>
      
      <nav class="md-nav" aria-label="metadata" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_1_10_1_6">
          <span class="md-nav__icon md-icon"></span>
          metadata
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/metadata/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_10_1_7" type="checkbox" id="__nav_7_1_10_1_7" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/module/__init__/">module</a>
          
        </div>
      
      <nav class="md-nav" aria-label="module" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_1_10_1_7">
          <span class="md-nav__icon md-icon"></span>
          module
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/module/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_10_1_8" type="checkbox" id="__nav_7_1_10_1_8" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/operation/__init__/">operation</a>
          
        </div>
      
      <nav class="md-nav" aria-label="operation" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_1_10_1_8">
          <span class="md-nav__icon md-icon"></span>
          operation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/operation/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_10_1_9" type="checkbox" id="__nav_7_1_10_1_9" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/pipeline/__init__/">pipeline</a>
          
        </div>
      
      <nav class="md-nav" aria-label="pipeline" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_1_10_1_9">
          <span class="md-nav__icon md-icon"></span>
          pipeline
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/pipeline/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/run/" class="md-nav__link">
        run
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_10_1_11" type="checkbox" id="__nav_7_1_10_1_11" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/cli/type/__init__/">type</a>
          
        </div>
      
      <nav class="md-nav" aria-label="type" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_1_10_1_11">
          <span class="md-nav__icon md-icon"></span>
          type
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/type/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/cli/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_10_2" type="checkbox" id="__nav_7_1_10_2" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../interfaces/python_api/__init__/">python_api</a>
          
        </div>
      
      <nav class="md-nav" aria-label="python_api" data-md-level="4">
        <label class="md-nav__title" for="__nav_7_1_10_2">
          <span class="md-nav__icon md-icon"></span>
          python_api
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/python_api/controller/" class="md-nav__link">
        controller
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kiara/" class="md-nav__link">
        kiara
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_12" type="checkbox" id="__nav_7_1_12" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../metadata/__init__/">metadata</a>
          
            <label for="__nav_7_1_12">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="metadata" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_12">
          <span class="md-nav__icon md-icon"></span>
          metadata
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../metadata/core_models/" class="md-nav__link">
        core_models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../metadata/data/" class="md-nav__link">
        data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../metadata/mgmt/" class="md-nav__link">
        mgmt
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../metadata/module_models/" class="md-nav__link">
        module_models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../metadata/operation_models/" class="md-nav__link">
        operation_models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../metadata/type_models/" class="md-nav__link">
        type_models
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../module/" class="md-nav__link">
        module
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../module_config/" class="md-nav__link">
        module_config
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_15" type="checkbox" id="__nav_7_1_15" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../module_mgmt/__init__/">module_mgmt</a>
          
            <label for="__nav_7_1_15">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="module_mgmt" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_15">
          <span class="md-nav__icon md-icon"></span>
          module_mgmt
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../module_mgmt/merged/" class="md-nav__link">
        merged
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../module_mgmt/pipelines/" class="md-nav__link">
        pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../module_mgmt/python_classes/" class="md-nav__link">
        python_classes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_16" type="checkbox" id="__nav_7_1_16" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../modules/__init__/">modules</a>
          
            <label for="__nav_7_1_16">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="modules" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_16">
          <span class="md-nav__icon md-icon"></span>
          modules
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/metadata/" class="md-nav__link">
        metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/pipelines/__init__/" class="md-nav__link">
        pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/save_value/" class="md-nav__link">
        save_value
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/type_conversion/" class="md-nav__link">
        type_conversion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_17" type="checkbox" id="__nav_7_1_17" checked>
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index md-nav__link--active">
          <a href="./">operations</a>
          
            <label for="__nav_7_1_17">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="operations" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_17">
          <span class="md-nav__icon md-icon"></span>
          operations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../calculate_hash/" class="md-nav__link">
        calculate_hash
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../create_value/" class="md-nav__link">
        create_value
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data_export/" class="md-nav__link">
        data_export
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data_import/" class="md-nav__link">
        data_import
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../extract_metadata/" class="md-nav__link">
        extract_metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../merge_values/" class="md-nav__link">
        merge_values
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pretty_print/" class="md-nav__link">
        pretty_print
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sample/" class="md-nav__link">
        sample
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../serialize/" class="md-nav__link">
        serialize
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../store_value/" class="md-nav__link">
        store_value
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_18" type="checkbox" id="__nav_7_1_18" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../pipeline/__init__/">pipeline</a>
          
            <label for="__nav_7_1_18">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="pipeline" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_18">
          <span class="md-nav__icon md-icon"></span>
          pipeline
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline/config/" class="md-nav__link">
        config
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_18_2" type="checkbox" id="__nav_7_1_18_2" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../pipeline/controller/__init__/">controller</a>
          
        </div>
      
      <nav class="md-nav" aria-label="controller" data-md-level="4">
        <label class="md-nav__title" for="__nav_7_1_18_2">
          <span class="md-nav__icon md-icon"></span>
          controller
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline/controller/batch/" class="md-nav__link">
        batch
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline/listeners/" class="md-nav__link">
        listeners
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline/module/" class="md-nav__link">
        module
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline/pipeline/" class="md-nav__link">
        pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline/structure/" class="md-nav__link">
        structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline/values/" class="md-nav__link">
        values
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_19" type="checkbox" id="__nav_7_1_19" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../processing/__init__/">processing</a>
          
            <label for="__nav_7_1_19">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="processing" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_19">
          <span class="md-nav__icon md-icon"></span>
          processing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../processing/parallel/" class="md-nav__link">
        parallel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../processing/processor/" class="md-nav__link">
        processor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../processing/synchronous/" class="md-nav__link">
        synchronous
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_20" type="checkbox" id="__nav_7_1_20" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../rendering/__init__/">rendering</a>
          
            <label for="__nav_7_1_20">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="rendering" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_20">
          <span class="md-nav__icon md-icon"></span>
          rendering
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../rendering/jinja/" class="md-nav__link">
        jinja
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../rendering/mgmt/" class="md-nav__link">
        mgmt
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/__init__/" class="md-nav__link">
        sessions
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_22" type="checkbox" id="__nav_7_1_22" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../utils/__init__/">utils</a>
          
            <label for="__nav_7_1_22">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="utils" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_22">
          <span class="md-nav__icon md-icon"></span>
          utils
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/class_loading/" class="md-nav__link">
        class_loading
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/concurrency/" class="md-nav__link">
        concurrency
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/doc/" class="md-nav__link">
        doc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/global_metadata/" class="md-nav__link">
        global_metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/jupyter/" class="md-nav__link">
        jupyter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/modules/" class="md-nav__link">
        modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/output/" class="md-nav__link">
        output
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_23" type="checkbox" id="__nav_7_1_23" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../workflow/__init__/">workflow</a>
          
            <label for="__nav_7_1_23">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="workflow" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_23">
          <span class="md-nav__icon md-icon"></span>
          workflow
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/kiara_workflow/" class="md-nav__link">
        kiara_workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/wrapped/" class="md-nav__link">
        wrapped
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2" type="checkbox" id="__nav_7_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_2">
          mkdocstrings_handlers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="mkdocstrings_handlers" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          mkdocstrings_handlers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../mkdocstrings_handlers/kiara/__init__/" class="md-nav__link">
        kiara
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kiara.operations" class="md-nav__link">
    kiara.operations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.operations.Operation" class="md-nav__link">
    Operation
  </a>
  
    <nav class="md-nav" aria-label="Operation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.operations.Operation.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.Operation.type_category" class="md-nav__link">
    type_category
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.Operation.create_renderable" class="md-nav__link">
    create_renderable()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.operations.calculate_hash" class="md-nav__link">
    calculate_hash
  </a>
  
    <nav class="md-nav" aria-label="calculate_hash">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.operations.calculate_hash.CalculateHashOperationType" class="md-nav__link">
    CalculateHashOperationType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.calculate_hash.CalculateValueHashModule" class="md-nav__link">
    CalculateValueHashModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.calculate_hash.CalculateValueHashesConfig" class="md-nav__link">
    CalculateValueHashesConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.operations.create_value" class="md-nav__link">
    create_value
  </a>
  
    <nav class="md-nav" aria-label="create_value">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.operations.create_value.CreateValueModule" class="md-nav__link">
    CreateValueModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.create_value.CreateValueModuleConfig" class="md-nav__link">
    CreateValueModuleConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.create_value.CreateValueOperationType" class="md-nav__link">
    CreateValueOperationType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.operations.data_export" class="md-nav__link">
    data_export
  </a>
  
    <nav class="md-nav" aria-label="data_export">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.operations.data_export.DataExportModule" class="md-nav__link">
    DataExportModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.data_export.DataExportModuleConfig" class="md-nav__link">
    DataExportModuleConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.data_export.ExportDataOperationType" class="md-nav__link">
    ExportDataOperationType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.data_export.FileBundleImportModule" class="md-nav__link">
    FileBundleImportModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.data_export.FileExportModule" class="md-nav__link">
    FileExportModule
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.operations.data_import" class="md-nav__link">
    data_import
  </a>
  
    <nav class="md-nav" aria-label="data_import">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.operations.data_import.DataImportModule" class="md-nav__link">
    DataImportModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.data_import.DataImportModuleConfig" class="md-nav__link">
    DataImportModuleConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.data_import.FileBundleImportModule" class="md-nav__link">
    FileBundleImportModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.data_import.FileImportModule" class="md-nav__link">
    FileImportModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.data_import.ImportDataOperationType" class="md-nav__link">
    ImportDataOperationType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.operations.extract_metadata" class="md-nav__link">
    extract_metadata
  </a>
  
    <nav class="md-nav" aria-label="extract_metadata">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.operations.extract_metadata.ExtractMetadataModule" class="md-nav__link">
    ExtractMetadataModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.extract_metadata.ExtractMetadataOperationType" class="md-nav__link">
    ExtractMetadataOperationType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.extract_metadata.MetadataModuleConfig" class="md-nav__link">
    MetadataModuleConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.operations.merge_values" class="md-nav__link">
    merge_values
  </a>
  
    <nav class="md-nav" aria-label="merge_values">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.operations.merge_values.ValueMergeModule" class="md-nav__link">
    ValueMergeModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.merge_values.ValueMergeModuleConfig" class="md-nav__link">
    ValueMergeModuleConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.operations.pretty_print" class="md-nav__link">
    pretty_print
  </a>
  
    <nav class="md-nav" aria-label="pretty_print">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.operations.pretty_print.PrettyPrintModuleConfig" class="md-nav__link">
    PrettyPrintModuleConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.pretty_print.PrettyPrintOperationType" class="md-nav__link">
    PrettyPrintOperationType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.pretty_print.PrettyPrintValueModule" class="md-nav__link">
    PrettyPrintValueModule
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.operations.sample" class="md-nav__link">
    sample
  </a>
  
    <nav class="md-nav" aria-label="sample">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.operations.sample.SampleValueModule" class="md-nav__link">
    SampleValueModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.sample.SampleValueModuleConfig" class="md-nav__link">
    SampleValueModuleConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.sample.SampleValueOperationType" class="md-nav__link">
    SampleValueOperationType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.operations.serialize" class="md-nav__link">
    serialize
  </a>
  
    <nav class="md-nav" aria-label="serialize">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.operations.serialize.SerializeValueModule" class="md-nav__link">
    SerializeValueModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.serialize.SerializeValueModuleConfig" class="md-nav__link">
    SerializeValueModuleConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.serialize.SerializeValueOperationType" class="md-nav__link">
    SerializeValueOperationType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara.operations.store_value" class="md-nav__link">
    store_value
  </a>
  
    <nav class="md-nav" aria-label="store_value">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara.operations.store_value.StoreOperationType" class="md-nav__link">
    StoreOperationType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.store_value.StoreValueModuleConfig" class="md-nav__link">
    StoreValueModuleConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara.operations.store_value.StoreValueTypeModule" class="md-nav__link">
    StoreValueTypeModule
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/DHARPA-Project/kiara/edit/master/docs/src/kiara/operations/__init__.py" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



  <h1>operations</h1>

<div class="doc doc-object doc-module">

<a id="kiara.operations"></a>
    <div class="doc doc-contents first">




  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h2 id="kiara.operations.Operation" class="doc doc-heading">
        <code>
Operation            (<a class="autorefs autorefs-internal" title="kiara.module_config.ModuleConfig" href="../../module_config/#kiara.module_config.ModuleConfig">ModuleConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.operations.Operation" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/operations/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Operation</span><span class="p">(</span><span class="n">ModuleConfig</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_operation</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">,</span>
        <span class="n">operation_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="s2">&quot;ModuleConfig&quot;</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
        <span class="n">module_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Operation&quot;</span><span class="p">:</span>

        <span class="n">_config</span> <span class="o">=</span> <span class="n">ModuleConfig</span><span class="o">.</span><span class="n">create_module_config</span><span class="p">(</span>
            <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">module_config</span><span class="p">,</span> <span class="n">kiara</span><span class="o">=</span><span class="n">kiara</span>
        <span class="p">)</span>
        <span class="n">_config_dict</span> <span class="o">=</span> <span class="n">_config</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
        <span class="n">_config_dict</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">operation_id</span>
        <span class="n">op_config</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">_config_dict</span><span class="p">)</span>
        <span class="n">op_config</span><span class="o">.</span><span class="n">_kiara</span> <span class="o">=</span> <span class="n">kiara</span>
        <span class="k">return</span> <span class="n">op_config</span>

    <span class="n">_kiara</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Kiara&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_module</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;KiaraModule&quot;</span><span class="p">]</span>

    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The operation id.&quot;</span><span class="p">)</span>
    <span class="n">type_category</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The operation category this belongs to.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">kiara</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Kiara&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Kiara context not set for operation.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">module</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraModule&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_module</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_module</span><span class="p">(</span><span class="n">kiara</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kiara</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">input_schemas</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">input_schemas</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">output_schemas</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">output_schemas</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">module_cls</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="s2">&quot;KiaraModule&quot;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kiara</span><span class="o">.</span><span class="n">get_module_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">module_type</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_attach_lineage</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValueSet</span><span class="p">:</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">_attach_lineage</span><span class="o">=</span><span class="n">_attach_lineage</span><span class="p">,</span> <span class="o">**</span><span class="n">inputs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a printable overview of this operations details.</span>

<span class="sd">        Available config options:</span>
<span class="sd">          - &#39;include_full_doc&#39; (default: True): whether to include the full documentation, or just a description</span>
<span class="sd">          - &#39;include_src&#39; (default: False): whether to include the module source code</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">include_full_doc</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_full_doc&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Property&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">include_full_doc</span><span class="p">:</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Documentation&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">full_doc</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Description&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>

        <span class="n">module_type_md</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">get_type_metadata</span><span class="p">()</span>

        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Module type&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_type</span><span class="p">)</span>
        <span class="n">conf</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Module config&quot;</span><span class="p">,</span> <span class="n">conf</span><span class="p">)</span>

        <span class="n">constants</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;constants&quot;</span><span class="p">)</span>
        <span class="n">inputs_table</span> <span class="o">=</span> <span class="n">create_table_from_field_schemas</span><span class="p">(</span>
            <span class="n">_add_required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">_add_default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">_show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">_constants</span><span class="o">=</span><span class="n">constants</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">input_schemas</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Inputs&quot;</span><span class="p">,</span> <span class="n">inputs_table</span><span class="p">)</span>
        <span class="n">outputs_table</span> <span class="o">=</span> <span class="n">create_table_from_field_schemas</span><span class="p">(</span>
            <span class="n">_add_required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">_add_default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">_show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">_constants</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">output_schemas</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Outputs&quot;</span><span class="p">,</span> <span class="n">outputs_table</span><span class="p">)</span>

        <span class="n">m_md_o</span> <span class="o">=</span> <span class="n">module_type_md</span><span class="o">.</span><span class="n">origin</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">()</span>
        <span class="n">m_md_c</span> <span class="o">=</span> <span class="n">module_type_md</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">()</span>
        <span class="n">m_md</span> <span class="o">=</span> <span class="n">RenderGroup</span><span class="p">(</span><span class="n">m_md_o</span><span class="p">,</span> <span class="n">m_md_c</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Module metadata&quot;</span><span class="p">,</span> <span class="n">m_md</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_src&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Source code&quot;</span><span class="p">,</span> <span class="n">module_type_md</span><span class="o">.</span><span class="n">process_src</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h3 id="kiara.operations.Operation.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.Operation.id" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>The operation id.</p>
    </div>

  </div>








  <div class="doc doc-object doc-attribute">



<h3 id="kiara.operations.Operation.type_category" class="doc doc-heading">
<code class="highlight language-python"><span class="n">type_category</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.operations.Operation.type_category" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>The operation category this belongs to.</p>
    </div>

  </div>









  <div class="doc doc-object doc-method">



<h3 id="kiara.operations.Operation.create_renderable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span></code>


<a href="#kiara.operations.Operation.create_renderable" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Create a printable overview of this operations details.</p>
<p>Available config options:
  - 'include_full_doc' (default: True): whether to include the full documentation, or just a description
  - 'include_src' (default: False): whether to include the module source code</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_renderable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RenderableType</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a printable overview of this operations details.</span>

<span class="sd">    Available config options:</span>
<span class="sd">      - &#39;include_full_doc&#39; (default: True): whether to include the full documentation, or just a description</span>
<span class="sd">      - &#39;include_src&#39; (default: False): whether to include the module source code</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">include_full_doc</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_full_doc&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">show_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Property&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">include_full_doc</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Documentation&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">full_doc</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Description&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>

    <span class="n">module_type_md</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">get_type_metadata</span><span class="p">()</span>

    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Module type&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_type</span><span class="p">)</span>
    <span class="n">conf</span> <span class="o">=</span> <span class="n">Syntax</span><span class="p">(</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;default&quot;</span>
    <span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Module config&quot;</span><span class="p">,</span> <span class="n">conf</span><span class="p">)</span>

    <span class="n">constants</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;constants&quot;</span><span class="p">)</span>
    <span class="n">inputs_table</span> <span class="o">=</span> <span class="n">create_table_from_field_schemas</span><span class="p">(</span>
        <span class="n">_add_required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">_add_default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">_show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">_constants</span><span class="o">=</span><span class="n">constants</span><span class="p">,</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">input_schemas</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Inputs&quot;</span><span class="p">,</span> <span class="n">inputs_table</span><span class="p">)</span>
    <span class="n">outputs_table</span> <span class="o">=</span> <span class="n">create_table_from_field_schemas</span><span class="p">(</span>
        <span class="n">_add_required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">_add_default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">_show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">_constants</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">output_schemas</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Outputs&quot;</span><span class="p">,</span> <span class="n">outputs_table</span><span class="p">)</span>

    <span class="n">m_md_o</span> <span class="o">=</span> <span class="n">module_type_md</span><span class="o">.</span><span class="n">origin</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">()</span>
    <span class="n">m_md_c</span> <span class="o">=</span> <span class="n">module_type_md</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">create_renderable</span><span class="p">()</span>
    <span class="n">m_md</span> <span class="o">=</span> <span class="n">RenderGroup</span><span class="p">(</span><span class="n">m_md_o</span><span class="p">,</span> <span class="n">m_md_c</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Module metadata&quot;</span><span class="p">,</span> <span class="n">m_md</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_src&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="s2">&quot;Source code&quot;</span><span class="p">,</span> <span class="n">module_type_md</span><span class="o">.</span><span class="n">process_src</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>








  <div class="doc doc-object doc-module">



<h2 id="kiara.operations.calculate_hash" class="doc doc-heading">
        <code>calculate_hash</code>



<a href="#kiara.operations.calculate_hash" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.calculate_hash.CalculateHashOperationType" class="doc doc-heading">
        <code>
CalculateHashOperationType            (<span title="kiara.operations.OperationType">OperationType</span>)
        </code>



<a href="#kiara.operations.calculate_hash.CalculateHashOperationType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Operation type to calculate hash(es) for data.</p>
<p>This is mostly used internally, so users usually won't be exposed to operations of this type.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/calculate_hash.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">CalculateHashOperationType</span><span class="p">(</span><span class="n">OperationType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Operation type to calculate hash(es) for data.</span>

<span class="sd">    This is mostly used internally, so users usually won&#39;t be exposed to operations of this type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">is_matching_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op_config</span><span class="p">:</span> <span class="n">Operation</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>

        <span class="k">return</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_cls</span> <span class="o">==</span> <span class="n">CalculateValueHashModule</span>

    <span class="k">def</span> <span class="nf">get_hash_operations_for_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]:</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">op_config</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operations</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;value_type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">value_type</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="n">op_config</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;hash_type&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">op_config</span>

        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.calculate_hash.CalculateValueHashModule" class="doc doc-heading">
        <code>
CalculateValueHashModule            (<a class="autorefs autorefs-internal" title="kiara.module.KiaraModule" href="../../module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara.operations.calculate_hash.CalculateValueHashModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Calculate the hash of a value.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/calculate_hash.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">CalculateValueHashModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Calculate the hash of a value.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;value.hash&quot;</span>
    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">CalculateValueHashesConfig</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

        <span class="n">all_metadata_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">value_type_name</span><span class="p">,</span> <span class="n">value_type</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_types</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="n">hash_types</span> <span class="o">=</span> <span class="n">value_type</span><span class="o">.</span><span class="n">get_supported_hash_types</span><span class="p">()</span>

            <span class="k">for</span> <span class="n">ht</span> <span class="ow">in</span> <span class="n">hash_types</span><span class="p">:</span>
                <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                    <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="n">value_type_name</span><span class="p">,</span> <span class="s2">&quot;hash_type&quot;</span><span class="p">:</span> <span class="n">ht</span><span class="p">},</span>
                    <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Calculate &#39;</span><span class="si">{</span><span class="n">ht</span><span class="si">}</span><span class="s2">&#39; hash for value type &#39;</span><span class="si">{</span><span class="n">value_type_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
                <span class="p">}</span>
                <span class="n">all_metadata_profiles</span><span class="p">[</span>
                    <span class="sa">f</span><span class="s2">&quot;calculate_hash.</span><span class="si">{</span><span class="n">ht</span><span class="si">}</span><span class="s2">.for.</span><span class="si">{</span><span class="n">value_type_name</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

        <span class="k">return</span> <span class="n">all_metadata_profiles</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">input_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">input_name</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
            <span class="n">input_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="n">input_name</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">),</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A value of type &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;value_type&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;hash&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The hash string.&quot;</span><span class="p">}}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">input_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">input_name</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
            <span class="n">input_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>
        <span class="n">value</span><span class="p">:</span> <span class="n">Value</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">input_name</span><span class="p">)</span>

        <span class="n">value_hash</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_hash</span><span class="p">(</span><span class="n">hash_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;hash_type&quot;</span><span class="p">))</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;hash&quot;</span><span class="p">,</span> <span class="n">value_hash</span><span class="o">.</span><span class="n">hash</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.calculate_hash.CalculateValueHashModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.calculate_hash.CalculateValueHashModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/calculate_hash.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">input_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">input_name</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
        <span class="n">input_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="n">input_name</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">),</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A value of type &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;value_type&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.calculate_hash.CalculateValueHashModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.calculate_hash.CalculateValueHashModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/calculate_hash.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;hash&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The hash string.&quot;</span><span class="p">}}</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.calculate_hash.CalculateValueHashModule.retrieve_module_profiles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_module_profiles</span><span class="p">(</span><span class="n">kiara</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.operations.calculate_hash.CalculateValueHashModule.retrieve_module_profiles" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Retrieve a collection of profiles (pre-set module configs) for this <em>kiara</em> module type.</p>
<p>This is used to automatically create generally useful operations (incl. their ids).</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/calculate_hash.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

    <span class="n">all_metadata_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">value_type_name</span><span class="p">,</span> <span class="n">value_type</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_types</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

        <span class="n">hash_types</span> <span class="o">=</span> <span class="n">value_type</span><span class="o">.</span><span class="n">get_supported_hash_types</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">ht</span> <span class="ow">in</span> <span class="n">hash_types</span><span class="p">:</span>
            <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="n">value_type_name</span><span class="p">,</span> <span class="s2">&quot;hash_type&quot;</span><span class="p">:</span> <span class="n">ht</span><span class="p">},</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Calculate &#39;</span><span class="si">{</span><span class="n">ht</span><span class="si">}</span><span class="s2">&#39; hash for value type &#39;</span><span class="si">{</span><span class="n">value_type_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">all_metadata_profiles</span><span class="p">[</span>
                <span class="sa">f</span><span class="s2">&quot;calculate_hash.</span><span class="si">{</span><span class="n">ht</span><span class="si">}</span><span class="s2">.for.</span><span class="si">{</span><span class="n">value_type_name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

    <span class="k">return</span> <span class="n">all_metadata_profiles</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.calculate_hash.CalculateValueHashesConfig" class="doc doc-heading">
        <code>
CalculateValueHashesConfig            (<a class="autorefs autorefs-internal" title="kiara.module_config.ModuleTypeConfigSchema" href="../../module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.operations.calculate_hash.CalculateValueHashesConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/operations/calculate_hash.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">CalculateValueHashesConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The type of the value to calculate the hash for.&quot;</span>
    <span class="p">)</span>
    <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The hash type.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.calculate_hash.CalculateValueHashesConfig.hash_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.calculate_hash.CalculateValueHashesConfig.hash_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The hash type.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.calculate_hash.CalculateValueHashesConfig.value_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.calculate_hash.CalculateValueHashesConfig.value_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The type of the value to calculate the hash for.</p>
    </div>

  </div>











  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara.operations.create_value" class="doc doc-heading">
        <code>create_value</code>



<a href="#kiara.operations.create_value" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.create_value.CreateValueModule" class="doc doc-heading">
        <code>
CreateValueModule            (<a class="autorefs autorefs-internal" title="kiara.module.KiaraModule" href="../../module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara.operations.create_value.CreateValueModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Base class for 'create' value type operations.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/create_value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">CreateValueModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for &#39;create&#39; value type operations.&quot;&quot;&quot;</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">CreateValueModuleConfig</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

        <span class="n">all_metadata_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># value_types: typing.Iterable[str] = cls.get_supported_value_types()</span>
        <span class="c1"># if &quot;*&quot; in value_types:</span>
        <span class="c1">#     value_types = kiara.type_mgmt.value_type_names</span>
        <span class="c1">#</span>
        <span class="c1"># for value_type in value_types:</span>

        <span class="n">target_type</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_target_value_type</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">target_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t assemble type convert operations for target type &#39;</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&#39;: type not available&quot;</span>
            <span class="p">)</span>

        <span class="k">for</span> <span class="n">source_profile</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_source_value_profiles</span><span class="p">():</span>

            <span class="n">mod_conf</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;source_profile&quot;</span><span class="p">:</span> <span class="n">source_profile</span><span class="p">,</span>
                <span class="s2">&quot;target_type&quot;</span><span class="p">:</span> <span class="n">target_type</span><span class="p">,</span>
            <span class="p">}</span>

            <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="n">mod_conf</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Create a &#39;</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&#39; value from a &#39;</span><span class="si">{</span><span class="n">source_profile</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="c1"># key = f&quot;{value_type}.convert_from.{target_type}&quot;   # type: ignore</span>
            <span class="c1"># if key in all_metadata_profiles.keys():</span>
            <span class="c1">#     raise Exception(f&quot;Duplicate profile key: {key}&quot;)</span>
            <span class="c1"># all_metadata_profiles[key] = op_config</span>
            <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;create.</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">.from.</span><span class="si">{</span><span class="n">source_profile</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">all_metadata_profiles</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate profile key: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">all_metadata_profiles</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

        <span class="k">return</span> <span class="n">all_metadata_profiles</span>

    <span class="c1"># @classmethod</span>
    <span class="c1"># def get_supported_value_types(cls) -&gt; typing.Set[str]:</span>
    <span class="c1">#</span>
    <span class="c1">#     _types = cls._get_supported_value_types()</span>
    <span class="c1">#     if isinstance(_types, str):</span>
    <span class="c1">#         _types = [_types]</span>
    <span class="c1">#</span>
    <span class="c1">#     return set(_types)</span>
    <span class="c1">#</span>
    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_target_value_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_source_value_profiles</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>

        <span class="c1"># supported = cls.get_supported_value_types()</span>

        <span class="n">types</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">attr_name</span><span class="p">,</span> <span class="n">attr</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="k">if</span> <span class="n">attr_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;from_&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">callable</span><span class="p">(</span><span class="n">attr</span><span class="p">):</span>
                <span class="n">v_type</span> <span class="o">=</span> <span class="n">attr_name</span><span class="p">[</span><span class="mi">5</span><span class="p">:]</span>
                <span class="c1"># if v_type in supported:</span>
                <span class="c1">#     raise Exception(</span>
                <span class="c1">#         f&quot;Invalid configuration for type conversion module class {cls.__name__}: conversion source type can&#39;t be &#39;{v_type}&#39; because this is already registered as a supported type of the class.&quot;</span>
                <span class="c1">#     )</span>
                <span class="n">types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v_type</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">types</span>

    <span class="c1"># @classmethod</span>
    <span class="c1"># def get_target_value_type(cls) -&gt; str:</span>
    <span class="c1">#</span>
    <span class="c1">#     supported = cls.get_supported_value_types()</span>
    <span class="c1">#</span>
    <span class="c1">#     types = []</span>
    <span class="c1">#     for attr_name, attr in cls.__dict__.items():</span>
    <span class="c1">#</span>
    <span class="c1">#         if attr_name.startswith(&quot;to_&quot;) and callable(attr):</span>
    <span class="c1">#             v_type = attr_name[3:]</span>
    <span class="c1">#             if v_type in supported:</span>
    <span class="c1">#                 raise Exception(</span>
    <span class="c1">#                     f&quot;Invalid configuration for type conversion module class {cls.__name__}: conversion target type can&#39;t be &#39;{v_type}&#39; because this is already registered as a supported type of the class.&quot;</span>
    <span class="c1">#                 )</span>
    <span class="c1">#             types.append(attr_name[3:])</span>
    <span class="c1">#</span>
    <span class="c1">#     return types</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">source_profile</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;source_profile&quot;</span><span class="p">)</span>

        <span class="n">source_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">get_type_config_for_data_profile</span><span class="p">(</span><span class="n">source_profile</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">source_config</span><span class="p">[</span><span class="s2">&quot;doc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;The &#39;</span><span class="si">{</span><span class="n">source_profile</span><span class="si">}</span><span class="s2">&#39; value to be converted.&quot;</span>

        <span class="n">schema</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">source_profile</span><span class="p">:</span> <span class="n">source_config</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;allow_none_input&quot;</span><span class="p">):</span>
            <span class="n">schema</span><span class="p">[</span><span class="n">source_config</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]][</span><span class="s2">&quot;optional&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="n">schema</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">source_profile</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;source_profile&quot;</span><span class="p">)</span>

        <span class="n">target_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;target_type&quot;</span><span class="p">)</span>

        <span class="n">schema</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">target_type</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">target_type</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The converted &#39;</span><span class="si">{</span><span class="n">source_profile</span><span class="si">}</span><span class="s2">&#39; value as &#39;</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;allow_none_input&quot;</span><span class="p">):</span>
            <span class="n">schema</span><span class="p">[</span><span class="n">target_type</span><span class="p">][</span><span class="s2">&quot;optional&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="n">schema</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">source_profile</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;source_profile&quot;</span><span class="p">)</span>
        <span class="n">source_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">get_type_config_for_data_profile</span><span class="p">(</span><span class="n">source_profile</span><span class="p">)</span>
        <span class="n">source_type</span> <span class="o">=</span> <span class="n">source_config</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>

        <span class="n">target_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;target_type&quot;</span><span class="p">)</span>

        <span class="n">allow_none</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;allow_none_input&quot;</span><span class="p">)</span>

        <span class="n">source</span><span class="p">:</span> <span class="n">Value</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">source_profile</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">source_type</span> <span class="o">!=</span> <span class="n">source</span><span class="o">.</span><span class="n">type_name</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid type (</span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">type_name</span><span class="si">}</span><span class="s2">) of source value: expected &#39;</span><span class="si">{</span><span class="n">source_type</span><span class="si">}</span><span class="s2">&#39; (source profile name: </span><span class="si">{</span><span class="n">source_profile</span><span class="si">}</span><span class="s2">).&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">source</span><span class="o">.</span><span class="n">is_set</span> <span class="ow">or</span> <span class="n">source</span><span class="o">.</span><span class="n">is_none</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">allow_none</span><span class="p">:</span>
                <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;value_item&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span><span class="s2">&quot;No source value set.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;from_</span><span class="si">{</span><span class="n">source_profile</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Module &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_module_type_id</span><span class="si">}</span><span class="s2">&#39; can&#39;t convert &#39;</span><span class="si">{</span><span class="n">source_type</span><span class="si">}</span><span class="s2">&#39; into &#39;</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&#39;: missing method &#39;from_</span><span class="si">{</span><span class="n">source_type</span><span class="si">}</span><span class="s2">&#39;. This is a bug.&quot;</span>  <span class="c1"># type: ignore</span>
            <span class="p">)</span>

        <span class="n">func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;from_</span><span class="si">{</span><span class="n">source_profile</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">converted</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">target_type</span><span class="p">,</span> <span class="n">converted</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.create_value.CreateValueModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.create_value.CreateValueModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/create_value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">source_profile</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;source_profile&quot;</span><span class="p">)</span>

    <span class="n">source_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">get_type_config_for_data_profile</span><span class="p">(</span><span class="n">source_profile</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">source_config</span><span class="p">[</span><span class="s2">&quot;doc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;The &#39;</span><span class="si">{</span><span class="n">source_profile</span><span class="si">}</span><span class="s2">&#39; value to be converted.&quot;</span>

    <span class="n">schema</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">source_profile</span><span class="p">:</span> <span class="n">source_config</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;allow_none_input&quot;</span><span class="p">):</span>
        <span class="n">schema</span><span class="p">[</span><span class="n">source_config</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]][</span><span class="s2">&quot;optional&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="n">schema</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.create_value.CreateValueModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.create_value.CreateValueModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/create_value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">source_profile</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;source_profile&quot;</span><span class="p">)</span>

    <span class="n">target_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;target_type&quot;</span><span class="p">)</span>

    <span class="n">schema</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">target_type</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">target_type</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The converted &#39;</span><span class="si">{</span><span class="n">source_profile</span><span class="si">}</span><span class="s2">&#39; value as &#39;</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;allow_none_input&quot;</span><span class="p">):</span>
        <span class="n">schema</span><span class="p">[</span><span class="n">target_type</span><span class="p">][</span><span class="s2">&quot;optional&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="n">schema</span>
</code></pre></div>
        </details>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.create_value.CreateValueModule.retrieve_module_profiles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_module_profiles</span><span class="p">(</span><span class="n">kiara</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.operations.create_value.CreateValueModule.retrieve_module_profiles" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Retrieve a collection of profiles (pre-set module configs) for this <em>kiara</em> module type.</p>
<p>This is used to automatically create generally useful operations (incl. their ids).</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/create_value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

    <span class="n">all_metadata_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># value_types: typing.Iterable[str] = cls.get_supported_value_types()</span>
    <span class="c1"># if &quot;*&quot; in value_types:</span>
    <span class="c1">#     value_types = kiara.type_mgmt.value_type_names</span>
    <span class="c1">#</span>
    <span class="c1"># for value_type in value_types:</span>

    <span class="n">target_type</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_target_value_type</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">target_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t assemble type convert operations for target type &#39;</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&#39;: type not available&quot;</span>
        <span class="p">)</span>

    <span class="k">for</span> <span class="n">source_profile</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_source_value_profiles</span><span class="p">():</span>

        <span class="n">mod_conf</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;source_profile&quot;</span><span class="p">:</span> <span class="n">source_profile</span><span class="p">,</span>
            <span class="s2">&quot;target_type&quot;</span><span class="p">:</span> <span class="n">target_type</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="n">mod_conf</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Create a &#39;</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&#39; value from a &#39;</span><span class="si">{</span><span class="n">source_profile</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="c1"># key = f&quot;{value_type}.convert_from.{target_type}&quot;   # type: ignore</span>
        <span class="c1"># if key in all_metadata_profiles.keys():</span>
        <span class="c1">#     raise Exception(f&quot;Duplicate profile key: {key}&quot;)</span>
        <span class="c1"># all_metadata_profiles[key] = op_config</span>
        <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;create.</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">.from.</span><span class="si">{</span><span class="n">source_profile</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">all_metadata_profiles</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate profile key: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">all_metadata_profiles</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

    <span class="k">return</span> <span class="n">all_metadata_profiles</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.create_value.CreateValueModuleConfig" class="doc doc-heading">
        <code>
CreateValueModuleConfig            (<a class="autorefs autorefs-internal" title="kiara.module_config.ModuleTypeConfigSchema" href="../../module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.operations.create_value.CreateValueModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/operations/create_value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">CreateValueModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">source_profile</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The profile of the source value.&quot;</span><span class="p">)</span>
    <span class="n">target_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The type of the value to convert to.&quot;</span><span class="p">)</span>
    <span class="n">allow_none_input</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether to allow &#39;none&#39; source values, if one is encountered &#39;none&#39; is returned.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.create_value.CreateValueModuleConfig.allow_none_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">allow_none_input</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.operations.create_value.CreateValueModuleConfig.allow_none_input" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Whether to allow 'none' source values, if one is encountered 'none' is returned.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.create_value.CreateValueModuleConfig.source_profile" class="doc doc-heading">
<code class="highlight language-python"><span class="n">source_profile</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.create_value.CreateValueModuleConfig.source_profile" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The profile of the source value.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.create_value.CreateValueModuleConfig.target_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">target_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.create_value.CreateValueModuleConfig.target_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The type of the value to convert to.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.create_value.CreateValueOperationType" class="doc doc-heading">
        <code>
CreateValueOperationType            (<span title="kiara.operations.OperationType">OperationType</span>)
        </code>



<a href="#kiara.operations.create_value.CreateValueOperationType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Operations that create values of specific types from values of certain value profiles.</p>
<p>In most cases, source profiles will be 'file' or 'file_bundle' values of some sort, and the created values will exhibit more inherent structure and stricter specs than their sources.</p>
<p>The 'create' operation type differs from 'import' in that it expects values that are already onboarded and are all information in the value is stored in a <em>kiara</em> data registry (in most cases the <em>kiara data store</em>).</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/create_value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">CreateValueOperationType</span><span class="p">(</span><span class="n">OperationType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Operations that create values of specific types from values of certain value profiles.</span>

<span class="sd">    In most cases, source profiles will be &#39;file&#39; or &#39;file_bundle&#39; values of some sort, and the created values will exhibit more inherent structure and stricter specs than their sources.</span>

<span class="sd">    The &#39;create&#39; operation type differs from &#39;import&#39; in that it expects values that are already onboarded and are all information in the value is stored in a *kiara* data registry (in most cases the *kiara data store*).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">is_matching_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op_config</span><span class="p">:</span> <span class="n">Operation</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>

        <span class="k">return</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">op_config</span><span class="o">.</span><span class="n">module_cls</span><span class="p">,</span> <span class="n">CreateValueModule</span><span class="p">)</span>

    <span class="c1"># def get_operations_for_source_type(</span>
    <span class="c1">#     self, value_type: str</span>
    <span class="c1"># ) -&gt; typing.Dict[str, Operation]:</span>
    <span class="c1">#     &quot;&quot;&quot;Find all operations that transform from the specified type.</span>
    <span class="c1">#</span>
    <span class="c1">#     The result dict uses the target type of the conversion as key, and the operation itself as value.</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#</span>
    <span class="c1">#     result: typing.Dict[str, Operation] = {}</span>
    <span class="c1">#     for o_id, op in self.operations.items():</span>
    <span class="c1">#         source_type = op.module_config[&quot;source_type&quot;]</span>
    <span class="c1">#         if source_type == value_type:</span>
    <span class="c1">#             target_type = op.module_config[&quot;target_type&quot;]</span>
    <span class="c1">#             if target_type in result.keys():</span>
    <span class="c1">#                 raise Exception(</span>
    <span class="c1">#                     f&quot;Multiple operations to transform from &#39;{source_type}&#39; to {target_type}&quot;</span>
    <span class="c1">#                 )</span>
    <span class="c1">#             result[target_type] = op</span>
    <span class="c1">#</span>
    <span class="c1">#     return result</span>

    <span class="k">def</span> <span class="nf">get_operations_for_target_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Find all operations that transform to the specified type.</span>

<span class="sd">        The result dict uses the source type of the conversion as key, and the operation itself as value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">o_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">target_type</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;target_type&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">target_type</span> <span class="o">==</span> <span class="n">value_type</span><span class="p">:</span>
                <span class="n">source_type</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;source_type&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">source_type</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Multiple operations to transform from &#39;</span><span class="si">{</span><span class="n">source_type</span><span class="si">}</span><span class="s2">&#39; to </span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="n">result</span><span class="p">[</span><span class="n">source_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.create_value.CreateValueOperationType.get_operations_for_target_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_operations_for_target_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span></code>


<a href="#kiara.operations.create_value.CreateValueOperationType.get_operations_for_target_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Find all operations that transform to the specified type.</p>
<p>The result dict uses the source type of the conversion as key, and the operation itself as value.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/create_value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_operations_for_target_type</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Find all operations that transform to the specified type.</span>

<span class="sd">    The result dict uses the source type of the conversion as key, and the operation itself as value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">o_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">target_type</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;target_type&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">target_type</span> <span class="o">==</span> <span class="n">value_type</span><span class="p">:</span>
            <span class="n">source_type</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;source_type&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">source_type</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Multiple operations to transform from &#39;</span><span class="si">{</span><span class="n">source_type</span><span class="si">}</span><span class="s2">&#39; to </span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">source_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara.operations.data_export" class="doc doc-heading">
        <code>data_export</code>



<a href="#kiara.operations.data_export" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.data_export.DataExportModule" class="doc doc-heading">
        <code>
DataExportModule            (<a class="autorefs autorefs-internal" title="kiara.module.KiaraModule" href="../../module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara.operations.data_export.DataExportModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_export.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DataExportModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">DataExportModuleConfig</span>

    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_source_value_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="n">Kiara</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

        <span class="n">all_metadata_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">sup_type</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_source_value_type</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">sup_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span><span class="p">:</span>
            <span class="n">log_message</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Ignoring data export operation for type &#39;</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">&#39;: type not available&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;export_as__&quot;</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">target_profile</span> <span class="o">=</span> <span class="n">attr</span><span class="p">[</span><span class="mi">11</span><span class="p">:]</span>

            <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;source_type&quot;</span><span class="p">:</span> <span class="n">sup_type</span><span class="p">,</span>
                    <span class="s2">&quot;target_profile&quot;</span><span class="p">:</span> <span class="n">target_profile</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Export data of type &#39;</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">&#39; as: </span><span class="si">{</span><span class="n">target_profile</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">all_metadata_profiles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;export.</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">.as.</span><span class="si">{</span><span class="n">target_profile</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

        <span class="k">return</span> <span class="n">all_metadata_profiles</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">source_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;source_type&quot;</span><span class="p">)</span>
        <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">source_type</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">source_type</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A value of type &#39;</span><span class="si">{</span><span class="n">source_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The directory to export the file(s) to.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The (base) name of the exported file(s).&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;export_details&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dict&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Details about the exported files/folders.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">target_profile</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;target_profile&quot;</span><span class="p">)</span>
        <span class="n">source_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;source_type&quot;</span><span class="p">)</span>

        <span class="n">source</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="n">source_type</span><span class="p">)</span>

        <span class="n">func_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;export_as__</span><span class="si">{</span><span class="n">target_profile</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func_name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t export &#39;</span><span class="si">{</span><span class="n">source_type</span><span class="si">}</span><span class="s2">&#39; value: missing function &#39;</span><span class="si">{</span><span class="n">func_name</span><span class="si">}</span><span class="s2">&#39; in class &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;. Please check this modules documentation or source code to determine which source types and profiles are supported.&quot;</span>
            <span class="p">)</span>

        <span class="n">base_path</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;base_path&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">base_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">base_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>

        <span class="n">func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func_name</span><span class="p">)</span>
        <span class="c1"># TODO: check signature?</span>

        <span class="n">base_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">base_path</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">source</span><span class="p">,</span> <span class="n">base_path</span><span class="o">=</span><span class="n">base_path</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="c1"># schema = ValueSchema(type=self.get_target_value_type(), doc=&quot;Imported dataset.&quot;)</span>

        <span class="c1"># value_lineage = ValueLineage.from_module_and_inputs(</span>
        <span class="c1">#     module=self, output_name=output_key, inputs=inputs</span>
        <span class="c1"># )</span>
        <span class="c1"># value: Value = self._kiara.data_registry.register_data(</span>
        <span class="c1">#     value_data=result, value_schema=schema, lineage=None</span>
        <span class="c1"># )</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;export_details&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.data_export.DataExportModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.data_export.DataExportModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_export.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">source_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;source_type&quot;</span><span class="p">)</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">source_type</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">source_type</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A value of type &#39;</span><span class="si">{</span><span class="n">source_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The directory to export the file(s) to.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The (base) name of the exported file(s).&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.data_export.DataExportModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.data_export.DataExportModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_export.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;export_details&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dict&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Details about the exported files/folders.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>





  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.data_export.DataExportModule.retrieve_module_profiles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_module_profiles</span><span class="p">(</span><span class="n">kiara</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.operations.data_export.DataExportModule.retrieve_module_profiles" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Retrieve a collection of profiles (pre-set module configs) for this <em>kiara</em> module type.</p>
<p>This is used to automatically create generally useful operations (incl. their ids).</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_export.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="n">Kiara</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

    <span class="n">all_metadata_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">sup_type</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_source_value_type</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">sup_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span><span class="p">:</span>
        <span class="n">log_message</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Ignoring data export operation for type &#39;</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">&#39;: type not available&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;export_as__&quot;</span><span class="p">):</span>
            <span class="k">continue</span>

        <span class="n">target_profile</span> <span class="o">=</span> <span class="n">attr</span><span class="p">[</span><span class="mi">11</span><span class="p">:]</span>

        <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;source_type&quot;</span><span class="p">:</span> <span class="n">sup_type</span><span class="p">,</span>
                <span class="s2">&quot;target_profile&quot;</span><span class="p">:</span> <span class="n">target_profile</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Export data of type &#39;</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">&#39; as: </span><span class="si">{</span><span class="n">target_profile</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">all_metadata_profiles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;export.</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">.as.</span><span class="si">{</span><span class="n">target_profile</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

    <span class="k">return</span> <span class="n">all_metadata_profiles</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.data_export.DataExportModuleConfig" class="doc doc-heading">
        <code>
DataExportModuleConfig            (<a class="autorefs autorefs-internal" title="kiara.module_config.ModuleTypeConfigSchema" href="../../module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.operations.data_export.DataExportModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_export.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DataExportModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">target_profile</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the target profile. Used to distinguish different target formats for the same data type.&quot;</span>
    <span class="p">)</span>
    <span class="n">source_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The type of the source data that is going to be exported.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.data_export.DataExportModuleConfig.source_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">source_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.data_export.DataExportModuleConfig.source_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The type of the source data that is going to be exported.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.data_export.DataExportModuleConfig.target_profile" class="doc doc-heading">
<code class="highlight language-python"><span class="n">target_profile</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.data_export.DataExportModuleConfig.target_profile" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The name of the target profile. Used to distinguish different target formats for the same data type.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.data_export.ExportDataOperationType" class="doc doc-heading">
        <code>
ExportDataOperationType            (<span title="kiara.operations.OperationType">OperationType</span>)
        </code>



<a href="#kiara.operations.data_export.ExportDataOperationType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Export data from <em>kiara</em>.</p>
<p>Operations of this type use internally handled datasets, and export it to the local file system.</p>
<p>Export operations are created by implementing a class that inherits from <a href="http://dharpa.org/kiara/latest/api_reference/kiara.operations.data_export/#kiara.operations.data_export.DataExportModule">DataExportModule</a>, <em>kiara</em> will
register it under an operation id following this template:</p>
<div class="highlight"><pre><span></span><code>&lt;SOURCE_DATA_TYPE&gt;.export_as.&lt;EXPORT_PROFILE&gt;
</code></pre></div>
<p>The meaning of the templated fields is:</p>
<ul>
<li><code>EXPORTED_DATA_TYPE</code>: the data type of the value to export</li>
<li><code>EXPORT_PROFILE</code>: a short, free-form description of the format the data will be exported as</li>
</ul>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_export.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ExportDataOperationType</span><span class="p">(</span><span class="n">OperationType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Export data from *kiara*.</span>

<span class="sd">    Operations of this type use internally handled datasets, and export it to the local file system.</span>

<span class="sd">    Export operations are created by implementing a class that inherits from [DataExportModule](http://dharpa.org/kiara/latest/api_reference/kiara.operations.data_export/#kiara.operations.data_export.DataExportModule), *kiara* will</span>
<span class="sd">    register it under an operation id following this template:</span>

<span class="sd">    ```</span>
<span class="sd">    &lt;SOURCE_DATA_TYPE&gt;.export_as.&lt;EXPORT_PROFILE&gt;</span>
<span class="sd">    ```</span>

<span class="sd">    The meaning of the templated fields is:</span>

<span class="sd">    - `EXPORTED_DATA_TYPE`: the data type of the value to export</span>
<span class="sd">    - `EXPORT_PROFILE`: a short, free-form description of the format the data will be exported as</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">is_matching_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op_config</span><span class="p">:</span> <span class="n">Operation</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>

        <span class="n">match</span> <span class="o">=</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">op_config</span><span class="o">.</span><span class="n">module_cls</span><span class="p">,</span> <span class="n">DataExportModule</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">match</span>

    <span class="k">def</span> <span class="nf">get_export_operations_per_source_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]]]:</span>
        <span class="sd">&quot;&quot;&quot;Return all available import operations per value type.</span>

<span class="sd">        The result dictionary uses the source type as first level key, a source name/description as 2nd level key,</span>
<span class="sd">        and the Operation object as value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">op_config</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operations</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>

            <span class="n">target_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_cls</span><span class="o">.</span><span class="n">get_source_value_type</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

            <span class="n">source_type</span> <span class="o">=</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;source_type&quot;</span><span class="p">]</span>
            <span class="n">target_profile</span> <span class="o">=</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;target_profile&quot;</span><span class="p">]</span>

            <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">target_type</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">source_type</span><span class="p">,</span> <span class="p">{})[</span>
                <span class="n">target_profile</span>
            <span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_export_operations_for_source_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Return all available import operations that produce data of the specified type.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_export_operations_per_source_type</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">value_type</span><span class="p">,</span> <span class="p">{})</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.data_export.ExportDataOperationType.get_export_operations_for_source_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_export_operations_for_source_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span></code>


<a href="#kiara.operations.data_export.ExportDataOperationType.get_export_operations_for_source_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return all available import operations that produce data of the specified type.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_export.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_export_operations_for_source_type</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Return all available import operations that produce data of the specified type.&quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_export_operations_per_source_type</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">value_type</span><span class="p">,</span> <span class="p">{})</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.data_export.ExportDataOperationType.get_export_operations_per_source_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_export_operations_per_source_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.data_export.ExportDataOperationType.get_export_operations_per_source_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return all available import operations per value type.</p>
<p>The result dictionary uses the source type as first level key, a source name/description as 2nd level key,
and the Operation object as value.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_export.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_export_operations_per_source_type</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]]]:</span>
    <span class="sd">&quot;&quot;&quot;Return all available import operations per value type.</span>

<span class="sd">    The result dictionary uses the source type as first level key, a source name/description as 2nd level key,</span>
<span class="sd">    and the Operation object as value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">op_config</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operations</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>

        <span class="n">target_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_cls</span><span class="o">.</span><span class="n">get_source_value_type</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

        <span class="n">source_type</span> <span class="o">=</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;source_type&quot;</span><span class="p">]</span>
        <span class="n">target_profile</span> <span class="o">=</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;target_profile&quot;</span><span class="p">]</span>

        <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">target_type</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">source_type</span><span class="p">,</span> <span class="p">{})[</span>
            <span class="n">target_profile</span>
        <span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.data_export.FileBundleImportModule" class="doc doc-heading">
        <code>
FileBundleImportModule            (<a class="autorefs autorefs-internal" title="kiara.operations.data_export.DataExportModule" href="../data_export/#kiara.operations.data_export.DataExportModule">DataExportModule</a>)
        </code>



<a href="#kiara.operations.data_export.FileBundleImportModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Import a file, optionally saving it to the data store.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_export.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FileBundleImportModule</span><span class="p">(</span><span class="n">DataExportModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Import a file, optionally saving it to the data store.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_target_value_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;file_bundle&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.data_export.FileExportModule" class="doc doc-heading">
        <code>
FileExportModule            (<a class="autorefs autorefs-internal" title="kiara.operations.data_export.DataExportModule" href="../data_export/#kiara.operations.data_export.DataExportModule">DataExportModule</a>)
        </code>



<a href="#kiara.operations.data_export.FileExportModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Import a file, optionally saving it to the data store.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_export.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FileExportModule</span><span class="p">(</span><span class="n">DataExportModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Import a file, optionally saving it to the data store.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_target_value_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;file&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara.operations.data_import" class="doc doc-heading">
        <code>data_import</code>



<a href="#kiara.operations.data_import" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.data_import.DataImportModule" class="doc doc-heading">
        <code>
DataImportModule            (<a class="autorefs autorefs-internal" title="kiara.module.KiaraModule" href="../../module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara.operations.data_import.DataImportModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_import.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DataImportModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">DataImportModuleConfig</span>

    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_target_value_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="n">Kiara</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

        <span class="n">all_metadata_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">sup_type</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_target_value_type</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">sup_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span><span class="p">:</span>
            <span class="n">log_message</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Ignoring data import operation for type &#39;</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">&#39;: type not available&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;import_from__&quot;</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">tokens</span> <span class="o">=</span> <span class="n">attr</span><span class="p">[</span><span class="mi">13</span><span class="p">:]</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;__&quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">log_message</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t determine source name and type from string in module </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="si">}</span><span class="s2">, ignoring method: </span><span class="si">{</span><span class="n">attr</span><span class="si">}</span><span class="s2">&quot;</span>  <span class="c1"># type: ignore</span>
                <span class="p">)</span>

            <span class="n">source_profile</span><span class="p">,</span> <span class="n">source_type</span> <span class="o">=</span> <span class="n">tokens</span>

            <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;source_profile&quot;</span><span class="p">:</span> <span class="n">source_profile</span><span class="p">,</span>
                    <span class="s2">&quot;source_type&quot;</span><span class="p">:</span> <span class="n">source_type</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Import data of type &#39;</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">&#39; from a </span><span class="si">{</span><span class="n">source_profile</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">source_type</span><span class="si">}</span><span class="s2"> and save it to the kiara data store.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">all_metadata_profiles</span><span class="p">[</span>
                <span class="sa">f</span><span class="s2">&quot;import.</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">.from.</span><span class="si">{</span><span class="n">source_profile</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

        <span class="k">return</span> <span class="n">all_metadata_profiles</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">input_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;source_profile&quot;</span><span class="p">)</span>
        <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">input_name</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;source_type&quot;</span><span class="p">),</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;source_profile&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;source_type&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39; value.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="c1"># allow_save = self.get_config_value(&quot;allow_save_input&quot;)</span>
        <span class="c1"># save_default = self.get_config_value(&quot;save_default&quot;)</span>
        <span class="c1"># if allow_save:</span>
        <span class="c1">#     inputs[&quot;save&quot;] = {</span>
        <span class="c1">#         &quot;type&quot;: &quot;boolean&quot;,</span>
        <span class="c1">#         &quot;doc&quot;: &quot;Whether to save the imported value, or not.&quot;,</span>
        <span class="c1">#         &quot;default&quot;: save_default,</span>
        <span class="c1">#     }</span>
        <span class="c1">#</span>
        <span class="c1"># allow_aliases: typing.Optional[bool] = self.get_config_value(</span>
        <span class="c1">#     &quot;allow_aliases_input&quot;</span>
        <span class="c1"># )</span>
        <span class="c1"># if allow_aliases is None:</span>
        <span class="c1">#     allow_aliases = allow_save</span>
        <span class="c1">#</span>
        <span class="c1"># if allow_aliases and not allow_save and not save_default:</span>
        <span class="c1">#     raise Exception(</span>
        <span class="c1">#         &quot;Invalid module configuration: allowing aliases input does not make sense if save is disabled.&quot;</span>
        <span class="c1">#     )</span>
        <span class="c1">#</span>
        <span class="c1"># if allow_aliases:</span>
        <span class="c1">#     default_aliases = self.get_config_value(&quot;aliases_default&quot;)</span>
        <span class="c1">#     inputs[&quot;aliases&quot;] = {</span>
        <span class="c1">#         &quot;type&quot;: &quot;list&quot;,</span>
        <span class="c1">#         &quot;doc&quot;: &quot;A list of aliases to use when storing the value (only applicable if &#39;save&#39; is set).&quot;,</span>
        <span class="c1">#         &quot;default&quot;: default_aliases,</span>
        <span class="c1">#     }</span>

        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">output_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_target_value_type</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">output_name</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
            <span class="n">output_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>

        <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">output_name</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_target_value_type</span><span class="p">(),</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The imported </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_target_value_type</span><span class="p">()</span><span class="si">}</span><span class="s2"> value.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">source_profile</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;source_profile&quot;</span><span class="p">)</span>
        <span class="n">source_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;source_type&quot;</span><span class="p">)</span>

        <span class="n">source</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="n">source_profile</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_target_value_type</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
            <span class="n">output_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">output_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_target_value_type</span><span class="p">()</span>

        <span class="n">func_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;import_from__</span><span class="si">{</span><span class="n">source_profile</span><span class="si">}</span><span class="s2">__</span><span class="si">{</span><span class="n">source_type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func_name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t import &#39;</span><span class="si">{</span><span class="n">source_type</span><span class="si">}</span><span class="s2">&#39; value: missing function &#39;</span><span class="si">{</span><span class="n">func_name</span><span class="si">}</span><span class="s2">&#39; in class &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;. Please check this modules documentation or source code to determine which source types and profiles are supported.&quot;</span>
            <span class="p">)</span>

        <span class="n">func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func_name</span><span class="p">)</span>
        <span class="c1"># TODO: check signature?</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="c1"># schema = ValueSchema(type=self.get_target_value_type(), doc=&quot;Imported dataset.&quot;)</span>

        <span class="c1"># value_lineage = ValueLineage.from_module_and_inputs(</span>
        <span class="c1">#     module=self, output_name=output_key, inputs=inputs</span>
        <span class="c1"># )</span>
        <span class="c1"># value: Value = self._kiara.data_registry.register_data(</span>
        <span class="c1">#     value_data=result, value_schema=schema, lineage=None</span>
        <span class="c1"># )</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">output_key</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.data_import.DataImportModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.data_import.DataImportModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_import.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">input_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;source_profile&quot;</span><span class="p">)</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">input_name</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;source_type&quot;</span><span class="p">),</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;source_profile&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;source_type&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39; value.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>

    <span class="c1"># allow_save = self.get_config_value(&quot;allow_save_input&quot;)</span>
    <span class="c1"># save_default = self.get_config_value(&quot;save_default&quot;)</span>
    <span class="c1"># if allow_save:</span>
    <span class="c1">#     inputs[&quot;save&quot;] = {</span>
    <span class="c1">#         &quot;type&quot;: &quot;boolean&quot;,</span>
    <span class="c1">#         &quot;doc&quot;: &quot;Whether to save the imported value, or not.&quot;,</span>
    <span class="c1">#         &quot;default&quot;: save_default,</span>
    <span class="c1">#     }</span>
    <span class="c1">#</span>
    <span class="c1"># allow_aliases: typing.Optional[bool] = self.get_config_value(</span>
    <span class="c1">#     &quot;allow_aliases_input&quot;</span>
    <span class="c1"># )</span>
    <span class="c1"># if allow_aliases is None:</span>
    <span class="c1">#     allow_aliases = allow_save</span>
    <span class="c1">#</span>
    <span class="c1"># if allow_aliases and not allow_save and not save_default:</span>
    <span class="c1">#     raise Exception(</span>
    <span class="c1">#         &quot;Invalid module configuration: allowing aliases input does not make sense if save is disabled.&quot;</span>
    <span class="c1">#     )</span>
    <span class="c1">#</span>
    <span class="c1"># if allow_aliases:</span>
    <span class="c1">#     default_aliases = self.get_config_value(&quot;aliases_default&quot;)</span>
    <span class="c1">#     inputs[&quot;aliases&quot;] = {</span>
    <span class="c1">#         &quot;type&quot;: &quot;list&quot;,</span>
    <span class="c1">#         &quot;doc&quot;: &quot;A list of aliases to use when storing the value (only applicable if &#39;save&#39; is set).&quot;,</span>
    <span class="c1">#         &quot;default&quot;: default_aliases,</span>
    <span class="c1">#     }</span>

    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.data_import.DataImportModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.data_import.DataImportModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_import.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">output_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_target_value_type</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">output_name</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
        <span class="n">output_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>

    <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">output_name</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_target_value_type</span><span class="p">(),</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The imported </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_target_value_type</span><span class="p">()</span><span class="si">}</span><span class="s2"> value.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>





  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.data_import.DataImportModule.retrieve_module_profiles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_module_profiles</span><span class="p">(</span><span class="n">kiara</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.operations.data_import.DataImportModule.retrieve_module_profiles" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Retrieve a collection of profiles (pre-set module configs) for this <em>kiara</em> module type.</p>
<p>This is used to automatically create generally useful operations (incl. their ids).</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_import.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="n">Kiara</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

    <span class="n">all_metadata_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">sup_type</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_target_value_type</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">sup_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span><span class="p">:</span>
        <span class="n">log_message</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Ignoring data import operation for type &#39;</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">&#39;: type not available&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;import_from__&quot;</span><span class="p">):</span>
            <span class="k">continue</span>

        <span class="n">tokens</span> <span class="o">=</span> <span class="n">attr</span><span class="p">[</span><span class="mi">13</span><span class="p">:]</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;__&quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">log_message</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t determine source name and type from string in module </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="si">}</span><span class="s2">, ignoring method: </span><span class="si">{</span><span class="n">attr</span><span class="si">}</span><span class="s2">&quot;</span>  <span class="c1"># type: ignore</span>
            <span class="p">)</span>

        <span class="n">source_profile</span><span class="p">,</span> <span class="n">source_type</span> <span class="o">=</span> <span class="n">tokens</span>

        <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;source_profile&quot;</span><span class="p">:</span> <span class="n">source_profile</span><span class="p">,</span>
                <span class="s2">&quot;source_type&quot;</span><span class="p">:</span> <span class="n">source_type</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Import data of type &#39;</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">&#39; from a </span><span class="si">{</span><span class="n">source_profile</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">source_type</span><span class="si">}</span><span class="s2"> and save it to the kiara data store.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">all_metadata_profiles</span><span class="p">[</span>
            <span class="sa">f</span><span class="s2">&quot;import.</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">.from.</span><span class="si">{</span><span class="n">source_profile</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

    <span class="k">return</span> <span class="n">all_metadata_profiles</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.data_import.DataImportModuleConfig" class="doc doc-heading">
        <code>
DataImportModuleConfig            (<a class="autorefs autorefs-internal" title="kiara.module_config.ModuleTypeConfigSchema" href="../../module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.operations.data_import.DataImportModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_import.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DataImportModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="c1"># value_type: str = Field(description=&quot;The type of the value to be imported.&quot;)</span>
    <span class="n">source_profile</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the source profile. Used to distinguish different input categories for the same input type.&quot;</span>
    <span class="p">)</span>
    <span class="n">source_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The type of the source to import from.&quot;</span><span class="p">)</span>
    <span class="c1"># allow_save_input: bool = Field(</span>
    <span class="c1">#     description=&quot;Allow the user to choose whether to save the imported item or not.&quot;,</span>
    <span class="c1">#     default=True,</span>
    <span class="c1"># )</span>
    <span class="c1"># save_default: bool = Field(</span>
    <span class="c1">#     description=&quot;The default of the &#39;save&#39; input if not specified by the user.&quot;,</span>
    <span class="c1">#     default=False,</span>
    <span class="c1"># )</span>
    <span class="c1"># allow_aliases_input: typing.Optional[bool] = Field(</span>
    <span class="c1">#     description=&quot;Allow the user to choose aliases for the saved value.&quot;,</span>
    <span class="c1">#     default=None,</span>
    <span class="c1"># )</span>
    <span class="c1"># aliases_default: typing.List[str] = Field(</span>
    <span class="c1">#     description=&quot;Default value for aliases.&quot;, default_factory=list</span>
    <span class="c1"># )</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.data_import.DataImportModuleConfig.source_profile" class="doc doc-heading">
<code class="highlight language-python"><span class="n">source_profile</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.data_import.DataImportModuleConfig.source_profile" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The name of the source profile. Used to distinguish different input categories for the same input type.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.data_import.DataImportModuleConfig.source_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">source_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.data_import.DataImportModuleConfig.source_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The type of the source to import from.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.data_import.FileBundleImportModule" class="doc doc-heading">
        <code>
FileBundleImportModule            (<a class="autorefs autorefs-internal" title="kiara.operations.data_import.DataImportModule" href="../data_import/#kiara.operations.data_import.DataImportModule">DataImportModule</a>)
        </code>



<a href="#kiara.operations.data_import.FileBundleImportModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Import a file, optionally saving it to the data store.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_import.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FileBundleImportModule</span><span class="p">(</span><span class="n">DataImportModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Import a file, optionally saving it to the data store.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_target_value_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;file_bundle&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.data_import.FileImportModule" class="doc doc-heading">
        <code>
FileImportModule            (<a class="autorefs autorefs-internal" title="kiara.operations.data_import.DataImportModule" href="../data_import/#kiara.operations.data_import.DataImportModule">DataImportModule</a>)
        </code>



<a href="#kiara.operations.data_import.FileImportModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Import a file, optionally saving it to the data store.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_import.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FileImportModule</span><span class="p">(</span><span class="n">DataImportModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Import a file, optionally saving it to the data store.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_target_value_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;file&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.data_import.ImportDataOperationType" class="doc doc-heading">
        <code>
ImportDataOperationType            (<span title="kiara.operations.OperationType">OperationType</span>)
        </code>



<a href="#kiara.operations.data_import.ImportDataOperationType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Import data into <em>kiara</em>.</p>
<p>Operations of this type take external data, and register it into <em>kiara</em>. External data is different in that it usually
does not come with any metadata on how it was created, who created it, when, etc.</p>
<p>Import operations are created by implementing a class that inherits from <a href="http://dharpa.org/kiara/latest/api_reference/kiara.operations.data_import/#kiara.operations.data_import.DataImportModule">DataImportModule</a>, <em>kiara</em> will
register it under an operation id following this template:</p>
<div class="highlight"><pre><span></span><code>&lt;IMPORTED_DATA_TYPE&gt;.import_from.&lt;IMPORT_PROFILE&gt;.&lt;INPUT_TYPE&gt;
</code></pre></div>
<p>The meaning of the templated fields is:</p>
<ul>
<li><code>IMPORTED_DATA_TYPE</code>: the data type of the imported value</li>
<li><code>IMPORT_PROFILE</code>: a short, free-form description of where from (or how) the data is imported</li>
<li><code>INPUT_TYPE</code>: the data type of the user input that points to the data (like a file path, url, query, etc.) -- in most cases this will be some form of a string or uri</li>
</ul>
<p>There are two main scenarios when an operation of this type is used:</p>
<ul>
<li>'onboard' data that was created by a 3rd party, or using external processes</li>
<li>'re-import' data that as created in <em>kiara</em>, then exported to be transformed in an external process, and then imported again into <em>kiara</em></li>
</ul>
<p>In both of those scenarios, we'll need to have a way to add metadata to fill out 'holes' in the metadata 'chold chain'. We don't have a concept
yet as to how to do that, but that is planned for the future.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_import.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ImportDataOperationType</span><span class="p">(</span><span class="n">OperationType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Import data into *kiara*.</span>

<span class="sd">    Operations of this type take external data, and register it into *kiara*. External data is different in that it usually</span>
<span class="sd">    does not come with any metadata on how it was created, who created it, when, etc.</span>

<span class="sd">    Import operations are created by implementing a class that inherits from [DataImportModule](http://dharpa.org/kiara/latest/api_reference/kiara.operations.data_import/#kiara.operations.data_import.DataImportModule), *kiara* will</span>
<span class="sd">    register it under an operation id following this template:</span>

<span class="sd">    ```</span>
<span class="sd">    &lt;IMPORTED_DATA_TYPE&gt;.import_from.&lt;IMPORT_PROFILE&gt;.&lt;INPUT_TYPE&gt;</span>
<span class="sd">    ```</span>

<span class="sd">    The meaning of the templated fields is:</span>

<span class="sd">    - `IMPORTED_DATA_TYPE`: the data type of the imported value</span>
<span class="sd">    - `IMPORT_PROFILE`: a short, free-form description of where from (or how) the data is imported</span>
<span class="sd">    - `INPUT_TYPE`: the data type of the user input that points to the data (like a file path, url, query, etc.) -- in most cases this will be some form of a string or uri</span>

<span class="sd">    There are two main scenarios when an operation of this type is used:</span>

<span class="sd">    - &#39;onboard&#39; data that was created by a 3rd party, or using external processes</span>
<span class="sd">    - &#39;re-import&#39; data that as created in *kiara*, then exported to be transformed in an external process, and then imported again into *kiara*</span>

<span class="sd">    In both of those scenarios, we&#39;ll need to have a way to add metadata to fill out &#39;holes&#39; in the metadata &#39;chold chain&#39;. We don&#39;t have a concept</span>
<span class="sd">    yet as to how to do that, but that is planned for the future.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">is_matching_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op_config</span><span class="p">:</span> <span class="n">Operation</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>

        <span class="k">return</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">op_config</span><span class="o">.</span><span class="n">module_cls</span><span class="p">,</span> <span class="n">DataImportModule</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_import_operations_per_target_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]]]:</span>
        <span class="sd">&quot;&quot;&quot;Return all available import operations per value type.</span>

<span class="sd">        The result dictionary uses the source type as first level key, a source name/description as 2nd level key,</span>
<span class="sd">        and the Operation object as value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">op_config</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operations</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>

            <span class="n">target_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_cls</span><span class="o">.</span><span class="n">get_target_value_type</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

            <span class="n">source_type</span> <span class="o">=</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;source_type&quot;</span><span class="p">]</span>
            <span class="n">source_profile</span> <span class="o">=</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;source_profile&quot;</span><span class="p">]</span>

            <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">target_type</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">source_type</span><span class="p">,</span> <span class="p">{})[</span>
                <span class="n">source_profile</span>
            <span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_import_operations_for_target_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Return all available import operations that produce data of the specified type.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_import_operations_per_target_type</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">value_type</span><span class="p">,</span> <span class="p">{})</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.data_import.ImportDataOperationType.get_import_operations_for_target_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_import_operations_for_target_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span></code>


<a href="#kiara.operations.data_import.ImportDataOperationType.get_import_operations_for_target_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return all available import operations that produce data of the specified type.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_import.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_import_operations_for_target_type</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Return all available import operations that produce data of the specified type.&quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_import_operations_per_target_type</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">value_type</span><span class="p">,</span> <span class="p">{})</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.data_import.ImportDataOperationType.get_import_operations_per_target_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_import_operations_per_target_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.data_import.ImportDataOperationType.get_import_operations_per_target_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return all available import operations per value type.</p>
<p>The result dictionary uses the source type as first level key, a source name/description as 2nd level key,
and the Operation object as value.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/data_import.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_import_operations_per_target_type</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]]]:</span>
    <span class="sd">&quot;&quot;&quot;Return all available import operations per value type.</span>

<span class="sd">    The result dictionary uses the source type as first level key, a source name/description as 2nd level key,</span>
<span class="sd">    and the Operation object as value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">op_config</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operations</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>

        <span class="n">target_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_cls</span><span class="o">.</span><span class="n">get_target_value_type</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

        <span class="n">source_type</span> <span class="o">=</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;source_type&quot;</span><span class="p">]</span>
        <span class="n">source_profile</span> <span class="o">=</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;source_profile&quot;</span><span class="p">]</span>

        <span class="n">result</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">target_type</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">source_type</span><span class="p">,</span> <span class="p">{})[</span>
            <span class="n">source_profile</span>
        <span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara.operations.extract_metadata" class="doc doc-heading">
        <code>extract_metadata</code>



<a href="#kiara.operations.extract_metadata" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.extract_metadata.ExtractMetadataModule" class="doc doc-heading">
        <code>
ExtractMetadataModule            (<a class="autorefs autorefs-internal" title="kiara.module.KiaraModule" href="../../module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara.operations.extract_metadata.ExtractMetadataModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Base class to use when writing a module to extract metadata from a file.</p>
<p>It's possible to use any arbitrary <em>kiara</em> module for this purpose, but sub-classing this makes it easier.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/extract_metadata.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ExtractMetadataModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class to use when writing a module to extract metadata from a file.</span>

<span class="sd">    It&#39;s possible to use any arbitrary *kiara* module for this purpose, but sub-classing this makes it easier.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">MetadataModuleConfig</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

        <span class="n">all_metadata_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">value_types</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_supported_value_types</span><span class="p">()</span>
        <span class="k">if</span> <span class="s2">&quot;*&quot;</span> <span class="ow">in</span> <span class="n">value_types</span><span class="p">:</span>
            <span class="n">value_types</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span>

        <span class="n">metadata_key</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_metadata_key</span><span class="p">()</span>
        <span class="n">all_value_types</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">value_type</span> <span class="ow">in</span> <span class="n">value_types</span><span class="p">:</span>

            <span class="k">if</span> <span class="n">value_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span><span class="p">:</span>
                <span class="n">log_message</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Ignoring metadata-extract operation (metadata key: </span><span class="si">{</span><span class="n">metadata_key</span><span class="si">}</span><span class="s2">) for type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;: type not available&quot;</span>
                <span class="p">)</span>
                <span class="k">continue</span>

            <span class="n">all_value_types</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">value_type</span><span class="p">)</span>
            <span class="n">sub_types</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">get_sub_types</span><span class="p">(</span><span class="n">value_type</span><span class="p">)</span>
            <span class="n">all_value_types</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">sub_types</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">value_type</span> <span class="ow">in</span> <span class="n">all_value_types</span><span class="p">:</span>

            <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="n">value_type</span><span class="p">},</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Extract &#39;</span><span class="si">{</span><span class="n">metadata_key</span><span class="si">}</span><span class="s2">&#39; metadata for value of type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">}</span>

            <span class="n">all_metadata_profiles</span><span class="p">[</span>
                <span class="sa">f</span><span class="s2">&quot;extract.</span><span class="si">{</span><span class="n">metadata_key</span><span class="si">}</span><span class="s2">.metadata.from.</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

        <span class="k">return</span> <span class="n">all_metadata_profiles</span>

    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">_get_supported_types</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">pass</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_metadata_key</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_name</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_supported_value_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="n">_types</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_supported_types</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_types</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">_types</span><span class="p">]</span>

        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">_types</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_schema</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">value_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">data_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>
        <span class="n">sup_types</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_supported_value_types</span><span class="p">()</span>
        <span class="k">if</span> <span class="s2">&quot;*&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sup_types</span> <span class="ow">and</span> <span class="n">data_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sup_types</span><span class="p">:</span>
            <span class="n">match</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">for</span> <span class="n">sup_type</span> <span class="ow">in</span> <span class="n">sup_types</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">sub_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">get_sub_types</span><span class="p">(</span><span class="n">sup_type</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">sub_type</span> <span class="o">==</span> <span class="n">data_type</span><span class="p">:</span>
                        <span class="n">match</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">break</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">match</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid module configuration, type &#39;</span><span class="si">{</span><span class="n">data_type</span><span class="si">}</span><span class="s2">&#39; not supported. Supported types: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_supported_value_types</span><span class="p">())</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">data_type</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">metadata_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_schema</span>

        <span class="n">schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_metadata_schema</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">value_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
            <span class="n">schema</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">schema_json</span><span class="p">()</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type for metadata schema: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_schema</span> <span class="o">=</span> <span class="n">schema</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_schema</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">_get_metadata_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Create the metadata schema for the configured type.&quot;&quot;&quot;</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">extract_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">BaseModel</span><span class="p">]:</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">input_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_type</span>
        <span class="k">if</span> <span class="n">input_name</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
            <span class="n">input_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>

        <span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">input_name</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_type</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A value of type &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;metadata_item&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dict&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The metadata for the provided value.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;metadata_item_schema&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The (json) schema for the metadata.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">input_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_type</span>
        <span class="k">if</span> <span class="n">input_name</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
            <span class="n">input_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">input_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_type</span> <span class="o">!=</span> <span class="s2">&quot;any&quot;</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">type_name</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_type</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t extract metadata for value of type &#39;</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">value_schema</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">&#39;. Expected type &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># TODO: if type &#39;any&#39;, validate that the data is actually of the right type?</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;metadata_item_schema&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata_schema</span><span class="p">)</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_metadata</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
            <span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># TODO: validate metadata?</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;metadata_item&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.extract_metadata.ExtractMetadataModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.extract_metadata.ExtractMetadataModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/extract_metadata.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">input_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_type</span>
    <span class="k">if</span> <span class="n">input_name</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
        <span class="n">input_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>

    <span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">input_name</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_type</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A value of type &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.extract_metadata.ExtractMetadataModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.extract_metadata.ExtractMetadataModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/extract_metadata.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;metadata_item&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dict&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The metadata for the provided value.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;metadata_item_schema&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The (json) schema for the metadata.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>







  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.extract_metadata.ExtractMetadataModule.retrieve_module_profiles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_module_profiles</span><span class="p">(</span><span class="n">kiara</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.operations.extract_metadata.ExtractMetadataModule.retrieve_module_profiles" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Retrieve a collection of profiles (pre-set module configs) for this <em>kiara</em> module type.</p>
<p>This is used to automatically create generally useful operations (incl. their ids).</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/extract_metadata.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

    <span class="n">all_metadata_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">value_types</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_supported_value_types</span><span class="p">()</span>
    <span class="k">if</span> <span class="s2">&quot;*&quot;</span> <span class="ow">in</span> <span class="n">value_types</span><span class="p">:</span>
        <span class="n">value_types</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span>

    <span class="n">metadata_key</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_metadata_key</span><span class="p">()</span>
    <span class="n">all_value_types</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">value_type</span> <span class="ow">in</span> <span class="n">value_types</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">value_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span><span class="p">:</span>
            <span class="n">log_message</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Ignoring metadata-extract operation (metadata key: </span><span class="si">{</span><span class="n">metadata_key</span><span class="si">}</span><span class="s2">) for type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;: type not available&quot;</span>
            <span class="p">)</span>
            <span class="k">continue</span>

        <span class="n">all_value_types</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">value_type</span><span class="p">)</span>
        <span class="n">sub_types</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">get_sub_types</span><span class="p">(</span><span class="n">value_type</span><span class="p">)</span>
        <span class="n">all_value_types</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">sub_types</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">value_type</span> <span class="ow">in</span> <span class="n">all_value_types</span><span class="p">:</span>

        <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="n">value_type</span><span class="p">},</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Extract &#39;</span><span class="si">{</span><span class="n">metadata_key</span><span class="si">}</span><span class="s2">&#39; metadata for value of type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">all_metadata_profiles</span><span class="p">[</span>
            <span class="sa">f</span><span class="s2">&quot;extract.</span><span class="si">{</span><span class="n">metadata_key</span><span class="si">}</span><span class="s2">.metadata.from.</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

    <span class="k">return</span> <span class="n">all_metadata_profiles</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.extract_metadata.ExtractMetadataOperationType" class="doc doc-heading">
        <code>
ExtractMetadataOperationType            (<span title="kiara.operations.OperationType">OperationType</span>)
        </code>



<a href="#kiara.operations.extract_metadata.ExtractMetadataOperationType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Extract metadata from a dataset.</p>
<p>The purpose of this operation type is to be able to extract arbitrary, type-specific metadata from value data. In general,
<em>kiara</em> wants to collect (and store along the value) as much metadata related to data as possible, but the extraction
process should not take a lot of processing time (since this is done whenever a value is registered into a data registry).</p>
<p>As its hard to predict all the types of metadata of a specific type that could be interesting in specific scenarios, <em>kiara</em>
supports a pluggable mechanism to add new metadata extraction processes by extending the base class <a href="http://dharpa.org/kiara/latest/api_reference/kiara.operations.extract_metadata/#kiara.operations.extract_metadata.ExtractMetadataModule"><code>ExtractMetadataModule</code></a>
and adding that implementation somewhere <em>kiara</em> can find it. Once that is done, <em>kiara</em> will automatically add a new
operation with an id that follows this template: <code>&lt;VALUE_TYPE&gt;.extract_metadata.&lt;METADATA_KEY&gt;</code>, where <code>METADATA_KEY</code> is a name
under which the metadata will be stored within the value object.</p>
<p>By default, every value type should have at least one metadata extraction module where the <code>METADATA_KEY</code> is the same
as the value type name, and which contains basic, type-specific metadata (e.g. for a 'table', that would be number of rows,
column names, column types, etc.).</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/extract_metadata.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ExtractMetadataOperationType</span><span class="p">(</span><span class="n">OperationType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Extract metadata from a dataset.</span>

<span class="sd">    The purpose of this operation type is to be able to extract arbitrary, type-specific metadata from value data. In general,</span>
<span class="sd">    *kiara* wants to collect (and store along the value) as much metadata related to data as possible, but the extraction</span>
<span class="sd">    process should not take a lot of processing time (since this is done whenever a value is registered into a data registry).</span>

<span class="sd">    As its hard to predict all the types of metadata of a specific type that could be interesting in specific scenarios, *kiara*</span>
<span class="sd">    supports a pluggable mechanism to add new metadata extraction processes by extending the base class [`ExtractMetadataModule`](http://dharpa.org/kiara/latest/api_reference/kiara.operations.extract_metadata/#kiara.operations.extract_metadata.ExtractMetadataModule)</span>
<span class="sd">    and adding that implementation somewhere *kiara* can find it. Once that is done, *kiara* will automatically add a new</span>
<span class="sd">    operation with an id that follows this template: `&lt;VALUE_TYPE&gt;.extract_metadata.&lt;METADATA_KEY&gt;`, where `METADATA_KEY` is a name</span>
<span class="sd">    under which the metadata will be stored within the value object.</span>

<span class="sd">    By default, every value type should have at least one metadata extraction module where the `METADATA_KEY` is the same</span>
<span class="sd">    as the value type name, and which contains basic, type-specific metadata (e.g. for a &#39;table&#39;, that would be number of rows,</span>
<span class="sd">    column names, column types, etc.).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">is_matching_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op_config</span><span class="p">:</span> <span class="n">Operation</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">op_config</span><span class="o">.</span><span class="n">module_cls</span><span class="p">,</span> <span class="n">ExtractMetadataModule</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_all_operations_for_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]:</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">op_config</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operations</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">v_t</span> <span class="o">=</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;value_type&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">v_t</span> <span class="o">!=</span> <span class="n">value_type</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">module_cls</span><span class="p">:</span> <span class="n">ExtractMetadataModule</span> <span class="o">=</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_cls</span>  <span class="c1"># type: ignore</span>
            <span class="n">md_key</span> <span class="o">=</span> <span class="n">module_cls</span><span class="o">.</span><span class="n">get_metadata_key</span><span class="p">()</span>
            <span class="n">result</span><span class="p">[</span><span class="n">md_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.extract_metadata.MetadataModuleConfig" class="doc doc-heading">
        <code>
MetadataModuleConfig            (<a class="autorefs autorefs-internal" title="kiara.module_config.ModuleTypeConfigSchema" href="../../module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.operations.extract_metadata.MetadataModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/operations/extract_metadata.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MetadataModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The data type this module will be used for.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.extract_metadata.MetadataModuleConfig.value_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.extract_metadata.MetadataModuleConfig.value_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The data type this module will be used for.</p>
    </div>

  </div>











  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara.operations.merge_values" class="doc doc-heading">
        <code>merge_values</code>



<a href="#kiara.operations.merge_values" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.merge_values.ValueMergeModule" class="doc doc-heading">
        <code>
ValueMergeModule            (<a class="autorefs autorefs-internal" title="kiara.module.KiaraModule" href="../../module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara.operations.merge_values.ValueMergeModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Base class for operations that merge several values into one.</p>
<p>NOT USED YET.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/merge_values.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueMergeModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for operations that merge several values into one.</span>

<span class="sd">    NOT USED YET.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">input_schema_dicts</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;input_schemas&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">input_schema_dicts</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No input schemas provided.&quot;</span><span class="p">)</span>

        <span class="n">input_schemas</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">input_schema_dicts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">input_schemas</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">ValueSchema</span><span class="p">(</span><span class="o">**</span><span class="n">v</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">input_schemas</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;merged_value&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;output_type&quot;</span><span class="p">)}}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.merge_values.ValueMergeModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.merge_values.ValueMergeModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/merge_values.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">input_schema_dicts</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;input_schemas&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">input_schema_dicts</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No input schemas provided.&quot;</span><span class="p">)</span>

    <span class="n">input_schemas</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">input_schema_dicts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">input_schemas</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">ValueSchema</span><span class="p">(</span><span class="o">**</span><span class="n">v</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">input_schemas</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.merge_values.ValueMergeModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.merge_values.ValueMergeModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/merge_values.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;merged_value&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;output_type&quot;</span><span class="p">)}}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.merge_values.ValueMergeModuleConfig" class="doc doc-heading">
        <code>
ValueMergeModuleConfig            (<a class="autorefs autorefs-internal" title="kiara.module_config.ModuleTypeConfigSchema" href="../../module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.operations.merge_values.ValueMergeModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/operations/merge_values.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueMergeModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">input_schemas</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The schemas for all of the expected inputs.&quot;</span>
    <span class="p">)</span>
    <span class="n">output_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The result type of the merged value.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.merge_values.ValueMergeModuleConfig.input_schemas" class="doc doc-heading">
<code class="highlight language-python"><span class="n">input_schemas</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.merge_values.ValueMergeModuleConfig.input_schemas" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The schemas for all of the expected inputs.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.merge_values.ValueMergeModuleConfig.output_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">output_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.merge_values.ValueMergeModuleConfig.output_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The result type of the merged value.</p>
    </div>

  </div>











  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara.operations.pretty_print" class="doc doc-heading">
        <code>pretty_print</code>



<a href="#kiara.operations.pretty_print" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.pretty_print.PrettyPrintModuleConfig" class="doc doc-heading">
        <code>
PrettyPrintModuleConfig            (<a class="autorefs autorefs-internal" title="kiara.module_config.ModuleTypeConfigSchema" href="../../module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.operations.pretty_print.PrettyPrintModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/operations/pretty_print.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PrettyPrintModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The type of the value to save.&quot;</span><span class="p">)</span>
    <span class="n">target_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The target to print the value to.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;string&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.pretty_print.PrettyPrintModuleConfig.target_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">target_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara.operations.pretty_print.PrettyPrintModuleConfig.target_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The target to print the value to.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.pretty_print.PrettyPrintModuleConfig.value_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.pretty_print.PrettyPrintModuleConfig.value_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The type of the value to save.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.pretty_print.PrettyPrintOperationType" class="doc doc-heading">
        <code>
PrettyPrintOperationType            (<span title="kiara.operations.OperationType">OperationType</span>)
        </code>



<a href="#kiara.operations.pretty_print.PrettyPrintOperationType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>This operation type renders values of any type into human readable output for different targets (e.g. terminal, html, ...).</p>
<p>The main purpose of this operation type is to show the user as much content of the data as possible for the specific
rendering target, without giving any guarantees that all information contained in the data is shown. It may print
out the whole content (if the content is small, or the available space large enough), or
just a few bits and pieces from the start and/or end of the data, whatever makes most sense for the data itself. For example,
for large tables it might be a good idea to print out the first and last 30 rows, so users can see which columns are available,
and get a rough overview of the content itself. For network graphs it might make sense to print out some graph properties
(number of nodes, edges, available attributes, ...) on the terminal, but render the graph itself when using html as target.</p>
<p>Currently, it is only possible to implement a <code>pretty_print</code> renderer if you have access to the source code of the value
type you want to render. To add a new render method, add a new instance method to the <code>ValueType</code> class in question,
in the format:</p>
<div class="highlight"><pre><span></span><code>def pretty_print_as_&lt;TARGET_TYPE&gt;(value: Value, print_config: typing.Mapping[str, typing.Any]) -&gt; typing.Any:
   ...
   ...
</code></pre></div>
<p><em>kiara</em> will look at all available <code>ValueType</code> classes for methods that match this signature, and auto-generate
operations following this naming template: <code>&lt;SOURCE_TYPE&gt;.pretty_print_as.&lt;TARGET_TYPE&gt;</code>.</p>
<p>Currently, only the type <code>renderables</code> is implemented as target type (for printing out to the terminal). It is planned to
add output suitable for use in Jupyter notebooks in the near future.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/pretty_print.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PrettyPrintOperationType</span><span class="p">(</span><span class="n">OperationType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This operation type renders values of any type into human readable output for different targets (e.g. terminal, html, ...).</span>

<span class="sd">    The main purpose of this operation type is to show the user as much content of the data as possible for the specific</span>
<span class="sd">    rendering target, without giving any guarantees that all information contained in the data is shown. It may print</span>
<span class="sd">    out the whole content (if the content is small, or the available space large enough), or</span>
<span class="sd">    just a few bits and pieces from the start and/or end of the data, whatever makes most sense for the data itself. For example,</span>
<span class="sd">    for large tables it might be a good idea to print out the first and last 30 rows, so users can see which columns are available,</span>
<span class="sd">    and get a rough overview of the content itself. For network graphs it might make sense to print out some graph properties</span>
<span class="sd">    (number of nodes, edges, available attributes, ...) on the terminal, but render the graph itself when using html as target.</span>

<span class="sd">    Currently, it is only possible to implement a `pretty_print` renderer if you have access to the source code of the value</span>
<span class="sd">    type you want to render. To add a new render method, add a new instance method to the `ValueType` class in question,</span>
<span class="sd">    in the format:</span>

<span class="sd">    ```</span>
<span class="sd">    def pretty_print_as_&lt;TARGET_TYPE&gt;(value: Value, print_config: typing.Mapping[str, typing.Any]) -&gt; typing.Any:</span>
<span class="sd">       ...</span>
<span class="sd">       ...</span>
<span class="sd">    ```</span>

<span class="sd">    *kiara* will look at all available `ValueType` classes for methods that match this signature, and auto-generate</span>
<span class="sd">    operations following this naming template: `&lt;SOURCE_TYPE&gt;.pretty_print_as.&lt;TARGET_TYPE&gt;`.</span>

<span class="sd">    Currently, only the type `renderables` is implemented as target type (for printing out to the terminal). It is planned to</span>
<span class="sd">    add output suitable for use in Jupyter notebooks in the near future.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">is_matching_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op_config</span><span class="p">:</span> <span class="n">Operation</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>

        <span class="k">return</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">op_config</span><span class="o">.</span><span class="n">module_cls</span><span class="p">,</span> <span class="n">PrettyPrintValueModule</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_pretty_print_operation</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">target_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Operation</span><span class="p">:</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">op_config</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operations</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;value_type&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">value_type</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;target_type&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">target_type</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">op_config</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No pretty print operation for value type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39; and output &#39;</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&#39; registered.&quot;</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Multiple pretty print operations for value type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39; and output &#39;</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&#39; registered.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">pretty_print</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span>
        <span class="n">target_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">print_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="n">ops_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_pretty_print_operation</span><span class="p">(</span>
            <span class="n">value_type</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">type_name</span><span class="p">,</span> <span class="n">target_type</span><span class="o">=</span><span class="n">target_type</span>
        <span class="p">)</span>
        <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">value</span><span class="o">.</span><span class="n">type_name</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span>
            <span class="s2">&quot;print_config&quot;</span><span class="p">:</span> <span class="n">print_config</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">ops_config</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="o">**</span><span class="n">inputs</span><span class="p">)</span>
        <span class="n">printed</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;printed&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">printed</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.pretty_print.PrettyPrintValueModule" class="doc doc-heading">
        <code>
PrettyPrintValueModule            (<a class="autorefs autorefs-internal" title="kiara.module.KiaraModule" href="../../module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara.operations.pretty_print.PrettyPrintValueModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/operations/pretty_print.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PrettyPrintValueModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">PrettyPrintModuleConfig</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="n">Kiara</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

        <span class="n">all_metadata_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">value_type_name</span><span class="p">,</span> <span class="n">value_type_cls</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_types</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">value_type_cls</span><span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;pretty_print_as_&quot;</span><span class="p">):</span>
                    <span class="k">continue</span>

                <span class="n">target_type</span> <span class="o">=</span> <span class="n">attr</span><span class="p">[</span><span class="mi">16</span><span class="p">:]</span>
                <span class="k">if</span> <span class="n">target_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span><span class="p">:</span>
                    <span class="n">log_message</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Pretty print target type &#39;</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&#39; for source type &#39;</span><span class="si">{</span><span class="n">value_type_name</span><span class="si">}</span><span class="s2">&#39; not valid, ignoring.&quot;</span>
                    <span class="p">)</span>
                    <span class="k">continue</span>

                <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                    <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="n">value_type_name</span><span class="p">,</span>
                        <span class="s2">&quot;target_type&quot;</span><span class="p">:</span> <span class="n">target_type</span><span class="p">,</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Pretty print a value of type &#39;</span><span class="si">{</span><span class="n">value_type_name</span><span class="si">}</span><span class="s2">&#39; as &#39;</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
                <span class="p">}</span>
                <span class="n">all_metadata_profiles</span><span class="p">[</span>
                    <span class="sa">f</span><span class="s2">&quot;pretty_print.</span><span class="si">{</span><span class="n">value_type_name</span><span class="si">}</span><span class="s2">.as.</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

        <span class="k">return</span> <span class="n">all_metadata_profiles</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">value_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;all&quot;</span><span class="p">:</span>
            <span class="n">input_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>
            <span class="n">doc</span> <span class="o">=</span> <span class="s2">&quot;A value of any type.&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">input_name</span> <span class="o">=</span> <span class="n">value_type</span>
            <span class="n">doc</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;A value of type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>

        <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">input_name</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">value_type</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="n">doc</span><span class="p">},</span>
            <span class="s2">&quot;print_config&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dict&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Optional print configuration.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;printed&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;target_type&quot;</span><span class="p">),</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The printed value as &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;target_type&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>
        <span class="n">target_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;target_type&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;all&quot;</span><span class="p">:</span>
            <span class="n">input_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">input_name</span> <span class="o">=</span> <span class="n">value_type</span>

        <span class="n">value_obj</span><span class="p">:</span> <span class="n">Value</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">input_name</span><span class="p">)</span>
        <span class="n">print_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">DEFAULT_PRETTY_PRINT_CONFIG</span><span class="p">)</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;print_config&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">config</span><span class="p">:</span>
            <span class="n">print_config</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

        <span class="n">func_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;pretty_print_as_</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">value_obj</span><span class="o">.</span><span class="n">type_obj</span><span class="p">,</span> <span class="n">func_name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39; can&#39;t be pretty printed as &#39;</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&#39;. This is most likely a bug.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">value_obj</span><span class="o">.</span><span class="n">is_set</span><span class="p">:</span>
            <span class="n">printed</span> <span class="o">=</span> <span class="s2">&quot;-- not set --&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">value_obj</span><span class="o">.</span><span class="n">type_obj</span><span class="p">,</span> <span class="n">func_name</span><span class="p">)</span>
            <span class="c1"># TODO: check signature</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">printed</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value_obj</span><span class="p">,</span> <span class="n">print_config</span><span class="o">=</span><span class="n">print_config</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">is_debug</span><span class="p">():</span>
                    <span class="kn">import</span> <span class="nn">traceback</span>

                    <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
                <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;printed&quot;</span><span class="p">,</span> <span class="n">printed</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.pretty_print.PrettyPrintValueModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.pretty_print.PrettyPrintValueModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/pretty_print.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">value_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;all&quot;</span><span class="p">:</span>
        <span class="n">input_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="s2">&quot;A value of any type.&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">input_name</span> <span class="o">=</span> <span class="n">value_type</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;A value of type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>

    <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">input_name</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">value_type</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="n">doc</span><span class="p">},</span>
        <span class="s2">&quot;print_config&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dict&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Optional print configuration.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.pretty_print.PrettyPrintValueModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.pretty_print.PrettyPrintValueModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/pretty_print.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;printed&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;target_type&quot;</span><span class="p">),</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The printed value as &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;target_type&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.pretty_print.PrettyPrintValueModule.retrieve_module_profiles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_module_profiles</span><span class="p">(</span><span class="n">kiara</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.operations.pretty_print.PrettyPrintValueModule.retrieve_module_profiles" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Retrieve a collection of profiles (pre-set module configs) for this <em>kiara</em> module type.</p>
<p>This is used to automatically create generally useful operations (incl. their ids).</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/pretty_print.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="n">Kiara</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

    <span class="n">all_metadata_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">value_type_name</span><span class="p">,</span> <span class="n">value_type_cls</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_types</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">value_type_cls</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;pretty_print_as_&quot;</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">target_type</span> <span class="o">=</span> <span class="n">attr</span><span class="p">[</span><span class="mi">16</span><span class="p">:]</span>
            <span class="k">if</span> <span class="n">target_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span><span class="p">:</span>
                <span class="n">log_message</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Pretty print target type &#39;</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&#39; for source type &#39;</span><span class="si">{</span><span class="n">value_type_name</span><span class="si">}</span><span class="s2">&#39; not valid, ignoring.&quot;</span>
                <span class="p">)</span>
                <span class="k">continue</span>

            <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="n">value_type_name</span><span class="p">,</span>
                    <span class="s2">&quot;target_type&quot;</span><span class="p">:</span> <span class="n">target_type</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Pretty print a value of type &#39;</span><span class="si">{</span><span class="n">value_type_name</span><span class="si">}</span><span class="s2">&#39; as &#39;</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">all_metadata_profiles</span><span class="p">[</span>
                <span class="sa">f</span><span class="s2">&quot;pretty_print.</span><span class="si">{</span><span class="n">value_type_name</span><span class="si">}</span><span class="s2">.as.</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

    <span class="k">return</span> <span class="n">all_metadata_profiles</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara.operations.sample" class="doc doc-heading">
        <code>sample</code>



<a href="#kiara.operations.sample" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.sample.SampleValueModule" class="doc doc-heading">
        <code>
SampleValueModule            (<a class="autorefs autorefs-internal" title="kiara.module.KiaraModule" href="../../module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara.operations.sample.SampleValueModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Base class for operations that take samples of data.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/sample.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SampleValueModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for operations that take samples of data.&quot;&quot;&quot;</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">SampleValueModuleConfig</span>

    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_value_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return the value type for this sample module.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="n">Kiara</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

        <span class="n">all_metadata_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_value_type</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">value_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span><span class="p">:</span>
            <span class="n">log_message</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Ignoring sample operation for source type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;: type not available&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">sample_type</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_supported_sample_types</span><span class="p">():</span>

            <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;sample_type&quot;</span><span class="p">:</span> <span class="n">sample_type</span><span class="p">},</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Sample value of type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39; using method: </span><span class="si">{</span><span class="n">sample_type</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;sample.</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">sample_type</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">all_metadata_profiles</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate profile key: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">all_metadata_profiles</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

        <span class="k">return</span> <span class="n">all_metadata_profiles</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_supported_sample_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>

        <span class="n">types</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">attr_name</span><span class="p">,</span> <span class="n">attr</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="k">if</span> <span class="n">attr_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;sample_&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">callable</span><span class="p">(</span><span class="n">attr</span><span class="p">):</span>
                <span class="n">sample_type</span> <span class="o">=</span> <span class="n">attr_name</span><span class="p">[</span><span class="mi">7</span><span class="p">:]</span>
                <span class="k">if</span> <span class="n">sample_type</span> <span class="ow">in</span> <span class="n">types</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Error in sample module &#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;: multiple sample methods for type &#39;</span><span class="si">{</span><span class="n">sample_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                    <span class="p">)</span>
                <span class="n">types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sample_type</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">types</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">input_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_type</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">input_name</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
            <span class="n">input_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="n">input_name</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_type</span><span class="p">(),</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The value to sample.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;sample_size&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The sample size.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;sampled_value&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_type</span><span class="p">(),</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The sampled value&quot;</span><span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">sample_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;sample_size&quot;</span><span class="p">)</span>
        <span class="n">sample_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;sample_type&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">sample_size</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid sample size &#39;</span><span class="si">{</span><span class="n">sample_size</span><span class="si">}</span><span class="s2">&#39;: can&#39;t be negative.&quot;</span>
            <span class="p">)</span>

        <span class="n">input_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_type</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">input_name</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
            <span class="n">input_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>
        <span class="n">value</span><span class="p">:</span> <span class="n">Value</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">input_name</span><span class="p">)</span>

        <span class="n">func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;sample_</span><span class="si">{</span><span class="n">sample_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">sample_size</span><span class="o">=</span><span class="n">sample_size</span><span class="p">)</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;sampled_value&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.sample.SampleValueModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.sample.SampleValueModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/sample.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">input_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_type</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">input_name</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
        <span class="n">input_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="n">input_name</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_type</span><span class="p">(),</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The value to sample.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;sample_size&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The sample size.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.sample.SampleValueModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.sample.SampleValueModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/sample.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;sampled_value&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value_type</span><span class="p">(),</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The sampled value&quot;</span><span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.sample.SampleValueModule.get_value_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_value_type</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.operations.sample.SampleValueModule.get_value_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the value type for this sample module.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/sample.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">get_value_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Return the value type for this sample module.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.sample.SampleValueModule.retrieve_module_profiles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_module_profiles</span><span class="p">(</span><span class="n">kiara</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.operations.sample.SampleValueModule.retrieve_module_profiles" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Retrieve a collection of profiles (pre-set module configs) for this <em>kiara</em> module type.</p>
<p>This is used to automatically create generally useful operations (incl. their ids).</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/sample.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="n">Kiara</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

    <span class="n">all_metadata_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_value_type</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">value_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span><span class="p">:</span>
        <span class="n">log_message</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Ignoring sample operation for source type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;: type not available&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">sample_type</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_supported_sample_types</span><span class="p">():</span>

        <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;sample_type&quot;</span><span class="p">:</span> <span class="n">sample_type</span><span class="p">},</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Sample value of type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39; using method: </span><span class="si">{</span><span class="n">sample_type</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;sample.</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">sample_type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">all_metadata_profiles</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate profile key: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">all_metadata_profiles</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

    <span class="k">return</span> <span class="n">all_metadata_profiles</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.sample.SampleValueModuleConfig" class="doc doc-heading">
        <code>
SampleValueModuleConfig            (<a class="autorefs autorefs-internal" title="kiara.module_config.ModuleTypeConfigSchema" href="../../module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.operations.sample.SampleValueModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/operations/sample.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SampleValueModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">sample_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The sample method.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.sample.SampleValueModuleConfig.sample_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sample_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.sample.SampleValueModuleConfig.sample_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The sample method.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.sample.SampleValueOperationType" class="doc doc-heading">
        <code>
SampleValueOperationType            (<span title="kiara.operations.OperationType">OperationType</span>)
        </code>



<a href="#kiara.operations.sample.SampleValueOperationType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Operation type for sampling data of different types.</p>
<p>This is useful to reduce the size of some datasets in previews and test-runs, while adjusting parameters and the like. Operations of this
type can implement very simple or complex ways to take samples of the data they are fed. The most important ones are
sampling operations relating to tables and arrays, but it might also make sense to sample texts, image-sets and so on.</p>
<p>Operations of this type take the value to be sampled as input, as well as a sample size (integer), which can be, for example,
a number of rows, or percentage of the whole dataset, depending on sample type.</p>
<p>Modules that implement sampling should inherit from <a href="https://dharpa.org/kiara/latest/api_reference/kiara.operations.sample/#kiara.operations.sample.SampleValueModule">SampleValueModule</a>, and will
get auto-registered with operation ids following this template: <code>&lt;VALUE_TYPE&gt;.sample.&lt;SAMPLE_TYPE_NAME&gt;</code>, where <code>SAMPLE_TYPE_NAME</code> is a descriptive name
what will be sampled, or how sampling will be done.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/sample.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SampleValueOperationType</span><span class="p">(</span><span class="n">OperationType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Operation type for sampling data of different types.</span>

<span class="sd">    This is useful to reduce the size of some datasets in previews and test-runs, while adjusting parameters and the like. Operations of this</span>
<span class="sd">    type can implement very simple or complex ways to take samples of the data they are fed. The most important ones are</span>
<span class="sd">    sampling operations relating to tables and arrays, but it might also make sense to sample texts, image-sets and so on.</span>

<span class="sd">    Operations of this type take the value to be sampled as input, as well as a sample size (integer), which can be, for example,</span>
<span class="sd">    a number of rows, or percentage of the whole dataset, depending on sample type.</span>

<span class="sd">    Modules that implement sampling should inherit from [SampleValueModule](https://dharpa.org/kiara/latest/api_reference/kiara.operations.sample/#kiara.operations.sample.SampleValueModule), and will</span>
<span class="sd">    get auto-registered with operation ids following this template: `&lt;VALUE_TYPE&gt;.sample.&lt;SAMPLE_TYPE_NAME&gt;`, where `SAMPLE_TYPE_NAME` is a descriptive name</span>
<span class="sd">    what will be sampled, or how sampling will be done.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">is_matching_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op_config</span><span class="p">:</span> <span class="n">Operation</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>

        <span class="k">return</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">op_config</span><span class="o">.</span><span class="n">module_cls</span><span class="p">,</span> <span class="n">SampleValueModule</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_operations_for_value_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Find all operations that serialize the specified type.</span>

<span class="sd">        The result dict uses the serialization type as key, and the operation itself as value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">o_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">sample_op_module_cls</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">SampleValueModule</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">module_cls</span>  <span class="c1"># type: ignore</span>
            <span class="n">source_type</span> <span class="o">=</span> <span class="n">sample_op_module_cls</span><span class="o">.</span><span class="n">get_value_type</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">source_type</span> <span class="o">==</span> <span class="n">value_type</span><span class="p">:</span>
                <span class="n">target_type</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;sample_type&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">target_type</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Multiple operations to sample &#39;</span><span class="si">{</span><span class="n">source_type</span><span class="si">}</span><span class="s2">&#39; using </span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="n">result</span><span class="p">[</span><span class="n">target_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span>

        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.sample.SampleValueOperationType.get_operations_for_value_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_operations_for_value_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span></code>


<a href="#kiara.operations.sample.SampleValueOperationType.get_operations_for_value_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Find all operations that serialize the specified type.</p>
<p>The result dict uses the serialization type as key, and the operation itself as value.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/sample.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_operations_for_value_type</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Find all operations that serialize the specified type.</span>

<span class="sd">    The result dict uses the serialization type as key, and the operation itself as value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">o_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">sample_op_module_cls</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">SampleValueModule</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">module_cls</span>  <span class="c1"># type: ignore</span>
        <span class="n">source_type</span> <span class="o">=</span> <span class="n">sample_op_module_cls</span><span class="o">.</span><span class="n">get_value_type</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">source_type</span> <span class="o">==</span> <span class="n">value_type</span><span class="p">:</span>
            <span class="n">target_type</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;sample_type&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">target_type</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Multiple operations to sample &#39;</span><span class="si">{</span><span class="n">source_type</span><span class="si">}</span><span class="s2">&#39; using </span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">target_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara.operations.serialize" class="doc doc-heading">
        <code>serialize</code>



<a href="#kiara.operations.serialize" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.serialize.SerializeValueModule" class="doc doc-heading">
        <code>
SerializeValueModule            (<a class="autorefs autorefs-internal" title="kiara.module.KiaraModule" href="../../module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara.operations.serialize.SerializeValueModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Base class for 'serialize' operations.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/serialize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SerializeValueModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for &#39;serialize&#39; operations.&quot;&quot;&quot;</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">SerializeValueModuleConfig</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

        <span class="n">all_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_value_type</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">value_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span><span class="p">:</span>
            <span class="n">log_message</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Ignoring serialization operation for source type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;: type not available&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">serialization_type</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_supported_serialization_types</span><span class="p">():</span>

            <span class="n">mod_conf</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="n">value_type</span><span class="p">,</span>
                <span class="s2">&quot;serialization_type&quot;</span><span class="p">:</span> <span class="n">serialization_type</span><span class="p">,</span>
            <span class="p">}</span>

            <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="n">mod_conf</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Serialize value of type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">serialization_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;serialize.</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">.as.</span><span class="si">{</span><span class="n">serialization_type</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">all_profiles</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate profile key: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">all_profiles</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

        <span class="k">return</span> <span class="n">all_profiles</span>

    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_value_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_supported_serialization_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>

        <span class="n">serialize_types</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">attr_name</span><span class="p">,</span> <span class="n">attr</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="k">if</span> <span class="n">attr_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;to_&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">callable</span><span class="p">(</span><span class="n">attr</span><span class="p">):</span>
                <span class="n">serialize_types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attr_name</span><span class="p">[</span><span class="mi">3</span><span class="p">:])</span>

        <span class="k">return</span> <span class="n">serialize_types</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>
        <span class="c1"># serialization_type: str = self.get_config_value(&quot;serialization_type&quot;)</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;value_item&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">value_type</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39; value to be serialized.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;value_info&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;value_info&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Information about the (original) serialized value (can be used to re-constitute the value, incl. its original id).&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;deserialize_config&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;deserialize_config&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The config to use to deserialize the value of type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>

        <span class="n">value_obj</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="s2">&quot;value_item&quot;</span><span class="p">)</span>

        <span class="n">serialization_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;serialization_type&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value_type</span> <span class="o">!=</span> <span class="n">value_obj</span><span class="o">.</span><span class="n">type_name</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid type (</span><span class="si">{</span><span class="n">value_obj</span><span class="o">.</span><span class="n">type_name</span><span class="si">}</span><span class="s2">) of source value: expected &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;to_</span><span class="si">{</span><span class="n">serialization_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
            <span class="c1"># this can never happen, I think</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Module &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_module_type_id</span><span class="si">}</span><span class="s2">&#39; can&#39;t serialize &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">serialization_type</span><span class="si">}</span><span class="s2">&#39;: missing method &#39;to_</span><span class="si">{</span><span class="n">serialization_type</span><span class="si">}</span><span class="s2">&#39;. This is a bug.&quot;</span>  <span class="c1"># type: ignore</span>
            <span class="p">)</span>

        <span class="n">func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;to_</span><span class="si">{</span><span class="n">serialization_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">serialized</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">value_obj</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">serialized</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">):</span>
            <span class="n">serialized</span> <span class="o">=</span> <span class="n">DeserializeConfig</span><span class="p">(</span><span class="o">**</span><span class="n">serialized</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">serialized</span><span class="p">,</span> <span class="n">DeserializeConfig</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid serialization result type: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_values</span><span class="p">(</span>
            <span class="n">deserialize_config</span><span class="o">=</span><span class="n">serialized</span><span class="p">,</span> <span class="n">value_info</span><span class="o">=</span><span class="n">value_obj</span><span class="o">.</span><span class="n">get_info</span><span class="p">()</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.serialize.SerializeValueModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.serialize.SerializeValueModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/serialize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>
    <span class="c1"># serialization_type: str = self.get_config_value(&quot;serialization_type&quot;)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;value_item&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">value_type</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39; value to be serialized.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.serialize.SerializeValueModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.serialize.SerializeValueModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/serialize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;value_info&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;value_info&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Information about the (original) serialized value (can be used to re-constitute the value, incl. its original id).&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;deserialize_config&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;deserialize_config&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The config to use to deserialize the value of type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.serialize.SerializeValueModule.retrieve_module_profiles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_module_profiles</span><span class="p">(</span><span class="n">kiara</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.operations.serialize.SerializeValueModule.retrieve_module_profiles" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Retrieve a collection of profiles (pre-set module configs) for this <em>kiara</em> module type.</p>
<p>This is used to automatically create generally useful operations (incl. their ids).</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/serialize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

    <span class="n">all_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_value_type</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">value_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span><span class="p">:</span>
        <span class="n">log_message</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Ignoring serialization operation for source type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;: type not available&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">serialization_type</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_supported_serialization_types</span><span class="p">():</span>

        <span class="n">mod_conf</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="n">value_type</span><span class="p">,</span>
            <span class="s2">&quot;serialization_type&quot;</span><span class="p">:</span> <span class="n">serialization_type</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="n">mod_conf</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Serialize value of type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">serialization_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;serialize.</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">.as.</span><span class="si">{</span><span class="n">serialization_type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">all_profiles</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate profile key: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">all_profiles</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

    <span class="k">return</span> <span class="n">all_profiles</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.serialize.SerializeValueModuleConfig" class="doc doc-heading">
        <code>
SerializeValueModuleConfig            (<a class="autorefs autorefs-internal" title="kiara.module_config.ModuleTypeConfigSchema" href="../../module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.operations.serialize.SerializeValueModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/operations/serialize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SerializeValueModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The type of the source value.&quot;</span><span class="p">)</span>
    <span class="n">serialization_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The type of the converted value.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.serialize.SerializeValueModuleConfig.serialization_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">serialization_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.serialize.SerializeValueModuleConfig.serialization_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The type of the converted value.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.serialize.SerializeValueModuleConfig.value_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.serialize.SerializeValueModuleConfig.value_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The type of the source value.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.serialize.SerializeValueOperationType" class="doc doc-heading">
        <code>
SerializeValueOperationType            (<span title="kiara.operations.OperationType">OperationType</span>)
        </code>



<a href="#kiara.operations.serialize.SerializeValueOperationType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Operations that serialize data into formats that can be used for data exchange.</p>
<p>NOT USED YET</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/serialize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SerializeValueOperationType</span><span class="p">(</span><span class="n">OperationType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Operations that serialize data into formats that can be used for data exchange.</span>

<span class="sd">    NOT USED YET</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">is_matching_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op_config</span><span class="p">:</span> <span class="n">Operation</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>

        <span class="k">return</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">op_config</span><span class="o">.</span><span class="n">module_cls</span><span class="p">,</span> <span class="n">SerializeValueModule</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_operations_for_value_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Find all operations that serialize the specified type.</span>

<span class="sd">        The result dict uses the serialization type as key, and the operation itself as value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">o_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">source_type</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;value_type&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">source_type</span> <span class="o">==</span> <span class="n">value_type</span><span class="p">:</span>
                <span class="n">target_type</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;serialization_type&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">target_type</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Multiple operations to serialize &#39;</span><span class="si">{</span><span class="n">source_type</span><span class="si">}</span><span class="s2">&#39; to </span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="n">result</span><span class="p">[</span><span class="n">target_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span>

        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.serialize.SerializeValueOperationType.get_operations_for_value_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_operations_for_value_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span></code>


<a href="#kiara.operations.serialize.SerializeValueOperationType.get_operations_for_value_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Find all operations that serialize the specified type.</p>
<p>The result dict uses the serialization type as key, and the operation itself as value.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/serialize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_operations_for_value_type</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Find all operations that serialize the specified type.</span>

<span class="sd">    The result dict uses the serialization type as key, and the operation itself as value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">result</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Operation</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">o_id</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">source_type</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;value_type&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">source_type</span> <span class="o">==</span> <span class="n">value_type</span><span class="p">:</span>
            <span class="n">target_type</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;serialization_type&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">target_type</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Multiple operations to serialize &#39;</span><span class="si">{</span><span class="n">source_type</span><span class="si">}</span><span class="s2">&#39; to </span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">target_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara.operations.store_value" class="doc doc-heading">
        <code>store_value</code>



<a href="#kiara.operations.store_value" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.store_value.StoreOperationType" class="doc doc-heading">
        <code>
StoreOperationType            (<span title="kiara.operations.OperationType">OperationType</span>)
        </code>



<a href="#kiara.operations.store_value.StoreOperationType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Store a value into a local data store.</p>
<p>This is a special operation type, that is used internally by the [LocalDataStore](http://dharpa.org/kiara/latest/api_reference/kiara.data.registry.store/#kiara.data.registry.store.LocalDataStore] data registry implementation.</p>
<p>For each value type that should be supported by the persistent <em>kiara</em> data store, there must be an implementation of the <a href="http://dharpa.org/kiara/latest/api_reference/kiara.operations.store_value/#kiara.operations.store_value.StoreValueTypeModule">StoreValueTypeModule</a> class, which handles the
actual persisting on disk. In most cases, end users won't need to interact with this type of operation.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/store_value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StoreOperationType</span><span class="p">(</span><span class="n">OperationType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Store a value into a local data store.</span>

<span class="sd">    This is a special operation type, that is used internally by the [LocalDataStore](http://dharpa.org/kiara/latest/api_reference/kiara.data.registry.store/#kiara.data.registry.store.LocalDataStore] data registry implementation.</span>

<span class="sd">    For each value type that should be supported by the persistent *kiara* data store, there must be an implementation of the [StoreValueTypeModule](http://dharpa.org/kiara/latest/api_reference/kiara.operations.store_value/#kiara.operations.store_value.StoreValueTypeModule) class, which handles the</span>
<span class="sd">    actual persisting on disk. In most cases, end users won&#39;t need to interact with this type of operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">is_matching_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op_config</span><span class="p">:</span> <span class="n">Operation</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>

        <span class="k">return</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">op_config</span><span class="o">.</span><span class="n">module_cls</span><span class="p">,</span> <span class="n">StoreValueTypeModule</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_store_operation_for_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Operation</span><span class="p">:</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">op_config</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operations</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">op_config</span><span class="o">.</span><span class="n">module_config</span><span class="p">[</span><span class="s2">&quot;value_type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">value_type</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">op_config</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No &#39;store_value&#39; operation for type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39; registered.&quot;</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">pass</span>

            <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Multiple &#39;store_value&#39; operations for type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39; registered.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.store_value.StoreValueModuleConfig" class="doc doc-heading">
        <code>
StoreValueModuleConfig            (<a class="autorefs autorefs-internal" title="kiara.module_config.ModuleTypeConfigSchema" href="../../module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara.operations.store_value.StoreValueModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>kiara/operations/store_value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StoreValueModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The type of the value to save.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara.operations.store_value.StoreValueModuleConfig.value_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara.operations.store_value.StoreValueModuleConfig.value_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The type of the value to save.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara.operations.store_value.StoreValueTypeModule" class="doc doc-heading">
        <code>
StoreValueTypeModule            (<a class="autorefs autorefs-internal" title="kiara.module.KiaraModule" href="../../module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara.operations.store_value.StoreValueTypeModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Store a specific value type.</p>
<p>This is used internally.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/store_value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StoreValueTypeModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Store a specific value type.</span>

<span class="sd">    This is used internally.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">StoreValueModuleConfig</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_supported_value_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="n">_types</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">retrieve_supported_types</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_types</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">_types</span><span class="p">]</span>

        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">_types</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_supported_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">pass</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="n">Kiara</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

        <span class="n">all_metadata_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">all_types_and_subtypes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">sup_type</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_supported_value_types</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">sup_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span><span class="p">:</span>
                <span class="n">log_message</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Ignoring save operation for type &#39;</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">&#39;: type not available&quot;</span>
                <span class="p">)</span>
                <span class="k">continue</span>

            <span class="n">all_types_and_subtypes</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sup_type</span><span class="p">)</span>
            <span class="n">sub_types</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">get_sub_types</span><span class="p">(</span><span class="n">sup_type</span><span class="p">)</span>
            <span class="n">all_types_and_subtypes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">sub_types</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">sup_type</span> <span class="ow">in</span> <span class="n">all_types_and_subtypes</span><span class="p">:</span>

            <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="n">sup_type</span><span class="p">},</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Store a value of type &#39;</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">all_metadata_profiles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;store.</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

        <span class="k">return</span> <span class="n">all_metadata_profiles</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">field_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">field_name</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
            <span class="n">field_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>

        <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;value_id&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The id to use when saving the value.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">field_name</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">),</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A value of type &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;value_type&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The base path to save the value to.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">field_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">field_name</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
            <span class="n">field_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>

        <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">field_name</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">),</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The original or cloned (if applicable) value that was saved.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;load_config&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;load_config&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The configuration to use with kiara to load the saved value.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">outputs</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span>
        <span class="n">typing</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
        <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
    <span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Save the value, and return the load config needed to load it again.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">value_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;value_id&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">value_id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span><span class="s2">&quot;No value id provided.&quot;</span><span class="p">)</span>

        <span class="n">field_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">field_name</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
            <span class="n">field_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>

        <span class="n">value_obj</span><span class="p">:</span> <span class="n">Value</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
        <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;base_path&quot;</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">store_value</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value_obj</span><span class="p">,</span> <span class="n">base_path</span><span class="o">=</span><span class="n">base_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">):</span>
            <span class="n">load_config</span> <span class="o">=</span> <span class="n">result</span>
            <span class="n">result_value</span> <span class="o">=</span> <span class="n">value_obj</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">load_config</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">result_value</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">result_value</span> <span class="o">=</span> <span class="n">value_obj</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid result type for &#39;store_value&#39; method in class &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;. This is a bug.&quot;</span>
            <span class="p">)</span>

        <span class="n">load_config</span><span class="p">[</span><span class="s2">&quot;value_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_id</span>

        <span class="n">lc</span> <span class="o">=</span> <span class="n">LoadConfig</span><span class="p">(</span><span class="o">**</span><span class="n">load_config</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">lc</span><span class="o">.</span><span class="n">base_path_input_name</span> <span class="ow">and</span> <span class="n">lc</span><span class="o">.</span><span class="n">base_path_input_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">lc</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid load config: base path &#39;</span><span class="si">{</span><span class="n">lc</span><span class="o">.</span><span class="n">base_path_input_name</span><span class="si">}</span><span class="s2">&#39; not part of inputs.&quot;</span>
            <span class="p">)</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_values</span><span class="p">(</span>
            <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">lineage</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="s2">&quot;load_config&quot;</span><span class="p">:</span> <span class="n">lc</span><span class="p">,</span> <span class="n">field_name</span><span class="p">:</span> <span class="n">result_value</span><span class="p">}</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.store_value.StoreValueTypeModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.store_value.StoreValueTypeModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/store_value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">field_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">field_name</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
        <span class="n">field_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>

    <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;value_id&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The id to use when saving the value.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="n">field_name</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">),</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A value of type &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;value_type&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The base path to save the value to.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.store_value.StoreValueTypeModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara.operations.store_value.StoreValueTypeModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/store_value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">field_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">field_name</span> <span class="o">==</span> <span class="s2">&quot;any&quot;</span><span class="p">:</span>
        <span class="n">field_name</span> <span class="o">=</span> <span class="s2">&quot;value_item&quot;</span>

    <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">field_name</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">),</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The original or cloned (if applicable) value that was saved.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;load_config&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;load_config&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The configuration to use with kiara to load the saved value.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>





  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.store_value.StoreValueTypeModule.retrieve_module_profiles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_module_profiles</span><span class="p">(</span><span class="n">kiara</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara.operations.store_value.StoreValueTypeModule.retrieve_module_profiles" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Retrieve a collection of profiles (pre-set module configs) for this <em>kiara</em> module type.</p>
<p>This is used to automatically create generally useful operations (incl. their ids).</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/store_value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="n">Kiara</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

    <span class="n">all_metadata_profiles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">all_types_and_subtypes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">sup_type</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_supported_value_types</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">sup_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">value_type_names</span><span class="p">:</span>
            <span class="n">log_message</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Ignoring save operation for type &#39;</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">&#39;: type not available&quot;</span>
            <span class="p">)</span>
            <span class="k">continue</span>

        <span class="n">all_types_and_subtypes</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sup_type</span><span class="p">)</span>
        <span class="n">sub_types</span> <span class="o">=</span> <span class="n">kiara</span><span class="o">.</span><span class="n">type_mgmt</span><span class="o">.</span><span class="n">get_sub_types</span><span class="p">(</span><span class="n">sup_type</span><span class="p">)</span>
        <span class="n">all_types_and_subtypes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">sub_types</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">sup_type</span> <span class="ow">in</span> <span class="n">all_types_and_subtypes</span><span class="p">:</span>

        <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="n">sup_type</span><span class="p">},</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Store a value of type &#39;</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">all_metadata_profiles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;store.</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

    <span class="k">return</span> <span class="n">all_metadata_profiles</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h4 id="kiara.operations.store_value.StoreValueTypeModule.store_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">)</span></code>


<a href="#kiara.operations.store_value.StoreValueTypeModule.store_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Save the value, and return the load config needed to load it again.</p>

        <details class="quote">
          <summary>Source code in <code>kiara/operations/store_value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span>
    <span class="n">typing</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
    <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
<span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Save the value, and return the load config needed to load it again.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../../modules/type_conversion/" class="md-footer__link md-footer__link--prev" aria-label="Previous: type_conversion" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              type_conversion
            </div>
          </div>
        </a>
      
      
        
        <a href="../calculate_hash/" class="md-footer__link md-footer__link--next" aria-label="Next: calculate_hash" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              calculate_hash
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      DHARPA project
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.instant", "navigation.tracking"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../../assets/javascripts/workers/search.bd0b6b67.min.js", "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.467223ff.min.js"></script>
      
    
  </body>
</html>